var sS=Object.defineProperty;var M5=xe=>{throw TypeError(xe)};var aS=(xe,e,t)=>e in xe?sS(xe,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):xe[e]=t;var yi=(xe,e,t)=>aS(xe,typeof e!="symbol"?e+"":e,t),B2=(xe,e,t)=>e.has(xe)||M5("Cannot "+t);var qe=(xe,e,t)=>(B2(xe,e,"read from private field"),t?t.call(xe):e.get(xe)),jn=(xe,e,t)=>e.has(xe)?M5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(xe):e.set(xe,t),Mn=(xe,e,t,Se)=>(B2(xe,e,"write to private field"),Se?Se.call(xe,t):e.set(xe,t),t),On=(xe,e,t)=>(B2(xe,e,"access private method"),t);var Sl=(xe,e,t,Se)=>({set _(_e){Mn(xe,e,_e,t)},get _(){return qe(xe,e,Se)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))Se(_e);new MutationObserver(_e=>{for(const Ae of _e)if(Ae.type==="childList")for(const Ce of Ae.addedNodes)Ce.tagName==="LINK"&&Ce.rel==="modulepreload"&&Se(Ce)}).observe(document,{childList:!0,subtree:!0});function t(_e){const Ae={};return _e.integrity&&(Ae.integrity=_e.integrity),_e.referrerPolicy&&(Ae.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?Ae.credentials="include":_e.crossOrigin==="anonymous"?Ae.credentials="omit":Ae.credentials="same-origin",Ae}function Se(_e){if(_e.ep)return;_e.ep=!0;const Ae=t(_e);fetch(_e.href,Ae)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(xe){return xe&&xe.__esModule&&Object.prototype.hasOwnProperty.call(xe,"default")?xe.default:xe}function getAugmentedNamespace(xe){if(xe.__esModule)return xe;var e=xe.default;if(typeof e=="function"){var t=function Se(){return this instanceof Se?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(xe).forEach(function(Se){var _e=Object.getOwnPropertyDescriptor(xe,Se);Object.defineProperty(t,Se,_e.get?_e:{enumerable:!0,get:function(){return xe[Se]}})}),t}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var xe=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Fe=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Ie=Symbol.iterator;function Oe(xn){return xn===null||typeof xn!="object"?null:(xn=Ie&&xn[Ie]||xn["@@iterator"],typeof xn=="function"?xn:null)}var Re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Be=Object.assign,je={};function He(xn,St,sn){this.props=xn,this.context=St,this.refs=je,this.updater=sn||Re}He.prototype.isReactComponent={},He.prototype.setState=function(xn,St){if(typeof xn!="object"&&typeof xn!="function"&&xn!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,xn,St,"setState")},He.prototype.forceUpdate=function(xn){this.updater.enqueueForceUpdate(this,xn,"forceUpdate")};function Ge(){}Ge.prototype=He.prototype;function Ve(xn,St,sn){this.props=xn,this.context=St,this.refs=je,this.updater=sn||Re}var ze=Ve.prototype=new Ge;ze.constructor=Ve,Be(ze,He.prototype),ze.isPureReactComponent=!0;var Xe=Array.isArray,We=Object.prototype.hasOwnProperty,Je={current:null},Qe={key:!0,ref:!0,__self:!0,__source:!0};function Ze(xn,St,sn){var gn,Pn={},Fn=null,vn=null;if(St!=null)for(gn in St.ref!==void 0&&(vn=St.ref),St.key!==void 0&&(Fn=""+St.key),St)We.call(St,gn)&&!Qe.hasOwnProperty(gn)&&(Pn[gn]=St[gn]);var kn=arguments.length-2;if(kn===1)Pn.children=sn;else if(1<kn){for(var Bn=Array(kn),er=0;er<kn;er++)Bn[er]=arguments[er+2];Pn.children=Bn}if(xn&&xn.defaultProps)for(gn in kn=xn.defaultProps,kn)Pn[gn]===void 0&&(Pn[gn]=kn[gn]);return{$$typeof:xe,type:xn,key:Fn,ref:vn,props:Pn,_owner:Je.current}}function on(xn,St){return{$$typeof:xe,type:xn.type,key:St,ref:xn.ref,props:xn.props,_owner:xn._owner}}function an(xn){return typeof xn=="object"&&xn!==null&&xn.$$typeof===xe}function rn(xn){var St={"=":"=0",":":"=2"};return"$"+xn.replace(/[=:]/g,function(sn){return St[sn]})}var fn=/\/+/g;function nn(xn,St){return typeof xn=="object"&&xn!==null&&xn.key!=null?rn(""+xn.key):St.toString(36)}function cn(xn,St,sn,gn,Pn){var Fn=typeof xn;(Fn==="undefined"||Fn==="boolean")&&(xn=null);var vn=!1;if(xn===null)vn=!0;else switch(Fn){case"string":case"number":vn=!0;break;case"object":switch(xn.$$typeof){case xe:case e:vn=!0}}if(vn)return vn=xn,Pn=Pn(vn),xn=gn===""?"."+nn(vn,0):gn,Xe(Pn)?(sn="",xn!=null&&(sn=xn.replace(fn,"$&/")+"/"),cn(Pn,St,sn,"",function(er){return er})):Pn!=null&&(an(Pn)&&(Pn=on(Pn,sn+(!Pn.key||vn&&vn.key===Pn.key?"":(""+Pn.key).replace(fn,"$&/")+"/")+xn)),St.push(Pn)),1;if(vn=0,gn=gn===""?".":gn+":",Xe(xn))for(var kn=0;kn<xn.length;kn++){Fn=xn[kn];var Bn=gn+nn(Fn,kn);vn+=cn(Fn,St,sn,Bn,Pn)}else if(Bn=Oe(xn),typeof Bn=="function")for(xn=Bn.call(xn),kn=0;!(Fn=xn.next()).done;)Fn=Fn.value,Bn=gn+nn(Fn,kn++),vn+=cn(Fn,St,sn,Bn,Pn);else if(Fn==="object")throw St=String(xn),Error("Objects are not valid as a React child (found: "+(St==="[object Object]"?"object with keys {"+Object.keys(xn).join(", ")+"}":St)+"). If you meant to render a collection of children, use an array instead.");return vn}function dn(xn,St,sn){if(xn==null)return xn;var gn=[],Pn=0;return cn(xn,gn,"","",function(Fn){return St.call(sn,Fn,Pn++)}),gn}function bn(xn){if(xn._status===-1){var St=xn._result;St=St(),St.then(function(sn){(xn._status===0||xn._status===-1)&&(xn._status=1,xn._result=sn)},function(sn){(xn._status===0||xn._status===-1)&&(xn._status=2,xn._result=sn)}),xn._status===-1&&(xn._status=0,xn._result=St)}if(xn._status===1)return xn._result.default;throw xn._result}var pn={current:null},_n={transition:null},Nn={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:_n,ReactCurrentOwner:Je};function Un(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:dn,forEach:function(xn,St,sn){dn(xn,function(){St.apply(this,arguments)},sn)},count:function(xn){var St=0;return dn(xn,function(){St++}),St},toArray:function(xn){return dn(xn,function(St){return St})||[]},only:function(xn){if(!an(xn))throw Error("React.Children.only expected to receive a single React element child.");return xn}},react_production_min.Component=He,react_production_min.Fragment=t,react_production_min.Profiler=_e,react_production_min.PureComponent=Ve,react_production_min.StrictMode=Se,react_production_min.Suspense=Ee,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nn,react_production_min.act=Un,react_production_min.cloneElement=function(xn,St,sn){if(xn==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+xn+".");var gn=Be({},xn.props),Pn=xn.key,Fn=xn.ref,vn=xn._owner;if(St!=null){if(St.ref!==void 0&&(Fn=St.ref,vn=Je.current),St.key!==void 0&&(Pn=""+St.key),xn.type&&xn.type.defaultProps)var kn=xn.type.defaultProps;for(Bn in St)We.call(St,Bn)&&!Qe.hasOwnProperty(Bn)&&(gn[Bn]=St[Bn]===void 0&&kn!==void 0?kn[Bn]:St[Bn])}var Bn=arguments.length-2;if(Bn===1)gn.children=sn;else if(1<Bn){kn=Array(Bn);for(var er=0;er<Bn;er++)kn[er]=arguments[er+2];gn.children=kn}return{$$typeof:xe,type:xn.type,key:Pn,ref:Fn,props:gn,_owner:vn}},react_production_min.createContext=function(xn){return xn={$$typeof:Ce,_currentValue:xn,_currentValue2:xn,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},xn.Provider={$$typeof:Ae,_context:xn},xn.Consumer=xn},react_production_min.createElement=Ze,react_production_min.createFactory=function(xn){var St=Ze.bind(null,xn);return St.type=xn,St},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(xn){return{$$typeof:Pe,render:xn}},react_production_min.isValidElement=an,react_production_min.lazy=function(xn){return{$$typeof:ke,_payload:{_status:-1,_result:xn},_init:bn}},react_production_min.memo=function(xn,St){return{$$typeof:Fe,type:xn,compare:St===void 0?null:St}},react_production_min.startTransition=function(xn){var St=_n.transition;_n.transition={};try{xn()}finally{_n.transition=St}},react_production_min.unstable_act=Un,react_production_min.useCallback=function(xn,St){return pn.current.useCallback(xn,St)},react_production_min.useContext=function(xn){return pn.current.useContext(xn)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(xn){return pn.current.useDeferredValue(xn)},react_production_min.useEffect=function(xn,St){return pn.current.useEffect(xn,St)},react_production_min.useId=function(){return pn.current.useId()},react_production_min.useImperativeHandle=function(xn,St,sn){return pn.current.useImperativeHandle(xn,St,sn)},react_production_min.useInsertionEffect=function(xn,St){return pn.current.useInsertionEffect(xn,St)},react_production_min.useLayoutEffect=function(xn,St){return pn.current.useLayoutEffect(xn,St)},react_production_min.useMemo=function(xn,St){return pn.current.useMemo(xn,St)},react_production_min.useReducer=function(xn,St,sn){return pn.current.useReducer(xn,St,sn)},react_production_min.useRef=function(xn){return pn.current.useRef(xn)},react_production_min.useState=function(xn){return pn.current.useState(xn)},react_production_min.useSyncExternalStore=function(xn,St,sn){return pn.current.useSyncExternalStore(xn,St,sn)},react_production_min.useTransition=function(){return pn.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var xe=requireReact(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),Se=Object.prototype.hasOwnProperty,_e=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ae={key:!0,ref:!0,__self:!0,__source:!0};function Ce(Pe,Ee,Fe){var ke,Ie={},Oe=null,Re=null;Fe!==void 0&&(Oe=""+Fe),Ee.key!==void 0&&(Oe=""+Ee.key),Ee.ref!==void 0&&(Re=Ee.ref);for(ke in Ee)Se.call(Ee,ke)&&!Ae.hasOwnProperty(ke)&&(Ie[ke]=Ee[ke]);if(Pe&&Pe.defaultProps)for(ke in Ee=Pe.defaultProps,Ee)Ie[ke]===void 0&&(Ie[ke]=Ee[ke]);return{$$typeof:e,type:Pe,key:Oe,ref:Re,props:Ie,_owner:_e.current}}return reactJsxRuntime_production_min.Fragment=t,reactJsxRuntime_production_min.jsx=Ce,reactJsxRuntime_production_min.jsxs=Ce,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(xe){function e(_n,Nn){var Un=_n.length;_n.push(Nn);e:for(;0<Un;){var xn=Un-1>>>1,St=_n[xn];if(0<_e(St,Nn))_n[xn]=Nn,_n[Un]=St,Un=xn;else break e}}function t(_n){return _n.length===0?null:_n[0]}function Se(_n){if(_n.length===0)return null;var Nn=_n[0],Un=_n.pop();if(Un!==Nn){_n[0]=Un;e:for(var xn=0,St=_n.length,sn=St>>>1;xn<sn;){var gn=2*(xn+1)-1,Pn=_n[gn],Fn=gn+1,vn=_n[Fn];if(0>_e(Pn,Un))Fn<St&&0>_e(vn,Pn)?(_n[xn]=vn,_n[Fn]=Un,xn=Fn):(_n[xn]=Pn,_n[gn]=Un,xn=gn);else if(Fn<St&&0>_e(vn,Un))_n[xn]=vn,_n[Fn]=Un,xn=Fn;else break e}}return Nn}function _e(_n,Nn){var Un=_n.sortIndex-Nn.sortIndex;return Un!==0?Un:_n.id-Nn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ae=performance;xe.unstable_now=function(){return Ae.now()}}else{var Ce=Date,Pe=Ce.now();xe.unstable_now=function(){return Ce.now()-Pe}}var Ee=[],Fe=[],ke=1,Ie=null,Oe=3,Re=!1,Be=!1,je=!1,He=typeof setTimeout=="function"?setTimeout:null,Ge=typeof clearTimeout=="function"?clearTimeout:null,Ve=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ze(_n){for(var Nn=t(Fe);Nn!==null;){if(Nn.callback===null)Se(Fe);else if(Nn.startTime<=_n)Se(Fe),Nn.sortIndex=Nn.expirationTime,e(Ee,Nn);else break;Nn=t(Fe)}}function Xe(_n){if(je=!1,ze(_n),!Be)if(t(Ee)!==null)Be=!0,bn(We);else{var Nn=t(Fe);Nn!==null&&pn(Xe,Nn.startTime-_n)}}function We(_n,Nn){Be=!1,je&&(je=!1,Ge(Ze),Ze=-1),Re=!0;var Un=Oe;try{for(ze(Nn),Ie=t(Ee);Ie!==null&&(!(Ie.expirationTime>Nn)||_n&&!rn());){var xn=Ie.callback;if(typeof xn=="function"){Ie.callback=null,Oe=Ie.priorityLevel;var St=xn(Ie.expirationTime<=Nn);Nn=xe.unstable_now(),typeof St=="function"?Ie.callback=St:Ie===t(Ee)&&Se(Ee),ze(Nn)}else Se(Ee);Ie=t(Ee)}if(Ie!==null)var sn=!0;else{var gn=t(Fe);gn!==null&&pn(Xe,gn.startTime-Nn),sn=!1}return sn}finally{Ie=null,Oe=Un,Re=!1}}var Je=!1,Qe=null,Ze=-1,on=5,an=-1;function rn(){return!(xe.unstable_now()-an<on)}function fn(){if(Qe!==null){var _n=xe.unstable_now();an=_n;var Nn=!0;try{Nn=Qe(!0,_n)}finally{Nn?nn():(Je=!1,Qe=null)}}else Je=!1}var nn;if(typeof Ve=="function")nn=function(){Ve(fn)};else if(typeof MessageChannel<"u"){var cn=new MessageChannel,dn=cn.port2;cn.port1.onmessage=fn,nn=function(){dn.postMessage(null)}}else nn=function(){He(fn,0)};function bn(_n){Qe=_n,Je||(Je=!0,nn())}function pn(_n,Nn){Ze=He(function(){_n(xe.unstable_now())},Nn)}xe.unstable_IdlePriority=5,xe.unstable_ImmediatePriority=1,xe.unstable_LowPriority=4,xe.unstable_NormalPriority=3,xe.unstable_Profiling=null,xe.unstable_UserBlockingPriority=2,xe.unstable_cancelCallback=function(_n){_n.callback=null},xe.unstable_continueExecution=function(){Be||Re||(Be=!0,bn(We))},xe.unstable_forceFrameRate=function(_n){0>_n||125<_n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):on=0<_n?Math.floor(1e3/_n):5},xe.unstable_getCurrentPriorityLevel=function(){return Oe},xe.unstable_getFirstCallbackNode=function(){return t(Ee)},xe.unstable_next=function(_n){switch(Oe){case 1:case 2:case 3:var Nn=3;break;default:Nn=Oe}var Un=Oe;Oe=Nn;try{return _n()}finally{Oe=Un}},xe.unstable_pauseExecution=function(){},xe.unstable_requestPaint=function(){},xe.unstable_runWithPriority=function(_n,Nn){switch(_n){case 1:case 2:case 3:case 4:case 5:break;default:_n=3}var Un=Oe;Oe=_n;try{return Nn()}finally{Oe=Un}},xe.unstable_scheduleCallback=function(_n,Nn,Un){var xn=xe.unstable_now();switch(typeof Un=="object"&&Un!==null?(Un=Un.delay,Un=typeof Un=="number"&&0<Un?xn+Un:xn):Un=xn,_n){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=Un+St,_n={id:ke++,callback:Nn,priorityLevel:_n,startTime:Un,expirationTime:St,sortIndex:-1},Un>xn?(_n.sortIndex=Un,e(Fe,_n),t(Ee)===null&&_n===t(Fe)&&(je?(Ge(Ze),Ze=-1):je=!0,pn(Xe,Un-xn))):(_n.sortIndex=St,e(Ee,_n),Be||Re||(Be=!0,bn(We))),_n},xe.unstable_shouldYield=rn,xe.unstable_wrapCallback=function(_n){var Nn=Oe;return function(){var Un=Oe;Oe=Nn;try{return _n.apply(this,arguments)}finally{Oe=Un}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var xe=requireReact(),e=requireScheduler();function t(Te){for(var De="https://reactjs.org/docs/error-decoder.html?invariant="+Te,Ke=1;Ke<arguments.length;Ke++)De+="&args[]="+encodeURIComponent(arguments[Ke]);return"Minified React error #"+Te+"; visit "+De+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Se=new Set,_e={};function Ae(Te,De){Ce(Te,De),Ce(Te+"Capture",De)}function Ce(Te,De){for(_e[Te]=De,Te=0;Te<De.length;Te++)Se.add(De[Te])}var Pe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ee=Object.prototype.hasOwnProperty,Fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ke={},Ie={};function Oe(Te){return Ee.call(Ie,Te)?!0:Ee.call(ke,Te)?!1:Fe.test(Te)?Ie[Te]=!0:(ke[Te]=!0,!1)}function Re(Te,De,Ke,en){if(Ke!==null&&Ke.type===0)return!1;switch(typeof De){case"function":case"symbol":return!0;case"boolean":return en?!1:Ke!==null?!Ke.acceptsBooleans:(Te=Te.toLowerCase().slice(0,5),Te!=="data-"&&Te!=="aria-");default:return!1}}function Be(Te,De,Ke,en){if(De===null||typeof De>"u"||Re(Te,De,Ke,en))return!0;if(en)return!1;if(Ke!==null)switch(Ke.type){case 3:return!De;case 4:return De===!1;case 5:return isNaN(De);case 6:return isNaN(De)||1>De}return!1}function je(Te,De,Ke,en,mn,En,Xn){this.acceptsBooleans=De===2||De===3||De===4,this.attributeName=en,this.attributeNamespace=mn,this.mustUseProperty=Ke,this.propertyName=Te,this.type=De,this.sanitizeURL=En,this.removeEmptyString=Xn}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(Te){He[Te]=new je(Te,0,!1,Te,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(Te){var De=Te[0];He[De]=new je(De,1,!1,Te[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(Te){He[Te]=new je(Te,2,!1,Te.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(Te){He[Te]=new je(Te,2,!1,Te,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(Te){He[Te]=new je(Te,3,!1,Te.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(Te){He[Te]=new je(Te,3,!0,Te,null,!1,!1)}),["capture","download"].forEach(function(Te){He[Te]=new je(Te,4,!1,Te,null,!1,!1)}),["cols","rows","size","span"].forEach(function(Te){He[Te]=new je(Te,6,!1,Te,null,!1,!1)}),["rowSpan","start"].forEach(function(Te){He[Te]=new je(Te,5,!1,Te.toLowerCase(),null,!1,!1)});var Ge=/[\-:]([a-z])/g;function Ve(Te){return Te[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(Te){var De=Te.replace(Ge,Ve);He[De]=new je(De,1,!1,Te,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(Te){var De=Te.replace(Ge,Ve);He[De]=new je(De,1,!1,Te,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(Te){var De=Te.replace(Ge,Ve);He[De]=new je(De,1,!1,Te,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(Te){He[Te]=new je(Te,1,!1,Te.toLowerCase(),null,!1,!1)}),He.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(Te){He[Te]=new je(Te,1,!1,Te.toLowerCase(),null,!0,!0)});function ze(Te,De,Ke,en){var mn=He.hasOwnProperty(De)?He[De]:null;(mn!==null?mn.type!==0:en||!(2<De.length)||De[0]!=="o"&&De[0]!=="O"||De[1]!=="n"&&De[1]!=="N")&&(Be(De,Ke,mn,en)&&(Ke=null),en||mn===null?Oe(De)&&(Ke===null?Te.removeAttribute(De):Te.setAttribute(De,""+Ke)):mn.mustUseProperty?Te[mn.propertyName]=Ke===null?mn.type===3?!1:"":Ke:(De=mn.attributeName,en=mn.attributeNamespace,Ke===null?Te.removeAttribute(De):(mn=mn.type,Ke=mn===3||mn===4&&Ke===!0?"":""+Ke,en?Te.setAttributeNS(en,De,Ke):Te.setAttribute(De,Ke))))}var Xe=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,We=Symbol.for("react.element"),Je=Symbol.for("react.portal"),Qe=Symbol.for("react.fragment"),Ze=Symbol.for("react.strict_mode"),on=Symbol.for("react.profiler"),an=Symbol.for("react.provider"),rn=Symbol.for("react.context"),fn=Symbol.for("react.forward_ref"),nn=Symbol.for("react.suspense"),cn=Symbol.for("react.suspense_list"),dn=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),pn=Symbol.for("react.offscreen"),_n=Symbol.iterator;function Nn(Te){return Te===null||typeof Te!="object"?null:(Te=_n&&Te[_n]||Te["@@iterator"],typeof Te=="function"?Te:null)}var Un=Object.assign,xn;function St(Te){if(xn===void 0)try{throw Error()}catch(Ke){var De=Ke.stack.trim().match(/\n( *(at )?)/);xn=De&&De[1]||""}return`
`+xn+Te}var sn=!1;function gn(Te,De){if(!Te||sn)return"";sn=!0;var Ke=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(De)if(De=function(){throw Error()},Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(qr){var en=qr}Reflect.construct(Te,[],De)}else{try{De.call()}catch(qr){en=qr}Te.call(De.prototype)}else{try{throw Error()}catch(qr){en=qr}Te()}}catch(qr){if(qr&&en&&typeof qr.stack=="string"){for(var mn=qr.stack.split(`
`),En=en.stack.split(`
`),Xn=mn.length-1,pr=En.length-1;1<=Xn&&0<=pr&&mn[Xn]!==En[pr];)pr--;for(;1<=Xn&&0<=pr;Xn--,pr--)if(mn[Xn]!==En[pr]){if(Xn!==1||pr!==1)do if(Xn--,pr--,0>pr||mn[Xn]!==En[pr]){var br=`
`+mn[Xn].replace(" at new "," at ");return Te.displayName&&br.includes("<anonymous>")&&(br=br.replace("<anonymous>",Te.displayName)),br}while(1<=Xn&&0<=pr);break}}}finally{sn=!1,Error.prepareStackTrace=Ke}return(Te=Te?Te.displayName||Te.name:"")?St(Te):""}function Pn(Te){switch(Te.tag){case 5:return St(Te.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 2:case 15:return Te=gn(Te.type,!1),Te;case 11:return Te=gn(Te.type.render,!1),Te;case 1:return Te=gn(Te.type,!0),Te;default:return""}}function Fn(Te){if(Te==null)return null;if(typeof Te=="function")return Te.displayName||Te.name||null;if(typeof Te=="string")return Te;switch(Te){case Qe:return"Fragment";case Je:return"Portal";case on:return"Profiler";case Ze:return"StrictMode";case nn:return"Suspense";case cn:return"SuspenseList"}if(typeof Te=="object")switch(Te.$$typeof){case rn:return(Te.displayName||"Context")+".Consumer";case an:return(Te._context.displayName||"Context")+".Provider";case fn:var De=Te.render;return Te=Te.displayName,Te||(Te=De.displayName||De.name||"",Te=Te!==""?"ForwardRef("+Te+")":"ForwardRef"),Te;case dn:return De=Te.displayName||null,De!==null?De:Fn(Te.type)||"Memo";case bn:De=Te._payload,Te=Te._init;try{return Fn(Te(De))}catch{}}return null}function vn(Te){var De=Te.type;switch(Te.tag){case 24:return"Cache";case 9:return(De.displayName||"Context")+".Consumer";case 10:return(De._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Te=De.render,Te=Te.displayName||Te.name||"",De.displayName||(Te!==""?"ForwardRef("+Te+")":"ForwardRef");case 7:return"Fragment";case 5:return De;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fn(De);case 8:return De===Ze?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof De=="function")return De.displayName||De.name||null;if(typeof De=="string")return De}return null}function kn(Te){switch(typeof Te){case"boolean":case"number":case"string":case"undefined":return Te;case"object":return Te;default:return""}}function Bn(Te){var De=Te.type;return(Te=Te.nodeName)&&Te.toLowerCase()==="input"&&(De==="checkbox"||De==="radio")}function er(Te){var De=Bn(Te)?"checked":"value",Ke=Object.getOwnPropertyDescriptor(Te.constructor.prototype,De),en=""+Te[De];if(!Te.hasOwnProperty(De)&&typeof Ke<"u"&&typeof Ke.get=="function"&&typeof Ke.set=="function"){var mn=Ke.get,En=Ke.set;return Object.defineProperty(Te,De,{configurable:!0,get:function(){return mn.call(this)},set:function(Xn){en=""+Xn,En.call(this,Xn)}}),Object.defineProperty(Te,De,{enumerable:Ke.enumerable}),{getValue:function(){return en},setValue:function(Xn){en=""+Xn},stopTracking:function(){Te._valueTracker=null,delete Te[De]}}}}function Zn(Te){Te._valueTracker||(Te._valueTracker=er(Te))}function Cn(Te){if(!Te)return!1;var De=Te._valueTracker;if(!De)return!0;var Ke=De.getValue(),en="";return Te&&(en=Bn(Te)?Te.checked?"true":"false":Te.value),Te=en,Te!==Ke?(De.setValue(Te),!0):!1}function Tn(Te){if(Te=Te||(typeof document<"u"?document:void 0),typeof Te>"u")return null;try{return Te.activeElement||Te.body}catch{return Te.body}}function qn(Te,De){var Ke=De.checked;return Un({},De,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Ke??Te._wrapperState.initialChecked})}function In(Te,De){var Ke=De.defaultValue==null?"":De.defaultValue,en=De.checked!=null?De.checked:De.defaultChecked;Ke=kn(De.value!=null?De.value:Ke),Te._wrapperState={initialChecked:en,initialValue:Ke,controlled:De.type==="checkbox"||De.type==="radio"?De.checked!=null:De.value!=null}}function wn(Te,De){De=De.checked,De!=null&&ze(Te,"checked",De,!1)}function Vn(Te,De){wn(Te,De);var Ke=kn(De.value),en=De.type;if(Ke!=null)en==="number"?(Ke===0&&Te.value===""||Te.value!=Ke)&&(Te.value=""+Ke):Te.value!==""+Ke&&(Te.value=""+Ke);else if(en==="submit"||en==="reset"){Te.removeAttribute("value");return}De.hasOwnProperty("value")?tr(Te,De.type,Ke):De.hasOwnProperty("defaultValue")&&tr(Te,De.type,kn(De.defaultValue)),De.checked==null&&De.defaultChecked!=null&&(Te.defaultChecked=!!De.defaultChecked)}function Yn(Te,De,Ke){if(De.hasOwnProperty("value")||De.hasOwnProperty("defaultValue")){var en=De.type;if(!(en!=="submit"&&en!=="reset"||De.value!==void 0&&De.value!==null))return;De=""+Te._wrapperState.initialValue,Ke||De===Te.value||(Te.value=De),Te.defaultValue=De}Ke=Te.name,Ke!==""&&(Te.name=""),Te.defaultChecked=!!Te._wrapperState.initialChecked,Ke!==""&&(Te.name=Ke)}function tr(Te,De,Ke){(De!=="number"||Tn(Te.ownerDocument)!==Te)&&(Ke==null?Te.defaultValue=""+Te._wrapperState.initialValue:Te.defaultValue!==""+Ke&&(Te.defaultValue=""+Ke))}var cr=Array.isArray;function Kn(Te,De,Ke,en){if(Te=Te.options,De){De={};for(var mn=0;mn<Ke.length;mn++)De["$"+Ke[mn]]=!0;for(Ke=0;Ke<Te.length;Ke++)mn=De.hasOwnProperty("$"+Te[Ke].value),Te[Ke].selected!==mn&&(Te[Ke].selected=mn),mn&&en&&(Te[Ke].defaultSelected=!0)}else{for(Ke=""+kn(Ke),De=null,mn=0;mn<Te.length;mn++){if(Te[mn].value===Ke){Te[mn].selected=!0,en&&(Te[mn].defaultSelected=!0);return}De!==null||Te[mn].disabled||(De=Te[mn])}De!==null&&(De.selected=!0)}}function rr(Te,De){if(De.dangerouslySetInnerHTML!=null)throw Error(t(91));return Un({},De,{value:void 0,defaultValue:void 0,children:""+Te._wrapperState.initialValue})}function ir(Te,De){var Ke=De.value;if(Ke==null){if(Ke=De.children,De=De.defaultValue,Ke!=null){if(De!=null)throw Error(t(92));if(cr(Ke)){if(1<Ke.length)throw Error(t(93));Ke=Ke[0]}De=Ke}De==null&&(De=""),Ke=De}Te._wrapperState={initialValue:kn(Ke)}}function yr(Te,De){var Ke=kn(De.value),en=kn(De.defaultValue);Ke!=null&&(Ke=""+Ke,Ke!==Te.value&&(Te.value=Ke),De.defaultValue==null&&Te.defaultValue!==Ke&&(Te.defaultValue=Ke)),en!=null&&(Te.defaultValue=""+en)}function xr(Te){var De=Te.textContent;De===Te._wrapperState.initialValue&&De!==""&&De!==null&&(Te.value=De)}function Nr(Te){switch(Te){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jr(Te,De){return Te==null||Te==="http://www.w3.org/1999/xhtml"?Nr(De):Te==="http://www.w3.org/2000/svg"&&De==="foreignObject"?"http://www.w3.org/1999/xhtml":Te}var Vr,Yr=function(Te){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(De,Ke,en,mn){MSApp.execUnsafeLocalFunction(function(){return Te(De,Ke,en,mn)})}:Te}(function(Te,De){if(Te.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in Te)Te.innerHTML=De;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+De.valueOf().toString()+"</svg>",De=Vr.firstChild;Te.firstChild;)Te.removeChild(Te.firstChild);for(;De.firstChild;)Te.appendChild(De.firstChild)}});function ei(Te,De){if(De){var Ke=Te.firstChild;if(Ke&&Ke===Te.lastChild&&Ke.nodeType===3){Ke.nodeValue=De;return}}Te.textContent=De}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(Te){ar.forEach(function(De){De=De+Te.charAt(0).toUpperCase()+Te.substring(1),Ln[De]=Ln[Te]})});function sr(Te,De,Ke){return De==null||typeof De=="boolean"||De===""?"":Ke||typeof De!="number"||De===0||Ln.hasOwnProperty(Te)&&Ln[Te]?(""+De).trim():De+"px"}function Tr(Te,De){Te=Te.style;for(var Ke in De)if(De.hasOwnProperty(Ke)){var en=Ke.indexOf("--")===0,mn=sr(Ke,De[Ke],en);Ke==="float"&&(Ke="cssFloat"),en?Te.setProperty(Ke,mn):Te[Ke]=mn}}var dr=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pr(Te,De){if(De){if(dr[Te]&&(De.children!=null||De.dangerouslySetInnerHTML!=null))throw Error(t(137,Te));if(De.dangerouslySetInnerHTML!=null){if(De.children!=null)throw Error(t(60));if(typeof De.dangerouslySetInnerHTML!="object"||!("__html"in De.dangerouslySetInnerHTML))throw Error(t(61))}if(De.style!=null&&typeof De.style!="object")throw Error(t(62))}}function Hn(Te,De){if(Te.indexOf("-")===-1)return typeof De.is=="string";switch(Te){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Br=null;function di(Te){return Te=Te.target||Te.srcElement||window,Te.correspondingUseElement&&(Te=Te.correspondingUseElement),Te.nodeType===3?Te.parentNode:Te}var An=null,Er=null,Lr=null;function Qn(Te){if(Te=Kh(Te)){if(typeof An!="function")throw Error(t(280));var De=Te.stateNode;De&&(De=Oa(De),An(Te.stateNode,Te.type,De))}}function fr(Te){Er?Lr?Lr.push(Te):Lr=[Te]:Er=Te}function wr(){if(Er){var Te=Er,De=Lr;if(Lr=Er=null,Qn(Te),De)for(Te=0;Te<De.length;Te++)Qn(De[Te])}}function ui(Te,De){return Te(De)}function Qr(){}var ri=!1;function ki(Te,De,Ke){if(ri)return Te(De,Ke);ri=!0;try{return ui(Te,De,Ke)}finally{ri=!1,(Er!==null||Lr!==null)&&(Qr(),wr())}}function gi(Te,De){var Ke=Te.stateNode;if(Ke===null)return null;var en=Oa(Ke);if(en===null)return null;Ke=en[De];e:switch(De){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(en=!en.disabled)||(Te=Te.type,en=!(Te==="button"||Te==="input"||Te==="select"||Te==="textarea")),Te=!en;break e;default:Te=!1}if(Te)return null;if(Ke&&typeof Ke!="function")throw Error(t(231,De,typeof Ke));return Ke}var Ri=!1;if(Pe)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Ri=!1}function Vi(Te,De,Ke,en,mn,En,Xn,pr,br){var qr=Array.prototype.slice.call(arguments,3);try{De.apply(Ke,qr)}catch($r){this.onError($r)}}var ji=!1,Ki=null,fa=!1,mo=null,ps={onError:function(Te){ji=!0,Ki=Te}};function Xs(Te,De,Ke,en,mn,En,Xn,pr,br){ji=!1,Ki=null,Vi.apply(ps,arguments)}function ys(Te,De,Ke,en,mn,En,Xn,pr,br){if(Xs.apply(this,arguments),ji){if(ji){var qr=Ki;ji=!1,Ki=null}else throw Error(t(198));fa||(fa=!0,mo=qr)}}function ks(Te){var De=Te,Ke=Te;if(Te.alternate)for(;De.return;)De=De.return;else{Te=De;do De=Te,De.flags&4098&&(Ke=De.return),Te=De.return;while(Te)}return De.tag===3?Ke:null}function aa(Te){if(Te.tag===13){var De=Te.memoizedState;if(De===null&&(Te=Te.alternate,Te!==null&&(De=Te.memoizedState)),De!==null)return De.dehydrated}return null}function vo(Te){if(ks(Te)!==Te)throw Error(t(188))}function fc(Te){var De=Te.alternate;if(!De){if(De=ks(Te),De===null)throw Error(t(188));return De!==Te?null:Te}for(var Ke=Te,en=De;;){var mn=Ke.return;if(mn===null)break;var En=mn.alternate;if(En===null){if(en=mn.return,en!==null){Ke=en;continue}break}if(mn.child===En.child){for(En=mn.child;En;){if(En===Ke)return vo(mn),Te;if(En===en)return vo(mn),De;En=En.sibling}throw Error(t(188))}if(Ke.return!==en.return)Ke=mn,en=En;else{for(var Xn=!1,pr=mn.child;pr;){if(pr===Ke){Xn=!0,Ke=mn,en=En;break}if(pr===en){Xn=!0,en=mn,Ke=En;break}pr=pr.sibling}if(!Xn){for(pr=En.child;pr;){if(pr===Ke){Xn=!0,Ke=En,en=mn;break}if(pr===en){Xn=!0,en=En,Ke=mn;break}pr=pr.sibling}if(!Xn)throw Error(t(189))}}if(Ke.alternate!==en)throw Error(t(190))}if(Ke.tag!==3)throw Error(t(188));return Ke.stateNode.current===Ke?Te:De}function hu(Te){return Te=fc(Te),Te!==null?Ku(Te):null}function Ku(Te){if(Te.tag===5||Te.tag===6)return Te;for(Te=Te.child;Te!==null;){var De=Ku(Te);if(De!==null)return De;Te=Te.sibling}return null}var Xu=e.unstable_scheduleCallback,Yu=e.unstable_cancelCallback,Dh=e.unstable_shouldYield,mf=e.unstable_requestPaint,ea=e.unstable_now,wd=e.unstable_getCurrentPriorityLevel,El=e.unstable_ImmediatePriority,Zu=e.unstable_UserBlockingPriority,du=e.unstable_NormalPriority,Sd=e.unstable_LowPriority,Nh=e.unstable_IdlePriority,Fl=null,ka=null;function gs(Te){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(Fl,Te,void 0,(Te.current.flags&128)===128)}catch{}}var Xi=Math.clz32?Math.clz32:Ya,Cs=Math.log,Ra=Math.LN2;function Ya(Te){return Te>>>=0,Te===0?32:31-(Cs(Te)/Ra|0)|0}var nl=64,rl=4194304;function ya(Te){switch(Te&-Te){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Te&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Te&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Te}}function Za(Te,De){var Ke=Te.pendingLanes;if(Ke===0)return 0;var en=0,mn=Te.suspendedLanes,En=Te.pingedLanes,Xn=Ke&268435455;if(Xn!==0){var pr=Xn&~mn;pr!==0?en=ya(pr):(En&=Xn,En!==0&&(en=ya(En)))}else Xn=Ke&~mn,Xn!==0?en=ya(Xn):En!==0&&(en=ya(En));if(en===0)return 0;if(De!==0&&De!==en&&!(De&mn)&&(mn=en&-en,En=De&-De,mn>=En||mn===16&&(En&4194240)!==0))return De;if(en&4&&(en|=Ke&16),De=Te.entangledLanes,De!==0)for(Te=Te.entanglements,De&=en;0<De;)Ke=31-Xi(De),mn=1<<Ke,en|=Te[Ke],De&=~mn;return en}function Ju(Te,De){switch(Te){case 1:case 2:case 4:return De+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return De+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(Te,De){for(var Ke=Te.suspendedLanes,en=Te.pingedLanes,mn=Te.expirationTimes,En=Te.pendingLanes;0<En;){var Xn=31-Xi(En),pr=1<<Xn,br=mn[Xn];br===-1?(!(pr&Ke)||pr&en)&&(mn[Xn]=Ju(pr,De)):br<=De&&(Te.expiredLanes|=pr),En&=~pr}}function pc(Te){return Te=Te.pendingLanes&-1073741825,Te!==0?Te:Te&1073741824?1073741824:0}function Lh(){var Te=nl;return nl<<=1,!(nl&4194240)&&(nl=64),Te}function Do(Te){for(var De=[],Ke=0;31>Ke;Ke++)De.push(Te);return De}function fu(Te,De,Ke){Te.pendingLanes|=De,De!==536870912&&(Te.suspendedLanes=0,Te.pingedLanes=0),Te=Te.eventTimes,De=31-Xi(De),Te[De]=Ke}function gp(Te,De){var Ke=Te.pendingLanes&~De;Te.pendingLanes=De,Te.suspendedLanes=0,Te.pingedLanes=0,Te.expiredLanes&=De,Te.mutableReadLanes&=De,Te.entangledLanes&=De,De=Te.entanglements;var en=Te.eventTimes;for(Te=Te.expirationTimes;0<Ke;){var mn=31-Xi(Ke),En=1<<mn;De[mn]=0,en[mn]=-1,Te[mn]=-1,Ke&=~En}}function Ih(Te,De){var Ke=Te.entangledLanes|=De;for(Te=Te.entanglements;Ke;){var en=31-Xi(Ke),mn=1<<en;mn&De|Te[en]&De&&(Te[en]|=De),Ke&=~mn}}var es=0;function jc(Te){return Te&=-Te,1<Te?4<Te?Te&268435455?16:536870912:4:1}var pu,gu,vf,gc,qc,zc=!1,Gc=[],Rs=null,mc=null,il=null,ai=new Map,mu=new Map,Tl=[],Hl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(Te,De){switch(Te){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":mc=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":ai.delete(De.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(De.pointerId)}}function vu(Te,De,Ke,en,mn,En){return Te===null||Te.nativeEvent!==En?(Te={blockedOn:De,domEventName:Ke,eventSystemFlags:en,nativeEvent:En,targetContainers:[mn]},De!==null&&(De=Kh(De),De!==null&&gu(De)),Te):(Te.eventSystemFlags|=en,De=Te.targetContainers,mn!==null&&De.indexOf(mn)===-1&&De.push(mn),Te)}function ta(Te,De,Ke,en,mn){switch(De){case"focusin":return Rs=vu(Rs,Te,De,Ke,en,mn),!0;case"dragenter":return mc=vu(mc,Te,De,Ke,en,mn),!0;case"mouseover":return il=vu(il,Te,De,Ke,en,mn),!0;case"pointerover":var En=mn.pointerId;return ai.set(En,vu(ai.get(En)||null,Te,De,Ke,en,mn)),!0;case"gotpointercapture":return En=mn.pointerId,mu.set(En,vu(mu.get(En)||null,Te,De,Ke,en,mn)),!0}return!1}function yu(Te){var De=Yc(Te.target);if(De!==null){var Ke=ks(De);if(Ke!==null){if(De=Ke.tag,De===13){if(De=aa(Ke),De!==null){Te.blockedOn=De,qc(Te.priority,function(){vf(Ke)});return}}else if(De===3&&Ke.stateNode.current.memoizedState.isDehydrated){Te.blockedOn=Ke.tag===3?Ke.stateNode.containerInfo:null;return}}}Te.blockedOn=null}function Oh(Te){if(Te.blockedOn!==null)return!1;for(var De=Te.targetContainers;0<De.length;){var Ke=Qu(Te.domEventName,Te.eventSystemFlags,De[0],Te.nativeEvent);if(Ke===null){Ke=Te.nativeEvent;var en=new Ke.constructor(Ke.type,Ke);Br=en,Ke.target.dispatchEvent(en),Br=null}else return De=Kh(Ke),De!==null&&gu(De),Te.blockedOn=Ke,!1;De.shift()}return!0}function Mh(Te,De,Ke){Oh(Te)&&Ke.delete(De)}function mp(){zc=!1,Rs!==null&&Oh(Rs)&&(Rs=null),mc!==null&&Oh(mc)&&(mc=null),il!==null&&Oh(il)&&(il=null),ai.forEach(Mh),mu.forEach(Mh)}function kl(Te,De){Te.blockedOn===De&&(Te.blockedOn=null,zc||(zc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mp)))}function ba(Te){function De(mn){return kl(mn,Te)}if(0<Gc.length){kl(Gc[0],Te);for(var Ke=1;Ke<Gc.length;Ke++){var en=Gc[Ke];en.blockedOn===Te&&(en.blockedOn=null)}}for(Rs!==null&&kl(Rs,Te),mc!==null&&kl(mc,Te),il!==null&&kl(il,Te),ai.forEach(De),mu.forEach(De),Ke=0;Ke<Tl.length;Ke++)en=Tl[Ke],en.blockedOn===Te&&(en.blockedOn=null);for(;0<Tl.length&&(Ke=Tl[0],Ke.blockedOn===null);)yu(Ke),Ke.blockedOn===null&&Tl.shift()}var sl=Xe.ReactCurrentBatchConfig,Bh=!0;function Ja(Te,De,Ke,en){var mn=es,En=sl.transition;sl.transition=null;try{es=1,Vl(Te,De,Ke,en)}finally{es=mn,sl.transition=En}}function al(Te,De,Ke,en){var mn=es,En=sl.transition;sl.transition=null;try{es=4,Vl(Te,De,Ke,en)}finally{es=mn,sl.transition=En}}function Vl(Te,De,Ke,en){if(Bh){var mn=Qu(Te,De,Ke,en);if(mn===null)Hh(Te,De,en,Hc,Ke),xd(Te,en);else if(ta(mn,Te,De,Ke,en))en.stopPropagation();else if(xd(Te,en),De&4&&-1<Hl.indexOf(Te)){for(;mn!==null;){var En=Kh(mn);if(En!==null&&pu(En),En=Qu(Te,De,Ke,en),En===null&&Hh(Te,De,en,Hc,Ke),En===mn)break;mn=En}mn!==null&&en.stopPropagation()}else Hh(Te,De,en,null,Ke)}}var Hc=null;function Qu(Te,De,Ke,en){if(Hc=null,Te=di(en),Te=Yc(Te),Te!==null)if(De=ks(Te),De===null)Te=null;else if(Ke=De.tag,Ke===13){if(Te=aa(De),Te!==null)return Te;Te=null}else if(Ke===3){if(De.stateNode.current.memoizedState.isDehydrated)return De.tag===3?De.stateNode.containerInfo:null;Te=null}else De!==Te&&(Te=null);return Hc=Te,null}function _d(Te){switch(Te){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wd()){case El:return 1;case Zu:return 4;case du:case Sd:return 16;case Nh:return 536870912;default:return 16}default:return 16}}var wa=null,Qa=null,$a=null;function $u(){if($a)return $a;var Te,De=Qa,Ke=De.length,en,mn="value"in wa?wa.value:wa.textContent,En=mn.length;for(Te=0;Te<Ke&&De[Te]===mn[Te];Te++);var Xn=Ke-Te;for(en=1;en<=Xn&&De[Ke-en]===mn[En-en];en++);return $a=mn.slice(Te,1<en?1-en:void 0)}function qo(Te){var De=Te.keyCode;return"charCode"in Te?(Te=Te.charCode,Te===0&&De===13&&(Te=13)):Te=De,Te===10&&(Te=13),32<=Te||Te===13?Te:0}function js(){return!0}function eo(){return!1}function qs(Te){function De(Ke,en,mn,En,Xn){this._reactName=Ke,this._targetInst=mn,this.type=en,this.nativeEvent=En,this.target=Xn,this.currentTarget=null;for(var pr in Te)Te.hasOwnProperty(pr)&&(Ke=Te[pr],this[pr]=Ke?Ke(En):En[pr]);return this.isDefaultPrevented=(En.defaultPrevented!=null?En.defaultPrevented:En.returnValue===!1)?js:eo,this.isPropagationStopped=eo,this}return Un(De.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ke=this.nativeEvent;Ke&&(Ke.preventDefault?Ke.preventDefault():typeof Ke.returnValue!="unknown"&&(Ke.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var Ke=this.nativeEvent;Ke&&(Ke.stopPropagation?Ke.stopPropagation():typeof Ke.cancelBubble!="unknown"&&(Ke.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),De}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Te){return Te.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=qs(yo),ol=Un({},yo,{view:0,detail:0}),Uh=qs(ol),Vc,bu,oa,Da=Un({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(Te){return Te.relatedTarget===void 0?Te.fromElement===Te.srcElement?Te.toElement:Te.fromElement:Te.relatedTarget},movementX:function(Te){return"movementX"in Te?Te.movementX:(Te!==oa&&(oa&&Te.type==="mousemove"?(Vc=Te.screenX-oa.screenX,bu=Te.screenY-oa.screenY):bu=Vc=0,oa=Te),Vc)},movementY:function(Te){return"movementY"in Te?Te.movementY:bu}}),bs=qs(Da),wu=Un({},Da,{dataTransfer:0}),ll=qs(wu),eh=Un({},ol,{relatedTarget:0}),vc=qs(eh),th=Un({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),yc=qs(th),jh=Un({},yo,{clipboardData:function(Te){return"clipboardData"in Te?Te.clipboardData:window.clipboardData}}),un=qs(jh),Gn=Un({},yo,{data:0}),ur=qs(Gn),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zr(Te){var De=this.nativeEvent;return De.getModifierState?De.getModifierState(Te):(Te=Gr[Te])?!!De[Te]:!1}function li(){return Zr}var _i=Un({},ol,{key:function(Te){if(Te.key){var De=vr[Te.key]||Te.key;if(De!=="Unidentified")return De}return Te.type==="keypress"?(Te=qo(Te),Te===13?"Enter":String.fromCharCode(Te)):Te.type==="keydown"||Te.type==="keyup"?kr[Te.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(Te){return Te.type==="keypress"?qo(Te):0},keyCode:function(Te){return Te.type==="keydown"||Te.type==="keyup"?Te.keyCode:0},which:function(Te){return Te.type==="keypress"?qo(Te):Te.type==="keydown"||Te.type==="keyup"?Te.keyCode:0}}),Bi=qs(_i),Mi=Un({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=qs(Mi),Ys=Un({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),zs=qs(Ys),na=Un({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),pa=qs(na),Sa=Un({},Da,{deltaX:function(Te){return"deltaX"in Te?Te.deltaX:"wheelDeltaX"in Te?-Te.wheelDeltaX:0},deltaY:function(Te){return"deltaY"in Te?Te.deltaY:"wheelDeltaY"in Te?-Te.wheelDeltaY:"wheelDelta"in Te?-Te.wheelDelta:0},deltaZ:0,deltaMode:0}),cl=qs(Sa),zo=[9,13,27,32],Go=Pe&&"CompositionEvent"in window,bc=null;Pe&&"documentMode"in document&&(bc=document.documentMode);var wc=Pe&&"TextEvent"in window&&!bc,to=Pe&&(!Go||bc&&8<bc&&11>=bc),ul=" ",Su=!1;function nh(Te,De){switch(Te){case"keyup":return zo.indexOf(De.keyCode)!==-1;case"keydown":return De.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(Te){return Te=Te.detail,typeof Te=="object"&&"data"in Te?Te.data:null}var ws=!1;function xu(Te,De){switch(Te){case"compositionend":return wo(De);case"keypress":return De.which!==32?null:(Su=!0,ul);case"textInput":return Te=De.data,Te===ul&&Su?null:Te;default:return null}}function rh(Te,De){if(ws)return Te==="compositionend"||!Go&&nh(Te,De)?(Te=$u(),$a=Qa=wa=null,ws=!1,Te):null;switch(Te){case"paste":return null;case"keypress":if(!(De.ctrlKey||De.altKey||De.metaKey)||De.ctrlKey&&De.altKey){if(De.char&&1<De.char.length)return De.char;if(De.which)return String.fromCharCode(De.which)}return null;case"compositionend":return to&&De.locale!=="ko"?null:De.data;default:return null}}var Ho={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hl(Te){var De=Te&&Te.nodeName&&Te.nodeName.toLowerCase();return De==="input"?!!Ho[Te.type]:De==="textarea"}function ja(Te,De,Ke,en){fr(en),De=yf(De,"onChange"),0<De.length&&(Ke=new bo("onChange","change",null,Ke,en),Te.push({event:Ke,listeners:De}))}var _u=null,Rl=null;function Ad(Te){zh(Te,0)}function Na(Te){var De=Aa(Te);if(Cn(De))return Te}function no(Te,De){if(Te==="change")return De}var Wc=!1;if(Pe){var Wl;if(Pe){var La="oninput"in document;if(!La){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),La=typeof Sc.oninput=="function"}Wl=La}else Wl=!1;Wc=Wl&&(!document.documentMode||9<document.documentMode)}function xa(){_u&&(_u.detachEvent("onpropertychange",ro),Rl=_u=null)}function ro(Te){if(Te.propertyName==="value"&&Na(Rl)){var De=[];ja(De,Rl,Te,di(Te)),ki(Ad,De)}}function xc(Te,De,Ke){Te==="focusin"?(xa(),_u=De,Rl=Ke,_u.attachEvent("onpropertychange",ro)):Te==="focusout"&&xa()}function cs(Te){if(Te==="selectionchange"||Te==="keyup"||Te==="keydown")return Na(Rl)}function Dl(Te,De){if(Te==="click")return Na(De)}function Au(Te,De){if(Te==="input"||Te==="change")return Na(De)}function Kl(Te,De){return Te===De&&(Te!==0||1/Te===1/De)||Te!==Te&&De!==De}var ts=typeof Object.is=="function"?Object.is:Kl;function Xl(Te,De){if(ts(Te,De))return!0;if(typeof Te!="object"||Te===null||typeof De!="object"||De===null)return!1;var Ke=Object.keys(Te),en=Object.keys(De);if(Ke.length!==en.length)return!1;for(en=0;en<Ke.length;en++){var mn=Ke[en];if(!Ee.call(De,mn)||!ts(Te[mn],De[mn]))return!1}return!0}function la(Te){for(;Te&&Te.firstChild;)Te=Te.firstChild;return Te}function Qi(Te,De){var Ke=la(Te);Te=0;for(var en;Ke;){if(Ke.nodeType===3){if(en=Te+Ke.textContent.length,Te<=De&&en>=De)return{node:Ke,offset:De-Te};Te=en}e:{for(;Ke;){if(Ke.nextSibling){Ke=Ke.nextSibling;break e}Ke=Ke.parentNode}Ke=void 0}Ke=la(Ke)}}function Gs(Te,De){return Te&&De?Te===De?!0:Te&&Te.nodeType===3?!1:De&&De.nodeType===3?Gs(Te,De.parentNode):"contains"in Te?Te.contains(De):Te.compareDocumentPosition?!!(Te.compareDocumentPosition(De)&16):!1:!1}function ca(){for(var Te=window,De=Tn();De instanceof Te.HTMLIFrameElement;){try{var Ke=typeof De.contentWindow.location.href=="string"}catch{Ke=!1}if(Ke)Te=De.contentWindow;else break;De=Tn(Te.document)}return De}function _c(Te){var De=Te&&Te.nodeName&&Te.nodeName.toLowerCase();return De&&(De==="input"&&(Te.type==="text"||Te.type==="search"||Te.type==="tel"||Te.type==="url"||Te.type==="password")||De==="textarea"||Te.contentEditable==="true")}function Yl(Te){var De=ca(),Ke=Te.focusedElem,en=Te.selectionRange;if(De!==Ke&&Ke&&Ke.ownerDocument&&Gs(Ke.ownerDocument.documentElement,Ke)){if(en!==null&&_c(Ke)){if(De=en.start,Te=en.end,Te===void 0&&(Te=De),"selectionStart"in Ke)Ke.selectionStart=De,Ke.selectionEnd=Math.min(Te,Ke.value.length);else if(Te=(De=Ke.ownerDocument||document)&&De.defaultView||window,Te.getSelection){Te=Te.getSelection();var mn=Ke.textContent.length,En=Math.min(en.start,mn);en=en.end===void 0?En:Math.min(en.end,mn),!Te.extend&&En>en&&(mn=en,en=En,En=mn),mn=Qi(Ke,En);var Xn=Qi(Ke,en);mn&&Xn&&(Te.rangeCount!==1||Te.anchorNode!==mn.node||Te.anchorOffset!==mn.offset||Te.focusNode!==Xn.node||Te.focusOffset!==Xn.offset)&&(De=De.createRange(),De.setStart(mn.node,mn.offset),Te.removeAllRanges(),En>en?(Te.addRange(De),Te.extend(Xn.node,Xn.offset)):(De.setEnd(Xn.node,Xn.offset),Te.addRange(De)))}}for(De=[],Te=Ke;Te=Te.parentNode;)Te.nodeType===1&&De.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof Ke.focus=="function"&&Ke.focus(),Ke=0;Ke<De.length;Ke++)Te=De[Ke],Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}var Zl=Pe&&"documentMode"in document&&11>=document.documentMode,dl=null,Zs=null,Nl=null,Jl=!1;function Ql(Te,De,Ke){var en=Ke.window===Ke?Ke.document:Ke.nodeType===9?Ke:Ke.ownerDocument;Jl||dl==null||dl!==Tn(en)||(en=dl,"selectionStart"in en&&_c(en)?en={start:en.selectionStart,end:en.selectionEnd}:(en=(en.ownerDocument&&en.ownerDocument.defaultView||window).getSelection(),en={anchorNode:en.anchorNode,anchorOffset:en.anchorOffset,focusNode:en.focusNode,focusOffset:en.focusOffset}),Nl&&Xl(Nl,en)||(Nl=en,en=yf(Zs,"onSelect"),0<en.length&&(De=new bo("onSelect","select",null,De,Ke),Te.push({event:De,listeners:en}),De.target=dl)))}function io(Te,De){var Ke={};return Ke[Te.toLowerCase()]=De.toLowerCase(),Ke["Webkit"+Te]="webkit"+De,Ke["Moz"+Te]="moz"+De,Ke}var Ps={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},qa={},Ss={};Pe&&(Ss=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function us(Te){if(qa[Te])return qa[Te];if(!Ps[Te])return Te;var De=Ps[Te],Ke;for(Ke in De)if(De.hasOwnProperty(Ke)&&Ke in Ss)return qa[Te]=De[Ke];return Te}var ra=us("animationend"),ga=us("animationiteration"),$l=us("animationstart"),ih=us("transitionend"),Cu=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tc(Te,De){Cu.set(Te,De),Ae(De,[Te])}for(var sh=0;sh<qh.length;sh++){var Ia=qh[sh],pl=Ia.toLowerCase(),ah=Ia[0].toUpperCase()+Ia.slice(1);tc(pl,"on"+ah)}tc(ra,"onAnimationEnd"),tc(ga,"onAnimationIteration"),tc($l,"onAnimationStart"),tc("dblclick","onDoubleClick"),tc("focusin","onFocus"),tc("focusout","onBlur"),tc(ih,"onTransitionEnd"),Ce("onMouseEnter",["mouseout","mouseover"]),Ce("onMouseLeave",["mouseout","mouseover"]),Ce("onPointerEnter",["pointerout","pointerover"]),Ce("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function oh(Te,De,Ke){var en=Te.type||"unknown-event";Te.currentTarget=Ke,ys(en,De,void 0,Te),Te.currentTarget=null}function zh(Te,De){De=(De&4)!==0;for(var Ke=0;Ke<Te.length;Ke++){var en=Te[Ke],mn=en.event;en=en.listeners;e:{var En=void 0;if(De)for(var Xn=en.length-1;0<=Xn;Xn--){var pr=en[Xn],br=pr.instance,qr=pr.currentTarget;if(pr=pr.listener,br!==En&&mn.isPropagationStopped())break e;oh(mn,pr,qr),En=br}else for(Xn=0;Xn<en.length;Xn++){if(pr=en[Xn],br=pr.instance,qr=pr.currentTarget,pr=pr.listener,br!==En&&mn.isPropagationStopped())break e;oh(mn,pr,qr),En=br}}}if(fa)throw Te=mo,fa=!1,mo=null,Te}function Es(Te,De){var Ke=De[No];Ke===void 0&&(Ke=De[No]=new Set);var en=Te+"__bubble";Ke.has(en)||(Gh(De,Te,2,!1),Ke.add(en))}function Cd(Te,De,Ke){var en=0;De&&(en|=4),Gh(Ke,Te,en,De)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Kc(Te){if(!Te[lh]){Te[lh]=!0,Se.forEach(function(Ke){Ke!=="selectionchange"&&(vp.has(Ke)||Cd(Ke,!1,Te),Cd(Ke,!0,Te))});var De=Te.nodeType===9?Te:Te.ownerDocument;De===null||De[lh]||(De[lh]=!0,Cd("selectionchange",!1,De))}}function Gh(Te,De,Ke,en){switch(_d(De)){case 1:var mn=Ja;break;case 4:mn=al;break;default:mn=Vl}Ke=mn.bind(null,De,Ke,Te),mn=void 0,!Ri||De!=="touchstart"&&De!=="touchmove"&&De!=="wheel"||(mn=!0),en?mn!==void 0?Te.addEventListener(De,Ke,{capture:!0,passive:mn}):Te.addEventListener(De,Ke,!0):mn!==void 0?Te.addEventListener(De,Ke,{passive:mn}):Te.addEventListener(De,Ke,!1)}function Hh(Te,De,Ke,en,mn){var En=en;if(!(De&1)&&!(De&2)&&en!==null)e:for(;;){if(en===null)return;var Xn=en.tag;if(Xn===3||Xn===4){var pr=en.stateNode.containerInfo;if(pr===mn||pr.nodeType===8&&pr.parentNode===mn)break;if(Xn===4)for(Xn=en.return;Xn!==null;){var br=Xn.tag;if((br===3||br===4)&&(br=Xn.stateNode.containerInfo,br===mn||br.nodeType===8&&br.parentNode===mn))return;Xn=Xn.return}for(;pr!==null;){if(Xn=Yc(pr),Xn===null)return;if(br=Xn.tag,br===5||br===6){en=En=Xn;continue e}pr=pr.parentNode}}en=en.return}ki(function(){var qr=En,$r=di(Ke),ti=[];e:{var Jr=Cu.get(Te);if(Jr!==void 0){var vi=bo,xi=Te;switch(Te){case"keypress":if(qo(Ke)===0)break e;case"keydown":case"keyup":vi=Bi;break;case"focusin":xi="focus",vi=vc;break;case"focusout":xi="blur",vi=vc;break;case"beforeblur":case"afterblur":vi=vc;break;case"click":if(Ke.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vi=bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vi=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vi=zs;break;case ra:case ga:case $l:vi=yc;break;case ih:vi=pa;break;case"scroll":vi=Uh;break;case"wheel":vi=cl;break;case"copy":case"cut":case"paste":vi=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vi=Gi}var Ai=(De&4)!==0,po=!Ai&&Te==="scroll",Dr=Ai?Jr!==null?Jr+"Capture":null:Jr;Ai=[];for(var Sr=qr,Or;Sr!==null;){Or=Sr;var si=Or.stateNode;if(Or.tag===5&&si!==null&&(Or=si,Dr!==null&&(si=gi(Sr,Dr),si!=null&&Ai.push(Vh(Sr,si,Or)))),po)break;Sr=Sr.return}0<Ai.length&&(Jr=new vi(Jr,xi,null,Ke,$r),ti.push({event:Jr,listeners:Ai}))}}if(!(De&7)){e:{if(Jr=Te==="mouseover"||Te==="pointerover",vi=Te==="mouseout"||Te==="pointerout",Jr&&Ke!==Br&&(xi=Ke.relatedTarget||Ke.fromElement)&&(Yc(xi)||xi[oo]))break e;if((vi||Jr)&&(Jr=$r.window===$r?$r:(Jr=$r.ownerDocument)?Jr.defaultView||Jr.parentWindow:window,vi?(xi=Ke.relatedTarget||Ke.toElement,vi=qr,xi=xi?Yc(xi):null,xi!==null&&(po=ks(xi),xi!==po||xi.tag!==5&&xi.tag!==6)&&(xi=null)):(vi=null,xi=qr),vi!==xi)){if(Ai=bs,si="onMouseLeave",Dr="onMouseEnter",Sr="mouse",(Te==="pointerout"||Te==="pointerover")&&(Ai=Gi,si="onPointerLeave",Dr="onPointerEnter",Sr="pointer"),po=vi==null?Jr:Aa(vi),Or=xi==null?Jr:Aa(xi),Jr=new Ai(si,Sr+"leave",vi,Ke,$r),Jr.target=po,Jr.relatedTarget=Or,si=null,Yc($r)===qr&&(Ai=new Ai(Dr,Sr+"enter",xi,Ke,$r),Ai.target=Or,Ai.relatedTarget=po,si=Ai),po=si,vi&&xi)t:{for(Ai=vi,Dr=xi,Sr=0,Or=Ai;Or;Or=Pu(Or))Sr++;for(Or=0,si=Dr;si;si=Pu(si))Or++;for(;0<Sr-Or;)Ai=Pu(Ai),Sr--;for(;0<Or-Sr;)Dr=Pu(Dr),Or--;for(;Sr--;){if(Ai===Dr||Dr!==null&&Ai===Dr.alternate)break t;Ai=Pu(Ai),Dr=Pu(Dr)}Ai=null}else Ai=null;vi!==null&&L0(ti,Jr,vi,Ai,!1),xi!==null&&po!==null&&L0(ti,po,xi,Ai,!0)}}e:{if(Jr=qr?Aa(qr):window,vi=Jr.nodeName&&Jr.nodeName.toLowerCase(),vi==="select"||vi==="input"&&Jr.type==="file")var Pi=no;else if(hl(Jr))if(Wc)Pi=Au;else{Pi=cs;var Li=xc}else(vi=Jr.nodeName)&&vi.toLowerCase()==="input"&&(Jr.type==="checkbox"||Jr.type==="radio")&&(Pi=Dl);if(Pi&&(Pi=Pi(Te,qr))){ja(ti,Pi,Ke,$r);break e}Li&&Li(Te,Jr,qr),Te==="focusout"&&(Li=Jr._wrapperState)&&Li.controlled&&Jr.type==="number"&&tr(Jr,"number",Jr.value)}switch(Li=qr?Aa(qr):window,Te){case"focusin":(hl(Li)||Li.contentEditable==="true")&&(dl=Li,Zs=qr,Nl=null);break;case"focusout":Nl=Zs=dl=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Ql(ti,Ke,$r);break;case"selectionchange":if(Zl)break;case"keydown":case"keyup":Ql(ti,Ke,$r)}var Ii;if(Go)e:{switch(Te){case"compositionstart":var Ui="onCompositionStart";break e;case"compositionend":Ui="onCompositionEnd";break e;case"compositionupdate":Ui="onCompositionUpdate";break e}Ui=void 0}else ws?nh(Te,Ke)&&(Ui="onCompositionEnd"):Te==="keydown"&&Ke.keyCode===229&&(Ui="onCompositionStart");Ui&&(to&&Ke.locale!=="ko"&&(ws||Ui!=="onCompositionStart"?Ui==="onCompositionEnd"&&ws&&(Ii=$u()):(wa=$r,Qa="value"in wa?wa.value:wa.textContent,ws=!0)),Li=yf(qr,Ui),0<Li.length&&(Ui=new ur(Ui,Te,null,Ke,$r),ti.push({event:Ui,listeners:Li}),Ii?Ui.data=Ii:(Ii=wo(Ke),Ii!==null&&(Ui.data=Ii)))),(Ii=wc?xu(Te,Ke):rh(Te,Ke))&&(qr=yf(qr,"onBeforeInput"),0<qr.length&&($r=new ur("onBeforeInput","beforeinput",null,Ke,$r),ti.push({event:$r,listeners:qr}),$r.data=Ii))}zh(ti,De)})}function Vh(Te,De,Ke){return{instance:Te,listener:De,currentTarget:Ke}}function yf(Te,De){for(var Ke=De+"Capture",en=[];Te!==null;){var mn=Te,En=mn.stateNode;mn.tag===5&&En!==null&&(mn=En,En=gi(Te,Ke),En!=null&&en.unshift(Vh(Te,En,mn)),En=gi(Te,De),En!=null&&en.push(Vh(Te,En,mn))),Te=Te.return}return en}function Pu(Te){if(Te===null)return null;do Te=Te.return;while(Te&&Te.tag!==5);return Te||null}function L0(Te,De,Ke,en,mn){for(var En=De._reactName,Xn=[];Ke!==null&&Ke!==en;){var pr=Ke,br=pr.alternate,qr=pr.stateNode;if(br!==null&&br===en)break;pr.tag===5&&qr!==null&&(pr=qr,mn?(br=gi(Ke,En),br!=null&&Xn.unshift(Vh(Ke,br,pr))):mn||(br=gi(Ke,En),br!=null&&Xn.push(Vh(Ke,br,pr)))),Ke=Ke.return}Xn.length!==0&&Te.push({event:De,listeners:Xn})}var r1=/\r\n?/g,I0=/\u0000|\uFFFD/g;function yp(Te){return(typeof Te=="string"?Te:""+Te).replace(r1,`
`).replace(I0,"")}function Pd(Te,De,Ke){if(De=yp(De),yp(Te)!==De&&Ke)throw Error(t(425))}function Xc(){}var Ed=null,ch=null;function bp(Te,De){return Te==="textarea"||Te==="noscript"||typeof De.children=="string"||typeof De.children=="number"||typeof De.dangerouslySetInnerHTML=="object"&&De.dangerouslySetInnerHTML!==null&&De.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,bf=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(Te){return Fd.resolve(null).then(Te).catch(M0)}:gl;function M0(Te){setTimeout(function(){throw Te})}function wf(Te,De){var Ke=De,en=0;do{var mn=Ke.nextSibling;if(Te.removeChild(Ke),mn&&mn.nodeType===8)if(Ke=mn.data,Ke==="/$"){if(en===0){Te.removeChild(mn),ba(De);return}en--}else Ke!=="$"&&Ke!=="$?"&&Ke!=="$!"||en++;Ke=mn}while(Ke);ba(De)}function so(Te){for(;Te!=null;Te=Te.nextSibling){var De=Te.nodeType;if(De===1||De===3)break;if(De===8){if(De=Te.data,De==="$"||De==="$!"||De==="$?")break;if(De==="/$")return null}}return Te}function ao(Te){Te=Te.previousSibling;for(var De=0;Te;){if(Te.nodeType===8){var Ke=Te.data;if(Ke==="$"||Ke==="$!"||Ke==="$?"){if(De===0)return Te;De--}else Ke==="/$"&&De++}Te=Te.previousSibling}return null}var So=Math.random().toString(36).slice(2),Ll="__reactFiber$"+So,Wh="__reactProps$"+So,oo="__reactContainer$"+So,No="__reactEvents$"+So,B0="__reactListeners$"+So,U0="__reactHandles$"+So;function Yc(Te){var De=Te[Ll];if(De)return De;for(var Ke=Te.parentNode;Ke;){if(De=Ke[oo]||Ke[Ll]){if(Ke=De.alternate,De.child!==null||Ke!==null&&Ke.child!==null)for(Te=ao(Te);Te!==null;){if(Ke=Te[Ll])return Ke;Te=ao(Te)}return De}Te=Ke,Ke=Te.parentNode}return null}function Kh(Te){return Te=Te[Ll]||Te[oo],!Te||Te.tag!==5&&Te.tag!==6&&Te.tag!==13&&Te.tag!==3?null:Te}function Aa(Te){if(Te.tag===5||Te.tag===6)return Te.stateNode;throw Error(t(33))}function Oa(Te){return Te[Wh]||null}var Sf=[],Ac=-1;function Il(Te){return{current:Te}}function ms(Te){0>Ac||(Te.current=Sf[Ac],Sf[Ac]=null,Ac--)}function xs(Te,De){Ac++,Sf[Ac]=Te.current,Te.current=De}var rc={},lo=Il(rc),co=Il(!1),Eu=rc;function uh(Te,De){var Ke=Te.type.contextTypes;if(!Ke)return rc;var en=Te.stateNode;if(en&&en.__reactInternalMemoizedUnmaskedChildContext===De)return en.__reactInternalMemoizedMaskedChildContext;var mn={},En;for(En in Ke)mn[En]=De[En];return en&&(Te=Te.stateNode,Te.__reactInternalMemoizedUnmaskedChildContext=De,Te.__reactInternalMemoizedMaskedChildContext=mn),mn}function xo(Te){return Te=Te.childContextTypes,Te!=null}function Xh(){ms(co),ms(lo)}function wp(Te,De,Ke){if(lo.current!==rc)throw Error(t(168));xs(lo,De),xs(co,Ke)}function xf(Te,De,Ke){var en=Te.stateNode;if(De=De.childContextTypes,typeof en.getChildContext!="function")return Ke;en=en.getChildContext();for(var mn in en)if(!(mn in De))throw Error(t(108,vn(Te)||"Unknown",mn));return Un({},Ke,en)}function Fu(Te){return Te=(Te=Te.stateNode)&&Te.__reactInternalMemoizedMergedChildContext||rc,Eu=lo.current,xs(lo,Te),xs(co,co.current),!0}function Td(Te,De,Ke){var en=Te.stateNode;if(!en)throw Error(t(169));Ke?(Te=xf(Te,De,Eu),en.__reactInternalMemoizedMergedChildContext=Te,ms(co),ms(lo),xs(lo,Te)):ms(co),xs(co,Ke)}var Cc=null,Yh=!1,kd=!1;function Ye(Te){Cc===null?Cc=[Te]:Cc.push(Te)}function tn(Te){Yh=!0,Ye(Te)}function yn(){if(!kd&&Cc!==null){kd=!0;var Te=0,De=es;try{var Ke=Cc;for(es=1;Te<Ke.length;Te++){var en=Ke[Te];do en=en(!0);while(en!==null)}Cc=null,Yh=!1}catch(mn){throw Cc!==null&&(Cc=Cc.slice(Te+1)),Xu(El,yn),mn}finally{es=De,kd=!1}}return null}var Rn=[],zn=0,Wn=null,Jn=0,$n=[],nr=0,lr=null,gr=1,_r="";function Rr(Te,De){Rn[zn++]=Jn,Rn[zn++]=Wn,Wn=Te,Jn=De}function Ar(Te,De,Ke){$n[nr++]=gr,$n[nr++]=_r,$n[nr++]=lr,lr=Te;var en=gr;Te=_r;var mn=32-Xi(en)-1;en&=~(1<<mn),Ke+=1;var En=32-Xi(De)+mn;if(30<En){var Xn=mn-mn%5;En=(en&(1<<Xn)-1).toString(32),en>>=Xn,mn-=Xn,gr=1<<32-Xi(De)+mn|Ke<<mn|en,_r=En+Te}else gr=1<<En|Ke<<mn|en,_r=Te}function Wr(Te){Te.return!==null&&(Rr(Te,1),Ar(Te,1,0))}function Ir(Te){for(;Te===Wn;)Wn=Rn[--zn],Rn[zn]=null,Jn=Rn[--zn],Rn[zn]=null;for(;Te===lr;)lr=$n[--nr],$n[nr]=null,_r=$n[--nr],$n[nr]=null,gr=$n[--nr],$n[nr]=null}var mr=null,hr=null,Ur=!1,Kr=null;function Xr(Te,De){var Ke=Mu(5,null,null,0);Ke.elementType="DELETED",Ke.stateNode=De,Ke.return=Te,De=Te.deletions,De===null?(Te.deletions=[Ke],Te.flags|=16):De.push(Ke)}function fi(Te,De){switch(Te.tag){case 5:var Ke=Te.type;return De=De.nodeType!==1||Ke.toLowerCase()!==De.nodeName.toLowerCase()?null:De,De!==null?(Te.stateNode=De,mr=Te,hr=so(De.firstChild),!0):!1;case 6:return De=Te.pendingProps===""||De.nodeType!==3?null:De,De!==null?(Te.stateNode=De,mr=Te,hr=null,!0):!1;case 13:return De=De.nodeType!==8?null:De,De!==null?(Ke=lr!==null?{id:gr,overflow:_r}:null,Te.memoizedState={dehydrated:De,treeContext:Ke,retryLane:1073741824},Ke=Mu(18,null,null,0),Ke.stateNode=De,Ke.return=Te,Te.child=Ke,mr=Te,hr=null,!0):!1;default:return!1}}function ii(Te){return(Te.mode&1)!==0&&(Te.flags&128)===0}function Ci(Te){if(Ur){var De=hr;if(De){var Ke=De;if(!fi(Te,De)){if(ii(Te))throw Error(t(418));De=so(Ke.nextSibling);var en=mr;De&&fi(Te,De)?Xr(en,Ke):(Te.flags=Te.flags&-4097|2,Ur=!1,mr=Te)}}else{if(ii(Te))throw Error(t(418));Te.flags=Te.flags&-4097|2,Ur=!1,mr=Te}}}function oi(Te){for(Te=Te.return;Te!==null&&Te.tag!==5&&Te.tag!==3&&Te.tag!==13;)Te=Te.return;mr=Te}function $i(Te){if(Te!==mr)return!1;if(!Ur)return oi(Te),Ur=!0,!1;var De;if((De=Te.tag!==3)&&!(De=Te.tag!==5)&&(De=Te.type,De=De!=="head"&&De!=="body"&&!bp(Te.type,Te.memoizedProps)),De&&(De=hr)){if(ii(Te))throw hs(),Error(t(418));for(;De;)Xr(Te,De),De=so(De.nextSibling)}if(oi(Te),Te.tag===13){if(Te=Te.memoizedState,Te=Te!==null?Te.dehydrated:null,!Te)throw Error(t(317));e:{for(Te=Te.nextSibling,De=0;Te;){if(Te.nodeType===8){var Ke=Te.data;if(Ke==="/$"){if(De===0){hr=so(Te.nextSibling);break e}De--}else Ke!=="$"&&Ke!=="$!"&&Ke!=="$?"||De++}Te=Te.nextSibling}hr=null}}else hr=mr?so(Te.stateNode.nextSibling):null;return!0}function hs(){for(var Te=hr;Te;)Te=so(Te.nextSibling)}function Wi(){hr=mr=null,Ur=!1}function Hi(Te){Kr===null?Kr=[Te]:Kr.push(Te)}var _s=Xe.ReactCurrentBatchConfig;function Ni(Te,De,Ke){if(Te=Ke.ref,Te!==null&&typeof Te!="function"&&typeof Te!="object"){if(Ke._owner){if(Ke=Ke._owner,Ke){if(Ke.tag!==1)throw Error(t(309));var en=Ke.stateNode}if(!en)throw Error(t(147,Te));var mn=en,En=""+Te;return De!==null&&De.ref!==null&&typeof De.ref=="function"&&De.ref._stringRef===En?De.ref:(De=function(Xn){var pr=mn.refs;Xn===null?delete pr[En]:pr[En]=Xn},De._stringRef=En,De)}if(typeof Te!="string")throw Error(t(284));if(!Ke._owner)throw Error(t(290,Te))}return Te}function Ei(Te,De){throw Te=Object.prototype.toString.call(De),Error(t(31,Te==="[object Object]"?"object with keys {"+Object.keys(De).join(", ")+"}":Te))}function vs(Te){var De=Te._init;return De(Te._payload)}function uo(Te){function De(Dr,Sr){if(Te){var Or=Dr.deletions;Or===null?(Dr.deletions=[Sr],Dr.flags|=16):Or.push(Sr)}}function Ke(Dr,Sr){if(!Te)return null;for(;Sr!==null;)De(Dr,Sr),Sr=Sr.sibling;return null}function en(Dr,Sr){for(Dr=new Map;Sr!==null;)Sr.key!==null?Dr.set(Sr.key,Sr):Dr.set(Sr.index,Sr),Sr=Sr.sibling;return Dr}function mn(Dr,Sr){return Dr=Of(Dr,Sr),Dr.index=0,Dr.sibling=null,Dr}function En(Dr,Sr,Or){return Dr.index=Or,Te?(Or=Dr.alternate,Or!==null?(Or=Or.index,Or<Sr?(Dr.flags|=2,Sr):Or):(Dr.flags|=2,Sr)):(Dr.flags|=1048576,Sr)}function Xn(Dr){return Te&&Dr.alternate===null&&(Dr.flags|=2),Dr}function pr(Dr,Sr,Or,si){return Sr===null||Sr.tag!==6?(Sr=D2(Or,Dr.mode,si),Sr.return=Dr,Sr):(Sr=mn(Sr,Or),Sr.return=Dr,Sr)}function br(Dr,Sr,Or,si){var Pi=Or.type;return Pi===Qe?$r(Dr,Sr,Or.props.children,si,Or.key):Sr!==null&&(Sr.elementType===Pi||typeof Pi=="object"&&Pi!==null&&Pi.$$typeof===bn&&vs(Pi)===Sr.type)?(si=mn(Sr,Or.props),si.ref=Ni(Dr,Sr,Or),si.return=Dr,si):(si=lv(Or.type,Or.key,Or.props,null,Dr.mode,si),si.ref=Ni(Dr,Sr,Or),si.return=Dr,si)}function qr(Dr,Sr,Or,si){return Sr===null||Sr.tag!==4||Sr.stateNode.containerInfo!==Or.containerInfo||Sr.stateNode.implementation!==Or.implementation?(Sr=N2(Or,Dr.mode,si),Sr.return=Dr,Sr):(Sr=mn(Sr,Or.children||[]),Sr.return=Dr,Sr)}function $r(Dr,Sr,Or,si,Pi){return Sr===null||Sr.tag!==7?(Sr=Fp(Or,Dr.mode,si,Pi),Sr.return=Dr,Sr):(Sr=mn(Sr,Or),Sr.return=Dr,Sr)}function ti(Dr,Sr,Or){if(typeof Sr=="string"&&Sr!==""||typeof Sr=="number")return Sr=D2(""+Sr,Dr.mode,Or),Sr.return=Dr,Sr;if(typeof Sr=="object"&&Sr!==null){switch(Sr.$$typeof){case We:return Or=lv(Sr.type,Sr.key,Sr.props,null,Dr.mode,Or),Or.ref=Ni(Dr,null,Sr),Or.return=Dr,Or;case Je:return Sr=N2(Sr,Dr.mode,Or),Sr.return=Dr,Sr;case bn:var si=Sr._init;return ti(Dr,si(Sr._payload),Or)}if(cr(Sr)||Nn(Sr))return Sr=Fp(Sr,Dr.mode,Or,null),Sr.return=Dr,Sr;Ei(Dr,Sr)}return null}function Jr(Dr,Sr,Or,si){var Pi=Sr!==null?Sr.key:null;if(typeof Or=="string"&&Or!==""||typeof Or=="number")return Pi!==null?null:pr(Dr,Sr,""+Or,si);if(typeof Or=="object"&&Or!==null){switch(Or.$$typeof){case We:return Or.key===Pi?br(Dr,Sr,Or,si):null;case Je:return Or.key===Pi?qr(Dr,Sr,Or,si):null;case bn:return Pi=Or._init,Jr(Dr,Sr,Pi(Or._payload),si)}if(cr(Or)||Nn(Or))return Pi!==null?null:$r(Dr,Sr,Or,si,null);Ei(Dr,Or)}return null}function vi(Dr,Sr,Or,si,Pi){if(typeof si=="string"&&si!==""||typeof si=="number")return Dr=Dr.get(Or)||null,pr(Sr,Dr,""+si,Pi);if(typeof si=="object"&&si!==null){switch(si.$$typeof){case We:return Dr=Dr.get(si.key===null?Or:si.key)||null,br(Sr,Dr,si,Pi);case Je:return Dr=Dr.get(si.key===null?Or:si.key)||null,qr(Sr,Dr,si,Pi);case bn:var Li=si._init;return vi(Dr,Sr,Or,Li(si._payload),Pi)}if(cr(si)||Nn(si))return Dr=Dr.get(Or)||null,$r(Sr,Dr,si,Pi,null);Ei(Sr,si)}return null}function xi(Dr,Sr,Or,si){for(var Pi=null,Li=null,Ii=Sr,Ui=Sr=0,Zo=null;Ii!==null&&Ui<Or.length;Ui++){Ii.index>Ui?(Zo=Ii,Ii=null):Zo=Ii.sibling;var Ts=Jr(Dr,Ii,Or[Ui],si);if(Ts===null){Ii===null&&(Ii=Zo);break}Te&&Ii&&Ts.alternate===null&&De(Dr,Ii),Sr=En(Ts,Sr,Ui),Li===null?Pi=Ts:Li.sibling=Ts,Li=Ts,Ii=Zo}if(Ui===Or.length)return Ke(Dr,Ii),Ur&&Rr(Dr,Ui),Pi;if(Ii===null){for(;Ui<Or.length;Ui++)Ii=ti(Dr,Or[Ui],si),Ii!==null&&(Sr=En(Ii,Sr,Ui),Li===null?Pi=Ii:Li.sibling=Ii,Li=Ii);return Ur&&Rr(Dr,Ui),Pi}for(Ii=en(Dr,Ii);Ui<Or.length;Ui++)Zo=vi(Ii,Dr,Ui,Or[Ui],si),Zo!==null&&(Te&&Zo.alternate!==null&&Ii.delete(Zo.key===null?Ui:Zo.key),Sr=En(Zo,Sr,Ui),Li===null?Pi=Zo:Li.sibling=Zo,Li=Zo);return Te&&Ii.forEach(function(Mf){return De(Dr,Mf)}),Ur&&Rr(Dr,Ui),Pi}function Ai(Dr,Sr,Or,si){var Pi=Nn(Or);if(typeof Pi!="function")throw Error(t(150));if(Or=Pi.call(Or),Or==null)throw Error(t(151));for(var Li=Pi=null,Ii=Sr,Ui=Sr=0,Zo=null,Ts=Or.next();Ii!==null&&!Ts.done;Ui++,Ts=Or.next()){Ii.index>Ui?(Zo=Ii,Ii=null):Zo=Ii.sibling;var Mf=Jr(Dr,Ii,Ts.value,si);if(Mf===null){Ii===null&&(Ii=Zo);break}Te&&Ii&&Mf.alternate===null&&De(Dr,Ii),Sr=En(Mf,Sr,Ui),Li===null?Pi=Mf:Li.sibling=Mf,Li=Mf,Ii=Zo}if(Ts.done)return Ke(Dr,Ii),Ur&&Rr(Dr,Ui),Pi;if(Ii===null){for(;!Ts.done;Ui++,Ts=Or.next())Ts=ti(Dr,Ts.value,si),Ts!==null&&(Sr=En(Ts,Sr,Ui),Li===null?Pi=Ts:Li.sibling=Ts,Li=Ts);return Ur&&Rr(Dr,Ui),Pi}for(Ii=en(Dr,Ii);!Ts.done;Ui++,Ts=Or.next())Ts=vi(Ii,Dr,Ui,Ts.value,si),Ts!==null&&(Te&&Ts.alternate!==null&&Ii.delete(Ts.key===null?Ui:Ts.key),Sr=En(Ts,Sr,Ui),Li===null?Pi=Ts:Li.sibling=Ts,Li=Ts);return Te&&Ii.forEach(function(iS){return De(Dr,iS)}),Ur&&Rr(Dr,Ui),Pi}function po(Dr,Sr,Or,si){if(typeof Or=="object"&&Or!==null&&Or.type===Qe&&Or.key===null&&(Or=Or.props.children),typeof Or=="object"&&Or!==null){switch(Or.$$typeof){case We:e:{for(var Pi=Or.key,Li=Sr;Li!==null;){if(Li.key===Pi){if(Pi=Or.type,Pi===Qe){if(Li.tag===7){Ke(Dr,Li.sibling),Sr=mn(Li,Or.props.children),Sr.return=Dr,Dr=Sr;break e}}else if(Li.elementType===Pi||typeof Pi=="object"&&Pi!==null&&Pi.$$typeof===bn&&vs(Pi)===Li.type){Ke(Dr,Li.sibling),Sr=mn(Li,Or.props),Sr.ref=Ni(Dr,Li,Or),Sr.return=Dr,Dr=Sr;break e}Ke(Dr,Li);break}else De(Dr,Li);Li=Li.sibling}Or.type===Qe?(Sr=Fp(Or.props.children,Dr.mode,si,Or.key),Sr.return=Dr,Dr=Sr):(si=lv(Or.type,Or.key,Or.props,null,Dr.mode,si),si.ref=Ni(Dr,Sr,Or),si.return=Dr,Dr=si)}return Xn(Dr);case Je:e:{for(Li=Or.key;Sr!==null;){if(Sr.key===Li)if(Sr.tag===4&&Sr.stateNode.containerInfo===Or.containerInfo&&Sr.stateNode.implementation===Or.implementation){Ke(Dr,Sr.sibling),Sr=mn(Sr,Or.children||[]),Sr.return=Dr,Dr=Sr;break e}else{Ke(Dr,Sr);break}else De(Dr,Sr);Sr=Sr.sibling}Sr=N2(Or,Dr.mode,si),Sr.return=Dr,Dr=Sr}return Xn(Dr);case bn:return Li=Or._init,po(Dr,Sr,Li(Or._payload),si)}if(cr(Or))return xi(Dr,Sr,Or,si);if(Nn(Or))return Ai(Dr,Sr,Or,si);Ei(Dr,Or)}return typeof Or=="string"&&Or!==""||typeof Or=="number"?(Or=""+Or,Sr!==null&&Sr.tag===6?(Ke(Dr,Sr.sibling),Sr=mn(Sr,Or),Sr.return=Dr,Dr=Sr):(Ke(Dr,Sr),Sr=D2(Or,Dr.mode,si),Sr.return=Dr,Dr=Sr),Xn(Dr)):Ke(Dr,Sr)}return po}var Ms=uo(!0),Hs=uo(!1),rs=Il(null),Vs=null,za=null,ma=null;function Ca(){ma=za=Vs=null}function Ga(Te){var De=rs.current;ms(rs),Te._currentValue=De}function Lo(Te,De,Ke){for(;Te!==null;){var en=Te.alternate;if((Te.childLanes&De)!==De?(Te.childLanes|=De,en!==null&&(en.childLanes|=De)):en!==null&&(en.childLanes&De)!==De&&(en.childLanes|=De),Te===Ke)break;Te=Te.return}}function Ha(Te,De){Vs=Te,ma=za=null,Te=Te.dependencies,Te!==null&&Te.firstContext!==null&&(Te.lanes&De&&(Dn=!0),Te.firstContext=null)}function ss(Te){var De=Te._currentValue;if(ma!==Te)if(Te={context:Te,memoizedValue:De,next:null},za===null){if(Vs===null)throw Error(t(308));za=Te,Vs.dependencies={lanes:0,firstContext:Te}}else za=za.next=Te;return De}var Va=null;function Ol(Te){Va===null?Va=[Te]:Va.push(Te)}function Pc(Te,De,Ke,en){var mn=De.interleaved;return mn===null?(Ke.next=Ke,Ol(De)):(Ke.next=mn.next,mn.next=Ke),De.interleaved=Ke,Pa(Te,en)}function Pa(Te,De){Te.lanes|=De;var Ke=Te.alternate;for(Ke!==null&&(Ke.lanes|=De),Ke=Te,Te=Te.return;Te!==null;)Te.childLanes|=De,Ke=Te.alternate,Ke!==null&&(Ke.childLanes|=De),Ke=Te,Te=Te.return;return Ke.tag===3?Ke.stateNode:null}var ds=!1;function hh(Te){Te.updateQueue={baseState:Te.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rd(Te,De){Te=Te.updateQueue,De.updateQueue===Te&&(De.updateQueue={baseState:Te.baseState,firstBaseUpdate:Te.firstBaseUpdate,lastBaseUpdate:Te.lastBaseUpdate,shared:Te.shared,effects:Te.effects})}function ic(Te,De){return{eventTime:Te,lane:De,tag:0,payload:null,callback:null,next:null}}function ml(Te,De,Ke){var en=Te.updateQueue;if(en===null)return null;if(en=en.shared,As&2){var mn=en.pending;return mn===null?De.next=De:(De.next=mn.next,mn.next=De),en.pending=De,Pa(Te,Ke)}return mn=en.interleaved,mn===null?(De.next=De,Ol(en)):(De.next=mn.next,mn.next=De),en.interleaved=De,Pa(Te,Ke)}function Tu(Te,De,Ke){if(De=De.updateQueue,De!==null&&(De=De.shared,(Ke&4194240)!==0)){var en=De.lanes;en&=Te.pendingLanes,Ke|=en,De.lanes=Ke,Ih(Te,Ke)}}function ku(Te,De){var Ke=Te.updateQueue,en=Te.alternate;if(en!==null&&(en=en.updateQueue,Ke===en)){var mn=null,En=null;if(Ke=Ke.firstBaseUpdate,Ke!==null){do{var Xn={eventTime:Ke.eventTime,lane:Ke.lane,tag:Ke.tag,payload:Ke.payload,callback:Ke.callback,next:null};En===null?mn=En=Xn:En=En.next=Xn,Ke=Ke.next}while(Ke!==null);En===null?mn=En=De:En=En.next=De}else mn=En=De;Ke={baseState:en.baseState,firstBaseUpdate:mn,lastBaseUpdate:En,shared:en.shared,effects:en.effects},Te.updateQueue=Ke;return}Te=Ke.lastBaseUpdate,Te===null?Ke.firstBaseUpdate=De:Te.next=De,Ke.lastBaseUpdate=De}function _o(Te,De,Ke,en){var mn=Te.updateQueue;ds=!1;var En=mn.firstBaseUpdate,Xn=mn.lastBaseUpdate,pr=mn.shared.pending;if(pr!==null){mn.shared.pending=null;var br=pr,qr=br.next;br.next=null,Xn===null?En=qr:Xn.next=qr,Xn=br;var $r=Te.alternate;$r!==null&&($r=$r.updateQueue,pr=$r.lastBaseUpdate,pr!==Xn&&(pr===null?$r.firstBaseUpdate=qr:pr.next=qr,$r.lastBaseUpdate=br))}if(En!==null){var ti=mn.baseState;Xn=0,$r=qr=br=null,pr=En;do{var Jr=pr.lane,vi=pr.eventTime;if((en&Jr)===Jr){$r!==null&&($r=$r.next={eventTime:vi,lane:0,tag:pr.tag,payload:pr.payload,callback:pr.callback,next:null});e:{var xi=Te,Ai=pr;switch(Jr=De,vi=Ke,Ai.tag){case 1:if(xi=Ai.payload,typeof xi=="function"){ti=xi.call(vi,ti,Jr);break e}ti=xi;break e;case 3:xi.flags=xi.flags&-65537|128;case 0:if(xi=Ai.payload,Jr=typeof xi=="function"?xi.call(vi,ti,Jr):xi,Jr==null)break e;ti=Un({},ti,Jr);break e;case 2:ds=!0}}pr.callback!==null&&pr.lane!==0&&(Te.flags|=64,Jr=mn.effects,Jr===null?mn.effects=[pr]:Jr.push(pr))}else vi={eventTime:vi,lane:Jr,tag:pr.tag,payload:pr.payload,callback:pr.callback,next:null},$r===null?(qr=$r=vi,br=ti):$r=$r.next=vi,Xn|=Jr;if(pr=pr.next,pr===null){if(pr=mn.shared.pending,pr===null)break;Jr=pr,pr=Jr.next,Jr.next=null,mn.lastBaseUpdate=Jr,mn.shared.pending=null}}while(!0);if($r===null&&(br=ti),mn.baseState=br,mn.firstBaseUpdate=qr,mn.lastBaseUpdate=$r,De=mn.shared.interleaved,De!==null){mn=De;do Xn|=mn.lane,mn=mn.next;while(mn!==De)}else En===null&&(mn.shared.lanes=0);Ap|=Xn,Te.lanes=Xn,Te.memoizedState=ti}}function Ds(Te,De,Ke){if(Te=De.effects,De.effects=null,Te!==null)for(De=0;De<Te.length;De++){var en=Te[De],mn=en.callback;if(mn!==null){if(en.callback=null,en=Ke,typeof mn!="function")throw Error(t(191,mn));mn.call(en)}}}var Oi={},Fs=Il(Oi),Ns=Il(Oi),ua=Il(Oi);function ha(Te){if(Te===Oi)throw Error(t(174));return Te}function Ec(Te,De){switch(xs(ua,De),xs(Ns,Te),xs(Fs,Oi),Te=De.nodeType,Te){case 9:case 11:De=(De=De.documentElement)?De.namespaceURI:jr(null,"");break;default:Te=Te===8?De.parentNode:De,De=Te.namespaceURI||null,Te=Te.tagName,De=jr(De,Te)}ms(Fs),xs(Fs,De)}function Ls(){ms(Fs),ms(Ns),ms(ua)}function Fc(Te){ha(ua.current);var De=ha(Fs.current),Ke=jr(De,Te.type);De!==Ke&&(xs(Ns,Te),xs(Fs,Ke))}function Zc(Te){Ns.current===Te&&(ms(Fs),ms(Ns))}var Bs=Il(0);function Ru(Te){for(var De=Te;De!==null;){if(De.tag===13){var Ke=De.memoizedState;if(Ke!==null&&(Ke=Ke.dehydrated,Ke===null||Ke.data==="$?"||Ke.data==="$!"))return De}else if(De.tag===19&&De.memoizedProps.revealOrder!==void 0){if(De.flags&128)return De}else if(De.child!==null){De.child.return=De,De=De.child;continue}if(De===Te)break;for(;De.sibling===null;){if(De.return===null||De.return===Te)return null;De=De.return}De.sibling.return=De.return,De=De.sibling}return null}var Vo=[];function Ao(){for(var Te=0;Te<Vo.length;Te++)Vo[Te]._workInProgressVersionPrimary=null;Vo.length=0}var Zh=Xe.ReactCurrentDispatcher,Dd=Xe.ReactCurrentBatchConfig,Co=0,fs=null,ia=null,va=null,Wo=!1,Tc=!1,Po=0,Nd=0;function Ea(){throw Error(t(321))}function Du(Te,De){if(De===null)return!1;for(var Ke=0;Ke<De.length&&Ke<Te.length;Ke++)if(!ts(Te[Ke],De[Ke]))return!1;return!0}function dh(Te,De,Ke,en,mn,En){if(Co=En,fs=De,De.memoizedState=null,De.updateQueue=null,De.lanes=0,Zh.current=Te===null||Te.memoizedState===null?f2:Jh,Te=Ke(en,mn),Tc){En=0;do{if(Tc=!1,Po=0,25<=En)throw Error(t(301));En+=1,va=ia=null,De.updateQueue=null,Zh.current=j0,Te=Ke(en,mn)}while(Tc)}if(Zh.current=Ef,De=ia!==null&&ia.next!==null,Co=0,va=ia=fs=null,Wo=!1,De)throw Error(t(300));return Te}function Nu(){var Te=Po!==0;return Po=0,Te}function as(){var Te={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return va===null?fs.memoizedState=va=Te:va=va.next=Te,va}function Fa(){if(ia===null){var Te=fs.alternate;Te=Te!==null?Te.memoizedState:null}else Te=ia.next;var De=va===null?fs.memoizedState:va.next;if(De!==null)va=De,ia=Te;else{if(Te===null)throw Error(t(310));ia=Te,Te={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},va===null?fs.memoizedState=va=Te:va=va.next=Te}return va}function ho(Te,De){return typeof De=="function"?De(Te):De}function Eo(Te){var De=Fa(),Ke=De.queue;if(Ke===null)throw Error(t(311));Ke.lastRenderedReducer=Te;var en=ia,mn=en.baseQueue,En=Ke.pending;if(En!==null){if(mn!==null){var Xn=mn.next;mn.next=En.next,En.next=Xn}en.baseQueue=mn=En,Ke.pending=null}if(mn!==null){En=mn.next,en=en.baseState;var pr=Xn=null,br=null,qr=En;do{var $r=qr.lane;if((Co&$r)===$r)br!==null&&(br=br.next={lane:0,action:qr.action,hasEagerState:qr.hasEagerState,eagerState:qr.eagerState,next:null}),en=qr.hasEagerState?qr.eagerState:Te(en,qr.action);else{var ti={lane:$r,action:qr.action,hasEagerState:qr.hasEagerState,eagerState:qr.eagerState,next:null};br===null?(pr=br=ti,Xn=en):br=br.next=ti,fs.lanes|=$r,Ap|=$r}qr=qr.next}while(qr!==null&&qr!==En);br===null?Xn=en:br.next=pr,ts(en,De.memoizedState)||(Dn=!0),De.memoizedState=en,De.baseState=Xn,De.baseQueue=br,Ke.lastRenderedState=en}if(Te=Ke.interleaved,Te!==null){mn=Te;do En=mn.lane,fs.lanes|=En,Ap|=En,mn=mn.next;while(mn!==Te)}else mn===null&&(Ke.lanes=0);return[De.memoizedState,Ke.dispatch]}function Ld(Te){var De=Fa(),Ke=De.queue;if(Ke===null)throw Error(t(311));Ke.lastRenderedReducer=Te;var en=Ke.dispatch,mn=Ke.pending,En=De.memoizedState;if(mn!==null){Ke.pending=null;var Xn=mn=mn.next;do En=Te(En,Xn.action),Xn=Xn.next;while(Xn!==mn);ts(En,De.memoizedState)||(Dn=!0),De.memoizedState=En,De.baseQueue===null&&(De.baseState=En),Ke.lastRenderedState=En}return[En,en]}function Jc(){}function _f(Te,De){var Ke=fs,en=Fa(),mn=De(),En=!ts(en.memoizedState,mn);if(En&&(en.memoizedState=mn,Dn=!0),en=en.queue,Od(Af.bind(null,Ke,en,Te),[Te]),en.getSnapshot!==De||En||va!==null&&va.memoizedState.tag&1){if(Ke.flags|=2048,$c(9,Qc.bind(null,Ke,en,mn,De),void 0,null),Yo===null)throw Error(t(349));Co&30||Sp(Ke,De,mn)}return mn}function Sp(Te,De,Ke){Te.flags|=16384,Te={getSnapshot:De,value:Ke},De=fs.updateQueue,De===null?(De={lastEffect:null,stores:null},fs.updateQueue=De,De.stores=[Te]):(Ke=De.stores,Ke===null?De.stores=[Te]:Ke.push(Te))}function Qc(Te,De,Ke,en){De.value=Ke,De.getSnapshot=en,xp(De)&&Lu(Te)}function Af(Te,De,Ke){return Ke(function(){xp(De)&&Lu(Te)})}function xp(Te){var De=Te.getSnapshot;Te=Te.value;try{var Ke=De();return!ts(Te,Ke)}catch{return!0}}function Lu(Te){var De=Pa(Te,1);De!==null&&mh(De,Te,1,-1)}function kc(Te){var De=as();return typeof Te=="function"&&(Te=Te()),De.memoizedState=De.baseState=Te,Te={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:Te},De.queue=Te,Te=Te.dispatch=Xm.bind(null,fs,Te),[De.memoizedState,Te]}function $c(Te,De,Ke,en){return Te={tag:Te,create:De,destroy:Ke,deps:en,next:null},De=fs.updateQueue,De===null?(De={lastEffect:null,stores:null},fs.updateQueue=De,De.lastEffect=Te.next=Te):(Ke=De.lastEffect,Ke===null?De.lastEffect=Te.next=Te:(en=Ke.next,Ke.next=Te,Te.next=en,De.lastEffect=Te)),Te}function sc(){return Fa().memoizedState}function vl(Te,De,Ke,en){var mn=as();fs.flags|=Te,mn.memoizedState=$c(1|De,Ke,void 0,en===void 0?null:en)}function Ko(Te,De,Ke,en){var mn=Fa();en=en===void 0?null:en;var En=void 0;if(ia!==null){var Xn=ia.memoizedState;if(En=Xn.destroy,en!==null&&Du(en,Xn.deps)){mn.memoizedState=$c(De,Ke,En,en);return}}fs.flags|=Te,mn.memoizedState=$c(1|De,Ke,En,en)}function Id(Te,De){return vl(8390656,8,Te,De)}function Od(Te,De){return Ko(2048,8,Te,De)}function Cf(Te,De){return Ko(4,2,Te,De)}function _p(Te,De){return Ko(4,4,Te,De)}function Rc(Te,De){if(typeof De=="function")return Te=Te(),De(Te),function(){De(null)};if(De!=null)return Te=Te(),De.current=Te,function(){De.current=null}}function Pf(Te,De,Ke){return Ke=Ke!=null?Ke.concat([Te]):null,Ko(4,4,Rc.bind(null,De,Te),Ke)}function fh(){}function i1(Te,De){var Ke=Fa();De=De===void 0?null:De;var en=Ke.memoizedState;return en!==null&&De!==null&&Du(De,en[1])?en[0]:(Ke.memoizedState=[Te,De],Te)}function sa(Te,De){var Ke=Fa();De=De===void 0?null:De;var en=Ke.memoizedState;return en!==null&&De!==null&&Du(De,en[1])?en[0]:(Te=Te(),Ke.memoizedState=[Te,De],Te)}function Vm(Te,De,Ke){return Co&21?(ts(Ke,De)||(Ke=Lh(),fs.lanes|=Ke,Ap|=Ke,Te.baseState=!0),De):(Te.baseState&&(Te.baseState=!1,Dn=!0),Te.memoizedState=Ke)}function Wm(Te,De){var Ke=es;es=Ke!==0&&4>Ke?Ke:4,Te(!0);var en=Dd.transition;Dd.transition={};try{Te(!1),De()}finally{es=Ke,Dd.transition=en}}function Km(){return Fa().memoizedState}function d2(Te,De,Ke){var en=Lf(Te);if(Ke={lane:en,action:Ke,hasEagerState:!1,eagerState:null,next:null},s1(Te))Ym(De,Ke);else if(Ke=Pc(Te,De,Ke,en),Ke!==null){var mn=oc();mh(Ke,Te,en,mn),ac(Ke,De,en)}}function Xm(Te,De,Ke){var en=Lf(Te),mn={lane:en,action:Ke,hasEagerState:!1,eagerState:null,next:null};if(s1(Te))Ym(De,mn);else{var En=Te.alternate;if(Te.lanes===0&&(En===null||En.lanes===0)&&(En=De.lastRenderedReducer,En!==null))try{var Xn=De.lastRenderedState,pr=En(Xn,Ke);if(mn.hasEagerState=!0,mn.eagerState=pr,ts(pr,Xn)){var br=De.interleaved;br===null?(mn.next=mn,Ol(De)):(mn.next=br.next,br.next=mn),De.interleaved=mn;return}}catch{}finally{}Ke=Pc(Te,De,mn,en),Ke!==null&&(mn=oc(),mh(Ke,Te,en,mn),ac(Ke,De,en))}}function s1(Te){var De=Te.alternate;return Te===fs||De!==null&&De===fs}function Ym(Te,De){Tc=Wo=!0;var Ke=Te.pending;Ke===null?De.next=De:(De.next=Ke.next,Ke.next=De),Te.pending=De}function ac(Te,De,Ke){if(Ke&4194240){var en=De.lanes;en&=Te.pendingLanes,Ke|=en,De.lanes=Ke,Ih(Te,Ke)}}var Ef={readContext:ss,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},f2={readContext:ss,useCallback:function(Te,De){return as().memoizedState=[Te,De===void 0?null:De],Te},useContext:ss,useEffect:Id,useImperativeHandle:function(Te,De,Ke){return Ke=Ke!=null?Ke.concat([Te]):null,vl(4194308,4,Rc.bind(null,De,Te),Ke)},useLayoutEffect:function(Te,De){return vl(4194308,4,Te,De)},useInsertionEffect:function(Te,De){return vl(4,2,Te,De)},useMemo:function(Te,De){var Ke=as();return De=De===void 0?null:De,Te=Te(),Ke.memoizedState=[Te,De],Te},useReducer:function(Te,De,Ke){var en=as();return De=Ke!==void 0?Ke(De):De,en.memoizedState=en.baseState=De,Te={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Te,lastRenderedState:De},en.queue=Te,Te=Te.dispatch=d2.bind(null,fs,Te),[en.memoizedState,Te]},useRef:function(Te){var De=as();return Te={current:Te},De.memoizedState=Te},useState:kc,useDebugValue:fh,useDeferredValue:function(Te){return as().memoizedState=Te},useTransition:function(){var Te=kc(!1),De=Te[0];return Te=Wm.bind(null,Te[1]),as().memoizedState=Te,[De,Te]},useMutableSource:function(){},useSyncExternalStore:function(Te,De,Ke){var en=fs,mn=as();if(Ur){if(Ke===void 0)throw Error(t(407));Ke=Ke()}else{if(Ke=De(),Yo===null)throw Error(t(349));Co&30||Sp(en,De,Ke)}mn.memoizedState=Ke;var En={value:Ke,getSnapshot:De};return mn.queue=En,Id(Af.bind(null,en,En,Te),[Te]),en.flags|=2048,$c(9,Qc.bind(null,en,En,Ke,De),void 0,null),Ke},useId:function(){var Te=as(),De=Yo.identifierPrefix;if(Ur){var Ke=_r,en=gr;Ke=(en&~(1<<32-Xi(en)-1)).toString(32)+Ke,De=":"+De+"R"+Ke,Ke=Po++,0<Ke&&(De+="H"+Ke.toString(32)),De+=":"}else Ke=Nd++,De=":"+De+"r"+Ke.toString(32)+":";return Te.memoizedState=De},unstable_isNewReconciler:!1},Jh={readContext:ss,useCallback:i1,useContext:ss,useEffect:Od,useImperativeHandle:Pf,useInsertionEffect:Cf,useLayoutEffect:_p,useMemo:sa,useReducer:Eo,useRef:sc,useState:function(){return Eo(ho)},useDebugValue:fh,useDeferredValue:function(Te){var De=Fa();return Vm(De,ia.memoizedState,Te)},useTransition:function(){var Te=Eo(ho)[0],De=Fa().memoizedState;return[Te,De]},useMutableSource:Jc,useSyncExternalStore:_f,useId:Km,unstable_isNewReconciler:!1},j0={readContext:ss,useCallback:i1,useContext:ss,useEffect:Od,useImperativeHandle:Pf,useInsertionEffect:Cf,useLayoutEffect:_p,useMemo:sa,useReducer:Ld,useRef:sc,useState:function(){return Ld(ho)},useDebugValue:fh,useDeferredValue:function(Te){var De=Fa();return ia===null?De.memoizedState=Te:Vm(De,ia.memoizedState,Te)},useTransition:function(){var Te=Ld(ho)[0],De=Fa().memoizedState;return[Te,De]},useMutableSource:Jc,useSyncExternalStore:_f,useId:Km,unstable_isNewReconciler:!1};function Io(Te,De){if(Te&&Te.defaultProps){De=Un({},De),Te=Te.defaultProps;for(var Ke in Te)De[Ke]===void 0&&(De[Ke]=Te[Ke]);return De}return De}function Ff(Te,De,Ke,en){De=Te.memoizedState,Ke=Ke(en,De),Ke=Ke==null?De:Un({},De,Ke),Te.memoizedState=Ke,Te.lanes===0&&(Te.updateQueue.baseState=Ke)}var Tf={isMounted:function(Te){return(Te=Te._reactInternals)?ks(Te)===Te:!1},enqueueSetState:function(Te,De,Ke){Te=Te._reactInternals;var en=oc(),mn=Lf(Te),En=ic(en,mn);En.payload=De,Ke!=null&&(En.callback=Ke),De=ml(Te,En,mn),De!==null&&(mh(De,Te,mn,en),Tu(De,Te,mn))},enqueueReplaceState:function(Te,De,Ke){Te=Te._reactInternals;var en=oc(),mn=Lf(Te),En=ic(en,mn);En.tag=1,En.payload=De,Ke!=null&&(En.callback=Ke),De=ml(Te,En,mn),De!==null&&(mh(De,Te,mn,en),Tu(De,Te,mn))},enqueueForceUpdate:function(Te,De){Te=Te._reactInternals;var Ke=oc(),en=Lf(Te),mn=ic(Ke,en);mn.tag=2,De!=null&&(mn.callback=De),De=ml(Te,mn,en),De!==null&&(mh(De,Te,en,Ke),Tu(De,Te,en))}};function q0(Te,De,Ke,en,mn,En,Xn){return Te=Te.stateNode,typeof Te.shouldComponentUpdate=="function"?Te.shouldComponentUpdate(en,En,Xn):De.prototype&&De.prototype.isPureReactComponent?!Xl(Ke,en)||!Xl(mn,En):!0}function Zm(Te,De,Ke){var en=!1,mn=rc,En=De.contextType;return typeof En=="object"&&En!==null?En=ss(En):(mn=xo(De)?Eu:lo.current,en=De.contextTypes,En=(en=en!=null)?uh(Te,mn):rc),De=new De(Ke,En),Te.memoizedState=De.state!==null&&De.state!==void 0?De.state:null,De.updater=Tf,Te.stateNode=De,De._reactInternals=Te,en&&(Te=Te.stateNode,Te.__reactInternalMemoizedUnmaskedChildContext=mn,Te.__reactInternalMemoizedMaskedChildContext=En),De}function a1(Te,De,Ke,en){Te=De.state,typeof De.componentWillReceiveProps=="function"&&De.componentWillReceiveProps(Ke,en),typeof De.UNSAFE_componentWillReceiveProps=="function"&&De.UNSAFE_componentWillReceiveProps(Ke,en),De.state!==Te&&Tf.enqueueReplaceState(De,De.state,null)}function z0(Te,De,Ke,en){var mn=Te.stateNode;mn.props=Ke,mn.state=Te.memoizedState,mn.refs={},hh(Te);var En=De.contextType;typeof En=="object"&&En!==null?mn.context=ss(En):(En=xo(De)?Eu:lo.current,mn.context=uh(Te,En)),mn.state=Te.memoizedState,En=De.getDerivedStateFromProps,typeof En=="function"&&(Ff(Te,De,En,Ke),mn.state=Te.memoizedState),typeof De.getDerivedStateFromProps=="function"||typeof mn.getSnapshotBeforeUpdate=="function"||typeof mn.UNSAFE_componentWillMount!="function"&&typeof mn.componentWillMount!="function"||(De=mn.state,typeof mn.componentWillMount=="function"&&mn.componentWillMount(),typeof mn.UNSAFE_componentWillMount=="function"&&mn.UNSAFE_componentWillMount(),De!==mn.state&&Tf.enqueueReplaceState(mn,mn.state,null),_o(Te,Ke,mn,en),mn.state=Te.memoizedState),typeof mn.componentDidMount=="function"&&(Te.flags|=4194308)}function Md(Te,De){try{var Ke="",en=De;do Ke+=Pn(en),en=en.return;while(en);var mn=Ke}catch(En){mn=`
Error generating stack: `+En.message+`
`+En.stack}return{value:Te,source:De,stack:mn,digest:null}}function G0(Te,De,Ke){return{value:Te,source:null,stack:Ke??null,digest:De??null}}function kf(Te,De){try{console.error(De.value)}catch(Ke){setTimeout(function(){throw Ke})}}var p2=typeof WeakMap=="function"?WeakMap:Map;function Jm(Te,De,Ke){Ke=ic(-1,Ke),Ke.tag=3,Ke.payload={element:null};var en=De.value;return Ke.callback=function(){nv||(nv=!0,A2=en),kf(Te,De)},Ke}function Me(Te,De,Ke){Ke=ic(-1,Ke),Ke.tag=3;var en=Te.type.getDerivedStateFromError;if(typeof en=="function"){var mn=De.value;Ke.payload=function(){return en(mn)},Ke.callback=function(){kf(Te,De)}}var En=Te.stateNode;return En!==null&&typeof En.componentDidCatch=="function"&&(Ke.callback=function(){kf(Te,De),typeof en!="function"&&(Df===null?Df=new Set([this]):Df.add(this));var Xn=De.stack;this.componentDidCatch(De.value,{componentStack:Xn!==null?Xn:""})}),Ke}function Ue(Te,De,Ke){var en=Te.pingCache;if(en===null){en=Te.pingCache=new p2;var mn=new Set;en.set(De,mn)}else mn=en.get(De),mn===void 0&&(mn=new Set,en.set(De,mn));mn.has(Ke)||(mn.add(Ke),Te=Xw.bind(null,Te,De,Ke),De.then(Te,Te))}function $e(Te){do{var De;if((De=Te.tag===13)&&(De=Te.memoizedState,De=De!==null?De.dehydrated!==null:!0),De)return Te;Te=Te.return}while(Te!==null);return null}function hn(Te,De,Ke,en,mn){return Te.mode&1?(Te.flags|=65536,Te.lanes=mn,Te):(Te===De?Te.flags|=65536:(Te.flags|=128,Ke.flags|=131072,Ke.flags&=-52805,Ke.tag===1&&(Ke.alternate===null?Ke.tag=17:(De=ic(-1,1),De.tag=2,ml(Ke,De,1))),Ke.lanes|=1),Te)}var Sn=Xe.ReactCurrentOwner,Dn=!1;function or(Te,De,Ke,en){De.child=Te===null?Hs(De,null,Ke,en):Ms(De,Te.child,Ke,en)}function Cr(Te,De,Ke,en,mn){Ke=Ke.render;var En=De.ref;return Ha(De,mn),en=dh(Te,De,Ke,en,En,mn),Ke=Nu(),Te!==null&&!Dn?(De.updateQueue=Te.updateQueue,De.flags&=-2053,Te.lanes&=~mn,Xo(Te,De,mn)):(Ur&&Ke&&Wr(De),De.flags|=1,or(Te,De,en,mn),De.child)}function zr(Te,De,Ke,en,mn){if(Te===null){var En=Ke.type;return typeof En=="function"&&!R2(En)&&En.defaultProps===void 0&&Ke.compare===null&&Ke.defaultProps===void 0?(De.tag=15,De.type=En,ni(Te,De,En,en,mn)):(Te=lv(Ke.type,null,en,De,De.mode,mn),Te.ref=De.ref,Te.return=De,De.child=Te)}if(En=Te.child,!(Te.lanes&mn)){var Xn=En.memoizedProps;if(Ke=Ke.compare,Ke=Ke!==null?Ke:Xl,Ke(Xn,en)&&Te.ref===De.ref)return Xo(Te,De,mn)}return De.flags|=1,Te=Of(En,en),Te.ref=De.ref,Te.return=De,De.child=Te}function ni(Te,De,Ke,en,mn){if(Te!==null){var En=Te.memoizedProps;if(Xl(En,en)&&Te.ref===De.ref)if(Dn=!1,De.pendingProps=en=En,(Te.lanes&mn)!==0)Te.flags&131072&&(Dn=!0);else return De.lanes=Te.lanes,Xo(Te,De,mn)}return pi(Te,De,Ke,en,mn)}function wi(Te,De,Ke){var en=De.pendingProps,mn=en.children,En=Te!==null?Te.memoizedState:null;if(en.mode==="hidden")if(!(De.mode&1))De.memoizedState={baseLanes:0,cachePool:null,transitions:null},xs(V0,eu),eu|=Ke;else{if(!(Ke&1073741824))return Te=En!==null?En.baseLanes|Ke:Ke,De.lanes=De.childLanes=1073741824,De.memoizedState={baseLanes:Te,cachePool:null,transitions:null},De.updateQueue=null,xs(V0,eu),eu|=Te,null;De.memoizedState={baseLanes:0,cachePool:null,transitions:null},en=En!==null?En.baseLanes:Ke,xs(V0,eu),eu|=en}else En!==null?(en=En.baseLanes|Ke,De.memoizedState=null):en=Ke,xs(V0,eu),eu|=en;return or(Te,De,mn,Ke),De.child}function qi(Te,De){var Ke=De.ref;(Te===null&&Ke!==null||Te!==null&&Te.ref!==Ke)&&(De.flags|=512,De.flags|=2097152)}function pi(Te,De,Ke,en,mn){var En=xo(Ke)?Eu:lo.current;return En=uh(De,En),Ha(De,mn),Ke=dh(Te,De,Ke,en,En,mn),en=Nu(),Te!==null&&!Dn?(De.updateQueue=Te.updateQueue,De.flags&=-2053,Te.lanes&=~mn,Xo(Te,De,mn)):(Ur&&en&&Wr(De),De.flags|=1,or(Te,De,Ke,mn),De.child)}function Js(Te,De,Ke,en,mn){if(xo(Ke)){var En=!0;Fu(De)}else En=!1;if(Ha(De,mn),De.stateNode===null)is(Te,De),Zm(De,Ke,en),z0(De,Ke,en,mn),en=!0;else if(Te===null){var Xn=De.stateNode,pr=De.memoizedProps;Xn.props=pr;var br=Xn.context,qr=Ke.contextType;typeof qr=="object"&&qr!==null?qr=ss(qr):(qr=xo(Ke)?Eu:lo.current,qr=uh(De,qr));var $r=Ke.getDerivedStateFromProps,ti=typeof $r=="function"||typeof Xn.getSnapshotBeforeUpdate=="function";ti||typeof Xn.UNSAFE_componentWillReceiveProps!="function"&&typeof Xn.componentWillReceiveProps!="function"||(pr!==en||br!==qr)&&a1(De,Xn,en,qr),ds=!1;var Jr=De.memoizedState;Xn.state=Jr,_o(De,en,Xn,mn),br=De.memoizedState,pr!==en||Jr!==br||co.current||ds?(typeof $r=="function"&&(Ff(De,Ke,$r,en),br=De.memoizedState),(pr=ds||q0(De,Ke,pr,en,Jr,br,qr))?(ti||typeof Xn.UNSAFE_componentWillMount!="function"&&typeof Xn.componentWillMount!="function"||(typeof Xn.componentWillMount=="function"&&Xn.componentWillMount(),typeof Xn.UNSAFE_componentWillMount=="function"&&Xn.UNSAFE_componentWillMount()),typeof Xn.componentDidMount=="function"&&(De.flags|=4194308)):(typeof Xn.componentDidMount=="function"&&(De.flags|=4194308),De.memoizedProps=en,De.memoizedState=br),Xn.props=en,Xn.state=br,Xn.context=qr,en=pr):(typeof Xn.componentDidMount=="function"&&(De.flags|=4194308),en=!1)}else{Xn=De.stateNode,Rd(Te,De),pr=De.memoizedProps,qr=De.type===De.elementType?pr:Io(De.type,pr),Xn.props=qr,ti=De.pendingProps,Jr=Xn.context,br=Ke.contextType,typeof br=="object"&&br!==null?br=ss(br):(br=xo(Ke)?Eu:lo.current,br=uh(De,br));var vi=Ke.getDerivedStateFromProps;($r=typeof vi=="function"||typeof Xn.getSnapshotBeforeUpdate=="function")||typeof Xn.UNSAFE_componentWillReceiveProps!="function"&&typeof Xn.componentWillReceiveProps!="function"||(pr!==ti||Jr!==br)&&a1(De,Xn,en,br),ds=!1,Jr=De.memoizedState,Xn.state=Jr,_o(De,en,Xn,mn);var xi=De.memoizedState;pr!==ti||Jr!==xi||co.current||ds?(typeof vi=="function"&&(Ff(De,Ke,vi,en),xi=De.memoizedState),(qr=ds||q0(De,Ke,qr,en,Jr,xi,br)||!1)?($r||typeof Xn.UNSAFE_componentWillUpdate!="function"&&typeof Xn.componentWillUpdate!="function"||(typeof Xn.componentWillUpdate=="function"&&Xn.componentWillUpdate(en,xi,br),typeof Xn.UNSAFE_componentWillUpdate=="function"&&Xn.UNSAFE_componentWillUpdate(en,xi,br)),typeof Xn.componentDidUpdate=="function"&&(De.flags|=4),typeof Xn.getSnapshotBeforeUpdate=="function"&&(De.flags|=1024)):(typeof Xn.componentDidUpdate!="function"||pr===Te.memoizedProps&&Jr===Te.memoizedState||(De.flags|=4),typeof Xn.getSnapshotBeforeUpdate!="function"||pr===Te.memoizedProps&&Jr===Te.memoizedState||(De.flags|=1024),De.memoizedProps=en,De.memoizedState=xi),Xn.props=en,Xn.state=xi,Xn.context=br,en=qr):(typeof Xn.componentDidUpdate!="function"||pr===Te.memoizedProps&&Jr===Te.memoizedState||(De.flags|=4),typeof Xn.getSnapshotBeforeUpdate!="function"||pr===Te.memoizedProps&&Jr===Te.memoizedState||(De.flags|=1024),en=!1)}return Is(Te,De,Ke,en,En,mn)}function Is(Te,De,Ke,en,mn,En){qi(Te,De);var Xn=(De.flags&128)!==0;if(!en&&!Xn)return mn&&Td(De,Ke,!1),Xo(Te,De,En);en=De.stateNode,Sn.current=De;var pr=Xn&&typeof Ke.getDerivedStateFromError!="function"?null:en.render();return De.flags|=1,Te!==null&&Xn?(De.child=Ms(De,Te.child,null,En),De.child=Ms(De,null,pr,En)):or(Te,De,pr,En),De.memoizedState=en.state,mn&&Td(De,Ke,!0),De.child}function yl(Te){var De=Te.stateNode;De.pendingContext?wp(Te,De.pendingContext,De.pendingContext!==De.context):De.context&&wp(Te,De.context,!1),Ec(Te,De.containerInfo)}function Iu(Te,De,Ke,en,mn){return Wi(),Hi(mn),De.flags|=256,or(Te,De,Ke,en),De.child}var Mr={dehydrated:null,treeContext:null,retryLane:0};function Fr(Te){return{baseLanes:Te,cachePool:null,transitions:null}}function Hr(Te,De,Ke){var en=De.pendingProps,mn=Bs.current,En=!1,Xn=(De.flags&128)!==0,pr;if((pr=Xn)||(pr=Te!==null&&Te.memoizedState===null?!1:(mn&2)!==0),pr?(En=!0,De.flags&=-129):(Te===null||Te.memoizedState!==null)&&(mn|=1),xs(Bs,mn&1),Te===null)return Ci(De),Te=De.memoizedState,Te!==null&&(Te=Te.dehydrated,Te!==null)?(De.mode&1?Te.data==="$!"?De.lanes=8:De.lanes=1073741824:De.lanes=1,null):(Xn=en.children,Te=en.fallback,En?(en=De.mode,En=De.child,Xn={mode:"hidden",children:Xn},!(en&1)&&En!==null?(En.childLanes=0,En.pendingProps=Xn):En=cv(Xn,en,0,null),Te=Fp(Te,en,Ke,null),En.return=De,Te.return=De,En.sibling=Te,De.child=En,De.child.memoizedState=Fr(Ke),De.memoizedState=Mr,Te):mi(De,Xn));if(mn=Te.memoizedState,mn!==null&&(pr=mn.dehydrated,pr!==null))return Yi(Te,De,Xn,en,pr,mn,Ke);if(En){En=en.fallback,Xn=De.mode,mn=Te.child,pr=mn.sibling;var br={mode:"hidden",children:en.children};return!(Xn&1)&&De.child!==mn?(en=De.child,en.childLanes=0,en.pendingProps=br,De.deletions=null):(en=Of(mn,br),en.subtreeFlags=mn.subtreeFlags&14680064),pr!==null?En=Of(pr,En):(En=Fp(En,Xn,Ke,null),En.flags|=2),En.return=De,en.return=De,en.sibling=En,De.child=en,en=En,En=De.child,Xn=Te.child.memoizedState,Xn=Xn===null?Fr(Ke):{baseLanes:Xn.baseLanes|Ke,cachePool:null,transitions:Xn.transitions},En.memoizedState=Xn,En.childLanes=Te.childLanes&~Ke,De.memoizedState=Mr,en}return En=Te.child,Te=En.sibling,en=Of(En,{mode:"visible",children:en.children}),!(De.mode&1)&&(en.lanes=Ke),en.return=De,en.sibling=null,Te!==null&&(Ke=De.deletions,Ke===null?(De.deletions=[Te],De.flags|=16):Ke.push(Te)),De.child=en,De.memoizedState=null,en}function mi(Te,De){return De=cv({mode:"visible",children:De},Te.mode,0,null),De.return=Te,Te.child=De}function Ti(Te,De,Ke,en){return en!==null&&Hi(en),Ms(De,Te.child,null,Ke),Te=mi(De,De.pendingProps.children),Te.flags|=2,De.memoizedState=null,Te}function Yi(Te,De,Ke,en,mn,En,Xn){if(Ke)return De.flags&256?(De.flags&=-257,en=G0(Error(t(422))),Ti(Te,De,Xn,en)):De.memoizedState!==null?(De.child=Te.child,De.flags|=128,null):(En=en.fallback,mn=De.mode,en=cv({mode:"visible",children:en.children},mn,0,null),En=Fp(En,mn,Xn,null),En.flags|=2,en.return=De,En.return=De,en.sibling=En,De.child=en,De.mode&1&&Ms(De,Te.child,null,Xn),De.child.memoizedState=Fr(Xn),De.memoizedState=Mr,En);if(!(De.mode&1))return Ti(Te,De,Xn,null);if(mn.data==="$!"){if(en=mn.nextSibling&&mn.nextSibling.dataset,en)var pr=en.dgst;return en=pr,En=Error(t(419)),en=G0(En,en,void 0),Ti(Te,De,Xn,en)}if(pr=(Xn&Te.childLanes)!==0,Dn||pr){if(en=Yo,en!==null){switch(Xn&-Xn){case 4:mn=2;break;case 16:mn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:mn=32;break;case 536870912:mn=268435456;break;default:mn=0}mn=mn&(en.suspendedLanes|Xn)?0:mn,mn!==0&&mn!==En.retryLane&&(En.retryLane=mn,Pa(Te,mn),mh(en,Te,mn,-1))}return k2(),en=G0(Error(t(421))),Ti(Te,De,Xn,en)}return mn.data==="$?"?(De.flags|=128,De.child=Te.child,De=Yw.bind(null,Te),mn._reactRetry=De,null):(Te=En.treeContext,hr=so(mn.nextSibling),mr=De,Ur=!0,Kr=null,Te!==null&&($n[nr++]=gr,$n[nr++]=_r,$n[nr++]=lr,gr=Te.id,_r=Te.overflow,lr=De),De=mi(De,en.children),De.flags|=4096,De)}function zi(Te,De,Ke){Te.lanes|=De;var en=Te.alternate;en!==null&&(en.lanes|=De),Lo(Te.return,De,Ke)}function os(Te,De,Ke,en,mn){var En=Te.memoizedState;En===null?Te.memoizedState={isBackwards:De,rendering:null,renderingStartTime:0,last:en,tail:Ke,tailMode:mn}:(En.isBackwards=De,En.rendering=null,En.renderingStartTime=0,En.last=en,En.tail=Ke,En.tailMode=mn)}function fo(Te,De,Ke){var en=De.pendingProps,mn=en.revealOrder,En=en.tail;if(or(Te,De,en.children,Ke),en=Bs.current,en&2)en=en&1|2,De.flags|=128;else{if(Te!==null&&Te.flags&128)e:for(Te=De.child;Te!==null;){if(Te.tag===13)Te.memoizedState!==null&&zi(Te,Ke,De);else if(Te.tag===19)zi(Te,Ke,De);else if(Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===De)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===De)break e;Te=Te.return}Te.sibling.return=Te.return,Te=Te.sibling}en&=1}if(xs(Bs,en),!(De.mode&1))De.memoizedState=null;else switch(mn){case"forwards":for(Ke=De.child,mn=null;Ke!==null;)Te=Ke.alternate,Te!==null&&Ru(Te)===null&&(mn=Ke),Ke=Ke.sibling;Ke=mn,Ke===null?(mn=De.child,De.child=null):(mn=Ke.sibling,Ke.sibling=null),os(De,!1,mn,Ke,En);break;case"backwards":for(Ke=null,mn=De.child,De.child=null;mn!==null;){if(Te=mn.alternate,Te!==null&&Ru(Te)===null){De.child=mn;break}Te=mn.sibling,mn.sibling=Ke,Ke=mn,mn=Te}os(De,!0,Ke,null,En);break;case"together":os(De,!1,null,null,void 0);break;default:De.memoizedState=null}return De.child}function is(Te,De){!(De.mode&1)&&Te!==null&&(Te.alternate=null,De.alternate=null,De.flags|=2)}function Xo(Te,De,Ke){if(Te!==null&&(De.dependencies=Te.dependencies),Ap|=De.lanes,!(Ke&De.childLanes))return null;if(Te!==null&&De.child!==Te.child)throw Error(t(153));if(De.child!==null){for(Te=De.child,Ke=Of(Te,Te.pendingProps),De.child=Ke,Ke.return=De;Te.sibling!==null;)Te=Te.sibling,Ke=Ke.sibling=Of(Te,Te.pendingProps),Ke.return=De;Ke.sibling=null}return De.child}function g2(Te,De,Ke){switch(De.tag){case 3:yl(De),Wi();break;case 5:Fc(De);break;case 1:xo(De.type)&&Fu(De);break;case 4:Ec(De,De.stateNode.containerInfo);break;case 10:var en=De.type._context,mn=De.memoizedProps.value;xs(rs,en._currentValue),en._currentValue=mn;break;case 13:if(en=De.memoizedState,en!==null)return en.dehydrated!==null?(xs(Bs,Bs.current&1),De.flags|=128,null):Ke&De.child.childLanes?Hr(Te,De,Ke):(xs(Bs,Bs.current&1),Te=Xo(Te,De,Ke),Te!==null?Te.sibling:null);xs(Bs,Bs.current&1);break;case 19:if(en=(Ke&De.childLanes)!==0,Te.flags&128){if(en)return fo(Te,De,Ke);De.flags|=128}if(mn=De.memoizedState,mn!==null&&(mn.rendering=null,mn.tail=null,mn.lastEffect=null),xs(Bs,Bs.current),en)break;return null;case 22:case 23:return De.lanes=0,wi(Te,De,Ke)}return Xo(Te,De,Ke)}var l5,m2,c5,u5;l5=function(Te,De){for(var Ke=De.child;Ke!==null;){if(Ke.tag===5||Ke.tag===6)Te.appendChild(Ke.stateNode);else if(Ke.tag!==4&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===De)break;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===De)return;Ke=Ke.return}Ke.sibling.return=Ke.return,Ke=Ke.sibling}},m2=function(){},c5=function(Te,De,Ke,en){var mn=Te.memoizedProps;if(mn!==en){Te=De.stateNode,ha(Fs.current);var En=null;switch(Ke){case"input":mn=qn(Te,mn),en=qn(Te,en),En=[];break;case"select":mn=Un({},mn,{value:void 0}),en=Un({},en,{value:void 0}),En=[];break;case"textarea":mn=rr(Te,mn),en=rr(Te,en),En=[];break;default:typeof mn.onClick!="function"&&typeof en.onClick=="function"&&(Te.onclick=Xc)}Pr(Ke,en);var Xn;Ke=null;for(qr in mn)if(!en.hasOwnProperty(qr)&&mn.hasOwnProperty(qr)&&mn[qr]!=null)if(qr==="style"){var pr=mn[qr];for(Xn in pr)pr.hasOwnProperty(Xn)&&(Ke||(Ke={}),Ke[Xn]="")}else qr!=="dangerouslySetInnerHTML"&&qr!=="children"&&qr!=="suppressContentEditableWarning"&&qr!=="suppressHydrationWarning"&&qr!=="autoFocus"&&(_e.hasOwnProperty(qr)?En||(En=[]):(En=En||[]).push(qr,null));for(qr in en){var br=en[qr];if(pr=mn!=null?mn[qr]:void 0,en.hasOwnProperty(qr)&&br!==pr&&(br!=null||pr!=null))if(qr==="style")if(pr){for(Xn in pr)!pr.hasOwnProperty(Xn)||br&&br.hasOwnProperty(Xn)||(Ke||(Ke={}),Ke[Xn]="");for(Xn in br)br.hasOwnProperty(Xn)&&pr[Xn]!==br[Xn]&&(Ke||(Ke={}),Ke[Xn]=br[Xn])}else Ke||(En||(En=[]),En.push(qr,Ke)),Ke=br;else qr==="dangerouslySetInnerHTML"?(br=br?br.__html:void 0,pr=pr?pr.__html:void 0,br!=null&&pr!==br&&(En=En||[]).push(qr,br)):qr==="children"?typeof br!="string"&&typeof br!="number"||(En=En||[]).push(qr,""+br):qr!=="suppressContentEditableWarning"&&qr!=="suppressHydrationWarning"&&(_e.hasOwnProperty(qr)?(br!=null&&qr==="onScroll"&&Es("scroll",Te),En||pr===br||(En=[])):(En=En||[]).push(qr,br))}Ke&&(En=En||[]).push("style",Ke);var qr=En;(De.updateQueue=qr)&&(De.flags|=4)}},u5=function(Te,De,Ke,en){Ke!==en&&(De.flags|=4)};function o1(Te,De){if(!Ur)switch(Te.tailMode){case"hidden":De=Te.tail;for(var Ke=null;De!==null;)De.alternate!==null&&(Ke=De),De=De.sibling;Ke===null?Te.tail=null:Ke.sibling=null;break;case"collapsed":Ke=Te.tail;for(var en=null;Ke!==null;)Ke.alternate!==null&&(en=Ke),Ke=Ke.sibling;en===null?De||Te.tail===null?Te.tail=null:Te.tail.sibling=null:en.sibling=null}}function Ml(Te){var De=Te.alternate!==null&&Te.alternate.child===Te.child,Ke=0,en=0;if(De)for(var mn=Te.child;mn!==null;)Ke|=mn.lanes|mn.childLanes,en|=mn.subtreeFlags&14680064,en|=mn.flags&14680064,mn.return=Te,mn=mn.sibling;else for(mn=Te.child;mn!==null;)Ke|=mn.lanes|mn.childLanes,en|=mn.subtreeFlags,en|=mn.flags,mn.return=Te,mn=mn.sibling;return Te.subtreeFlags|=en,Te.childLanes=Ke,De}function Bw(Te,De,Ke){var en=De.pendingProps;switch(Ir(De),De.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ml(De),null;case 1:return xo(De.type)&&Xh(),Ml(De),null;case 3:return en=De.stateNode,Ls(),ms(co),ms(lo),Ao(),en.pendingContext&&(en.context=en.pendingContext,en.pendingContext=null),(Te===null||Te.child===null)&&($i(De)?De.flags|=4:Te===null||Te.memoizedState.isDehydrated&&!(De.flags&256)||(De.flags|=1024,Kr!==null&&(E2(Kr),Kr=null))),m2(Te,De),Ml(De),null;case 5:Zc(De);var mn=ha(ua.current);if(Ke=De.type,Te!==null&&De.stateNode!=null)c5(Te,De,Ke,en,mn),Te.ref!==De.ref&&(De.flags|=512,De.flags|=2097152);else{if(!en){if(De.stateNode===null)throw Error(t(166));return Ml(De),null}if(Te=ha(Fs.current),$i(De)){en=De.stateNode,Ke=De.type;var En=De.memoizedProps;switch(en[Ll]=De,en[Wh]=En,Te=(De.mode&1)!==0,Ke){case"dialog":Es("cancel",en),Es("close",en);break;case"iframe":case"object":case"embed":Es("load",en);break;case"video":case"audio":for(mn=0;mn<nc.length;mn++)Es(nc[mn],en);break;case"source":Es("error",en);break;case"img":case"image":case"link":Es("error",en),Es("load",en);break;case"details":Es("toggle",en);break;case"input":In(en,En),Es("invalid",en);break;case"select":en._wrapperState={wasMultiple:!!En.multiple},Es("invalid",en);break;case"textarea":ir(en,En),Es("invalid",en)}Pr(Ke,En),mn=null;for(var Xn in En)if(En.hasOwnProperty(Xn)){var pr=En[Xn];Xn==="children"?typeof pr=="string"?en.textContent!==pr&&(En.suppressHydrationWarning!==!0&&Pd(en.textContent,pr,Te),mn=["children",pr]):typeof pr=="number"&&en.textContent!==""+pr&&(En.suppressHydrationWarning!==!0&&Pd(en.textContent,pr,Te),mn=["children",""+pr]):_e.hasOwnProperty(Xn)&&pr!=null&&Xn==="onScroll"&&Es("scroll",en)}switch(Ke){case"input":Zn(en),Yn(en,En,!0);break;case"textarea":Zn(en),xr(en);break;case"select":case"option":break;default:typeof En.onClick=="function"&&(en.onclick=Xc)}en=mn,De.updateQueue=en,en!==null&&(De.flags|=4)}else{Xn=mn.nodeType===9?mn:mn.ownerDocument,Te==="http://www.w3.org/1999/xhtml"&&(Te=Nr(Ke)),Te==="http://www.w3.org/1999/xhtml"?Ke==="script"?(Te=Xn.createElement("div"),Te.innerHTML="<script><\/script>",Te=Te.removeChild(Te.firstChild)):typeof en.is=="string"?Te=Xn.createElement(Ke,{is:en.is}):(Te=Xn.createElement(Ke),Ke==="select"&&(Xn=Te,en.multiple?Xn.multiple=!0:en.size&&(Xn.size=en.size))):Te=Xn.createElementNS(Te,Ke),Te[Ll]=De,Te[Wh]=en,l5(Te,De,!1,!1),De.stateNode=Te;e:{switch(Xn=Hn(Ke,en),Ke){case"dialog":Es("cancel",Te),Es("close",Te),mn=en;break;case"iframe":case"object":case"embed":Es("load",Te),mn=en;break;case"video":case"audio":for(mn=0;mn<nc.length;mn++)Es(nc[mn],Te);mn=en;break;case"source":Es("error",Te),mn=en;break;case"img":case"image":case"link":Es("error",Te),Es("load",Te),mn=en;break;case"details":Es("toggle",Te),mn=en;break;case"input":In(Te,en),mn=qn(Te,en),Es("invalid",Te);break;case"option":mn=en;break;case"select":Te._wrapperState={wasMultiple:!!en.multiple},mn=Un({},en,{value:void 0}),Es("invalid",Te);break;case"textarea":ir(Te,en),mn=rr(Te,en),Es("invalid",Te);break;default:mn=en}Pr(Ke,mn),pr=mn;for(En in pr)if(pr.hasOwnProperty(En)){var br=pr[En];En==="style"?Tr(Te,br):En==="dangerouslySetInnerHTML"?(br=br?br.__html:void 0,br!=null&&Yr(Te,br)):En==="children"?typeof br=="string"?(Ke!=="textarea"||br!=="")&&ei(Te,br):typeof br=="number"&&ei(Te,""+br):En!=="suppressContentEditableWarning"&&En!=="suppressHydrationWarning"&&En!=="autoFocus"&&(_e.hasOwnProperty(En)?br!=null&&En==="onScroll"&&Es("scroll",Te):br!=null&&ze(Te,En,br,Xn))}switch(Ke){case"input":Zn(Te),Yn(Te,en,!1);break;case"textarea":Zn(Te),xr(Te);break;case"option":en.value!=null&&Te.setAttribute("value",""+kn(en.value));break;case"select":Te.multiple=!!en.multiple,En=en.value,En!=null?Kn(Te,!!en.multiple,En,!1):en.defaultValue!=null&&Kn(Te,!!en.multiple,en.defaultValue,!0);break;default:typeof mn.onClick=="function"&&(Te.onclick=Xc)}switch(Ke){case"button":case"input":case"select":case"textarea":en=!!en.autoFocus;break e;case"img":en=!0;break e;default:en=!1}}en&&(De.flags|=4)}De.ref!==null&&(De.flags|=512,De.flags|=2097152)}return Ml(De),null;case 6:if(Te&&De.stateNode!=null)u5(Te,De,Te.memoizedProps,en);else{if(typeof en!="string"&&De.stateNode===null)throw Error(t(166));if(Ke=ha(ua.current),ha(Fs.current),$i(De)){if(en=De.stateNode,Ke=De.memoizedProps,en[Ll]=De,(En=en.nodeValue!==Ke)&&(Te=mr,Te!==null))switch(Te.tag){case 3:Pd(en.nodeValue,Ke,(Te.mode&1)!==0);break;case 5:Te.memoizedProps.suppressHydrationWarning!==!0&&Pd(en.nodeValue,Ke,(Te.mode&1)!==0)}En&&(De.flags|=4)}else en=(Ke.nodeType===9?Ke:Ke.ownerDocument).createTextNode(en),en[Ll]=De,De.stateNode=en}return Ml(De),null;case 13:if(ms(Bs),en=De.memoizedState,Te===null||Te.memoizedState!==null&&Te.memoizedState.dehydrated!==null){if(Ur&&hr!==null&&De.mode&1&&!(De.flags&128))hs(),Wi(),De.flags|=98560,En=!1;else if(En=$i(De),en!==null&&en.dehydrated!==null){if(Te===null){if(!En)throw Error(t(318));if(En=De.memoizedState,En=En!==null?En.dehydrated:null,!En)throw Error(t(317));En[Ll]=De}else Wi(),!(De.flags&128)&&(De.memoizedState=null),De.flags|=4;Ml(De),En=!1}else Kr!==null&&(E2(Kr),Kr=null),En=!0;if(!En)return De.flags&65536?De:null}return De.flags&128?(De.lanes=Ke,De):(en=en!==null,en!==(Te!==null&&Te.memoizedState!==null)&&en&&(De.child.flags|=8192,De.mode&1&&(Te===null||Bs.current&1?Oo===0&&(Oo=3):k2())),De.updateQueue!==null&&(De.flags|=4),Ml(De),null);case 4:return Ls(),m2(Te,De),Te===null&&Kc(De.stateNode.containerInfo),Ml(De),null;case 10:return Ga(De.type._context),Ml(De),null;case 17:return xo(De.type)&&Xh(),Ml(De),null;case 19:if(ms(Bs),En=De.memoizedState,En===null)return Ml(De),null;if(en=(De.flags&128)!==0,Xn=En.rendering,Xn===null)if(en)o1(En,!1);else{if(Oo!==0||Te!==null&&Te.flags&128)for(Te=De.child;Te!==null;){if(Xn=Ru(Te),Xn!==null){for(De.flags|=128,o1(En,!1),en=Xn.updateQueue,en!==null&&(De.updateQueue=en,De.flags|=4),De.subtreeFlags=0,en=Ke,Ke=De.child;Ke!==null;)En=Ke,Te=en,En.flags&=14680066,Xn=En.alternate,Xn===null?(En.childLanes=0,En.lanes=Te,En.child=null,En.subtreeFlags=0,En.memoizedProps=null,En.memoizedState=null,En.updateQueue=null,En.dependencies=null,En.stateNode=null):(En.childLanes=Xn.childLanes,En.lanes=Xn.lanes,En.child=Xn.child,En.subtreeFlags=0,En.deletions=null,En.memoizedProps=Xn.memoizedProps,En.memoizedState=Xn.memoizedState,En.updateQueue=Xn.updateQueue,En.type=Xn.type,Te=Xn.dependencies,En.dependencies=Te===null?null:{lanes:Te.lanes,firstContext:Te.firstContext}),Ke=Ke.sibling;return xs(Bs,Bs.current&1|2),De.child}Te=Te.sibling}En.tail!==null&&ea()>W0&&(De.flags|=128,en=!0,o1(En,!1),De.lanes=4194304)}else{if(!en)if(Te=Ru(Xn),Te!==null){if(De.flags|=128,en=!0,Ke=Te.updateQueue,Ke!==null&&(De.updateQueue=Ke,De.flags|=4),o1(En,!0),En.tail===null&&En.tailMode==="hidden"&&!Xn.alternate&&!Ur)return Ml(De),null}else 2*ea()-En.renderingStartTime>W0&&Ke!==1073741824&&(De.flags|=128,en=!0,o1(En,!1),De.lanes=4194304);En.isBackwards?(Xn.sibling=De.child,De.child=Xn):(Ke=En.last,Ke!==null?Ke.sibling=Xn:De.child=Xn,En.last=Xn)}return En.tail!==null?(De=En.tail,En.rendering=De,En.tail=De.sibling,En.renderingStartTime=ea(),De.sibling=null,Ke=Bs.current,xs(Bs,en?Ke&1|2:Ke&1),De):(Ml(De),null);case 22:case 23:return T2(),en=De.memoizedState!==null,Te!==null&&Te.memoizedState!==null!==en&&(De.flags|=8192),en&&De.mode&1?eu&1073741824&&(Ml(De),De.subtreeFlags&6&&(De.flags|=8192)):Ml(De),null;case 24:return null;case 25:return null}throw Error(t(156,De.tag))}function Uw(Te,De){switch(Ir(De),De.tag){case 1:return xo(De.type)&&Xh(),Te=De.flags,Te&65536?(De.flags=Te&-65537|128,De):null;case 3:return Ls(),ms(co),ms(lo),Ao(),Te=De.flags,Te&65536&&!(Te&128)?(De.flags=Te&-65537|128,De):null;case 5:return Zc(De),null;case 13:if(ms(Bs),Te=De.memoizedState,Te!==null&&Te.dehydrated!==null){if(De.alternate===null)throw Error(t(340));Wi()}return Te=De.flags,Te&65536?(De.flags=Te&-65537|128,De):null;case 19:return ms(Bs),null;case 4:return Ls(),null;case 10:return Ga(De.type._context),null;case 22:case 23:return T2(),null;case 24:return null;default:return null}}var Qm=!1,Bl=!1,jw=typeof WeakSet=="function"?WeakSet:Set,Si=null;function H0(Te,De){var Ke=Te.ref;if(Ke!==null)if(typeof Ke=="function")try{Ke(null)}catch(en){Wa(Te,De,en)}else Ke.current=null}function v2(Te,De,Ke){try{Ke()}catch(en){Wa(Te,De,en)}}var h5=!1;function qw(Te,De){if(Ed=Bh,Te=ca(),_c(Te)){if("selectionStart"in Te)var Ke={start:Te.selectionStart,end:Te.selectionEnd};else e:{Ke=(Ke=Te.ownerDocument)&&Ke.defaultView||window;var en=Ke.getSelection&&Ke.getSelection();if(en&&en.rangeCount!==0){Ke=en.anchorNode;var mn=en.anchorOffset,En=en.focusNode;en=en.focusOffset;try{Ke.nodeType,En.nodeType}catch{Ke=null;break e}var Xn=0,pr=-1,br=-1,qr=0,$r=0,ti=Te,Jr=null;t:for(;;){for(var vi;ti!==Ke||mn!==0&&ti.nodeType!==3||(pr=Xn+mn),ti!==En||en!==0&&ti.nodeType!==3||(br=Xn+en),ti.nodeType===3&&(Xn+=ti.nodeValue.length),(vi=ti.firstChild)!==null;)Jr=ti,ti=vi;for(;;){if(ti===Te)break t;if(Jr===Ke&&++qr===mn&&(pr=Xn),Jr===En&&++$r===en&&(br=Xn),(vi=ti.nextSibling)!==null)break;ti=Jr,Jr=ti.parentNode}ti=vi}Ke=pr===-1||br===-1?null:{start:pr,end:br}}else Ke=null}Ke=Ke||{start:0,end:0}}else Ke=null;for(ch={focusedElem:Te,selectionRange:Ke},Bh=!1,Si=De;Si!==null;)if(De=Si,Te=De.child,(De.subtreeFlags&1028)!==0&&Te!==null)Te.return=De,Si=Te;else for(;Si!==null;){De=Si;try{var xi=De.alternate;if(De.flags&1024)switch(De.tag){case 0:case 11:case 15:break;case 1:if(xi!==null){var Ai=xi.memoizedProps,po=xi.memoizedState,Dr=De.stateNode,Sr=Dr.getSnapshotBeforeUpdate(De.elementType===De.type?Ai:Io(De.type,Ai),po);Dr.__reactInternalSnapshotBeforeUpdate=Sr}break;case 3:var Or=De.stateNode.containerInfo;Or.nodeType===1?Or.textContent="":Or.nodeType===9&&Or.documentElement&&Or.removeChild(Or.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(si){Wa(De,De.return,si)}if(Te=De.sibling,Te!==null){Te.return=De.return,Si=Te;break}Si=De.return}return xi=h5,h5=!1,xi}function l1(Te,De,Ke){var en=De.updateQueue;if(en=en!==null?en.lastEffect:null,en!==null){var mn=en=en.next;do{if((mn.tag&Te)===Te){var En=mn.destroy;mn.destroy=void 0,En!==void 0&&v2(De,Ke,En)}mn=mn.next}while(mn!==en)}}function $m(Te,De){if(De=De.updateQueue,De=De!==null?De.lastEffect:null,De!==null){var Ke=De=De.next;do{if((Ke.tag&Te)===Te){var en=Ke.create;Ke.destroy=en()}Ke=Ke.next}while(Ke!==De)}}function y2(Te){var De=Te.ref;if(De!==null){var Ke=Te.stateNode;switch(Te.tag){case 5:Te=Ke;break;default:Te=Ke}typeof De=="function"?De(Te):De.current=Te}}function d5(Te){var De=Te.alternate;De!==null&&(Te.alternate=null,d5(De)),Te.child=null,Te.deletions=null,Te.sibling=null,Te.tag===5&&(De=Te.stateNode,De!==null&&(delete De[Ll],delete De[Wh],delete De[No],delete De[B0],delete De[U0])),Te.stateNode=null,Te.return=null,Te.dependencies=null,Te.memoizedProps=null,Te.memoizedState=null,Te.pendingProps=null,Te.stateNode=null,Te.updateQueue=null}function f5(Te){return Te.tag===5||Te.tag===3||Te.tag===4}function p5(Te){e:for(;;){for(;Te.sibling===null;){if(Te.return===null||f5(Te.return))return null;Te=Te.return}for(Te.sibling.return=Te.return,Te=Te.sibling;Te.tag!==5&&Te.tag!==6&&Te.tag!==18;){if(Te.flags&2||Te.child===null||Te.tag===4)continue e;Te.child.return=Te,Te=Te.child}if(!(Te.flags&2))return Te.stateNode}}function b2(Te,De,Ke){var en=Te.tag;if(en===5||en===6)Te=Te.stateNode,De?Ke.nodeType===8?Ke.parentNode.insertBefore(Te,De):Ke.insertBefore(Te,De):(Ke.nodeType===8?(De=Ke.parentNode,De.insertBefore(Te,Ke)):(De=Ke,De.appendChild(Te)),Ke=Ke._reactRootContainer,Ke!=null||De.onclick!==null||(De.onclick=Xc));else if(en!==4&&(Te=Te.child,Te!==null))for(b2(Te,De,Ke),Te=Te.sibling;Te!==null;)b2(Te,De,Ke),Te=Te.sibling}function w2(Te,De,Ke){var en=Te.tag;if(en===5||en===6)Te=Te.stateNode,De?Ke.insertBefore(Te,De):Ke.appendChild(Te);else if(en!==4&&(Te=Te.child,Te!==null))for(w2(Te,De,Ke),Te=Te.sibling;Te!==null;)w2(Te,De,Ke),Te=Te.sibling}var bl=null,ph=!1;function Rf(Te,De,Ke){for(Ke=Ke.child;Ke!==null;)g5(Te,De,Ke),Ke=Ke.sibling}function g5(Te,De,Ke){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(Fl,Ke)}catch{}switch(Ke.tag){case 5:Bl||H0(Ke,De);case 6:var en=bl,mn=ph;bl=null,Rf(Te,De,Ke),bl=en,ph=mn,bl!==null&&(ph?(Te=bl,Ke=Ke.stateNode,Te.nodeType===8?Te.parentNode.removeChild(Ke):Te.removeChild(Ke)):bl.removeChild(Ke.stateNode));break;case 18:bl!==null&&(ph?(Te=bl,Ke=Ke.stateNode,Te.nodeType===8?wf(Te.parentNode,Ke):Te.nodeType===1&&wf(Te,Ke),ba(Te)):wf(bl,Ke.stateNode));break;case 4:en=bl,mn=ph,bl=Ke.stateNode.containerInfo,ph=!0,Rf(Te,De,Ke),bl=en,ph=mn;break;case 0:case 11:case 14:case 15:if(!Bl&&(en=Ke.updateQueue,en!==null&&(en=en.lastEffect,en!==null))){mn=en=en.next;do{var En=mn,Xn=En.destroy;En=En.tag,Xn!==void 0&&(En&2||En&4)&&v2(Ke,De,Xn),mn=mn.next}while(mn!==en)}Rf(Te,De,Ke);break;case 1:if(!Bl&&(H0(Ke,De),en=Ke.stateNode,typeof en.componentWillUnmount=="function"))try{en.props=Ke.memoizedProps,en.state=Ke.memoizedState,en.componentWillUnmount()}catch(pr){Wa(Ke,De,pr)}Rf(Te,De,Ke);break;case 21:Rf(Te,De,Ke);break;case 22:Ke.mode&1?(Bl=(en=Bl)||Ke.memoizedState!==null,Rf(Te,De,Ke),Bl=en):Rf(Te,De,Ke);break;default:Rf(Te,De,Ke)}}function m5(Te){var De=Te.updateQueue;if(De!==null){Te.updateQueue=null;var Ke=Te.stateNode;Ke===null&&(Ke=Te.stateNode=new jw),De.forEach(function(en){var mn=Zw.bind(null,Te,en);Ke.has(en)||(Ke.add(en),en.then(mn,mn))})}}function gh(Te,De){var Ke=De.deletions;if(Ke!==null)for(var en=0;en<Ke.length;en++){var mn=Ke[en];try{var En=Te,Xn=De,pr=Xn;e:for(;pr!==null;){switch(pr.tag){case 5:bl=pr.stateNode,ph=!1;break e;case 3:bl=pr.stateNode.containerInfo,ph=!0;break e;case 4:bl=pr.stateNode.containerInfo,ph=!0;break e}pr=pr.return}if(bl===null)throw Error(t(160));g5(En,Xn,mn),bl=null,ph=!1;var br=mn.alternate;br!==null&&(br.return=null),mn.return=null}catch(qr){Wa(mn,De,qr)}}if(De.subtreeFlags&12854)for(De=De.child;De!==null;)v5(De,Te),De=De.sibling}function v5(Te,De){var Ke=Te.alternate,en=Te.flags;switch(Te.tag){case 0:case 11:case 14:case 15:if(gh(De,Te),Qh(Te),en&4){try{l1(3,Te,Te.return),$m(3,Te)}catch(Ai){Wa(Te,Te.return,Ai)}try{l1(5,Te,Te.return)}catch(Ai){Wa(Te,Te.return,Ai)}}break;case 1:gh(De,Te),Qh(Te),en&512&&Ke!==null&&H0(Ke,Ke.return);break;case 5:if(gh(De,Te),Qh(Te),en&512&&Ke!==null&&H0(Ke,Ke.return),Te.flags&32){var mn=Te.stateNode;try{ei(mn,"")}catch(Ai){Wa(Te,Te.return,Ai)}}if(en&4&&(mn=Te.stateNode,mn!=null)){var En=Te.memoizedProps,Xn=Ke!==null?Ke.memoizedProps:En,pr=Te.type,br=Te.updateQueue;if(Te.updateQueue=null,br!==null)try{pr==="input"&&En.type==="radio"&&En.name!=null&&wn(mn,En),Hn(pr,Xn);var qr=Hn(pr,En);for(Xn=0;Xn<br.length;Xn+=2){var $r=br[Xn],ti=br[Xn+1];$r==="style"?Tr(mn,ti):$r==="dangerouslySetInnerHTML"?Yr(mn,ti):$r==="children"?ei(mn,ti):ze(mn,$r,ti,qr)}switch(pr){case"input":Vn(mn,En);break;case"textarea":yr(mn,En);break;case"select":var Jr=mn._wrapperState.wasMultiple;mn._wrapperState.wasMultiple=!!En.multiple;var vi=En.value;vi!=null?Kn(mn,!!En.multiple,vi,!1):Jr!==!!En.multiple&&(En.defaultValue!=null?Kn(mn,!!En.multiple,En.defaultValue,!0):Kn(mn,!!En.multiple,En.multiple?[]:"",!1))}mn[Wh]=En}catch(Ai){Wa(Te,Te.return,Ai)}}break;case 6:if(gh(De,Te),Qh(Te),en&4){if(Te.stateNode===null)throw Error(t(162));mn=Te.stateNode,En=Te.memoizedProps;try{mn.nodeValue=En}catch(Ai){Wa(Te,Te.return,Ai)}}break;case 3:if(gh(De,Te),Qh(Te),en&4&&Ke!==null&&Ke.memoizedState.isDehydrated)try{ba(De.containerInfo)}catch(Ai){Wa(Te,Te.return,Ai)}break;case 4:gh(De,Te),Qh(Te);break;case 13:gh(De,Te),Qh(Te),mn=Te.child,mn.flags&8192&&(En=mn.memoizedState!==null,mn.stateNode.isHidden=En,!En||mn.alternate!==null&&mn.alternate.memoizedState!==null||(_2=ea())),en&4&&m5(Te);break;case 22:if($r=Ke!==null&&Ke.memoizedState!==null,Te.mode&1?(Bl=(qr=Bl)||$r,gh(De,Te),Bl=qr):gh(De,Te),Qh(Te),en&8192){if(qr=Te.memoizedState!==null,(Te.stateNode.isHidden=qr)&&!$r&&Te.mode&1)for(Si=Te,$r=Te.child;$r!==null;){for(ti=Si=$r;Si!==null;){switch(Jr=Si,vi=Jr.child,Jr.tag){case 0:case 11:case 14:case 15:l1(4,Jr,Jr.return);break;case 1:H0(Jr,Jr.return);var xi=Jr.stateNode;if(typeof xi.componentWillUnmount=="function"){en=Jr,Ke=Jr.return;try{De=en,xi.props=De.memoizedProps,xi.state=De.memoizedState,xi.componentWillUnmount()}catch(Ai){Wa(en,Ke,Ai)}}break;case 5:H0(Jr,Jr.return);break;case 22:if(Jr.memoizedState!==null){w5(ti);continue}}vi!==null?(vi.return=Jr,Si=vi):w5(ti)}$r=$r.sibling}e:for($r=null,ti=Te;;){if(ti.tag===5){if($r===null){$r=ti;try{mn=ti.stateNode,qr?(En=mn.style,typeof En.setProperty=="function"?En.setProperty("display","none","important"):En.display="none"):(pr=ti.stateNode,br=ti.memoizedProps.style,Xn=br!=null&&br.hasOwnProperty("display")?br.display:null,pr.style.display=sr("display",Xn))}catch(Ai){Wa(Te,Te.return,Ai)}}}else if(ti.tag===6){if($r===null)try{ti.stateNode.nodeValue=qr?"":ti.memoizedProps}catch(Ai){Wa(Te,Te.return,Ai)}}else if((ti.tag!==22&&ti.tag!==23||ti.memoizedState===null||ti===Te)&&ti.child!==null){ti.child.return=ti,ti=ti.child;continue}if(ti===Te)break e;for(;ti.sibling===null;){if(ti.return===null||ti.return===Te)break e;$r===ti&&($r=null),ti=ti.return}$r===ti&&($r=null),ti.sibling.return=ti.return,ti=ti.sibling}}break;case 19:gh(De,Te),Qh(Te),en&4&&m5(Te);break;case 21:break;default:gh(De,Te),Qh(Te)}}function Qh(Te){var De=Te.flags;if(De&2){try{e:{for(var Ke=Te.return;Ke!==null;){if(f5(Ke)){var en=Ke;break e}Ke=Ke.return}throw Error(t(160))}switch(en.tag){case 5:var mn=en.stateNode;en.flags&32&&(ei(mn,""),en.flags&=-33);var En=p5(Te);w2(Te,En,mn);break;case 3:case 4:var Xn=en.stateNode.containerInfo,pr=p5(Te);b2(Te,pr,Xn);break;default:throw Error(t(161))}}catch(br){Wa(Te,Te.return,br)}Te.flags&=-3}De&4096&&(Te.flags&=-4097)}function zw(Te,De,Ke){Si=Te,y5(Te)}function y5(Te,De,Ke){for(var en=(Te.mode&1)!==0;Si!==null;){var mn=Si,En=mn.child;if(mn.tag===22&&en){var Xn=mn.memoizedState!==null||Qm;if(!Xn){var pr=mn.alternate,br=pr!==null&&pr.memoizedState!==null||Bl;pr=Qm;var qr=Bl;if(Qm=Xn,(Bl=br)&&!qr)for(Si=mn;Si!==null;)Xn=Si,br=Xn.child,Xn.tag===22&&Xn.memoizedState!==null?S5(mn):br!==null?(br.return=Xn,Si=br):S5(mn);for(;En!==null;)Si=En,y5(En),En=En.sibling;Si=mn,Qm=pr,Bl=qr}b5(Te)}else mn.subtreeFlags&8772&&En!==null?(En.return=mn,Si=En):b5(Te)}}function b5(Te){for(;Si!==null;){var De=Si;if(De.flags&8772){var Ke=De.alternate;try{if(De.flags&8772)switch(De.tag){case 0:case 11:case 15:Bl||$m(5,De);break;case 1:var en=De.stateNode;if(De.flags&4&&!Bl)if(Ke===null)en.componentDidMount();else{var mn=De.elementType===De.type?Ke.memoizedProps:Io(De.type,Ke.memoizedProps);en.componentDidUpdate(mn,Ke.memoizedState,en.__reactInternalSnapshotBeforeUpdate)}var En=De.updateQueue;En!==null&&Ds(De,En,en);break;case 3:var Xn=De.updateQueue;if(Xn!==null){if(Ke=null,De.child!==null)switch(De.child.tag){case 5:Ke=De.child.stateNode;break;case 1:Ke=De.child.stateNode}Ds(De,Xn,Ke)}break;case 5:var pr=De.stateNode;if(Ke===null&&De.flags&4){Ke=pr;var br=De.memoizedProps;switch(De.type){case"button":case"input":case"select":case"textarea":br.autoFocus&&Ke.focus();break;case"img":br.src&&(Ke.src=br.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(De.memoizedState===null){var qr=De.alternate;if(qr!==null){var $r=qr.memoizedState;if($r!==null){var ti=$r.dehydrated;ti!==null&&ba(ti)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bl||De.flags&512&&y2(De)}catch(Jr){Wa(De,De.return,Jr)}}if(De===Te){Si=null;break}if(Ke=De.sibling,Ke!==null){Ke.return=De.return,Si=Ke;break}Si=De.return}}function w5(Te){for(;Si!==null;){var De=Si;if(De===Te){Si=null;break}var Ke=De.sibling;if(Ke!==null){Ke.return=De.return,Si=Ke;break}Si=De.return}}function S5(Te){for(;Si!==null;){var De=Si;try{switch(De.tag){case 0:case 11:case 15:var Ke=De.return;try{$m(4,De)}catch(br){Wa(De,Ke,br)}break;case 1:var en=De.stateNode;if(typeof en.componentDidMount=="function"){var mn=De.return;try{en.componentDidMount()}catch(br){Wa(De,mn,br)}}var En=De.return;try{y2(De)}catch(br){Wa(De,En,br)}break;case 5:var Xn=De.return;try{y2(De)}catch(br){Wa(De,Xn,br)}}}catch(br){Wa(De,De.return,br)}if(De===Te){Si=null;break}var pr=De.sibling;if(pr!==null){pr.return=De.return,Si=pr;break}Si=De.return}}var Gw=Math.ceil,ev=Xe.ReactCurrentDispatcher,S2=Xe.ReactCurrentOwner,Ou=Xe.ReactCurrentBatchConfig,As=0,Yo=null,Fo=null,wl=0,eu=0,V0=Il(0),Oo=0,c1=null,Ap=0,tv=0,x2=0,u1=null,Dc=null,_2=0,W0=1/0,Bd=null,nv=!1,A2=null,Df=null,rv=!1,Nf=null,iv=0,h1=0,C2=null,sv=-1,av=0;function oc(){return As&6?ea():sv!==-1?sv:sv=ea()}function Lf(Te){return Te.mode&1?As&2&&wl!==0?wl&-wl:_s.transition!==null?(av===0&&(av=Lh()),av):(Te=es,Te!==0||(Te=window.event,Te=Te===void 0?16:_d(Te.type)),Te):1}function mh(Te,De,Ke,en){if(50<h1)throw h1=0,C2=null,Error(t(185));fu(Te,Ke,en),(!(As&2)||Te!==Yo)&&(Te===Yo&&(!(As&2)&&(tv|=Ke),Oo===4&&If(Te,wl)),Nc(Te,en),Ke===1&&As===0&&!(De.mode&1)&&(W0=ea()+500,Yh&&yn()))}function Nc(Te,De){var Ke=Te.callbackNode;Ro(Te,De);var en=Za(Te,Te===Yo?wl:0);if(en===0)Ke!==null&&Yu(Ke),Te.callbackNode=null,Te.callbackPriority=0;else if(De=en&-en,Te.callbackPriority!==De){if(Ke!=null&&Yu(Ke),De===1)Te.tag===0?tn(_5.bind(null,Te)):Ye(_5.bind(null,Te)),O0(function(){!(As&6)&&yn()}),Ke=null;else{switch(jc(en)){case 1:Ke=El;break;case 4:Ke=Zu;break;case 16:Ke=du;break;case 536870912:Ke=Nh;break;default:Ke=du}Ke=R5(Ke,x5.bind(null,Te))}Te.callbackPriority=De,Te.callbackNode=Ke}}function x5(Te,De){if(sv=-1,av=0,As&6)throw Error(t(327));var Ke=Te.callbackNode;if(K0()&&Te.callbackNode!==Ke)return null;var en=Za(Te,Te===Yo?wl:0);if(en===0)return null;if(en&30||en&Te.expiredLanes||De)De=ov(Te,en);else{De=en;var mn=As;As|=2;var En=C5();(Yo!==Te||wl!==De)&&(Bd=null,W0=ea()+500,Pp(Te,De));do try{Ww();break}catch(pr){A5(Te,pr)}while(!0);Ca(),ev.current=En,As=mn,Fo!==null?De=0:(Yo=null,wl=0,De=Oo)}if(De!==0){if(De===2&&(mn=pc(Te),mn!==0&&(en=mn,De=P2(Te,mn))),De===1)throw Ke=c1,Pp(Te,0),If(Te,en),Nc(Te,ea()),Ke;if(De===6)If(Te,en);else{if(mn=Te.current.alternate,!(en&30)&&!Hw(mn)&&(De=ov(Te,en),De===2&&(En=pc(Te),En!==0&&(en=En,De=P2(Te,En))),De===1))throw Ke=c1,Pp(Te,0),If(Te,en),Nc(Te,ea()),Ke;switch(Te.finishedWork=mn,Te.finishedLanes=en,De){case 0:case 1:throw Error(t(345));case 2:Ep(Te,Dc,Bd);break;case 3:if(If(Te,en),(en&130023424)===en&&(De=_2+500-ea(),10<De)){if(Za(Te,0)!==0)break;if(mn=Te.suspendedLanes,(mn&en)!==en){oc(),Te.pingedLanes|=Te.suspendedLanes&mn;break}Te.timeoutHandle=gl(Ep.bind(null,Te,Dc,Bd),De);break}Ep(Te,Dc,Bd);break;case 4:if(If(Te,en),(en&4194240)===en)break;for(De=Te.eventTimes,mn=-1;0<en;){var Xn=31-Xi(en);En=1<<Xn,Xn=De[Xn],Xn>mn&&(mn=Xn),en&=~En}if(en=mn,en=ea()-en,en=(120>en?120:480>en?480:1080>en?1080:1920>en?1920:3e3>en?3e3:4320>en?4320:1960*Gw(en/1960))-en,10<en){Te.timeoutHandle=gl(Ep.bind(null,Te,Dc,Bd),en);break}Ep(Te,Dc,Bd);break;case 5:Ep(Te,Dc,Bd);break;default:throw Error(t(329))}}}return Nc(Te,ea()),Te.callbackNode===Ke?x5.bind(null,Te):null}function P2(Te,De){var Ke=u1;return Te.current.memoizedState.isDehydrated&&(Pp(Te,De).flags|=256),Te=ov(Te,De),Te!==2&&(De=Dc,Dc=Ke,De!==null&&E2(De)),Te}function E2(Te){Dc===null?Dc=Te:Dc.push.apply(Dc,Te)}function Hw(Te){for(var De=Te;;){if(De.flags&16384){var Ke=De.updateQueue;if(Ke!==null&&(Ke=Ke.stores,Ke!==null))for(var en=0;en<Ke.length;en++){var mn=Ke[en],En=mn.getSnapshot;mn=mn.value;try{if(!ts(En(),mn))return!1}catch{return!1}}}if(Ke=De.child,De.subtreeFlags&16384&&Ke!==null)Ke.return=De,De=Ke;else{if(De===Te)break;for(;De.sibling===null;){if(De.return===null||De.return===Te)return!0;De=De.return}De.sibling.return=De.return,De=De.sibling}}return!0}function If(Te,De){for(De&=~x2,De&=~tv,Te.suspendedLanes|=De,Te.pingedLanes&=~De,Te=Te.expirationTimes;0<De;){var Ke=31-Xi(De),en=1<<Ke;Te[Ke]=-1,De&=~en}}function _5(Te){if(As&6)throw Error(t(327));K0();var De=Za(Te,0);if(!(De&1))return Nc(Te,ea()),null;var Ke=ov(Te,De);if(Te.tag!==0&&Ke===2){var en=pc(Te);en!==0&&(De=en,Ke=P2(Te,en))}if(Ke===1)throw Ke=c1,Pp(Te,0),If(Te,De),Nc(Te,ea()),Ke;if(Ke===6)throw Error(t(345));return Te.finishedWork=Te.current.alternate,Te.finishedLanes=De,Ep(Te,Dc,Bd),Nc(Te,ea()),null}function F2(Te,De){var Ke=As;As|=1;try{return Te(De)}finally{As=Ke,As===0&&(W0=ea()+500,Yh&&yn())}}function Cp(Te){Nf!==null&&Nf.tag===0&&!(As&6)&&K0();var De=As;As|=1;var Ke=Ou.transition,en=es;try{if(Ou.transition=null,es=1,Te)return Te()}finally{es=en,Ou.transition=Ke,As=De,!(As&6)&&yn()}}function T2(){eu=V0.current,ms(V0)}function Pp(Te,De){Te.finishedWork=null,Te.finishedLanes=0;var Ke=Te.timeoutHandle;if(Ke!==-1&&(Te.timeoutHandle=-1,bf(Ke)),Fo!==null)for(Ke=Fo.return;Ke!==null;){var en=Ke;switch(Ir(en),en.tag){case 1:en=en.type.childContextTypes,en!=null&&Xh();break;case 3:Ls(),ms(co),ms(lo),Ao();break;case 5:Zc(en);break;case 4:Ls();break;case 13:ms(Bs);break;case 19:ms(Bs);break;case 10:Ga(en.type._context);break;case 22:case 23:T2()}Ke=Ke.return}if(Yo=Te,Fo=Te=Of(Te.current,null),wl=eu=De,Oo=0,c1=null,x2=tv=Ap=0,Dc=u1=null,Va!==null){for(De=0;De<Va.length;De++)if(Ke=Va[De],en=Ke.interleaved,en!==null){Ke.interleaved=null;var mn=en.next,En=Ke.pending;if(En!==null){var Xn=En.next;En.next=mn,en.next=Xn}Ke.pending=en}Va=null}return Te}function A5(Te,De){do{var Ke=Fo;try{if(Ca(),Zh.current=Ef,Wo){for(var en=fs.memoizedState;en!==null;){var mn=en.queue;mn!==null&&(mn.pending=null),en=en.next}Wo=!1}if(Co=0,va=ia=fs=null,Tc=!1,Po=0,S2.current=null,Ke===null||Ke.return===null){Oo=1,c1=De,Fo=null;break}e:{var En=Te,Xn=Ke.return,pr=Ke,br=De;if(De=wl,pr.flags|=32768,br!==null&&typeof br=="object"&&typeof br.then=="function"){var qr=br,$r=pr,ti=$r.tag;if(!($r.mode&1)&&(ti===0||ti===11||ti===15)){var Jr=$r.alternate;Jr?($r.updateQueue=Jr.updateQueue,$r.memoizedState=Jr.memoizedState,$r.lanes=Jr.lanes):($r.updateQueue=null,$r.memoizedState=null)}var vi=$e(Xn);if(vi!==null){vi.flags&=-257,hn(vi,Xn,pr,En,De),vi.mode&1&&Ue(En,qr,De),De=vi,br=qr;var xi=De.updateQueue;if(xi===null){var Ai=new Set;Ai.add(br),De.updateQueue=Ai}else xi.add(br);break e}else{if(!(De&1)){Ue(En,qr,De),k2();break e}br=Error(t(426))}}else if(Ur&&pr.mode&1){var po=$e(Xn);if(po!==null){!(po.flags&65536)&&(po.flags|=256),hn(po,Xn,pr,En,De),Hi(Md(br,pr));break e}}En=br=Md(br,pr),Oo!==4&&(Oo=2),u1===null?u1=[En]:u1.push(En),En=Xn;do{switch(En.tag){case 3:En.flags|=65536,De&=-De,En.lanes|=De;var Dr=Jm(En,br,De);ku(En,Dr);break e;case 1:pr=br;var Sr=En.type,Or=En.stateNode;if(!(En.flags&128)&&(typeof Sr.getDerivedStateFromError=="function"||Or!==null&&typeof Or.componentDidCatch=="function"&&(Df===null||!Df.has(Or)))){En.flags|=65536,De&=-De,En.lanes|=De;var si=Me(En,pr,De);ku(En,si);break e}}En=En.return}while(En!==null)}E5(Ke)}catch(Pi){De=Pi,Fo===Ke&&Ke!==null&&(Fo=Ke=Ke.return);continue}break}while(!0)}function C5(){var Te=ev.current;return ev.current=Ef,Te===null?Ef:Te}function k2(){(Oo===0||Oo===3||Oo===2)&&(Oo=4),Yo===null||!(Ap&268435455)&&!(tv&268435455)||If(Yo,wl)}function ov(Te,De){var Ke=As;As|=2;var en=C5();(Yo!==Te||wl!==De)&&(Bd=null,Pp(Te,De));do try{Vw();break}catch(mn){A5(Te,mn)}while(!0);if(Ca(),As=Ke,ev.current=en,Fo!==null)throw Error(t(261));return Yo=null,wl=0,Oo}function Vw(){for(;Fo!==null;)P5(Fo)}function Ww(){for(;Fo!==null&&!Dh();)P5(Fo)}function P5(Te){var De=k5(Te.alternate,Te,eu);Te.memoizedProps=Te.pendingProps,De===null?E5(Te):Fo=De,S2.current=null}function E5(Te){var De=Te;do{var Ke=De.alternate;if(Te=De.return,De.flags&32768){if(Ke=Uw(Ke,De),Ke!==null){Ke.flags&=32767,Fo=Ke;return}if(Te!==null)Te.flags|=32768,Te.subtreeFlags=0,Te.deletions=null;else{Oo=6,Fo=null;return}}else if(Ke=Bw(Ke,De,eu),Ke!==null){Fo=Ke;return}if(De=De.sibling,De!==null){Fo=De;return}Fo=De=Te}while(De!==null);Oo===0&&(Oo=5)}function Ep(Te,De,Ke){var en=es,mn=Ou.transition;try{Ou.transition=null,es=1,Kw(Te,De,Ke,en)}finally{Ou.transition=mn,es=en}return null}function Kw(Te,De,Ke,en){do K0();while(Nf!==null);if(As&6)throw Error(t(327));Ke=Te.finishedWork;var mn=Te.finishedLanes;if(Ke===null)return null;if(Te.finishedWork=null,Te.finishedLanes=0,Ke===Te.current)throw Error(t(177));Te.callbackNode=null,Te.callbackPriority=0;var En=Ke.lanes|Ke.childLanes;if(gp(Te,En),Te===Yo&&(Fo=Yo=null,wl=0),!(Ke.subtreeFlags&2064)&&!(Ke.flags&2064)||rv||(rv=!0,R5(du,function(){return K0(),null})),En=(Ke.flags&15990)!==0,Ke.subtreeFlags&15990||En){En=Ou.transition,Ou.transition=null;var Xn=es;es=1;var pr=As;As|=4,S2.current=null,qw(Te,Ke),v5(Ke,Te),Yl(ch),Bh=!!Ed,ch=Ed=null,Te.current=Ke,zw(Ke),mf(),As=pr,es=Xn,Ou.transition=En}else Te.current=Ke;if(rv&&(rv=!1,Nf=Te,iv=mn),En=Te.pendingLanes,En===0&&(Df=null),gs(Ke.stateNode),Nc(Te,ea()),De!==null)for(en=Te.onRecoverableError,Ke=0;Ke<De.length;Ke++)mn=De[Ke],en(mn.value,{componentStack:mn.stack,digest:mn.digest});if(nv)throw nv=!1,Te=A2,A2=null,Te;return iv&1&&Te.tag!==0&&K0(),En=Te.pendingLanes,En&1?Te===C2?h1++:(h1=0,C2=Te):h1=0,yn(),null}function K0(){if(Nf!==null){var Te=jc(iv),De=Ou.transition,Ke=es;try{if(Ou.transition=null,es=16>Te?16:Te,Nf===null)var en=!1;else{if(Te=Nf,Nf=null,iv=0,As&6)throw Error(t(331));var mn=As;for(As|=4,Si=Te.current;Si!==null;){var En=Si,Xn=En.child;if(Si.flags&16){var pr=En.deletions;if(pr!==null){for(var br=0;br<pr.length;br++){var qr=pr[br];for(Si=qr;Si!==null;){var $r=Si;switch($r.tag){case 0:case 11:case 15:l1(8,$r,En)}var ti=$r.child;if(ti!==null)ti.return=$r,Si=ti;else for(;Si!==null;){$r=Si;var Jr=$r.sibling,vi=$r.return;if(d5($r),$r===qr){Si=null;break}if(Jr!==null){Jr.return=vi,Si=Jr;break}Si=vi}}}var xi=En.alternate;if(xi!==null){var Ai=xi.child;if(Ai!==null){xi.child=null;do{var po=Ai.sibling;Ai.sibling=null,Ai=po}while(Ai!==null)}}Si=En}}if(En.subtreeFlags&2064&&Xn!==null)Xn.return=En,Si=Xn;else e:for(;Si!==null;){if(En=Si,En.flags&2048)switch(En.tag){case 0:case 11:case 15:l1(9,En,En.return)}var Dr=En.sibling;if(Dr!==null){Dr.return=En.return,Si=Dr;break e}Si=En.return}}var Sr=Te.current;for(Si=Sr;Si!==null;){Xn=Si;var Or=Xn.child;if(Xn.subtreeFlags&2064&&Or!==null)Or.return=Xn,Si=Or;else e:for(Xn=Sr;Si!==null;){if(pr=Si,pr.flags&2048)try{switch(pr.tag){case 0:case 11:case 15:$m(9,pr)}}catch(Pi){Wa(pr,pr.return,Pi)}if(pr===Xn){Si=null;break e}var si=pr.sibling;if(si!==null){si.return=pr.return,Si=si;break e}Si=pr.return}}if(As=mn,yn(),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(Fl,Te)}catch{}en=!0}return en}finally{es=Ke,Ou.transition=De}}return!1}function F5(Te,De,Ke){De=Md(Ke,De),De=Jm(Te,De,1),Te=ml(Te,De,1),De=oc(),Te!==null&&(fu(Te,1,De),Nc(Te,De))}function Wa(Te,De,Ke){if(Te.tag===3)F5(Te,Te,Ke);else for(;De!==null;){if(De.tag===3){F5(De,Te,Ke);break}else if(De.tag===1){var en=De.stateNode;if(typeof De.type.getDerivedStateFromError=="function"||typeof en.componentDidCatch=="function"&&(Df===null||!Df.has(en))){Te=Md(Ke,Te),Te=Me(De,Te,1),De=ml(De,Te,1),Te=oc(),De!==null&&(fu(De,1,Te),Nc(De,Te));break}}De=De.return}}function Xw(Te,De,Ke){var en=Te.pingCache;en!==null&&en.delete(De),De=oc(),Te.pingedLanes|=Te.suspendedLanes&Ke,Yo===Te&&(wl&Ke)===Ke&&(Oo===4||Oo===3&&(wl&130023424)===wl&&500>ea()-_2?Pp(Te,0):x2|=Ke),Nc(Te,De)}function T5(Te,De){De===0&&(Te.mode&1?(De=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):De=1);var Ke=oc();Te=Pa(Te,De),Te!==null&&(fu(Te,De,Ke),Nc(Te,Ke))}function Yw(Te){var De=Te.memoizedState,Ke=0;De!==null&&(Ke=De.retryLane),T5(Te,Ke)}function Zw(Te,De){var Ke=0;switch(Te.tag){case 13:var en=Te.stateNode,mn=Te.memoizedState;mn!==null&&(Ke=mn.retryLane);break;case 19:en=Te.stateNode;break;default:throw Error(t(314))}en!==null&&en.delete(De),T5(Te,Ke)}var k5;k5=function(Te,De,Ke){if(Te!==null)if(Te.memoizedProps!==De.pendingProps||co.current)Dn=!0;else{if(!(Te.lanes&Ke)&&!(De.flags&128))return Dn=!1,g2(Te,De,Ke);Dn=!!(Te.flags&131072)}else Dn=!1,Ur&&De.flags&1048576&&Ar(De,Jn,De.index);switch(De.lanes=0,De.tag){case 2:var en=De.type;is(Te,De),Te=De.pendingProps;var mn=uh(De,lo.current);Ha(De,Ke),mn=dh(null,De,en,Te,mn,Ke);var En=Nu();return De.flags|=1,typeof mn=="object"&&mn!==null&&typeof mn.render=="function"&&mn.$$typeof===void 0?(De.tag=1,De.memoizedState=null,De.updateQueue=null,xo(en)?(En=!0,Fu(De)):En=!1,De.memoizedState=mn.state!==null&&mn.state!==void 0?mn.state:null,hh(De),mn.updater=Tf,De.stateNode=mn,mn._reactInternals=De,z0(De,en,Te,Ke),De=Is(null,De,en,!0,En,Ke)):(De.tag=0,Ur&&En&&Wr(De),or(null,De,mn,Ke),De=De.child),De;case 16:en=De.elementType;e:{switch(is(Te,De),Te=De.pendingProps,mn=en._init,en=mn(en._payload),De.type=en,mn=De.tag=Qw(en),Te=Io(en,Te),mn){case 0:De=pi(null,De,en,Te,Ke);break e;case 1:De=Js(null,De,en,Te,Ke);break e;case 11:De=Cr(null,De,en,Te,Ke);break e;case 14:De=zr(null,De,en,Io(en.type,Te),Ke);break e}throw Error(t(306,en,""))}return De;case 0:return en=De.type,mn=De.pendingProps,mn=De.elementType===en?mn:Io(en,mn),pi(Te,De,en,mn,Ke);case 1:return en=De.type,mn=De.pendingProps,mn=De.elementType===en?mn:Io(en,mn),Js(Te,De,en,mn,Ke);case 3:e:{if(yl(De),Te===null)throw Error(t(387));en=De.pendingProps,En=De.memoizedState,mn=En.element,Rd(Te,De),_o(De,en,null,Ke);var Xn=De.memoizedState;if(en=Xn.element,En.isDehydrated)if(En={element:en,isDehydrated:!1,cache:Xn.cache,pendingSuspenseBoundaries:Xn.pendingSuspenseBoundaries,transitions:Xn.transitions},De.updateQueue.baseState=En,De.memoizedState=En,De.flags&256){mn=Md(Error(t(423)),De),De=Iu(Te,De,en,Ke,mn);break e}else if(en!==mn){mn=Md(Error(t(424)),De),De=Iu(Te,De,en,Ke,mn);break e}else for(hr=so(De.stateNode.containerInfo.firstChild),mr=De,Ur=!0,Kr=null,Ke=Hs(De,null,en,Ke),De.child=Ke;Ke;)Ke.flags=Ke.flags&-3|4096,Ke=Ke.sibling;else{if(Wi(),en===mn){De=Xo(Te,De,Ke);break e}or(Te,De,en,Ke)}De=De.child}return De;case 5:return Fc(De),Te===null&&Ci(De),en=De.type,mn=De.pendingProps,En=Te!==null?Te.memoizedProps:null,Xn=mn.children,bp(en,mn)?Xn=null:En!==null&&bp(en,En)&&(De.flags|=32),qi(Te,De),or(Te,De,Xn,Ke),De.child;case 6:return Te===null&&Ci(De),null;case 13:return Hr(Te,De,Ke);case 4:return Ec(De,De.stateNode.containerInfo),en=De.pendingProps,Te===null?De.child=Ms(De,null,en,Ke):or(Te,De,en,Ke),De.child;case 11:return en=De.type,mn=De.pendingProps,mn=De.elementType===en?mn:Io(en,mn),Cr(Te,De,en,mn,Ke);case 7:return or(Te,De,De.pendingProps,Ke),De.child;case 8:return or(Te,De,De.pendingProps.children,Ke),De.child;case 12:return or(Te,De,De.pendingProps.children,Ke),De.child;case 10:e:{if(en=De.type._context,mn=De.pendingProps,En=De.memoizedProps,Xn=mn.value,xs(rs,en._currentValue),en._currentValue=Xn,En!==null)if(ts(En.value,Xn)){if(En.children===mn.children&&!co.current){De=Xo(Te,De,Ke);break e}}else for(En=De.child,En!==null&&(En.return=De);En!==null;){var pr=En.dependencies;if(pr!==null){Xn=En.child;for(var br=pr.firstContext;br!==null;){if(br.context===en){if(En.tag===1){br=ic(-1,Ke&-Ke),br.tag=2;var qr=En.updateQueue;if(qr!==null){qr=qr.shared;var $r=qr.pending;$r===null?br.next=br:(br.next=$r.next,$r.next=br),qr.pending=br}}En.lanes|=Ke,br=En.alternate,br!==null&&(br.lanes|=Ke),Lo(En.return,Ke,De),pr.lanes|=Ke;break}br=br.next}}else if(En.tag===10)Xn=En.type===De.type?null:En.child;else if(En.tag===18){if(Xn=En.return,Xn===null)throw Error(t(341));Xn.lanes|=Ke,pr=Xn.alternate,pr!==null&&(pr.lanes|=Ke),Lo(Xn,Ke,De),Xn=En.sibling}else Xn=En.child;if(Xn!==null)Xn.return=En;else for(Xn=En;Xn!==null;){if(Xn===De){Xn=null;break}if(En=Xn.sibling,En!==null){En.return=Xn.return,Xn=En;break}Xn=Xn.return}En=Xn}or(Te,De,mn.children,Ke),De=De.child}return De;case 9:return mn=De.type,en=De.pendingProps.children,Ha(De,Ke),mn=ss(mn),en=en(mn),De.flags|=1,or(Te,De,en,Ke),De.child;case 14:return en=De.type,mn=Io(en,De.pendingProps),mn=Io(en.type,mn),zr(Te,De,en,mn,Ke);case 15:return ni(Te,De,De.type,De.pendingProps,Ke);case 17:return en=De.type,mn=De.pendingProps,mn=De.elementType===en?mn:Io(en,mn),is(Te,De),De.tag=1,xo(en)?(Te=!0,Fu(De)):Te=!1,Ha(De,Ke),Zm(De,en,mn),z0(De,en,mn,Ke),Is(null,De,en,!0,Te,Ke);case 19:return fo(Te,De,Ke);case 22:return wi(Te,De,Ke)}throw Error(t(156,De.tag))};function R5(Te,De){return Xu(Te,De)}function Jw(Te,De,Ke,en){this.tag=Te,this.key=Ke,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=De,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=en,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(Te,De,Ke,en){return new Jw(Te,De,Ke,en)}function R2(Te){return Te=Te.prototype,!(!Te||!Te.isReactComponent)}function Qw(Te){if(typeof Te=="function")return R2(Te)?1:0;if(Te!=null){if(Te=Te.$$typeof,Te===fn)return 11;if(Te===dn)return 14}return 2}function Of(Te,De){var Ke=Te.alternate;return Ke===null?(Ke=Mu(Te.tag,De,Te.key,Te.mode),Ke.elementType=Te.elementType,Ke.type=Te.type,Ke.stateNode=Te.stateNode,Ke.alternate=Te,Te.alternate=Ke):(Ke.pendingProps=De,Ke.type=Te.type,Ke.flags=0,Ke.subtreeFlags=0,Ke.deletions=null),Ke.flags=Te.flags&14680064,Ke.childLanes=Te.childLanes,Ke.lanes=Te.lanes,Ke.child=Te.child,Ke.memoizedProps=Te.memoizedProps,Ke.memoizedState=Te.memoizedState,Ke.updateQueue=Te.updateQueue,De=Te.dependencies,Ke.dependencies=De===null?null:{lanes:De.lanes,firstContext:De.firstContext},Ke.sibling=Te.sibling,Ke.index=Te.index,Ke.ref=Te.ref,Ke}function lv(Te,De,Ke,en,mn,En){var Xn=2;if(en=Te,typeof Te=="function")R2(Te)&&(Xn=1);else if(typeof Te=="string")Xn=5;else e:switch(Te){case Qe:return Fp(Ke.children,mn,En,De);case Ze:Xn=8,mn|=8;break;case on:return Te=Mu(12,Ke,De,mn|2),Te.elementType=on,Te.lanes=En,Te;case nn:return Te=Mu(13,Ke,De,mn),Te.elementType=nn,Te.lanes=En,Te;case cn:return Te=Mu(19,Ke,De,mn),Te.elementType=cn,Te.lanes=En,Te;case pn:return cv(Ke,mn,En,De);default:if(typeof Te=="object"&&Te!==null)switch(Te.$$typeof){case an:Xn=10;break e;case rn:Xn=9;break e;case fn:Xn=11;break e;case dn:Xn=14;break e;case bn:Xn=16,en=null;break e}throw Error(t(130,Te==null?Te:typeof Te,""))}return De=Mu(Xn,Ke,De,mn),De.elementType=Te,De.type=en,De.lanes=En,De}function Fp(Te,De,Ke,en){return Te=Mu(7,Te,en,De),Te.lanes=Ke,Te}function cv(Te,De,Ke,en){return Te=Mu(22,Te,en,De),Te.elementType=pn,Te.lanes=Ke,Te.stateNode={isHidden:!1},Te}function D2(Te,De,Ke){return Te=Mu(6,Te,null,De),Te.lanes=Ke,Te}function N2(Te,De,Ke){return De=Mu(4,Te.children!==null?Te.children:[],Te.key,De),De.lanes=Ke,De.stateNode={containerInfo:Te.containerInfo,pendingChildren:null,implementation:Te.implementation},De}function $w(Te,De,Ke,en,mn){this.tag=De,this.containerInfo=Te,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Do(0),this.expirationTimes=Do(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.identifierPrefix=en,this.onRecoverableError=mn,this.mutableSourceEagerHydrationData=null}function L2(Te,De,Ke,en,mn,En,Xn,pr,br){return Te=new $w(Te,De,Ke,pr,br),De===1?(De=1,En===!0&&(De|=8)):De=0,En=Mu(3,null,null,De),Te.current=En,En.stateNode=Te,En.memoizedState={element:en,isDehydrated:Ke,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(En),Te}function eS(Te,De,Ke){var en=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Je,key:en==null?null:""+en,children:Te,containerInfo:De,implementation:Ke}}function D5(Te){if(!Te)return rc;Te=Te._reactInternals;e:{if(ks(Te)!==Te||Te.tag!==1)throw Error(t(170));var De=Te;do{switch(De.tag){case 3:De=De.stateNode.context;break e;case 1:if(xo(De.type)){De=De.stateNode.__reactInternalMemoizedMergedChildContext;break e}}De=De.return}while(De!==null);throw Error(t(171))}if(Te.tag===1){var Ke=Te.type;if(xo(Ke))return xf(Te,Ke,De)}return De}function N5(Te,De,Ke,en,mn,En,Xn,pr,br){return Te=L2(Ke,en,!0,Te,mn,En,Xn,pr,br),Te.context=D5(null),Ke=Te.current,en=oc(),mn=Lf(Ke),En=ic(en,mn),En.callback=De??null,ml(Ke,En,mn),Te.current.lanes=mn,fu(Te,mn,en),Nc(Te,en),Te}function uv(Te,De,Ke,en){var mn=De.current,En=oc(),Xn=Lf(mn);return Ke=D5(Ke),De.context===null?De.context=Ke:De.pendingContext=Ke,De=ic(En,Xn),De.payload={element:Te},en=en===void 0?null:en,en!==null&&(De.callback=en),Te=ml(mn,De,Xn),Te!==null&&(mh(Te,mn,Xn,En),Tu(Te,mn,Xn)),Xn}function hv(Te){if(Te=Te.current,!Te.child)return null;switch(Te.child.tag){case 5:return Te.child.stateNode;default:return Te.child.stateNode}}function L5(Te,De){if(Te=Te.memoizedState,Te!==null&&Te.dehydrated!==null){var Ke=Te.retryLane;Te.retryLane=Ke!==0&&Ke<De?Ke:De}}function I2(Te,De){L5(Te,De),(Te=Te.alternate)&&L5(Te,De)}var I5=typeof reportError=="function"?reportError:function(Te){console.error(Te)};function O2(Te){this._internalRoot=Te}dv.prototype.render=O2.prototype.render=function(Te){var De=this._internalRoot;if(De===null)throw Error(t(409));uv(Te,De,null,null)},dv.prototype.unmount=O2.prototype.unmount=function(){var Te=this._internalRoot;if(Te!==null){this._internalRoot=null;var De=Te.containerInfo;Cp(function(){uv(null,Te,null,null)}),De[oo]=null}};function dv(Te){this._internalRoot=Te}dv.prototype.unstable_scheduleHydration=function(Te){if(Te){var De=gc();Te={blockedOn:null,target:Te,priority:De};for(var Ke=0;Ke<Tl.length&&De!==0&&De<Tl[Ke].priority;Ke++);Tl.splice(Ke,0,Te),Ke===0&&yu(Te)}};function M2(Te){return!(!Te||Te.nodeType!==1&&Te.nodeType!==9&&Te.nodeType!==11)}function fv(Te){return!(!Te||Te.nodeType!==1&&Te.nodeType!==9&&Te.nodeType!==11&&(Te.nodeType!==8||Te.nodeValue!==" react-mount-point-unstable "))}function O5(){}function tS(Te,De,Ke,en,mn){if(mn){if(typeof en=="function"){var En=en;en=function(){var qr=hv(Xn);En.call(qr)}}var Xn=N5(De,en,Te,0,null,!1,!1,"",O5);return Te._reactRootContainer=Xn,Te[oo]=Xn.current,Kc(Te.nodeType===8?Te.parentNode:Te),Cp(),Xn}for(;mn=Te.lastChild;)Te.removeChild(mn);if(typeof en=="function"){var pr=en;en=function(){var qr=hv(br);pr.call(qr)}}var br=L2(Te,0,!1,null,null,!1,!1,"",O5);return Te._reactRootContainer=br,Te[oo]=br.current,Kc(Te.nodeType===8?Te.parentNode:Te),Cp(function(){uv(De,br,Ke,en)}),br}function pv(Te,De,Ke,en,mn){var En=Ke._reactRootContainer;if(En){var Xn=En;if(typeof mn=="function"){var pr=mn;mn=function(){var br=hv(Xn);pr.call(br)}}uv(De,Xn,Te,mn)}else Xn=tS(Ke,De,Te,mn,en);return hv(Xn)}pu=function(Te){switch(Te.tag){case 3:var De=Te.stateNode;if(De.current.memoizedState.isDehydrated){var Ke=ya(De.pendingLanes);Ke!==0&&(Ih(De,Ke|1),Nc(De,ea()),!(As&6)&&(W0=ea()+500,yn()))}break;case 13:Cp(function(){var en=Pa(Te,1);if(en!==null){var mn=oc();mh(en,Te,1,mn)}}),I2(Te,1)}},gu=function(Te){if(Te.tag===13){var De=Pa(Te,134217728);if(De!==null){var Ke=oc();mh(De,Te,134217728,Ke)}I2(Te,134217728)}},vf=function(Te){if(Te.tag===13){var De=Lf(Te),Ke=Pa(Te,De);if(Ke!==null){var en=oc();mh(Ke,Te,De,en)}I2(Te,De)}},gc=function(){return es},qc=function(Te,De){var Ke=es;try{return es=Te,De()}finally{es=Ke}},An=function(Te,De,Ke){switch(De){case"input":if(Vn(Te,Ke),De=Ke.name,Ke.type==="radio"&&De!=null){for(Ke=Te;Ke.parentNode;)Ke=Ke.parentNode;for(Ke=Ke.querySelectorAll("input[name="+JSON.stringify(""+De)+'][type="radio"]'),De=0;De<Ke.length;De++){var en=Ke[De];if(en!==Te&&en.form===Te.form){var mn=Oa(en);if(!mn)throw Error(t(90));Cn(en),Vn(en,mn)}}}break;case"textarea":yr(Te,Ke);break;case"select":De=Ke.value,De!=null&&Kn(Te,!!Ke.multiple,De,!1)}},ui=F2,Qr=Cp;var nS={usingClientEntryPoint:!1,Events:[Kh,Aa,Oa,fr,wr,F2]},d1={findFiberByHostInstance:Yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rS={bundleType:d1.bundleType,version:d1.version,rendererPackageName:d1.rendererPackageName,rendererConfig:d1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(Te){return Te=hu(Te),Te===null?null:Te.stateNode},findFiberByHostInstance:d1.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{Fl=gv.inject(rS),ka=gv}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nS,reactDom_production_min.createPortal=function(Te,De){var Ke=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M2(De))throw Error(t(200));return eS(Te,De,null,Ke)},reactDom_production_min.createRoot=function(Te,De){if(!M2(Te))throw Error(t(299));var Ke=!1,en="",mn=I5;return De!=null&&(De.unstable_strictMode===!0&&(Ke=!0),De.identifierPrefix!==void 0&&(en=De.identifierPrefix),De.onRecoverableError!==void 0&&(mn=De.onRecoverableError)),De=L2(Te,1,!1,null,null,Ke,!1,en,mn),Te[oo]=De.current,Kc(Te.nodeType===8?Te.parentNode:Te),new O2(De)},reactDom_production_min.findDOMNode=function(Te){if(Te==null)return null;if(Te.nodeType===1)return Te;var De=Te._reactInternals;if(De===void 0)throw typeof Te.render=="function"?Error(t(188)):(Te=Object.keys(Te).join(","),Error(t(268,Te)));return Te=hu(De),Te=Te===null?null:Te.stateNode,Te},reactDom_production_min.flushSync=function(Te){return Cp(Te)},reactDom_production_min.hydrate=function(Te,De,Ke){if(!fv(De))throw Error(t(200));return pv(null,Te,De,!0,Ke)},reactDom_production_min.hydrateRoot=function(Te,De,Ke){if(!M2(Te))throw Error(t(405));var en=Ke!=null&&Ke.hydratedSources||null,mn=!1,En="",Xn=I5;if(Ke!=null&&(Ke.unstable_strictMode===!0&&(mn=!0),Ke.identifierPrefix!==void 0&&(En=Ke.identifierPrefix),Ke.onRecoverableError!==void 0&&(Xn=Ke.onRecoverableError)),De=N5(De,null,Te,1,Ke??null,mn,!1,En,Xn),Te[oo]=De.current,Kc(Te),en)for(Te=0;Te<en.length;Te++)Ke=en[Te],mn=Ke._getVersion,mn=mn(Ke._source),De.mutableSourceEagerHydrationData==null?De.mutableSourceEagerHydrationData=[Ke,mn]:De.mutableSourceEagerHydrationData.push(Ke,mn);return new dv(De)},reactDom_production_min.render=function(Te,De,Ke){if(!fv(De))throw Error(t(200));return pv(null,Te,De,!1,Ke)},reactDom_production_min.unmountComponentAtNode=function(Te){if(!fv(Te))throw Error(t(40));return Te._reactRootContainer?(Cp(function(){pv(null,null,Te,!1,function(){Te._reactRootContainer=null,Te[oo]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=F2,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(Te,De,Ke,en){if(!fv(Ke))throw Error(t(200));if(Te==null||Te._reactInternals===void 0)throw Error(t(38));return pv(Te,De,Ke,!1,en)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function xe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xe)}catch(e){console.error(e)}}return xe(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var xe=requireReactDom();return client.createRoot=xe.createRoot,client.hydrateRoot=xe.hydrateRoot,client}var clientExports=requireClient();function commonjsRequire(xe){throw new Error('Could not dynamically require "'+xe+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(e,t){module.exports=t()})(globalThis,()=>(()=>{var __webpack_modules__=[,(xe,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=xn,e.bytesToString=Tn,e.createPromiseCapability=ei,e.createValidAbsoluteUrl=sn,e.getModificationDate=Yr,e.getVerbosityLevel=pn,e.info=_n,e.isArrayBuffer=jr,e.isArrayEqual=Vr,e.objectFromMap=Vn,e.objectSize=wn,e.setVerbosityLevel=bn,e.shadow=gn,e.string32=In,e.stringToBytes=qn,e.stringToPDFString=yr,e.stringToUTF8String=xr,e.unreachable=Un,e.utf8StringToString=Nr,e.warn=Nn;const t=[1,0,0,1,0,0];e.IDENTITY_MATRIX=t;const Se=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=Se;const _e=1.35;e.LINE_FACTOR=_e;const Ae=.35;e.LINE_DESCENT_FACTOR=Ae;const Ce=Ae/_e;e.BASELINE_FACTOR=Ce;const Pe={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=Pe;const Ee={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=Ee;const Fe="pdfjs_internal_editor_";e.AnnotationEditorPrefix=Fe;const ke={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=ke;const Ie={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=Ie;const Oe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=Oe;const Re={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=Re;const Be={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=Be;const je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=je;const He={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=He;const Ge={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=Ge;const Ve={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=Ve;const ze={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=ze;const Xe={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=Xe;const We={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=We;const Je={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=Je;const Qe={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=Qe;const Ze={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=Ze;const on={O:"PageOpen",C:"PageClose"};e.PageActionEventType=on;const an={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=an;const rn={NONE:0,BINARY:1};e.CMapCompressionType=rn;const fn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=fn;const nn={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=nn;const cn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=cn;let dn=an.WARNINGS;function bn(Ln){Number.isInteger(Ln)&&(dn=Ln)}function pn(){return dn}function _n(Ln){dn>=an.INFOS&&console.log(`Info: ${Ln}`)}function Nn(Ln){dn>=an.WARNINGS&&console.log(`Warning: ${Ln}`)}function Un(Ln){throw new Error(Ln)}function xn(Ln,ar){Ln||Un(ar)}function St(Ln){if(!Ln)return!1;switch(Ln.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sn(Ln,ar=null,sr=null){if(!Ln)return null;try{if(sr&&typeof Ln=="string"){if(sr.addDefaultProtocol&&Ln.startsWith("www.")){const dr=Ln.match(/\./g);dr&&dr.length>=2&&(Ln=`http://${Ln}`)}if(sr.tryConvertEncoding)try{Ln=xr(Ln)}catch{}}const Tr=ar?new URL(Ln,ar):new URL(Ln);if(St(Tr))return Tr}catch{}return null}function gn(Ln,ar,sr,Tr=!1){return Object.defineProperty(Ln,ar,{value:sr,enumerable:!Tr,configurable:!0,writable:!1}),sr}const Pn=function(){function ar(sr,Tr){this.constructor===ar&&Un("Cannot initialize BaseException."),this.message=sr,this.name=Tr}return ar.prototype=new Error,ar.constructor=ar,ar}();e.BaseException=Pn;class Fn extends Pn{constructor(ar,sr){super(ar,"PasswordException"),this.code=sr}}e.PasswordException=Fn;class vn extends Pn{constructor(ar,sr){super(ar,"UnknownErrorException"),this.details=sr}}e.UnknownErrorException=vn;class kn extends Pn{constructor(ar){super(ar,"InvalidPDFException")}}e.InvalidPDFException=kn;class Bn extends Pn{constructor(ar){super(ar,"MissingPDFException")}}e.MissingPDFException=Bn;class er extends Pn{constructor(ar,sr){super(ar,"UnexpectedResponseException"),this.status=sr}}e.UnexpectedResponseException=er;class Zn extends Pn{constructor(ar){super(ar,"FormatError")}}e.FormatError=Zn;class Cn extends Pn{constructor(ar){super(ar,"AbortException")}}e.AbortException=Cn;function Tn(Ln){(typeof Ln!="object"||Ln===null||Ln.length===void 0)&&Un("Invalid argument for bytesToString");const ar=Ln.length,sr=8192;if(ar<sr)return String.fromCharCode.apply(null,Ln);const Tr=[];for(let dr=0;dr<ar;dr+=sr){const Pr=Math.min(dr+sr,ar),Hn=Ln.subarray(dr,Pr);Tr.push(String.fromCharCode.apply(null,Hn))}return Tr.join("")}function qn(Ln){typeof Ln!="string"&&Un("Invalid argument for stringToBytes");const ar=Ln.length,sr=new Uint8Array(ar);for(let Tr=0;Tr<ar;++Tr)sr[Tr]=Ln.charCodeAt(Tr)&255;return sr}function In(Ln){return String.fromCharCode(Ln>>24&255,Ln>>16&255,Ln>>8&255,Ln&255)}function wn(Ln){return Object.keys(Ln).length}function Vn(Ln){const ar=Object.create(null);for(const[sr,Tr]of Ln)ar[sr]=Tr;return ar}function Yn(){const Ln=new Uint8Array(4);return Ln[0]=1,new Uint32Array(Ln.buffer,0,1)[0]===1}function tr(){try{return new Function(""),!0}catch{return!1}}class cr{static get isLittleEndian(){return gn(this,"isLittleEndian",Yn())}static get isEvalSupported(){return gn(this,"isEvalSupported",tr())}static get isOffscreenCanvasSupported(){return gn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?gn(this,"platform",{isWin:!1,isMac:!1}):gn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}e.FeatureTest=cr;const Kn=[...Array(256).keys()].map(Ln=>Ln.toString(16).padStart(2,"0"));class rr{static makeHexColor(ar,sr,Tr){return`#${Kn[ar]}${Kn[sr]}${Kn[Tr]}`}static scaleMinMax(ar,sr){let Tr;ar[0]?(ar[0]<0&&(Tr=sr[0],sr[0]=sr[1],sr[1]=Tr),sr[0]*=ar[0],sr[1]*=ar[0],ar[3]<0&&(Tr=sr[2],sr[2]=sr[3],sr[3]=Tr),sr[2]*=ar[3],sr[3]*=ar[3]):(Tr=sr[0],sr[0]=sr[2],sr[2]=Tr,Tr=sr[1],sr[1]=sr[3],sr[3]=Tr,ar[1]<0&&(Tr=sr[2],sr[2]=sr[3],sr[3]=Tr),sr[2]*=ar[1],sr[3]*=ar[1],ar[2]<0&&(Tr=sr[0],sr[0]=sr[1],sr[1]=Tr),sr[0]*=ar[2],sr[1]*=ar[2]),sr[0]+=ar[4],sr[1]+=ar[4],sr[2]+=ar[5],sr[3]+=ar[5]}static transform(ar,sr){return[ar[0]*sr[0]+ar[2]*sr[1],ar[1]*sr[0]+ar[3]*sr[1],ar[0]*sr[2]+ar[2]*sr[3],ar[1]*sr[2]+ar[3]*sr[3],ar[0]*sr[4]+ar[2]*sr[5]+ar[4],ar[1]*sr[4]+ar[3]*sr[5]+ar[5]]}static applyTransform(ar,sr){const Tr=ar[0]*sr[0]+ar[1]*sr[2]+sr[4],dr=ar[0]*sr[1]+ar[1]*sr[3]+sr[5];return[Tr,dr]}static applyInverseTransform(ar,sr){const Tr=sr[0]*sr[3]-sr[1]*sr[2],dr=(ar[0]*sr[3]-ar[1]*sr[2]+sr[2]*sr[5]-sr[4]*sr[3])/Tr,Pr=(-ar[0]*sr[1]+ar[1]*sr[0]+sr[4]*sr[1]-sr[5]*sr[0])/Tr;return[dr,Pr]}static getAxialAlignedBoundingBox(ar,sr){const Tr=rr.applyTransform(ar,sr),dr=rr.applyTransform(ar.slice(2,4),sr),Pr=rr.applyTransform([ar[0],ar[3]],sr),Hn=rr.applyTransform([ar[2],ar[1]],sr);return[Math.min(Tr[0],dr[0],Pr[0],Hn[0]),Math.min(Tr[1],dr[1],Pr[1],Hn[1]),Math.max(Tr[0],dr[0],Pr[0],Hn[0]),Math.max(Tr[1],dr[1],Pr[1],Hn[1])]}static inverseTransform(ar){const sr=ar[0]*ar[3]-ar[1]*ar[2];return[ar[3]/sr,-ar[1]/sr,-ar[2]/sr,ar[0]/sr,(ar[2]*ar[5]-ar[4]*ar[3])/sr,(ar[4]*ar[1]-ar[5]*ar[0])/sr]}static singularValueDecompose2dScale(ar){const sr=[ar[0],ar[2],ar[1],ar[3]],Tr=ar[0]*sr[0]+ar[1]*sr[2],dr=ar[0]*sr[1]+ar[1]*sr[3],Pr=ar[2]*sr[0]+ar[3]*sr[2],Hn=ar[2]*sr[1]+ar[3]*sr[3],Br=(Tr+Hn)/2,di=Math.sqrt((Tr+Hn)**2-4*(Tr*Hn-Pr*dr))/2,An=Br+di||1,Er=Br-di||1;return[Math.sqrt(An),Math.sqrt(Er)]}static normalizeRect(ar){const sr=ar.slice(0);return ar[0]>ar[2]&&(sr[0]=ar[2],sr[2]=ar[0]),ar[1]>ar[3]&&(sr[1]=ar[3],sr[3]=ar[1]),sr}static intersect(ar,sr){const Tr=Math.max(Math.min(ar[0],ar[2]),Math.min(sr[0],sr[2])),dr=Math.min(Math.max(ar[0],ar[2]),Math.max(sr[0],sr[2]));if(Tr>dr)return null;const Pr=Math.max(Math.min(ar[1],ar[3]),Math.min(sr[1],sr[3])),Hn=Math.min(Math.max(ar[1],ar[3]),Math.max(sr[1],sr[3]));return Pr>Hn?null:[Tr,Pr,dr,Hn]}static bezierBoundingBox(ar,sr,Tr,dr,Pr,Hn,Br,di){const An=[],Er=[[],[]];let Lr,Qn,fr,wr,ui,Qr,ri,ki;for(let Vi=0;Vi<2;++Vi){if(Vi===0?(Qn=6*ar-12*Tr+6*Pr,Lr=-3*ar+9*Tr-9*Pr+3*Br,fr=3*Tr-3*ar):(Qn=6*sr-12*dr+6*Hn,Lr=-3*sr+9*dr-9*Hn+3*di,fr=3*dr-3*sr),Math.abs(Lr)<1e-12){if(Math.abs(Qn)<1e-12)continue;wr=-fr/Qn,0<wr&&wr<1&&An.push(wr);continue}ri=Qn*Qn-4*fr*Lr,ki=Math.sqrt(ri),!(ri<0)&&(ui=(-Qn+ki)/(2*Lr),0<ui&&ui<1&&An.push(ui),Qr=(-Qn-ki)/(2*Lr),0<Qr&&Qr<1&&An.push(Qr))}let gi=An.length,Ri;const Fi=gi;for(;gi--;)wr=An[gi],Ri=1-wr,Er[0][gi]=Ri*Ri*Ri*ar+3*Ri*Ri*wr*Tr+3*Ri*wr*wr*Pr+wr*wr*wr*Br,Er[1][gi]=Ri*Ri*Ri*sr+3*Ri*Ri*wr*dr+3*Ri*wr*wr*Hn+wr*wr*wr*di;return Er[0][Fi]=ar,Er[1][Fi]=sr,Er[0][Fi+1]=Br,Er[1][Fi+1]=di,Er[0].length=Er[1].length=Fi+2,[Math.min(...Er[0]),Math.min(...Er[1]),Math.max(...Er[0]),Math.max(...Er[1])]}}e.Util=rr;const ir=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function yr(Ln){if(Ln[0]>=""){let sr;if(Ln[0]===""&&Ln[1]===""?sr="utf-16be":Ln[0]===""&&Ln[1]===""?sr="utf-16le":Ln[0]===""&&Ln[1]===""&&Ln[2]===""&&(sr="utf-8"),sr)try{const Tr=new TextDecoder(sr,{fatal:!0}),dr=qn(Ln);return Tr.decode(dr)}catch(Tr){Nn(`stringToPDFString: "${Tr}".`)}}const ar=[];for(let sr=0,Tr=Ln.length;sr<Tr;sr++){const dr=ir[Ln.charCodeAt(sr)];ar.push(dr?String.fromCharCode(dr):Ln.charAt(sr))}return ar.join("")}function xr(Ln){return decodeURIComponent(escape(Ln))}function Nr(Ln){return unescape(encodeURIComponent(Ln))}function jr(Ln){return typeof Ln=="object"&&Ln!==null&&Ln.byteLength!==void 0}function Vr(Ln,ar){if(Ln.length!==ar.length)return!1;for(let sr=0,Tr=Ln.length;sr<Tr;sr++)if(Ln[sr]!==ar[sr])return!1;return!0}function Yr(Ln=new Date){return[Ln.getUTCFullYear().toString(),(Ln.getUTCMonth()+1).toString().padStart(2,"0"),Ln.getUTCDate().toString().padStart(2,"0"),Ln.getUTCHours().toString().padStart(2,"0"),Ln.getUTCMinutes().toString().padStart(2,"0"),Ln.getUTCSeconds().toString().padStart(2,"0")].join("")}function ei(){const Ln=Object.create(null);let ar=!1;return Object.defineProperty(Ln,"settled",{get(){return ar}}),Ln.promise=new Promise(function(sr,Tr){Ln.resolve=function(dr){ar=!0,sr(dr)},Ln.reject=function(dr){ar=!0,Tr(dr)}}),Ln}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var xe,e,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,j2,Oe,Re,q2,je,He;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Ve,NodeCMapReaderFactory:ze,NodeStandardFontDataFactory:Xe}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=Ve,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=ze,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=Xe}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:Ve}=__w_pdfjs_require__(21);createPDFNetworkStream=ze=>new Ve(ze)}else{const{PDFNetworkStream:Ve}=__w_pdfjs_require__(24),{PDFFetchStream:ze}=__w_pdfjs_require__(25);createPDFNetworkStream=Xe=>(0,_display_utils.isValidFetchUrl)(Xe.url)?new ze(Xe):new Ve(Xe)}function getDocument(Ve){if(typeof Ve=="string"||Ve instanceof URL)Ve={url:Ve};else if((0,_util.isArrayBuffer)(Ve))Ve={data:Ve};else if(Ve instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),Ve={range:Ve};else if(typeof Ve!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Ve.url&&!Ve.data&&!Ve.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ze=new PDFDocumentLoadingTask,Xe=Ve.url?getUrlProp(Ve.url):null,We=Ve.data?getDataProp(Ve.data):null,Je=Ve.httpHeaders||null,Qe=Ve.withCredentials===!0,Ze=Ve.password??null,on=Ve.range instanceof PDFDataRangeTransport?Ve.range:null,an=Number.isInteger(Ve.rangeChunkSize)&&Ve.rangeChunkSize>0?Ve.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let rn=Ve.worker instanceof PDFWorker?Ve.worker:null;const fn=Ve.verbosity,nn=typeof Ve.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Ve.docBaseUrl)?Ve.docBaseUrl:null,cn=typeof Ve.cMapUrl=="string"?Ve.cMapUrl:null,dn=Ve.cMapPacked!==!1,bn=Ve.CMapReaderFactory||DefaultCMapReaderFactory,pn=typeof Ve.standardFontDataUrl=="string"?Ve.standardFontDataUrl:null,_n=Ve.StandardFontDataFactory||DefaultStandardFontDataFactory,Nn=Ve.stopAtErrors!==!0,Un=Number.isInteger(Ve.maxImageSize)&&Ve.maxImageSize>-1?Ve.maxImageSize:-1,xn=Ve.isEvalSupported!==!1,St=typeof Ve.isOffscreenCanvasSupported=="boolean"?Ve.isOffscreenCanvasSupported:!_is_node.isNodeJS,sn=typeof Ve.disableFontFace=="boolean"?Ve.disableFontFace:_is_node.isNodeJS,gn=Ve.fontExtraProperties===!0,Pn=Ve.enableXfa===!0,Fn=Ve.ownerDocument||globalThis.document,vn=Ve.disableRange===!0,kn=Ve.disableStream===!0,Bn=Ve.disableAutoFetch===!0,er=Ve.pdfBug===!0,Zn=on?on.length:Ve.length??NaN,Cn=typeof Ve.useSystemFonts=="boolean"?Ve.useSystemFonts:!_is_node.isNodeJS&&!sn,Tn=typeof Ve.useWorkerFetch=="boolean"?Ve.useWorkerFetch:bn===_display_utils.DOMCMapReaderFactory&&_n===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(cn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(pn,document.baseURI),qn=null;(0,_util.setVerbosityLevel)(fn);const In=Tn?null:{cMapReaderFactory:new bn({baseUrl:cn,isCompressed:dn}),standardFontDataFactory:new _n({baseUrl:pn})};if(!rn){const tr={verbosity:fn,port:_worker_options.GlobalWorkerOptions.workerPort};rn=tr.port?PDFWorker.fromPort(tr):new PDFWorker(tr),ze._worker=rn}const wn=ze.docId,Vn={docId:wn,apiVersion:"3.4.120",data:We,password:Ze,disableAutoFetch:Bn,rangeChunkSize:an,length:Zn,docBaseUrl:nn,enableXfa:Pn,evaluatorOptions:{maxImageSize:Un,disableFontFace:sn,ignoreErrors:Nn,isEvalSupported:xn,isOffscreenCanvasSupported:St,fontExtraProperties:gn,useSystemFonts:Cn,cMapUrl:Tn?cn:null,standardFontDataUrl:Tn?pn:null}},Yn={ignoreErrors:Nn,isEvalSupported:xn,disableFontFace:sn,fontExtraProperties:gn,enableXfa:Pn,ownerDocument:Fn,disableAutoFetch:Bn,pdfBug:er,styleElement:qn};return rn.promise.then(function(){if(ze.destroyed)throw new Error("Loading aborted");const tr=_fetchDocument(rn,Vn),cr=new Promise(function(Kn){let rr;on?rr=new _transport_stream.PDFDataTransportStream({length:Zn,initialData:on.initialData,progressiveDone:on.progressiveDone,contentDispositionFilename:on.contentDispositionFilename,disableRange:vn,disableStream:kn},on):We||(rr=createPDFNetworkStream({url:Xe,length:Zn,httpHeaders:Je,withCredentials:Qe,rangeChunkSize:an,disableRange:vn,disableStream:kn})),Kn(rr)});return Promise.all([tr,cr]).then(function([Kn,rr]){if(ze.destroyed)throw new Error("Loading aborted");const ir=new _message_handler.MessageHandler(wn,Kn,rn.port),yr=new WorkerTransport(ir,ze,rr,Yn,In);ze._transport=yr,ir.send("Ready",null)})}).catch(ze._capability.reject),ze}async function _fetchDocument(Ve,ze){if(Ve.destroyed)throw new Error("Worker was destroyed");const Xe=await Ve.messageHandler.sendWithPromise("GetDocRequest",ze,ze.data?[ze.data.buffer]:null);if(Ve.destroyed)throw new Error("Worker was destroyed");return Xe}function getUrlProp(Ve){if(Ve instanceof URL)return Ve.href;try{return new URL(Ve,window.location).href}catch{if(_is_node.isNodeJS&&typeof Ve=="string")return Ve}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Ve){if(_is_node.isNodeJS&&typeof Buffer<"u"&&Ve instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(Ve);if(Ve instanceof Uint8Array&&Ve.byteLength===Ve.buffer.byteLength)return Ve;if(typeof Ve=="string")return(0,_util.stringToBytes)(Ve);if(typeof Ve=="object"&&!isNaN(Ve==null?void 0:Ve.length)||(0,_util.isArrayBuffer)(Ve))return new Uint8Array(Ve);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class t{constructor(){jn(this,e,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Sl(t,xe)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return qe(this,e)}set onUnsupportedFeature(ze){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),Mn(this,e,ze)}get promise(){return this._capability.promise}async destroy(){var ze;this.destroyed=!0,await((ze=this._transport)==null?void 0:ze.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};xe=new WeakMap,e=new WeakMap,jn(t,xe,0);let PDFDocumentLoadingTask=t;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ze,Xe,We=!1,Je=null){this.length=ze,this.initialData=Xe,this.progressiveDone=We,this.contentDispositionFilename=Je,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(ze){this._rangeListeners.push(ze)}addProgressListener(ze){this._progressListeners.push(ze)}addProgressiveReadListener(ze){this._progressiveReadListeners.push(ze)}addProgressiveDoneListener(ze){this._progressiveDoneListeners.push(ze)}onDataRange(ze,Xe){for(const We of this._rangeListeners)We(ze,Xe)}onDataProgress(ze,Xe){this._readyCapability.promise.then(()=>{for(const We of this._progressListeners)We(ze,Xe)})}onDataProgressiveRead(ze){this._readyCapability.promise.then(()=>{for(const Xe of this._progressiveReadListeners)Xe(ze)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ze of this._progressiveDoneListeners)ze()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ze,Xe){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ze,Xe){this._pdfInfo=ze,this._transport=Xe}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ze){return this._transport.getPage(ze)}getPageIndex(ze){return this._transport.getPageIndex(ze)}getDestinations(){return this._transport.getDestinations()}getDestination(ze){return this._transport.getDestination(ze)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ze=!1){return this._transport.startCleanup(ze||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ze,Xe,We,Je,Qe=!1){this._pageIndex=ze,this._pageInfo=Xe,this._ownerDocument=Je,this._transport=We,this._stats=Qe?new _display_utils.StatTimer:null,this._pdfBug=Qe,this.commonObjs=We.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ze,rotation:Xe=this.rotate,offsetX:We=0,offsetY:Je=0,dontFlip:Qe=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ze,rotation:Xe,offsetX:We,offsetY:Je,dontFlip:Qe})}getAnnotations({intent:ze="display"}={}){const Xe=this._transport.getRenderingIntent(ze);return this._transport.getAnnotations(this._pageIndex,Xe.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ze;return((ze=this._transport._htmlForXfa)==null?void 0:ze.children[this._pageIndex])||null}render({canvasContext:ze,viewport:Xe,intent:We="display",annotationMode:Je=_util.AnnotationMode.ENABLE,transform:Qe=null,canvasFactory:Ze=null,background:on=null,optionalContentConfigPromise:an=null,annotationCanvasMap:rn=null,pageColors:fn=null,printAnnotationStorage:nn=null}){var xn,St;(xn=this._stats)==null||xn.time("Overall");const cn=this._transport.getRenderingIntent(We,Je,nn);this.pendingCleanup=!1,an||(an=this._transport.getOptionalContentConfig());let dn=this._intentStates.get(cn.cacheKey);dn||(dn=Object.create(null),this._intentStates.set(cn.cacheKey,dn)),dn.streamReaderCancelTimeout&&(clearTimeout(dn.streamReaderCancelTimeout),dn.streamReaderCancelTimeout=null);const bn=Ze||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),pn=!!(cn.renderingIntent&_util.RenderingIntentFlag.PRINT);dn.displayReadyCapability||(dn.displayReadyCapability=(0,_util.createPromiseCapability)(),dn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(St=this._stats)==null||St.time("Page Request"),this._pumpOperatorList(cn));const _n=sn=>{var gn,Pn;dn.renderTasks.delete(Nn),(this.cleanupAfterRender||pn)&&(this.pendingCleanup=!0),this._tryCleanup(),sn?(Nn.capability.reject(sn),this._abortOperatorList({intentState:dn,reason:sn instanceof Error?sn:new Error(sn)})):Nn.capability.resolve(),(gn=this._stats)==null||gn.timeEnd("Rendering"),(Pn=this._stats)==null||Pn.timeEnd("Overall")},Nn=new InternalRenderTask({callback:_n,params:{canvasContext:ze,viewport:Xe,transform:Qe,background:on},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:rn,operatorList:dn.operatorList,pageIndex:this._pageIndex,canvasFactory:bn,useRequestAnimationFrame:!pn,pdfBug:this._pdfBug,pageColors:fn});(dn.renderTasks||(dn.renderTasks=new Set)).add(Nn);const Un=Nn.task;return Promise.all([dn.displayReadyCapability.promise,an]).then(([sn,gn])=>{var Pn;if(this.pendingCleanup){_n();return}(Pn=this._stats)==null||Pn.time("Rendering"),Nn.initializeGraphics({transparency:sn,optionalContentConfig:gn}),Nn.operatorListChanged()}).catch(_n),Un}getOperatorList({intent:ze="display",annotationMode:Xe=_util.AnnotationMode.ENABLE,printAnnotationStorage:We=null}={}){var an;function Je(){Ze.operatorList.lastChunk&&(Ze.opListReadCapability.resolve(Ze.operatorList),Ze.renderTasks.delete(on))}const Qe=this._transport.getRenderingIntent(ze,Xe,We,!0);let Ze=this._intentStates.get(Qe.cacheKey);Ze||(Ze=Object.create(null),this._intentStates.set(Qe.cacheKey,Ze));let on;return Ze.opListReadCapability||(on=Object.create(null),on.operatorListChanged=Je,Ze.opListReadCapability=(0,_util.createPromiseCapability)(),(Ze.renderTasks||(Ze.renderTasks=new Set)).add(on),Ze.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(an=this._stats)==null||an.time("Page Request"),this._pumpOperatorList(Qe)),Ze.opListReadCapability.promise}streamTextContent({disableCombineTextItems:ze=!1,includeMarkedContent:Xe=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:ze!==!0,includeMarkedContent:Xe===!0},{highWaterMark:100,size(Je){return Je.items.length}})}getTextContent(ze={}){if(this._transport._htmlForXfa)return this.getXfa().then(We=>_xfa_text.XfaText.textContent(We));const Xe=this.streamTextContent(ze);return new Promise(function(We,Je){function Qe(){Ze.read().then(function({value:an,done:rn}){if(rn){We(on);return}Object.assign(on.styles,an.styles),on.items.push(...an.items),Qe()},Je)}const Ze=Xe.getReader(),on={items:[],styles:Object.create(null)};Qe()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ze=[];for(const Xe of this._intentStates.values())if(this._abortOperatorList({intentState:Xe,reason:new Error("Page was destroyed."),force:!0}),!Xe.opListReadCapability)for(const We of Xe.renderTasks)ze.push(We.completed),We.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(ze)}cleanup(ze=!1){return this.pendingCleanup=!0,this._tryCleanup(ze)}_tryCleanup(ze=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:Xe,operatorList:We}of this._intentStates.values())if(Xe.size>0||!We.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ze&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(ze,Xe){var Je,Qe;const We=this._intentStates.get(Xe);We&&((Je=this._stats)==null||Je.timeEnd("Page Request"),(Qe=We.displayReadyCapability)==null||Qe.resolve(ze))}_renderPageChunk(ze,Xe){for(let We=0,Je=ze.length;We<Je;We++)Xe.operatorList.fnArray.push(ze.fnArray[We]),Xe.operatorList.argsArray.push(ze.argsArray[We]);Xe.operatorList.lastChunk=ze.lastChunk,Xe.operatorList.separateAnnots=ze.separateAnnots;for(const We of Xe.renderTasks)We.operatorListChanged();ze.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:ze,cacheKey:Xe,annotationStorageMap:We}){const Qe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ze,cacheKey:Xe,annotationStorage:We}).getReader(),Ze=this._intentStates.get(Xe);Ze.streamReader=Qe;const on=()=>{Qe.read().then(({value:an,done:rn})=>{if(rn){Ze.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(an,Ze),on())},an=>{if(Ze.streamReader=null,!this._transport.destroyed){if(Ze.operatorList){Ze.operatorList.lastChunk=!0;for(const rn of Ze.renderTasks)rn.operatorListChanged();this._tryCleanup()}if(Ze.displayReadyCapability)Ze.displayReadyCapability.reject(an);else if(Ze.opListReadCapability)Ze.opListReadCapability.reject(an);else throw an}})};on()}_abortOperatorList({intentState:ze,reason:Xe,force:We=!1}){if(ze.streamReader){if(ze.streamReaderCancelTimeout&&(clearTimeout(ze.streamReaderCancelTimeout),ze.streamReaderCancelTimeout=null),!We){if(ze.renderTasks.size>0)return;if(Xe instanceof _display_utils.RenderingCancelledException){let Je=RENDERING_CANCELLED_TIMEOUT;Xe.extraDelay>0&&Xe.extraDelay<1e3&&(Je+=Xe.extraDelay),ze.streamReaderCancelTimeout=setTimeout(()=>{ze.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ze,reason:Xe,force:!0})},Je);return}}if(ze.streamReader.cancel(new _util.AbortException(Xe.message)).catch(()=>{}),ze.streamReader=null,!this._transport.destroyed){for(const[Je,Qe]of this._intentStates)if(Qe===ze){this._intentStates.delete(Je);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){jn(this,Se,new Set);jn(this,_e,Promise.resolve())}postMessage(ze,Xe){const We={data:structuredClone(ze,Xe)};qe(this,_e).then(()=>{for(const Je of qe(this,Se))Je.call(this,We)})}addEventListener(ze,Xe){qe(this,Se).add(Xe)}removeEventListener(ze,Xe){qe(this,Se).delete(Xe)}terminate(){qe(this,Se).clear()}}Se=new WeakMap,_e=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ve=(Ae=document==null?void 0:document.currentScript)==null?void 0:Ae.src;Ve&&(PDFWorkerUtil.fallbackWorkerSrc=Ve.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ve,ze){let Xe;try{if(Xe=new URL(Ve),!Xe.origin||Xe.origin==="null")return!1}catch{return!1}const We=new URL(ze,Xe);return Xe.origin===We.origin},PDFWorkerUtil.createCDNWrapper=function(Ve){const ze=`importScripts("${Ve}");`;return URL.createObjectURL(new Blob([ze]))}}const _PDFWorker=class _PDFWorker{constructor({name:Ve=null,port:ze=null,verbosity:Xe=(0,_util.getVerbosityLevel)()}={}){if(ze&&qe(_PDFWorker,Ce).has(ze))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ve,this.destroyed=!1,this.verbosity=Xe,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,ze){qe(_PDFWorker,Ce).set(ze,this),this._initializeFromPort(ze);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ve){this._port=Ve,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ve),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Ve}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ve)||(Ve=PDFWorkerUtil.createCDNWrapper(new URL(Ve,window.location).href));const ze=new Worker(Ve),Xe=new _message_handler.MessageHandler("main","worker",ze),We=()=>{ze.removeEventListener("error",Je),Xe.destroy(),ze.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Je=()=>{this._webWorker||We()};ze.addEventListener("error",Je),Xe.on("test",Ze=>{if(ze.removeEventListener("error",Je),this.destroyed){We();return}Ze?(this._messageHandler=Xe,this._port=ze,this._webWorker=ze,this._readyCapability.resolve(),Xe.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Xe.destroy(),ze.terminate())}),Xe.on("ready",Ze=>{if(ze.removeEventListener("error",Je),this.destroyed){We();return}try{Qe()}catch{this._setupFakeWorker()}});const Qe=()=>{const Ze=new Uint8Array;Xe.send("test",Ze,[Ze.buffer])};Qe();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ve=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ze=new LoopbackPort;this._port=ze;const Xe=`fake${PDFWorkerUtil.fakeWorkerId++}`,We=new _message_handler.MessageHandler(Xe+"_worker",Xe,ze);Ve.setup(We,ze);const Je=new _message_handler.MessageHandler(Xe,Xe+"_worker",ze);this._messageHandler=Je,this._readyCapability.resolve(),Je.send("configure",{verbosity:this.verbosity})}).catch(Ve=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ve.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),qe(_PDFWorker,Ce).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ve){if(!(Ve!=null&&Ve.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return qe(this,Ce).has(Ve.port)?qe(this,Ce).get(Ve.port):new _PDFWorker(Ve)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Ve;try{return((Ve=globalThis.pdfjsWorker)==null?void 0:Ve.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Ce=new WeakMap,jn(_PDFWorker,Ce,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ze,Xe,We,Je,Qe){jn(this,ke);jn(this,Pe,new Map);jn(this,Ee,new Map);jn(this,Fe,new Map);this.messageHandler=ze,this.loadingTask=Xe,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Je.ownerDocument,styleElement:Je.styleElement}),this._params=Je,this.cMapReaderFactory=Qe==null?void 0:Qe.cMapReaderFactory,this.standardFontDataFactory=Qe==null?void 0:Qe.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=We,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ze,Xe=_util.AnnotationMode.ENABLE,We=null,Je=!1){let Qe=_util.RenderingIntentFlag.DISPLAY,Ze=null;switch(ze){case"any":Qe=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Qe=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ze}`)}switch(Xe){case _util.AnnotationMode.DISABLE:Qe+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Qe+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Qe+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ze=(Qe&_util.RenderingIntentFlag.PRINT&&We instanceof _annotation_storage.PrintAnnotationStorage?We:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Xe}`)}return Je&&(Qe+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Qe,cacheKey:`${Qe}_${_annotation_storage.AnnotationStorage.getHash(Ze)}`,annotationStorageMap:Ze}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const ze=[];for(const We of qe(this,Ee).values())ze.push(We._destroy());qe(this,Ee).clear(),qe(this,Fe).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Xe=this.messageHandler.sendWithPromise("Terminate",null);return ze.push(Xe),Promise.all(ze).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),qe(this,Pe).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ze,loadingTask:Xe}=this;ze.on("GetReader",(We,Je)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Qe=>{this._lastProgress={loaded:Qe.loaded,total:Qe.total}},Je.onPull=()=>{this._fullReader.read().then(function({value:Qe,done:Ze}){if(Ze){Je.close();return}(0,_util.assert)(Qe instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Je.enqueue(new Uint8Array(Qe),1,[Qe])}).catch(Qe=>{Je.error(Qe)})},Je.onCancel=Qe=>{this._fullReader.cancel(Qe),Je.ready.catch(Ze=>{if(!this.destroyed)throw Ze})}}),ze.on("ReaderHeadersReady",We=>{const Je=(0,_util.createPromiseCapability)(),Qe=this._fullReader;return Qe.headersReady.then(()=>{var Ze;(!Qe.isStreamingSupported||!Qe.isRangeSupported)&&(this._lastProgress&&((Ze=Xe.onProgress)==null||Ze.call(Xe,this._lastProgress)),Qe.onProgress=on=>{var an;(an=Xe.onProgress)==null||an.call(Xe,{loaded:on.loaded,total:on.total})}),Je.resolve({isStreamingSupported:Qe.isStreamingSupported,isRangeSupported:Qe.isRangeSupported,contentLength:Qe.contentLength})},Je.reject),Je.promise}),ze.on("GetRangeReader",(We,Je)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Qe=this._networkStream.getRangeReader(We.begin,We.end);if(!Qe){Je.close();return}Je.onPull=()=>{Qe.read().then(function({value:Ze,done:on}){if(on){Je.close();return}(0,_util.assert)(Ze instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Je.enqueue(new Uint8Array(Ze),1,[Ze])}).catch(Ze=>{Je.error(Ze)})},Je.onCancel=Ze=>{Qe.cancel(Ze),Je.ready.catch(on=>{if(!this.destroyed)throw on})}}),ze.on("GetDoc",({pdfInfo:We})=>{this._numPages=We.numPages,this._htmlForXfa=We.htmlForXfa,delete We.htmlForXfa,Xe._capability.resolve(new PDFDocumentProxy(We,this))}),ze.on("DocException",function(We){let Je;switch(We.name){case"PasswordException":Je=new _util.PasswordException(We.message,We.code);break;case"InvalidPDFException":Je=new _util.InvalidPDFException(We.message);break;case"MissingPDFException":Je=new _util.MissingPDFException(We.message);break;case"UnexpectedResponseException":Je=new _util.UnexpectedResponseException(We.message,We.status);break;case"UnknownErrorException":Je=new _util.UnknownErrorException(We.message,We.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Xe._capability.reject(Je)}),ze.on("PasswordRequest",We=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),Xe.onPassword){const Je=Qe=>{Qe instanceof Error?this._passwordCapability.reject(Qe):this._passwordCapability.resolve({password:Qe})};try{Xe.onPassword(Je,We.code)}catch(Qe){this._passwordCapability.reject(Qe)}}else this._passwordCapability.reject(new _util.PasswordException(We.message,We.code));return this._passwordCapability.promise}),ze.on("DataLoaded",We=>{var Je;(Je=Xe.onProgress)==null||Je.call(Xe,{loaded:We.length,total:We.length}),this.downloadInfoCapability.resolve(We)}),ze.on("StartRenderPage",We=>{if(this.destroyed)return;qe(this,Ee).get(We.pageIndex)._startRenderPage(We.transparency,We.cacheKey)}),ze.on("commonobj",([We,Je,Qe])=>{var Ze;if(!this.destroyed&&!this.commonObjs.has(We))switch(Je){case"Font":const on=this._params;if("error"in Qe){const fn=Qe.error;(0,_util.warn)(`Error during font loading: ${fn}`),this.commonObjs.resolve(We,fn);break}let an=null;on.pdfBug&&((Ze=globalThis.FontInspector)!=null&&Ze.enabled)&&(an={registerFont(fn,nn){globalThis.FontInspector.fontAdded(fn,nn)}});const rn=new _font_loader.FontFaceObject(Qe,{isEvalSupported:on.isEvalSupported,disableFontFace:on.disableFontFace,ignoreErrors:on.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:an});this.fontLoader.bind(rn).catch(fn=>ze.sendWithPromise("FontFallback",{id:We})).finally(()=>{!on.fontExtraProperties&&rn.data&&(rn.data=null),this.commonObjs.resolve(We,rn)});break;case"FontPath":case"Image":this.commonObjs.resolve(We,Qe);break;default:throw new Error(`Got unknown common object type ${Je}`)}}),ze.on("obj",([We,Je,Qe,Ze])=>{var an;if(this.destroyed)return;const on=qe(this,Ee).get(Je);if(!on.objs.has(We))switch(Qe){case"Image":on.objs.resolve(We,Ze);const rn=8e6;if(Ze){let fn;if(Ze.bitmap){const{width:nn,height:cn}=Ze;fn=nn*cn*4}else fn=((an=Ze.data)==null?void 0:an.length)||0;fn>rn&&(on.cleanupAfterRender=!0)}break;case"Pattern":on.objs.resolve(We,Ze);break;default:throw new Error(`Got unknown object type ${Qe}`)}}),ze.on("DocProgress",We=>{var Je;this.destroyed||(Je=Xe.onProgress)==null||Je.call(Xe,{loaded:We.loaded,total:We.total})}),ze.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),ze.on("FetchBuiltInCMap",We=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(We):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ze.on("FetchStandardFontData",We=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(We):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:ze}){var Xe,We;this.destroyed||(We=(Xe=this.loadingTask).onUnsupportedFeature)==null||We.call(Xe,ze)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ze;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((ze=this._fullReader)==null?void 0:ze.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(ze){if(!Number.isInteger(ze)||ze<=0||ze>this._numPages)return Promise.reject(new Error("Invalid page request."));const Xe=ze-1,We=qe(this,Fe).get(Xe);if(We)return We;const Je=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Xe}).then(Qe=>{if(this.destroyed)throw new Error("Transport destroyed");const Ze=new PDFPageProxy(Xe,Qe,this,this._params.ownerDocument,this._params.pdfBug);return qe(this,Ee).set(Xe,Ze),Ze});return qe(this,Fe).set(Xe,Je),Je}getPageIndex(ze){return typeof ze!="object"||ze===null||!Number.isInteger(ze.num)||ze.num<0||!Number.isInteger(ze.gen)||ze.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ze.num,gen:ze.gen})}getAnnotations(ze,Xe){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ze,intent:Xe})}getFieldObjects(){return On(this,ke,j2).call(this,"GetFieldObjects")}hasJSActions(){return On(this,ke,j2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ze){return typeof ze!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ze})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(ze){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ze})}getStructTree(ze){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ze})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ze=>new _optional_content_config.OptionalContentConfig(ze))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ze="GetMetadata",Xe=qe(this,Pe).get(ze);if(Xe)return Xe;const We=this.messageHandler.sendWithPromise(ze,null).then(Je=>{var Qe,Ze;return{info:Je[0],metadata:Je[1]?new _metadata.Metadata(Je[1]):null,contentDispositionFilename:((Qe=this._fullReader)==null?void 0:Qe.filename)??null,contentLength:((Ze=this._fullReader)==null?void 0:Ze.contentLength)??null}});return qe(this,Pe).set(ze,We),We}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ze=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Xe of qe(this,Ee).values())if(!Xe.cleanup())throw new Error(`startCleanup: Page ${Xe.pageNumber} is currently rendering.`);this.commonObjs.clear(),ze||this.fontLoader.clear(),qe(this,Pe).clear()}}get loadingParams(){const{disableAutoFetch:ze,enableXfa:Xe}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ze,enableXfa:Xe})}}Pe=new WeakMap,Ee=new WeakMap,Fe=new WeakMap,ke=new WeakSet,j2=function(ze,Xe=null){const We=qe(this,Pe).get(ze);if(We)return We;const Je=this.messageHandler.sendWithPromise(ze,Xe);return qe(this,Pe).set(ze,Je),Je};class PDFObjects{constructor(){jn(this,Re);jn(this,Oe,Object.create(null))}get(ze,Xe=null){if(Xe){const Je=On(this,Re,q2).call(this,ze);return Je.capability.promise.then(()=>Xe(Je.data)),null}const We=qe(this,Oe)[ze];if(!(We!=null&&We.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ze}.`);return We.data}has(ze){const Xe=qe(this,Oe)[ze];return(Xe==null?void 0:Xe.capability.settled)||!1}resolve(ze,Xe=null){const We=On(this,Re,q2).call(this,ze);We.data=Xe,We.capability.resolve()}clear(){var ze;for(const Xe in qe(this,Oe)){const{data:We}=qe(this,Oe)[Xe];(ze=We==null?void 0:We.bitmap)==null||ze.close()}Mn(this,Oe,Object.create(null))}}Oe=new WeakMap,Re=new WeakSet,q2=function(ze){const Xe=qe(this,Oe)[ze];return Xe||(qe(this,Oe)[ze]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(ze){jn(this,je,null);Mn(this,je,ze),this.onContinue=null}get promise(){return qe(this,je).capability.promise}cancel(ze=0){qe(this,je).cancel(null,ze)}get separateAnnots(){const{separateAnnots:ze}=qe(this,je).operatorList;if(!ze)return!1;const{annotationCanvasMap:Xe}=qe(this,je);return ze.form||ze.canvas&&(Xe==null?void 0:Xe.size)>0}}je=new WeakMap,exports.RenderTask=RenderTask;const Ge=class Ge{constructor({callback:ze,params:Xe,objs:We,commonObjs:Je,annotationCanvasMap:Qe,operatorList:Ze,pageIndex:on,canvasFactory:an,useRequestAnimationFrame:rn=!1,pdfBug:fn=!1,pageColors:nn=null}){this.callback=ze,this.params=Xe,this.objs=We,this.commonObjs=Je,this.annotationCanvasMap=Qe,this.operatorListIdx=null,this.operatorList=Ze,this._pageIndex=on,this.canvasFactory=an,this._pdfBug=fn,this.pageColors=nn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=rn===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Xe.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ze=!1,optionalContentConfig:Xe}){var on,an;if(this.cancelled)return;if(this._canvas){if(qe(Ge,He).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");qe(Ge,He).add(this._canvas)}this._pdfBug&&((on=globalThis.StepperManager)!=null&&on.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:We,viewport:Je,transform:Qe,background:Ze}=this.params;this.gfx=new _canvas.CanvasGraphics(We,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:Xe},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Qe,viewport:Je,transparency:ze,background:Ze}),this.operatorListIdx=0,this.graphicsReady=!0,(an=this.graphicsReadyCallback)==null||an.call(this)}cancel(ze=null,Xe=0){var We;this.running=!1,this.cancelled=!0,(We=this.gfx)==null||We.endDrawing(),this._canvas&&qe(Ge,He).delete(this._canvas),this.callback(ze||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",Xe))}operatorListChanged(){var ze;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ze=this.stepper)==null||ze.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&qe(Ge,He).delete(this._canvas),this.callback())))}};He=new WeakMap,jn(Ge,He,new WeakSet);let InternalRenderTask=Ge;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(xe,e,t)=>{var Ee,Fe,ke,j5,Oe;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var Se=t(1),_e=t(4),Ae=t(8);class Ce{constructor(){jn(this,ke);jn(this,Ee,!1);jn(this,Fe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Be,je){const He=qe(this,Fe).get(Be);return He===void 0?je:Object.assign(je,He)}getRawValue(Be){return qe(this,Fe).get(Be)}remove(Be){if(qe(this,Fe).delete(Be),qe(this,Fe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const je of qe(this,Fe).values())if(je instanceof _e.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Be,je){const He=qe(this,Fe).get(Be);let Ge=!1;if(He!==void 0)for(const[Ve,ze]of Object.entries(je))He[Ve]!==ze&&(Ge=!0,He[Ve]=ze);else Ge=!0,qe(this,Fe).set(Be,je);Ge&&On(this,ke,j5).call(this),je instanceof _e.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(je.constructor._type)}has(Be){return qe(this,Fe).has(Be)}getAll(){return qe(this,Fe).size>0?(0,Se.objectFromMap)(qe(this,Fe)):null}setAll(Be){for(const[je,He]of Object.entries(Be))this.setValue(je,He)}get size(){return qe(this,Fe).size}resetModified(){qe(this,Ee)&&(Mn(this,Ee,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Pe(this)}get serializable(){if(qe(this,Fe).size===0)return null;const Be=new Map;for(const[je,He]of qe(this,Fe)){const Ge=He instanceof _e.AnnotationEditor?He.serialize():He;Ge&&Be.set(je,Ge)}return Be}static getHash(Be){if(!Be)return"";const je=new Ae.MurmurHash3_64;for(const[He,Ge]of Be)je.update(`${He}:${JSON.stringify(Ge)}`);return je.hexdigest()}}Ee=new WeakMap,Fe=new WeakMap,ke=new WeakSet,j5=function(){qe(this,Ee)||(Mn(this,Ee,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=Ce;class Pe extends Ce{constructor(je){super();jn(this,Oe,null);Mn(this,Oe,structuredClone(je.serializable))}get print(){(0,Se.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return qe(this,Oe)}}Oe=new WeakMap,e.PrintAnnotationStorage=Pe},(xe,e,t)=>{var Ce,Pe,Ee,Fe,ke,Ie;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var Se=t(5),_e=t(1);const Oe=class Oe{constructor(Be){jn(this,Ce,this.focusin.bind(this));jn(this,Pe,this.focusout.bind(this));jn(this,Ee,!1);jn(this,Fe,!1);jn(this,ke,!1);yi(this,"_uiManager",null);jn(this,Ie,Oe._zIndex++);this.constructor===Oe&&(0,_e.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Be.parent,this.id=Be.id,this.width=this.height=null,this.pageIndex=Be.parent.pageIndex,this.name=Be.name,this.div=null,this._uiManager=Be.uiManager;const{rotation:je,rawDims:{pageWidth:He,pageHeight:Ge,pageX:Ve,pageY:ze}}=this.parent.viewport;this.rotation=je,this.pageDimensions=[He,Ge],this.pageTranslation=[Ve,ze];const[Xe,We]=this.parentDimensions;this.x=Be.x/Xe,this.y=Be.y/We,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,_e.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(Be){this._uiManager.addCommands(Be)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=qe(this,Ie)}setParent(Be){Be!==null&&(this.pageIndex=Be.pageIndex,this.pageDimensions=Be.pageDimensions),this.parent=Be}focusin(Be){qe(this,Ee)?Mn(this,Ee,!1):this.parent.setSelected(this)}focusout(Be){var He;if(!this.isAttachedToDOM)return;const je=Be.relatedTarget;je!=null&&je.closest(`#${this.id}`)||(Be.preventDefault(),(He=this.parent)!=null&&He.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(Be){const je=this.parent.div.getBoundingClientRect();this.startX=Be.clientX-je.x,this.startY=Be.clientY-je.y,Be.dataTransfer.setData("text/plain",this.id),Be.dataTransfer.effectAllowed="move"}setAt(Be,je,He,Ge){const[Ve,ze]=this.parentDimensions;[He,Ge]=this.screenToPageTranslation(He,Ge),this.x=(Be+He)/Ve,this.y=(je+Ge)/ze,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Be,je){const[He,Ge]=this.parentDimensions;[Be,je]=this.screenToPageTranslation(Be,je),this.x+=Be/He,this.y+=je/Ge,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Be,je){switch(this.parentRotation){case 90:return[je,-Be];case 180:return[-Be,-je];case 270:return[-je,Be];default:return[Be,je]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:Be}=this._uiManager.viewParameters,[je,He]=this.pageDimensions;return[je*Be,He*Be]}setDims(Be,je){const[He,Ge]=this.parentDimensions;this.div.style.width=`${100*Be/He}%`,this.div.style.height=`${100*je/Ge}%`}fixDims(){const{style:Be}=this.div,{height:je,width:He}=Be,Ge=He.endsWith("%"),Ve=je.endsWith("%");if(Ge&&Ve)return;const[ze,Xe]=this.parentDimensions;Ge||(Be.width=`${100*parseFloat(He)/ze}%`),Ve||(Be.height=`${100*parseFloat(je)/Xe}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",qe(this,Ce)),this.div.addEventListener("focusout",qe(this,Pe));const[Be,je]=this.getInitialTranslation();return this.translate(Be,je),(0,Se.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Be){const{isMac:je}=_e.FeatureTest.platform;if(Be.button!==0||Be.ctrlKey&&je){Be.preventDefault();return}Be.ctrlKey&&!je||Be.shiftKey||Be.metaKey&&je?this.parent.toggleSelected(this):this.parent.setSelected(this),Mn(this,Ee,!0)}getRect(Be,je){const He=this.parentScale,[Ge,Ve]=this.pageDimensions,[ze,Xe]=this.pageTranslation,We=Be/He,Je=je/He,Qe=this.x*Ge,Ze=this.y*Ve,on=this.width*Ge,an=this.height*Ve;switch(this.rotation){case 0:return[Qe+We+ze,Ve-Ze-Je-an+Xe,Qe+We+on+ze,Ve-Ze-Je+Xe];case 90:return[Qe+Je+ze,Ve-Ze+We+Xe,Qe+Je+an+ze,Ve-Ze+We+on+Xe];case 180:return[Qe-We-on+ze,Ve-Ze+Je+Xe,Qe-We+ze,Ve-Ze+Je+an+Xe];case 270:return[Qe-Je-an+ze,Ve-Ze-We-on+Xe,Qe-Je+ze,Ve-Ze-We+Xe];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Be,je){const[He,Ge,Ve,ze]=Be,Xe=Ve-He,We=ze-Ge;switch(this.rotation){case 0:return[He,je-ze,Xe,We];case 90:return[He,je-Ge,We,Xe];case 180:return[Ve,je-Ge,Xe,We];case 270:return[Ve,je-ze,We,Xe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Mn(this,ke,!0)}disableEditMode(){Mn(this,ke,!1)}isInEditMode(){return qe(this,ke)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Be;(Be=this.div)==null||Be.addEventListener("focusin",qe(this,Ce))}serialize(){(0,_e.unreachable)("An editor must be serializable")}static deserialize(Be,je,He){const Ge=new this.prototype.constructor({parent:je,id:je.getNextId(),uiManager:He});Ge.rotation=Be.rotation;const[Ve,ze]=Ge.pageDimensions,[Xe,We,Je,Qe]=Ge.getRectInCurrentCoords(Be.rect,ze);return Ge.x=Xe/Ve,Ge.y=We/ze,Ge.width=Je/Ve,Ge.height=Qe/ze,Ge}remove(){this.div.removeEventListener("focusin",qe(this,Ce)),this.div.removeEventListener("focusout",qe(this,Pe)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Be;(Be=this.div)==null||Be.classList.add("selectedEditor")}unselect(){var Be;(Be=this.div)==null||Be.classList.remove("selectedEditor")}updateParams(Be,je){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return qe(this,Fe)}set isEditing(Be){Mn(this,Fe,Be),Be?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};Ce=new WeakMap,Pe=new WeakMap,Ee=new WeakMap,Fe=new WeakMap,ke=new WeakMap,Ie=new WeakMap,yi(Oe,"_colorManager",new Se.ColorManager),yi(Oe,"_zIndex",1);let Ae=Oe;e.AnnotationEditor=Ae},(xe,e,t)=>{var Oe,Re,Be,je,He,Ge,q5,Xe,We,Je,Qe,Ze,on,an,rn,fn,nn,cn,dn,bn,pn,_n,Nn,Un,xn,St,sn,gn,Pn,Fn,vn,z5,z2,G5,H5,Bu,f1,V5,W5,G2,p1,H2;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=Ae,e.opacityToHex=Ce;var Se=t(1),_e=t(6);function Ae(cr,Kn,rr){for(const ir of rr)Kn.addEventListener(ir,cr[ir].bind(cr))}function Ce(cr){return Math.round(Math.min(255,Math.max(1,255*cr))).toString(16).padStart(2,"0")}class Pe{constructor(){jn(this,Oe,0)}getId(){return`${Se.AnnotationEditorPrefix}${Sl(this,Oe)._++}`}}Oe=new WeakMap;class Ee{constructor(Kn=128){jn(this,Re,[]);jn(this,Be,!1);jn(this,je);jn(this,He,-1);Mn(this,je,Kn)}add({cmd:Kn,undo:rr,mustExec:ir,type:yr=NaN,overwriteIfSameType:xr=!1,keepUndo:Nr=!1}){if(ir&&Kn(),qe(this,Be))return;const jr={cmd:Kn,undo:rr,type:yr};if(qe(this,He)===-1){qe(this,Re).length>0&&(qe(this,Re).length=0),Mn(this,He,0),qe(this,Re).push(jr);return}if(xr&&qe(this,Re)[qe(this,He)].type===yr){Nr&&(jr.undo=qe(this,Re)[qe(this,He)].undo),qe(this,Re)[qe(this,He)]=jr;return}const Vr=qe(this,He)+1;Vr===qe(this,je)?qe(this,Re).splice(0,1):(Mn(this,He,Vr),Vr<qe(this,Re).length&&qe(this,Re).splice(Vr)),qe(this,Re).push(jr)}undo(){qe(this,He)!==-1&&(Mn(this,Be,!0),qe(this,Re)[qe(this,He)].undo(),Mn(this,Be,!1),Mn(this,He,qe(this,He)-1))}redo(){qe(this,He)<qe(this,Re).length-1&&(Mn(this,He,qe(this,He)+1),Mn(this,Be,!0),qe(this,Re)[qe(this,He)].cmd(),Mn(this,Be,!1))}hasSomethingToUndo(){return qe(this,He)!==-1}hasSomethingToRedo(){return qe(this,He)<qe(this,Re).length-1}destroy(){Mn(this,Re,null)}}Re=new WeakMap,Be=new WeakMap,je=new WeakMap,He=new WeakMap,e.CommandManager=Ee;class Fe{constructor(Kn){jn(this,Ge);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:rr}=Se.FeatureTest.platform;for(const[ir,yr]of Kn)for(const xr of ir){const Nr=xr.startsWith("mac+");rr&&Nr?(this.callbacks.set(xr.slice(4),yr),this.allKeys.add(xr.split("+").at(-1))):!rr&&!Nr&&(this.callbacks.set(xr,yr),this.allKeys.add(xr.split("+").at(-1)))}}exec(Kn,rr){if(!this.allKeys.has(rr.key))return;const ir=this.callbacks.get(On(this,Ge,q5).call(this,rr));ir&&(ir.bind(Kn)(),rr.stopPropagation(),rr.preventDefault())}}Ge=new WeakSet,q5=function(Kn){Kn.altKey&&this.buffer.push("alt"),Kn.ctrlKey&&this.buffer.push("ctrl"),Kn.metaKey&&this.buffer.push("meta"),Kn.shiftKey&&this.buffer.push("shift"),this.buffer.push(Kn.key);const rr=this.buffer.join("+");return this.buffer.length=0,rr},e.KeyboardManager=Fe;const ze=class ze{get _colors(){const Kn=new Map([["CanvasText",null],["Canvas",null]]);return(0,_e.getColorValues)(Kn),(0,Se.shadow)(this,"_colors",Kn)}convert(Kn){const rr=(0,_e.getRGB)(Kn);if(!window.matchMedia("(forced-colors: active)").matches)return rr;for(const[ir,yr]of this._colors)if(yr.every((xr,Nr)=>xr===rr[Nr]))return ze._colorsMapping.get(ir);return rr}getHexCode(Kn){const rr=this._colors.get(Kn);return rr?Se.Util.makeHexColor(...rr):Kn}};yi(ze,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ke=ze;e.ColorManager=ke;const tr=class tr{constructor(Kn,rr,ir){jn(this,vn);jn(this,Xe,null);jn(this,We,new Map);jn(this,Je,new Map);jn(this,Qe,null);jn(this,Ze,new Ee);jn(this,on,0);jn(this,an,null);jn(this,rn,new Set);jn(this,fn,null);jn(this,nn,new Pe);jn(this,cn,!1);jn(this,dn,Se.AnnotationEditorType.NONE);jn(this,bn,new Set);jn(this,pn,this.copy.bind(this));jn(this,_n,this.cut.bind(this));jn(this,Nn,this.paste.bind(this));jn(this,Un,this.keydown.bind(this));jn(this,xn,this.onEditingAction.bind(this));jn(this,St,this.onPageChanging.bind(this));jn(this,sn,this.onScaleChanging.bind(this));jn(this,gn,this.onRotationChanging.bind(this));jn(this,Pn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});jn(this,Fn,null);Mn(this,Fn,Kn),Mn(this,fn,rr),qe(this,fn)._on("editingaction",qe(this,xn)),qe(this,fn)._on("pagechanging",qe(this,St)),qe(this,fn)._on("scalechanging",qe(this,sn)),qe(this,fn)._on("rotationchanging",qe(this,gn)),Mn(this,Qe,ir),this.viewParameters={realScale:_e.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){On(this,vn,z2).call(this),qe(this,fn)._off("editingaction",qe(this,xn)),qe(this,fn)._off("pagechanging",qe(this,St)),qe(this,fn)._off("scalechanging",qe(this,sn)),qe(this,fn)._off("rotationchanging",qe(this,gn));for(const Kn of qe(this,Je).values())Kn.destroy();qe(this,Je).clear(),qe(this,We).clear(),qe(this,rn).clear(),Mn(this,Xe,null),qe(this,bn).clear(),qe(this,Ze).destroy()}onPageChanging({pageNumber:Kn}){Mn(this,on,Kn-1)}focusMainContainer(){qe(this,Fn).focus()}addShouldRescale(Kn){qe(this,rn).add(Kn)}removeShouldRescale(Kn){qe(this,rn).delete(Kn)}onScaleChanging({scale:Kn}){this.commitOrRemove(),this.viewParameters.realScale=Kn*_e.PixelsPerInch.PDF_TO_CSS_UNITS;for(const rr of qe(this,rn))rr.onScaleChanging()}onRotationChanging({pagesRotation:Kn}){this.commitOrRemove(),this.viewParameters.rotation=Kn}addToAnnotationStorage(Kn){!Kn.isEmpty()&&qe(this,Qe)&&!qe(this,Qe).has(Kn.id)&&qe(this,Qe).setValue(Kn.id,Kn)}copy(Kn){if(Kn.preventDefault(),qe(this,Xe)&&qe(this,Xe).commitOrRemove(),!this.hasSelection)return;const rr=[];for(const ir of qe(this,bn))ir.isEmpty()||rr.push(ir.serialize());rr.length!==0&&Kn.clipboardData.setData("application/pdfjs",JSON.stringify(rr))}cut(Kn){this.copy(Kn),this.delete()}paste(Kn){Kn.preventDefault();let rr=Kn.clipboardData.getData("application/pdfjs");if(!rr)return;try{rr=JSON.parse(rr)}catch(yr){(0,Se.warn)(`paste: "${yr.message}".`);return}if(!Array.isArray(rr))return;this.unselectAll();const ir=qe(this,Je).get(qe(this,on));try{const yr=[];for(const jr of rr){const Vr=ir.deserialize(jr);if(!Vr)return;yr.push(Vr)}const xr=()=>{for(const jr of yr)On(this,vn,G2).call(this,jr);On(this,vn,H2).call(this,yr)},Nr=()=>{for(const jr of yr)jr.remove()};this.addCommands({cmd:xr,undo:Nr,mustExec:!0})}catch(yr){(0,Se.warn)(`paste: "${yr.message}".`)}}keydown(Kn){var rr;(rr=this.getActive())!=null&&rr.shouldGetKeyboardEvents()||tr._keyboardManager.exec(this,Kn)}onEditingAction(Kn){["undo","redo","delete","selectAll"].includes(Kn.name)&&this[Kn.name]()}setEditingState(Kn){Kn?(On(this,vn,z5).call(this),On(this,vn,G5).call(this),On(this,vn,Bu).call(this,{isEditing:qe(this,dn)!==Se.AnnotationEditorType.NONE,isEmpty:On(this,vn,p1).call(this),hasSomethingToUndo:qe(this,Ze).hasSomethingToUndo(),hasSomethingToRedo:qe(this,Ze).hasSomethingToRedo(),hasSelectedEditor:!1})):(On(this,vn,z2).call(this),On(this,vn,H5).call(this),On(this,vn,Bu).call(this,{isEditing:!1}))}registerEditorTypes(Kn){if(!qe(this,an)){Mn(this,an,Kn);for(const rr of qe(this,an))On(this,vn,f1).call(this,rr.defaultPropertiesToUpdate)}}getId(){return qe(this,nn).getId()}get currentLayer(){return qe(this,Je).get(qe(this,on))}get currentPageIndex(){return qe(this,on)}addLayer(Kn){qe(this,Je).set(Kn.pageIndex,Kn),qe(this,cn)?Kn.enable():Kn.disable()}removeLayer(Kn){qe(this,Je).delete(Kn.pageIndex)}updateMode(Kn){if(Mn(this,dn,Kn),Kn===Se.AnnotationEditorType.NONE)this.setEditingState(!1),On(this,vn,W5).call(this);else{this.setEditingState(!0),On(this,vn,V5).call(this);for(const rr of qe(this,Je).values())rr.updateMode(Kn)}}updateToolbar(Kn){Kn!==qe(this,dn)&&qe(this,fn).dispatch("switchannotationeditormode",{source:this,mode:Kn})}updateParams(Kn,rr){if(qe(this,an)){for(const ir of qe(this,bn))ir.updateParams(Kn,rr);for(const ir of qe(this,an))ir.updateDefaultParams(Kn,rr)}}getEditors(Kn){const rr=[];for(const ir of qe(this,We).values())ir.pageIndex===Kn&&rr.push(ir);return rr}getEditor(Kn){return qe(this,We).get(Kn)}addEditor(Kn){qe(this,We).set(Kn.id,Kn)}removeEditor(Kn){var rr;qe(this,We).delete(Kn.id),this.unselect(Kn),(rr=qe(this,Qe))==null||rr.remove(Kn.id)}setActiveEditor(Kn){qe(this,Xe)!==Kn&&(Mn(this,Xe,Kn),Kn&&On(this,vn,f1).call(this,Kn.propertiesToUpdate))}toggleSelected(Kn){if(qe(this,bn).has(Kn)){qe(this,bn).delete(Kn),Kn.unselect(),On(this,vn,Bu).call(this,{hasSelectedEditor:this.hasSelection});return}qe(this,bn).add(Kn),Kn.select(),On(this,vn,f1).call(this,Kn.propertiesToUpdate),On(this,vn,Bu).call(this,{hasSelectedEditor:!0})}setSelected(Kn){for(const rr of qe(this,bn))rr!==Kn&&rr.unselect();qe(this,bn).clear(),qe(this,bn).add(Kn),Kn.select(),On(this,vn,f1).call(this,Kn.propertiesToUpdate),On(this,vn,Bu).call(this,{hasSelectedEditor:!0})}isSelected(Kn){return qe(this,bn).has(Kn)}unselect(Kn){Kn.unselect(),qe(this,bn).delete(Kn),On(this,vn,Bu).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return qe(this,bn).size!==0}undo(){qe(this,Ze).undo(),On(this,vn,Bu).call(this,{hasSomethingToUndo:qe(this,Ze).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:On(this,vn,p1).call(this)})}redo(){qe(this,Ze).redo(),On(this,vn,Bu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:qe(this,Ze).hasSomethingToRedo(),isEmpty:On(this,vn,p1).call(this)})}addCommands(Kn){qe(this,Ze).add(Kn),On(this,vn,Bu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:On(this,vn,p1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Kn=[...qe(this,bn)],rr=()=>{for(const yr of Kn)yr.remove()},ir=()=>{for(const yr of Kn)On(this,vn,G2).call(this,yr)};this.addCommands({cmd:rr,undo:ir,mustExec:!0})}commitOrRemove(){var Kn;(Kn=qe(this,Xe))==null||Kn.commitOrRemove()}selectAll(){for(const Kn of qe(this,bn))Kn.commit();On(this,vn,H2).call(this,qe(this,We).values())}unselectAll(){if(qe(this,Xe)){qe(this,Xe).commitOrRemove();return}if(qe(this,bn).size!==0){for(const Kn of qe(this,bn))Kn.unselect();qe(this,bn).clear(),On(this,vn,Bu).call(this,{hasSelectedEditor:!1})}}isActive(Kn){return qe(this,Xe)===Kn}getActive(){return qe(this,Xe)}getMode(){return qe(this,dn)}};Xe=new WeakMap,We=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,on=new WeakMap,an=new WeakMap,rn=new WeakMap,fn=new WeakMap,nn=new WeakMap,cn=new WeakMap,dn=new WeakMap,bn=new WeakMap,pn=new WeakMap,_n=new WeakMap,Nn=new WeakMap,Un=new WeakMap,xn=new WeakMap,St=new WeakMap,sn=new WeakMap,gn=new WeakMap,Pn=new WeakMap,Fn=new WeakMap,vn=new WeakSet,z5=function(){qe(this,Fn).addEventListener("keydown",qe(this,Un))},z2=function(){qe(this,Fn).removeEventListener("keydown",qe(this,Un))},G5=function(){document.addEventListener("copy",qe(this,pn)),document.addEventListener("cut",qe(this,_n)),document.addEventListener("paste",qe(this,Nn))},H5=function(){document.removeEventListener("copy",qe(this,pn)),document.removeEventListener("cut",qe(this,_n)),document.removeEventListener("paste",qe(this,Nn))},Bu=function(Kn){Object.entries(Kn).some(([ir,yr])=>qe(this,Pn)[ir]!==yr)&&qe(this,fn).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(qe(this,Pn),Kn)})},f1=function(Kn){qe(this,fn).dispatch("annotationeditorparamschanged",{source:this,details:Kn})},V5=function(){if(!qe(this,cn)){Mn(this,cn,!0);for(const Kn of qe(this,Je).values())Kn.enable()}},W5=function(){if(this.unselectAll(),qe(this,cn)){Mn(this,cn,!1);for(const Kn of qe(this,Je).values())Kn.disable()}},G2=function(Kn){const rr=qe(this,Je).get(Kn.pageIndex);rr?rr.addOrRebuild(Kn):this.addEditor(Kn)},p1=function(){if(qe(this,We).size===0)return!0;if(qe(this,We).size===1)for(const Kn of qe(this,We).values())return Kn.isEmpty();return!1},H2=function(Kn){qe(this,bn).clear();for(const rr of Kn)rr.isEmpty()||(qe(this,bn).add(rr),rr.select());On(this,vn,Bu).call(this,{hasSelectedEditor:!0})},yi(tr,"_keyboardManager",new Fe([[["ctrl+a","mac+meta+a"],tr.prototype.selectAll],[["ctrl+z","mac+meta+z"],tr.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],tr.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],tr.prototype.delete],[["Escape","mac+Escape"],tr.prototype.unselectAll]]));let Ie=tr;e.AnnotationEditorUIManager=Ie},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=Je,e.getColorValues=rn,e.getCurrentTransform=fn,e.getCurrentTransformInverse=nn,e.getFilenameFromUrl=Ge,e.getPdfFilenameFromUrl=Ve,e.getRGB=an,e.getXfaPageViewport=on,e.isDataScheme=je,e.isPdfFile=He,e.isValidFetchUrl=Xe,e.loadScript=We,e.setLayerDimensions=cn;var Se=t(7),_e=t(1);const Ae="http://www.w3.org/2000/svg",Ce="pdfjs_internal_id_";e.AnnotationPrefix=Ce;const dn=class dn{};yi(dn,"CSS",96),yi(dn,"PDF",72),yi(dn,"PDF_TO_CSS_UNITS",dn.CSS/dn.PDF);let Pe=dn;e.PixelsPerInch=Pe;class Ee extends Se.BaseCanvasFactory{constructor({ownerDocument:pn=globalThis.document}={}){super(),this._document=pn}_createCanvas(pn,_n){const Nn=this._document.createElement("canvas");return Nn.width=pn,Nn.height=_n,Nn}}e.DOMCanvasFactory=Ee;async function Fe(bn,pn=!1){if(Xe(bn,document.baseURI)){const _n=await fetch(bn);if(!_n.ok)throw new Error(_n.statusText);return pn?new Uint8Array(await _n.arrayBuffer()):(0,_e.stringToBytes)(await _n.text())}return new Promise((_n,Nn)=>{const Un=new XMLHttpRequest;Un.open("GET",bn,!0),pn&&(Un.responseType="arraybuffer"),Un.onreadystatechange=()=>{if(Un.readyState===XMLHttpRequest.DONE){if(Un.status===200||Un.status===0){let xn;if(pn&&Un.response?xn=new Uint8Array(Un.response):!pn&&Un.responseText&&(xn=(0,_e.stringToBytes)(Un.responseText)),xn){_n(xn);return}}Nn(new Error(Un.statusText))}},Un.send(null)})}class ke extends Se.BaseCMapReaderFactory{_fetchData(pn,_n){return Fe(pn,this.isCompressed).then(Nn=>({cMapData:Nn,compressionType:_n}))}}e.DOMCMapReaderFactory=ke;class Ie extends Se.BaseStandardFontDataFactory{_fetchData(pn){return Fe(pn,!0)}}e.DOMStandardFontDataFactory=Ie;class Oe extends Se.BaseSVGFactory{_createSVG(pn){return document.createElementNS(Ae,pn)}}e.DOMSVGFactory=Oe;class Re{constructor({viewBox:pn,scale:_n,rotation:Nn,offsetX:Un=0,offsetY:xn=0,dontFlip:St=!1}){this.viewBox=pn,this.scale=_n,this.rotation=Nn,this.offsetX=Un,this.offsetY=xn;const sn=(pn[2]+pn[0])/2,gn=(pn[3]+pn[1])/2;let Pn,Fn,vn,kn;switch(Nn%=360,Nn<0&&(Nn+=360),Nn){case 180:Pn=-1,Fn=0,vn=0,kn=1;break;case 90:Pn=0,Fn=1,vn=1,kn=0;break;case 270:Pn=0,Fn=-1,vn=-1,kn=0;break;case 0:Pn=1,Fn=0,vn=0,kn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}St&&(vn=-vn,kn=-kn);let Bn,er,Zn,Cn;Pn===0?(Bn=Math.abs(gn-pn[1])*_n+Un,er=Math.abs(sn-pn[0])*_n+xn,Zn=(pn[3]-pn[1])*_n,Cn=(pn[2]-pn[0])*_n):(Bn=Math.abs(sn-pn[0])*_n+Un,er=Math.abs(gn-pn[1])*_n+xn,Zn=(pn[2]-pn[0])*_n,Cn=(pn[3]-pn[1])*_n),this.transform=[Pn*_n,Fn*_n,vn*_n,kn*_n,Bn-Pn*_n*sn-vn*_n*gn,er-Fn*_n*sn-kn*_n*gn],this.width=Zn,this.height=Cn}get rawDims(){const{viewBox:pn}=this;return(0,_e.shadow)(this,"rawDims",{pageWidth:pn[2]-pn[0],pageHeight:pn[3]-pn[1],pageX:pn[0],pageY:pn[1]})}clone({scale:pn=this.scale,rotation:_n=this.rotation,offsetX:Nn=this.offsetX,offsetY:Un=this.offsetY,dontFlip:xn=!1}={}){return new Re({viewBox:this.viewBox.slice(),scale:pn,rotation:_n,offsetX:Nn,offsetY:Un,dontFlip:xn})}convertToViewportPoint(pn,_n){return _e.Util.applyTransform([pn,_n],this.transform)}convertToViewportRectangle(pn){const _n=_e.Util.applyTransform([pn[0],pn[1]],this.transform),Nn=_e.Util.applyTransform([pn[2],pn[3]],this.transform);return[_n[0],_n[1],Nn[0],Nn[1]]}convertToPdfPoint(pn,_n){return _e.Util.applyInverseTransform([pn,_n],this.transform)}}e.PageViewport=Re;class Be extends _e.BaseException{constructor(pn,_n,Nn=0){super(pn,"RenderingCancelledException"),this.type=_n,this.extraDelay=Nn}}e.RenderingCancelledException=Be;function je(bn){const pn=bn.length;let _n=0;for(;_n<pn&&bn[_n].trim()==="";)_n++;return bn.substring(_n,_n+5).toLowerCase()==="data:"}function He(bn){return typeof bn=="string"&&/\.pdf$/i.test(bn)}function Ge(bn,pn=!1){return pn||([bn]=bn.split(/[#?]/,1)),bn.substring(bn.lastIndexOf("/")+1)}function Ve(bn,pn="document.pdf"){if(typeof bn!="string")return pn;if(je(bn))return(0,_e.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),pn;const _n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Nn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Un=_n.exec(bn);let xn=Nn.exec(Un[1])||Nn.exec(Un[2])||Nn.exec(Un[3]);if(xn&&(xn=xn[0],xn.includes("%")))try{xn=Nn.exec(decodeURIComponent(xn))[0]}catch{}return xn||pn}class ze{constructor(){yi(this,"started",Object.create(null));yi(this,"times",[])}time(pn){pn in this.started&&(0,_e.warn)(`Timer is already running for ${pn}`),this.started[pn]=Date.now()}timeEnd(pn){pn in this.started||(0,_e.warn)(`Timer has not been started for ${pn}`),this.times.push({name:pn,start:this.started[pn],end:Date.now()}),delete this.started[pn]}toString(){const pn=[];let _n=0;for(const{name:Nn}of this.times)_n=Math.max(Nn.length,_n);for(const{name:Nn,start:Un,end:xn}of this.times)pn.push(`${Nn.padEnd(_n)} ${xn-Un}ms
`);return pn.join("")}}e.StatTimer=ze;function Xe(bn,pn){try{const{protocol:_n}=pn?new URL(bn,pn):new URL(bn);return _n==="http:"||_n==="https:"}catch{return!1}}function We(bn,pn=!1){return new Promise((_n,Nn)=>{const Un=document.createElement("script");Un.src=bn,Un.onload=function(xn){pn&&Un.remove(),_n(xn)},Un.onerror=function(){Nn(new Error(`Cannot load script at: ${Un.src}`))},(document.head||document.documentElement).append(Un)})}function Je(bn){console.log("Deprecated API usage: "+bn)}let Qe;class Ze{static toDateObject(pn){if(!pn||typeof pn!="string")return null;Qe||(Qe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _n=Qe.exec(pn);if(!_n)return null;const Nn=parseInt(_n[1],10);let Un=parseInt(_n[2],10);Un=Un>=1&&Un<=12?Un-1:0;let xn=parseInt(_n[3],10);xn=xn>=1&&xn<=31?xn:1;let St=parseInt(_n[4],10);St=St>=0&&St<=23?St:0;let sn=parseInt(_n[5],10);sn=sn>=0&&sn<=59?sn:0;let gn=parseInt(_n[6],10);gn=gn>=0&&gn<=59?gn:0;const Pn=_n[7]||"Z";let Fn=parseInt(_n[8],10);Fn=Fn>=0&&Fn<=23?Fn:0;let vn=parseInt(_n[9],10)||0;return vn=vn>=0&&vn<=59?vn:0,Pn==="-"?(St+=Fn,sn+=vn):Pn==="+"&&(St-=Fn,sn-=vn),new Date(Date.UTC(Nn,Un,xn,St,sn,gn))}}e.PDFDateString=Ze;function on(bn,{scale:pn=1,rotation:_n=0}){const{width:Nn,height:Un}=bn.attributes.style,xn=[0,0,parseInt(Nn),parseInt(Un)];return new Re({viewBox:xn,scale:pn,rotation:_n})}function an(bn){if(bn.startsWith("#")){const pn=parseInt(bn.slice(1),16);return[(pn&16711680)>>16,(pn&65280)>>8,pn&255]}return bn.startsWith("rgb(")?bn.slice(4,-1).split(",").map(pn=>parseInt(pn)):bn.startsWith("rgba(")?bn.slice(5,-1).split(",").map(pn=>parseInt(pn)).slice(0,3):((0,_e.warn)(`Not a valid color format: "${bn}"`),[0,0,0])}function rn(bn){const pn=document.createElement("span");pn.style.visibility="hidden",document.body.append(pn);for(const _n of bn.keys()){pn.style.color=_n;const Nn=window.getComputedStyle(pn).color;bn.set(_n,an(Nn))}pn.remove()}function fn(bn){const{a:pn,b:_n,c:Nn,d:Un,e:xn,f:St}=bn.getTransform();return[pn,_n,Nn,Un,xn,St]}function nn(bn){const{a:pn,b:_n,c:Nn,d:Un,e:xn,f:St}=bn.getTransform().invertSelf();return[pn,_n,Nn,Un,xn,St]}function cn(bn,pn,_n=!1,Nn=!0){if(pn instanceof Re){const{pageWidth:Un,pageHeight:xn}=pn.rawDims,{style:St}=bn,sn=`calc(var(--scale-factor) * ${Un}px)`,gn=`calc(var(--scale-factor) * ${xn}px)`;!_n||pn.rotation%180===0?(St.width=sn,St.height=gn):(St.width=gn,St.height=sn)}Nn&&bn.setAttribute("data-main-rotation",pn.rotation)}},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var Se=t(1);class _e{constructor(){this.constructor===_e&&(0,Se.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Fe,ke){if(Fe<=0||ke<=0)throw new Error("Invalid canvas size");const Ie=this._createCanvas(Fe,ke);return{canvas:Ie,context:Ie.getContext("2d")}}reset(Fe,ke,Ie){if(!Fe.canvas)throw new Error("Canvas is not specified");if(ke<=0||Ie<=0)throw new Error("Invalid canvas size");Fe.canvas.width=ke,Fe.canvas.height=Ie}destroy(Fe){if(!Fe.canvas)throw new Error("Canvas is not specified");Fe.canvas.width=0,Fe.canvas.height=0,Fe.canvas=null,Fe.context=null}_createCanvas(Fe,ke){(0,Se.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=_e;class Ae{constructor({baseUrl:Fe=null,isCompressed:ke=!0}){this.constructor===Ae&&(0,Se.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Fe,this.isCompressed=ke}async fetch({name:Fe}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Fe)throw new Error("CMap name must be specified.");const ke=this.baseUrl+Fe+(this.isCompressed?".bcmap":""),Ie=this.isCompressed?Se.CMapCompressionType.BINARY:Se.CMapCompressionType.NONE;return this._fetchData(ke,Ie).catch(Oe=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ke}`)})}_fetchData(Fe,ke){(0,Se.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=Ae;class Ce{constructor({baseUrl:Fe=null}){this.constructor===Ce&&(0,Se.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Fe}async fetch({filename:Fe}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Fe)throw new Error("Font filename must be specified.");const ke=`${this.baseUrl}${Fe}`;return this._fetchData(ke).catch(Ie=>{throw new Error(`Unable to load font data at: ${ke}`)})}_fetchData(Fe){(0,Se.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=Ce;class Pe{constructor(){this.constructor===Pe&&(0,Se.unreachable)("Cannot initialize BaseSVGFactory.")}create(Fe,ke,Ie=!1){if(Fe<=0||ke<=0)throw new Error("Invalid SVG dimensions");const Oe=this._createSVG("svg:svg");return Oe.setAttribute("version","1.1"),Ie||(Oe.setAttribute("width",`${Fe}px`),Oe.setAttribute("height",`${ke}px`)),Oe.setAttribute("preserveAspectRatio","none"),Oe.setAttribute("viewBox",`0 0 ${Fe} ${ke}`),Oe}createElement(Fe){if(typeof Fe!="string")throw new Error("Invalid SVG element type");return this._createSVG(Fe)}_createSVG(Fe){(0,Se.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=Pe},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var Se=t(1);const _e=3285377520,Ae=4294901760,Ce=65535;class Pe{constructor(Fe){this.h1=Fe?Fe&4294967295:_e,this.h2=Fe?Fe&4294967295:_e}update(Fe){let ke,Ie;if(typeof Fe=="string"){ke=new Uint8Array(Fe.length*2),Ie=0;for(let Qe=0,Ze=Fe.length;Qe<Ze;Qe++){const on=Fe.charCodeAt(Qe);on<=255?ke[Ie++]=on:(ke[Ie++]=on>>>8,ke[Ie++]=on&255)}}else if((0,Se.isArrayBuffer)(Fe))ke=Fe.slice(),Ie=ke.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Oe=Ie>>2,Re=Ie-Oe*4,Be=new Uint32Array(ke.buffer,0,Oe);let je=0,He=0,Ge=this.h1,Ve=this.h2;const ze=3432918353,Xe=461845907,We=ze&Ce,Je=Xe&Ce;for(let Qe=0;Qe<Oe;Qe++)Qe&1?(je=Be[Qe],je=je*ze&Ae|je*We&Ce,je=je<<15|je>>>17,je=je*Xe&Ae|je*Je&Ce,Ge^=je,Ge=Ge<<13|Ge>>>19,Ge=Ge*5+3864292196):(He=Be[Qe],He=He*ze&Ae|He*We&Ce,He=He<<15|He>>>17,He=He*Xe&Ae|He*Je&Ce,Ve^=He,Ve=Ve<<13|Ve>>>19,Ve=Ve*5+3864292196);switch(je=0,Re){case 3:je^=ke[Oe*4+2]<<16;case 2:je^=ke[Oe*4+1]<<8;case 1:je^=ke[Oe*4],je=je*ze&Ae|je*We&Ce,je=je<<15|je>>>17,je=je*Xe&Ae|je*Je&Ce,Oe&1?Ge^=je:Ve^=je}this.h1=Ge,this.h2=Ve}hexdigest(){let Fe=this.h1,ke=this.h2;return Fe^=ke>>>1,Fe=Fe*3981806797&Ae|Fe*36045&Ce,ke=ke*4283543511&Ae|((ke<<16|Fe>>>16)*2950163797&Ae)>>>16,Fe^=ke>>>1,Fe=Fe*444984403&Ae|Fe*60499&Ce,ke=ke*3301882366&Ae|((ke<<16|Fe>>>16)*3120437893&Ae)>>>16,Fe^=ke>>>1,(Fe>>>0).toString(16).padStart(8,"0")+(ke>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=Pe},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var Se=t(1),_e=t(10);class Ae{constructor({onUnsupportedFeature:Ee,ownerDocument:Fe=globalThis.document,styleElement:ke=null}){this._onUnsupportedFeature=Ee,this._document=Fe,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Ee){this.nativeFontFaces.push(Ee),this._document.fonts.add(Ee)}insertRule(Ee){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Fe=this.styleElement.sheet;Fe.insertRule(Ee,Fe.cssRules.length)}clear(){for(const Ee of this.nativeFontFaces)this._document.fonts.delete(Ee);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(Ee){if(Ee.attached||Ee.missingFile)return;if(Ee.attached=!0,this.isFontLoadingAPISupported){const ke=Ee.createNativeFontFace();if(ke){this.addNativeFontFace(ke);try{await ke.loaded}catch(Ie){throw this._onUnsupportedFeature({featureId:Se.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,Se.warn)(`Failed to load font '${ke.family}': '${Ie}'.`),Ee.disableFontFace=!0,Ie}}return}const Fe=Ee.createFontFaceRule();if(Fe){if(this.insertRule(Fe),this.isSyncFontLoadingSupported)return;await new Promise(ke=>{const Ie=this._queueLoadingCallback(ke);this._prepareFontLoadEvent(Ee,Ie)})}}get isFontLoadingAPISupported(){var Fe;const Ee=!!((Fe=this._document)!=null&&Fe.fonts);return(0,Se.shadow)(this,"isFontLoadingAPISupported",Ee)}get isSyncFontLoadingSupported(){let Ee=!1;return(_e.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Ee=!0),(0,Se.shadow)(this,"isSyncFontLoadingSupported",Ee)}_queueLoadingCallback(Ee){function Fe(){for((0,Se.assert)(!Ie.done,"completeRequest() cannot be called twice."),Ie.done=!0;ke.length>0&&ke[0].done;){const Oe=ke.shift();setTimeout(Oe.callback,0)}}const{loadingRequests:ke}=this,Ie={done:!1,complete:Fe,callback:Ee};return ke.push(Ie),Ie}get _loadTestFont(){const Ee=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,Se.shadow)(this,"_loadTestFont",Ee)}_prepareFontLoadEvent(Ee,Fe){function ke(rn,fn){return rn.charCodeAt(fn)<<24|rn.charCodeAt(fn+1)<<16|rn.charCodeAt(fn+2)<<8|rn.charCodeAt(fn+3)&255}function Ie(rn,fn,nn,cn){const dn=rn.substring(0,fn),bn=rn.substring(fn+nn);return dn+cn+bn}let Oe,Re;const Be=this._document.createElement("canvas");Be.width=1,Be.height=1;const je=Be.getContext("2d");let He=0;function Ge(rn,fn){if(++He>30){(0,Se.warn)("Load test font never loaded."),fn();return}if(je.font="30px "+rn,je.fillText(".",0,20),je.getImageData(0,0,1,1).data[3]>0){fn();return}setTimeout(Ge.bind(null,rn,fn))}const Ve=`lt${Date.now()}${this.loadTestFontId++}`;let ze=this._loadTestFont;ze=Ie(ze,976,Ve.length,Ve);const We=16,Je=1482184792;let Qe=ke(ze,We);for(Oe=0,Re=Ve.length-3;Oe<Re;Oe+=4)Qe=Qe-Je+ke(Ve,Oe)|0;Oe<Ve.length&&(Qe=Qe-Je+ke(Ve+"XXX",Oe)|0),ze=Ie(ze,We,4,(0,Se.string32)(Qe));const Ze=`url(data:font/opentype;base64,${btoa(ze)});`,on=`@font-face {font-family:"${Ve}";src:${Ze}}`;this.insertRule(on);const an=this._document.createElement("div");an.style.visibility="hidden",an.style.width=an.style.height="10px",an.style.position="absolute",an.style.top=an.style.left="0px";for(const rn of[Ee.loadedName,Ve]){const fn=this._document.createElement("span");fn.textContent="Hi",fn.style.fontFamily=rn,an.append(fn)}this._document.body.append(an),Ge(Ve,()=>{an.remove(),Fe.complete()})}}e.FontLoader=Ae;class Ce{constructor(Ee,{isEvalSupported:Fe=!0,disableFontFace:ke=!1,ignoreErrors:Ie=!1,onUnsupportedFeature:Oe,fontRegistry:Re=null}){this.compiledGlyphs=Object.create(null);for(const Be in Ee)this[Be]=Ee[Be];this.isEvalSupported=Fe!==!1,this.disableFontFace=ke===!0,this.ignoreErrors=Ie===!0,this._onUnsupportedFeature=Oe,this.fontRegistry=Re}createNativeFontFace(){var Fe;if(!this.data||this.disableFontFace)return null;let Ee;if(!this.cssFontInfo)Ee=new FontFace(this.loadedName,this.data,{});else{const ke={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ke.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Ee=new FontFace(this.cssFontInfo.fontFamily,this.data,ke)}return(Fe=this.fontRegistry)==null||Fe.registerFont(this),Ee}createFontFaceRule(){var Ie;if(!this.data||this.disableFontFace)return null;const Ee=(0,Se.bytesToString)(this.data),Fe=`url(data:${this.mimetype};base64,${btoa(Ee)});`;let ke;if(!this.cssFontInfo)ke=`@font-face {font-family:"${this.loadedName}";src:${Fe}}`;else{let Oe=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Oe+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ke=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Oe}src:${Fe}}`}return(Ie=this.fontRegistry)==null||Ie.registerFont(this,Fe),ke}getPathGenerator(Ee,Fe){if(this.compiledGlyphs[Fe]!==void 0)return this.compiledGlyphs[Fe];let ke;try{ke=Ee.get(this.loadedName+"_path_"+Fe)}catch(Ie){if(!this.ignoreErrors)throw Ie;return this._onUnsupportedFeature({featureId:Se.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,Se.warn)(`getPathGenerator - ignoring character: "${Ie}".`),this.compiledGlyphs[Fe]=function(Oe,Re){}}if(this.isEvalSupported&&Se.FeatureTest.isEvalSupported){const Ie=[];for(const Oe of ke){const Re=Oe.args!==void 0?Oe.args.join(","):"";Ie.push("c.",Oe.cmd,"(",Re,`);
`)}return this.compiledGlyphs[Fe]=new Function("c","size",Ie.join(""))}return this.compiledGlyphs[Fe]=function(Ie,Oe){for(const Re of ke)Re.cmd==="scale"&&(Re.args=[Oe,-Oe]),Ie[Re.cmd].apply(Ie,Re.args)}}}e.FontFaceObject=Ce},(xe,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const t=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=t},(xe,e,t)=>{var _n,V2;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var Se=t(1),_e=t(6),Ae=t(12),Ce=t(13);const Pe=16,Ee=100,Fe=4096,ke=15,Ie=10,Oe=1e3,Re=16;function Be(xn,St){if(xn._removeMirroring)throw new Error("Context is already forwarding operations.");xn.__originalSave=xn.save,xn.__originalRestore=xn.restore,xn.__originalRotate=xn.rotate,xn.__originalScale=xn.scale,xn.__originalTranslate=xn.translate,xn.__originalTransform=xn.transform,xn.__originalSetTransform=xn.setTransform,xn.__originalResetTransform=xn.resetTransform,xn.__originalClip=xn.clip,xn.__originalMoveTo=xn.moveTo,xn.__originalLineTo=xn.lineTo,xn.__originalBezierCurveTo=xn.bezierCurveTo,xn.__originalRect=xn.rect,xn.__originalClosePath=xn.closePath,xn.__originalBeginPath=xn.beginPath,xn._removeMirroring=()=>{xn.save=xn.__originalSave,xn.restore=xn.__originalRestore,xn.rotate=xn.__originalRotate,xn.scale=xn.__originalScale,xn.translate=xn.__originalTranslate,xn.transform=xn.__originalTransform,xn.setTransform=xn.__originalSetTransform,xn.resetTransform=xn.__originalResetTransform,xn.clip=xn.__originalClip,xn.moveTo=xn.__originalMoveTo,xn.lineTo=xn.__originalLineTo,xn.bezierCurveTo=xn.__originalBezierCurveTo,xn.rect=xn.__originalRect,xn.closePath=xn.__originalClosePath,xn.beginPath=xn.__originalBeginPath,delete xn._removeMirroring},xn.save=function(){St.save(),this.__originalSave()},xn.restore=function(){St.restore(),this.__originalRestore()},xn.translate=function(gn,Pn){St.translate(gn,Pn),this.__originalTranslate(gn,Pn)},xn.scale=function(gn,Pn){St.scale(gn,Pn),this.__originalScale(gn,Pn)},xn.transform=function(gn,Pn,Fn,vn,kn,Bn){St.transform(gn,Pn,Fn,vn,kn,Bn),this.__originalTransform(gn,Pn,Fn,vn,kn,Bn)},xn.setTransform=function(gn,Pn,Fn,vn,kn,Bn){St.setTransform(gn,Pn,Fn,vn,kn,Bn),this.__originalSetTransform(gn,Pn,Fn,vn,kn,Bn)},xn.resetTransform=function(){St.resetTransform(),this.__originalResetTransform()},xn.rotate=function(gn){St.rotate(gn),this.__originalRotate(gn)},xn.clip=function(gn){St.clip(gn),this.__originalClip(gn)},xn.moveTo=function(sn,gn){St.moveTo(sn,gn),this.__originalMoveTo(sn,gn)},xn.lineTo=function(sn,gn){St.lineTo(sn,gn),this.__originalLineTo(sn,gn)},xn.bezierCurveTo=function(sn,gn,Pn,Fn,vn,kn){St.bezierCurveTo(sn,gn,Pn,Fn,vn,kn),this.__originalBezierCurveTo(sn,gn,Pn,Fn,vn,kn)},xn.rect=function(sn,gn,Pn,Fn){St.rect(sn,gn,Pn,Fn),this.__originalRect(sn,gn,Pn,Fn)},xn.closePath=function(){St.closePath(),this.__originalClosePath()},xn.beginPath=function(){St.beginPath(),this.__originalBeginPath()}}class je{constructor(St){this.canvasFactory=St,this.cache=Object.create(null)}getCanvas(St,sn,gn){let Pn;return this.cache[St]!==void 0?(Pn=this.cache[St],this.canvasFactory.reset(Pn,sn,gn)):(Pn=this.canvasFactory.create(sn,gn),this.cache[St]=Pn),Pn}delete(St){delete this.cache[St]}clear(){for(const St in this.cache){const sn=this.cache[St];this.canvasFactory.destroy(sn),delete this.cache[St]}}}function He(xn,St,sn,gn,Pn,Fn,vn,kn,Bn,er){const[Zn,Cn,Tn,qn,In,wn]=(0,_e.getCurrentTransform)(xn);if(Cn===0&&Tn===0){const tr=vn*Zn+In,cr=Math.round(tr),Kn=kn*qn+wn,rr=Math.round(Kn),ir=(vn+Bn)*Zn+In,yr=Math.abs(Math.round(ir)-cr)||1,xr=(kn+er)*qn+wn,Nr=Math.abs(Math.round(xr)-rr)||1;return xn.setTransform(Math.sign(Zn),0,0,Math.sign(qn),cr,rr),xn.drawImage(St,sn,gn,Pn,Fn,0,0,yr,Nr),xn.setTransform(Zn,Cn,Tn,qn,In,wn),[yr,Nr]}if(Zn===0&&qn===0){const tr=kn*Tn+In,cr=Math.round(tr),Kn=vn*Cn+wn,rr=Math.round(Kn),ir=(kn+er)*Tn+In,yr=Math.abs(Math.round(ir)-cr)||1,xr=(vn+Bn)*Cn+wn,Nr=Math.abs(Math.round(xr)-rr)||1;return xn.setTransform(0,Math.sign(Cn),Math.sign(Tn),0,cr,rr),xn.drawImage(St,sn,gn,Pn,Fn,0,0,Nr,yr),xn.setTransform(Zn,Cn,Tn,qn,In,wn),[Nr,yr]}xn.drawImage(St,sn,gn,Pn,Fn,vn,kn,Bn,er);const Vn=Math.hypot(Zn,Cn),Yn=Math.hypot(Tn,qn);return[Vn*Bn,Yn*er]}function Ge(xn){const{width:St,height:sn}=xn;if(St>Oe||sn>Oe)return null;const gn=1e3,Pn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Fn=St+1;let vn=new Uint8Array(Fn*(sn+1)),kn,Bn,er;const Zn=St+7&-8;let Cn=new Uint8Array(Zn*sn),Tn=0;for(const Yn of xn.data){let tr=128;for(;tr>0;)Cn[Tn++]=Yn&tr?0:255,tr>>=1}let qn=0;for(Tn=0,Cn[Tn]!==0&&(vn[0]=1,++qn),Bn=1;Bn<St;Bn++)Cn[Tn]!==Cn[Tn+1]&&(vn[Bn]=Cn[Tn]?2:1,++qn),Tn++;for(Cn[Tn]!==0&&(vn[Bn]=2,++qn),kn=1;kn<sn;kn++){Tn=kn*Zn,er=kn*Fn,Cn[Tn-Zn]!==Cn[Tn]&&(vn[er]=Cn[Tn]?1:8,++qn);let Yn=(Cn[Tn]?4:0)+(Cn[Tn-Zn]?8:0);for(Bn=1;Bn<St;Bn++)Yn=(Yn>>2)+(Cn[Tn+1]?4:0)+(Cn[Tn-Zn+1]?8:0),Pn[Yn]&&(vn[er+Bn]=Pn[Yn],++qn),Tn++;if(Cn[Tn-Zn]!==Cn[Tn]&&(vn[er+Bn]=Cn[Tn]?2:4,++qn),qn>gn)return null}for(Tn=Zn*(sn-1),er=kn*Fn,Cn[Tn]!==0&&(vn[er]=8,++qn),Bn=1;Bn<St;Bn++)Cn[Tn]!==Cn[Tn+1]&&(vn[er+Bn]=Cn[Tn]?4:8,++qn),Tn++;if(Cn[Tn]!==0&&(vn[er+Bn]=4,++qn),qn>gn)return null;const In=new Int32Array([0,Fn,-1,0,-Fn,0,0,0,1]),wn=new Path2D;for(kn=0;qn&&kn<=sn;kn++){let Yn=kn*Fn;const tr=Yn+St;for(;Yn<tr&&!vn[Yn];)Yn++;if(Yn===tr)continue;wn.moveTo(Yn%Fn,kn);const cr=Yn;let Kn=vn[Yn];do{const rr=In[Kn];do Yn+=rr;while(!vn[Yn]);const ir=vn[Yn];ir!==5&&ir!==10?(Kn=ir,vn[Yn]=0):(Kn=ir&51*Kn>>4,vn[Yn]&=Kn>>2|Kn<<2),wn.lineTo(Yn%Fn,Yn/Fn|0),vn[Yn]||--qn}while(cr!==Yn);--kn}return Cn=null,vn=null,function(Yn){Yn.save(),Yn.scale(1/St,-1/sn),Yn.translate(0,-sn),Yn.fill(wn),Yn.beginPath(),Yn.restore()}}class Ve{constructor(St,sn){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Se.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Se.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Se.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,St,sn])}clone(){const St=Object.create(this);return St.clipBox=this.clipBox.slice(),St}setCurrentPoint(St,sn){this.x=St,this.y=sn}updatePathMinMax(St,sn,gn){[sn,gn]=Se.Util.applyTransform([sn,gn],St),this.minX=Math.min(this.minX,sn),this.minY=Math.min(this.minY,gn),this.maxX=Math.max(this.maxX,sn),this.maxY=Math.max(this.maxY,gn)}updateRectMinMax(St,sn){const gn=Se.Util.applyTransform(sn,St),Pn=Se.Util.applyTransform(sn.slice(2),St);this.minX=Math.min(this.minX,gn[0],Pn[0]),this.minY=Math.min(this.minY,gn[1],Pn[1]),this.maxX=Math.max(this.maxX,gn[0],Pn[0]),this.maxY=Math.max(this.maxY,gn[1],Pn[1])}updateScalingPathMinMax(St,sn){Se.Util.scaleMinMax(St,sn),this.minX=Math.min(this.minX,sn[0]),this.maxX=Math.max(this.maxX,sn[1]),this.minY=Math.min(this.minY,sn[2]),this.maxY=Math.max(this.maxY,sn[3])}updateCurvePathMinMax(St,sn,gn,Pn,Fn,vn,kn,Bn,er,Zn){const Cn=Se.Util.bezierBoundingBox(sn,gn,Pn,Fn,vn,kn,Bn,er);if(Zn){Zn[0]=Math.min(Zn[0],Cn[0],Cn[2]),Zn[1]=Math.max(Zn[1],Cn[0],Cn[2]),Zn[2]=Math.min(Zn[2],Cn[1],Cn[3]),Zn[3]=Math.max(Zn[3],Cn[1],Cn[3]);return}this.updateRectMinMax(St,Cn)}getPathBoundingBox(St=Ae.PathType.FILL,sn=null){const gn=[this.minX,this.minY,this.maxX,this.maxY];if(St===Ae.PathType.STROKE){sn||(0,Se.unreachable)("Stroke bounding box must include transform.");const Pn=Se.Util.singularValueDecompose2dScale(sn),Fn=Pn[0]*this.lineWidth/2,vn=Pn[1]*this.lineWidth/2;gn[0]-=Fn,gn[1]-=vn,gn[2]+=Fn,gn[3]+=vn}return gn}updateClipFromPath(){const St=Se.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(St||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(St){this.clipBox=St,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(St=Ae.PathType.FILL,sn=null){return Se.Util.intersect(this.clipBox,this.getPathBoundingBox(St,sn))}}function ze(xn,St,sn=null){if(typeof ImageData<"u"&&St instanceof ImageData){xn.putImageData(St,0,0);return}const gn=St.height,Pn=St.width,Fn=gn%Re,vn=(gn-Fn)/Re,kn=Fn===0?vn:vn+1,Bn=xn.createImageData(Pn,Re);let er=0,Zn;const Cn=St.data,Tn=Bn.data;let qn,In,wn,Vn,Yn,tr,cr,Kn;if(sn)switch(sn.length){case 1:Yn=sn[0],tr=sn[0],cr=sn[0],Kn=sn[0];break;case 4:Yn=sn[0],tr=sn[1],cr=sn[2],Kn=sn[3];break}if(St.kind===Se.ImageKind.GRAYSCALE_1BPP){const rr=Cn.byteLength,ir=new Uint32Array(Tn.buffer,0,Tn.byteLength>>2),yr=ir.length,xr=Pn+7>>3;let Nr=4294967295,jr=Se.FeatureTest.isLittleEndian?4278190080:255;for(Kn&&Kn[0]===255&&Kn[255]===0&&([Nr,jr]=[jr,Nr]),qn=0;qn<kn;qn++){for(wn=qn<vn?Re:Fn,Zn=0,In=0;In<wn;In++){const Vr=rr-er;let Yr=0;const ei=Vr>xr?Pn:Vr*8-7,Ln=ei&-8;let ar=0,sr=0;for(;Yr<Ln;Yr+=8)sr=Cn[er++],ir[Zn++]=sr&128?Nr:jr,ir[Zn++]=sr&64?Nr:jr,ir[Zn++]=sr&32?Nr:jr,ir[Zn++]=sr&16?Nr:jr,ir[Zn++]=sr&8?Nr:jr,ir[Zn++]=sr&4?Nr:jr,ir[Zn++]=sr&2?Nr:jr,ir[Zn++]=sr&1?Nr:jr;for(;Yr<ei;Yr++)ar===0&&(sr=Cn[er++],ar=128),ir[Zn++]=sr&ar?Nr:jr,ar>>=1}for(;Zn<yr;)ir[Zn++]=0;xn.putImageData(Bn,0,qn*Re)}}else if(St.kind===Se.ImageKind.RGBA_32BPP){const rr=!!(Yn||tr||cr);for(In=0,Vn=Pn*Re*4,qn=0;qn<vn;qn++){if(Tn.set(Cn.subarray(er,er+Vn)),er+=Vn,rr)for(let ir=0;ir<Vn;ir+=4)Yn&&(Tn[ir+0]=Yn[Tn[ir+0]]),tr&&(Tn[ir+1]=tr[Tn[ir+1]]),cr&&(Tn[ir+2]=cr[Tn[ir+2]]);xn.putImageData(Bn,0,In),In+=Re}if(qn<kn){if(Vn=Pn*Fn*4,Tn.set(Cn.subarray(er,er+Vn)),rr)for(let ir=0;ir<Vn;ir+=4)Yn&&(Tn[ir+0]=Yn[Tn[ir+0]]),tr&&(Tn[ir+1]=tr[Tn[ir+1]]),cr&&(Tn[ir+2]=cr[Tn[ir+2]]);xn.putImageData(Bn,0,In)}}else if(St.kind===Se.ImageKind.RGB_24BPP){const rr=!!(Yn||tr||cr);for(wn=Re,Vn=Pn*wn,qn=0;qn<kn;qn++){for(qn>=vn&&(wn=Fn,Vn=Pn*wn),Zn=0,In=Vn;In--;)Tn[Zn++]=Cn[er++],Tn[Zn++]=Cn[er++],Tn[Zn++]=Cn[er++],Tn[Zn++]=255;if(rr)for(let ir=0;ir<Zn;ir+=4)Yn&&(Tn[ir+0]=Yn[Tn[ir+0]]),tr&&(Tn[ir+1]=tr[Tn[ir+1]]),cr&&(Tn[ir+2]=cr[Tn[ir+2]]);xn.putImageData(Bn,0,qn*Re)}}else throw new Error(`bad image kind: ${St.kind}`)}function Xe(xn,St){if(St.bitmap){xn.drawImage(St.bitmap,0,0);return}const sn=St.height,gn=St.width,Pn=sn%Re,Fn=(sn-Pn)/Re,vn=Pn===0?Fn:Fn+1,kn=xn.createImageData(gn,Re);let Bn=0;const er=St.data,Zn=kn.data;for(let Cn=0;Cn<vn;Cn++){const Tn=Cn<Fn?Re:Pn;({srcPos:Bn}=(0,Ce.applyMaskImageData)({src:er,srcPos:Bn,dest:Zn,width:gn,height:Tn})),xn.putImageData(kn,0,Cn*Re)}}function We(xn,St){const sn=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const gn of sn)xn[gn]!==void 0&&(St[gn]=xn[gn]);xn.setLineDash!==void 0&&(St.setLineDash(xn.getLineDash()),St.lineDashOffset=xn.lineDashOffset)}function Je(xn,St){xn.strokeStyle=xn.fillStyle=St||"#000000",xn.fillRule="nonzero",xn.globalAlpha=1,xn.lineWidth=1,xn.lineCap="butt",xn.lineJoin="miter",xn.miterLimit=10,xn.globalCompositeOperation="source-over",xn.font="10px sans-serif",xn.setLineDash!==void 0&&(xn.setLineDash([]),xn.lineDashOffset=0)}function Qe(xn,St,sn,gn){const Pn=xn.length;for(let Fn=3;Fn<Pn;Fn+=4){const vn=xn[Fn];if(vn===0)xn[Fn-3]=St,xn[Fn-2]=sn,xn[Fn-1]=gn;else if(vn<255){const kn=255-vn;xn[Fn-3]=xn[Fn-3]*vn+St*kn>>8,xn[Fn-2]=xn[Fn-2]*vn+sn*kn>>8,xn[Fn-1]=xn[Fn-1]*vn+gn*kn>>8}}}function Ze(xn,St,sn){const gn=xn.length,Pn=1/255;for(let Fn=3;Fn<gn;Fn+=4){const vn=sn?sn[xn[Fn]]:xn[Fn];St[Fn]=St[Fn]*vn*Pn|0}}function on(xn,St,sn){const gn=xn.length;for(let Pn=3;Pn<gn;Pn+=4){const Fn=xn[Pn-3]*77+xn[Pn-2]*152+xn[Pn-1]*28;St[Pn]=sn?St[Pn]*sn[Fn>>8]>>8:St[Pn]*Fn>>16}}function an(xn,St,sn,gn,Pn,Fn,vn,kn,Bn,er,Zn){const Cn=!!Fn,Tn=Cn?Fn[0]:0,qn=Cn?Fn[1]:0,In=Cn?Fn[2]:0;let wn;Pn==="Luminosity"?wn=on:wn=Ze;const Yn=Math.min(gn,Math.ceil(1048576/sn));for(let tr=0;tr<gn;tr+=Yn){const cr=Math.min(Yn,gn-tr),Kn=xn.getImageData(kn-er,tr+(Bn-Zn),sn,cr),rr=St.getImageData(kn,tr+Bn,sn,cr);Cn&&Qe(Kn.data,Tn,qn,In),wn(Kn.data,rr.data,vn),St.putImageData(rr,kn,tr+Bn)}}function rn(xn,St,sn,gn){const Pn=gn[0],Fn=gn[1],vn=gn[2]-Pn,kn=gn[3]-Fn;vn===0||kn===0||(an(St.context,sn,vn,kn,St.subtype,St.backdrop,St.transferMap,Pn,Fn,St.offsetX,St.offsetY),xn.save(),xn.globalAlpha=1,xn.globalCompositeOperation="source-over",xn.setTransform(1,0,0,1,0,0),xn.drawImage(sn.canvas,0,0),xn.restore())}function fn(xn,St){const sn=Se.Util.singularValueDecompose2dScale(xn);sn[0]=Math.fround(sn[0]),sn[1]=Math.fround(sn[1]);const gn=Math.fround((globalThis.devicePixelRatio||1)*_e.PixelsPerInch.PDF_TO_CSS_UNITS);return St!==void 0?St:sn[0]<=gn||sn[1]<=gn}const nn=["butt","round","square"],cn=["miter","round","bevel"],dn={},bn={},Un=class Un{constructor(St,sn,gn,Pn,{optionalContentConfig:Fn,markedContentStack:vn=null},kn,Bn){jn(this,_n);this.ctx=St,this.current=new Ve(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=sn,this.objs=gn,this.canvasFactory=Pn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=vn||[],this.optionalContentConfig=Fn,this.cachedCanvases=new je(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=kn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Bn==null?void 0:Bn.background)||null,this.foregroundColor=(Bn==null?void 0:Bn.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(St,sn=null){return typeof St=="string"?St.startsWith("g_")?this.commonObjs.get(St):this.objs.get(St):sn}beginDrawing({transform:St,viewport:sn,transparency:gn=!1,background:Pn=null}){const Fn=this.ctx.canvas.width,vn=this.ctx.canvas.height,kn=Pn||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Bn=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const er=this.backgroundColor=this.ctx.fillStyle;let Zn=!0,Cn=kn;if(this.ctx.fillStyle=kn,Cn=this.ctx.fillStyle,Zn=typeof Cn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Cn),Bn==="#000000"&&er==="#ffffff"||Bn===er||!Zn)this.foregroundColor=this.backgroundColor=null;else{const[Tn,qn,In]=(0,_e.getRGB)(Cn),wn=Yn=>(Yn/=255,Yn<=.03928?Yn/12.92:((Yn+.055)/1.055)**2.4),Vn=Math.round(.2126*wn(Tn)+.7152*wn(qn)+.0722*wn(In));this.selectColor=(Yn,tr,cr)=>{const Kn=.2126*wn(Yn)+.7152*wn(tr)+.0722*wn(cr);return Math.round(Kn)===Vn?er:Bn}}}if(this.ctx.fillStyle=this.backgroundColor||kn,this.ctx.fillRect(0,0,Fn,vn),this.ctx.restore(),gn){const Bn=this.cachedCanvases.getCanvas("transparent",Fn,vn);this.compositeCtx=this.ctx,this.transparentCanvas=Bn.canvas,this.ctx=Bn.context,this.ctx.save(),this.ctx.transform(...(0,_e.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Je(this.ctx,this.foregroundColor),St&&(this.ctx.transform(...St),this.outputScaleX=St[0],this.outputScaleY=St[0]),this.ctx.transform(...sn.transform),this.viewportScale=sn.scale,this.baseTransform=(0,_e.getCurrentTransform)(this.ctx)}executeOperatorList(St,sn,gn,Pn){const Fn=St.argsArray,vn=St.fnArray;let kn=sn||0;const Bn=Fn.length;if(Bn===kn)return kn;const er=Bn-kn>Ie&&typeof gn=="function",Zn=er?Date.now()+ke:0;let Cn=0;const Tn=this.commonObjs,qn=this.objs;let In;for(;;){if(Pn!==void 0&&kn===Pn.nextBreakPoint)return Pn.breakIt(kn,gn),kn;if(In=vn[kn],In!==Se.OPS.dependency)this[In].apply(this,Fn[kn]);else for(const wn of Fn[kn]){const Vn=wn.startsWith("g_")?Tn:qn;if(!Vn.has(wn))return Vn.get(wn,gn),kn}if(kn++,kn===Bn)return kn;if(er&&++Cn>Ie){if(Date.now()>Zn)return gn(),kn;Cn=0}}}endDrawing(){On(this,_n,V2).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const St of this._cachedBitmapsMap.values()){for(const sn of St.values())typeof HTMLCanvasElement<"u"&&sn instanceof HTMLCanvasElement&&(sn.width=sn.height=0);St.clear()}this._cachedBitmapsMap.clear()}_scaleImage(St,sn){const gn=St.width,Pn=St.height;let Fn=Math.max(Math.hypot(sn[0],sn[1]),1),vn=Math.max(Math.hypot(sn[2],sn[3]),1),kn=gn,Bn=Pn,er="prescale1",Zn,Cn;for(;Fn>2&&kn>1||vn>2&&Bn>1;){let Tn=kn,qn=Bn;Fn>2&&kn>1&&(Tn=Math.ceil(kn/2),Fn/=kn/Tn),vn>2&&Bn>1&&(qn=Math.ceil(Bn/2),vn/=Bn/qn),Zn=this.cachedCanvases.getCanvas(er,Tn,qn),Cn=Zn.context,Cn.clearRect(0,0,Tn,qn),Cn.drawImage(St,0,0,kn,Bn,0,0,Tn,qn),St=Zn.canvas,kn=Tn,Bn=qn,er=er==="prescale1"?"prescale2":"prescale1"}return{img:St,paintWidth:kn,paintHeight:Bn}}_createMaskCanvas(St){const sn=this.ctx,{width:gn,height:Pn}=St,Fn=this.current.fillColor,vn=this.current.patternFill,kn=(0,_e.getCurrentTransform)(sn);let Bn,er,Zn,Cn;if((St.bitmap||St.data)&&St.count>1){const yr=St.bitmap||St.data.buffer;er=JSON.stringify(vn?kn:[kn.slice(0,4),Fn]),Bn=this._cachedBitmapsMap.get(yr),Bn||(Bn=new Map,this._cachedBitmapsMap.set(yr,Bn));const xr=Bn.get(er);if(xr&&!vn){const Nr=Math.round(Math.min(kn[0],kn[2])+kn[4]),jr=Math.round(Math.min(kn[1],kn[3])+kn[5]);return{canvas:xr,offsetX:Nr,offsetY:jr}}Zn=xr}Zn||(Cn=this.cachedCanvases.getCanvas("maskCanvas",gn,Pn),Xe(Cn.context,St));let Tn=Se.Util.transform(kn,[1/gn,0,0,-1/Pn,0,0]);Tn=Se.Util.transform(Tn,[1,0,0,1,0,-Pn]);const qn=Se.Util.applyTransform([0,0],Tn),In=Se.Util.applyTransform([gn,Pn],Tn),wn=Se.Util.normalizeRect([qn[0],qn[1],In[0],In[1]]),Vn=Math.round(wn[2]-wn[0])||1,Yn=Math.round(wn[3]-wn[1])||1,tr=this.cachedCanvases.getCanvas("fillCanvas",Vn,Yn),cr=tr.context,Kn=Math.min(qn[0],In[0]),rr=Math.min(qn[1],In[1]);cr.translate(-Kn,-rr),cr.transform(...Tn),Zn||(Zn=this._scaleImage(Cn.canvas,(0,_e.getCurrentTransformInverse)(cr)),Zn=Zn.img,Bn&&vn&&Bn.set(er,Zn)),cr.imageSmoothingEnabled=fn((0,_e.getCurrentTransform)(cr),St.interpolate),He(cr,Zn,0,0,Zn.width,Zn.height,0,0,gn,Pn),cr.globalCompositeOperation="source-in";const ir=Se.Util.transform((0,_e.getCurrentTransformInverse)(cr),[1,0,0,1,-Kn,-rr]);return cr.fillStyle=vn?Fn.getPattern(sn,this,ir,Ae.PathType.FILL):Fn,cr.fillRect(0,0,gn,Pn),Bn&&!vn&&(this.cachedCanvases.delete("fillCanvas"),Bn.set(er,tr.canvas)),{canvas:tr.canvas,offsetX:Math.round(Kn),offsetY:Math.round(rr)}}setLineWidth(St){St!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=St,this.ctx.lineWidth=St}setLineCap(St){this.ctx.lineCap=nn[St]}setLineJoin(St){this.ctx.lineJoin=cn[St]}setMiterLimit(St){this.ctx.miterLimit=St}setDash(St,sn){const gn=this.ctx;gn.setLineDash!==void 0&&(gn.setLineDash(St),gn.lineDashOffset=sn)}setRenderingIntent(St){}setFlatness(St){}setGState(St){for(const[sn,gn]of St)switch(sn){case"LW":this.setLineWidth(gn);break;case"LC":this.setLineCap(gn);break;case"LJ":this.setLineJoin(gn);break;case"ML":this.setMiterLimit(gn);break;case"D":this.setDash(gn[0],gn[1]);break;case"RI":this.setRenderingIntent(gn);break;case"FL":this.setFlatness(gn);break;case"Font":this.setFont(gn[0],gn[1]);break;case"CA":this.current.strokeAlpha=gn;break;case"ca":this.current.fillAlpha=gn,this.ctx.globalAlpha=gn;break;case"BM":this.ctx.globalCompositeOperation=gn;break;case"SMask":this.current.activeSMask=gn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=gn}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const St=this.inSMaskMode;this.current.activeSMask&&!St?this.beginSMaskMode():!this.current.activeSMask&&St&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const St=this.ctx.canvas.width,sn=this.ctx.canvas.height,gn="smaskGroupAt"+this.groupLevel,Pn=this.cachedCanvases.getCanvas(gn,St,sn);this.suspendedCtx=this.ctx,this.ctx=Pn.context;const Fn=this.ctx;Fn.setTransform(...(0,_e.getCurrentTransform)(this.suspendedCtx)),We(this.suspendedCtx,Fn),Be(Fn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),We(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(St){if(!this.current.activeSMask)return;St?(St[0]=Math.floor(St[0]),St[1]=Math.floor(St[1]),St[2]=Math.ceil(St[2]),St[3]=Math.ceil(St[3])):St=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const sn=this.current.activeSMask,gn=this.suspendedCtx;rn(gn,sn,this.ctx,St),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(We(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const St=this.current;this.stateStack.push(St),this.current=St.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),We(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(St,sn,gn,Pn,Fn,vn){this.ctx.transform(St,sn,gn,Pn,Fn,vn),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(St,sn,gn){const Pn=this.ctx,Fn=this.current;let vn=Fn.x,kn=Fn.y,Bn,er;const Zn=(0,_e.getCurrentTransform)(Pn),Cn=Zn[0]===0&&Zn[3]===0||Zn[1]===0&&Zn[2]===0,Tn=Cn?gn.slice(0):null;for(let qn=0,In=0,wn=St.length;qn<wn;qn++)switch(St[qn]|0){case Se.OPS.rectangle:vn=sn[In++],kn=sn[In++];const Vn=sn[In++],Yn=sn[In++],tr=vn+Vn,cr=kn+Yn;Pn.moveTo(vn,kn),Vn===0||Yn===0?Pn.lineTo(tr,cr):(Pn.lineTo(tr,kn),Pn.lineTo(tr,cr),Pn.lineTo(vn,cr)),Cn||Fn.updateRectMinMax(Zn,[vn,kn,tr,cr]),Pn.closePath();break;case Se.OPS.moveTo:vn=sn[In++],kn=sn[In++],Pn.moveTo(vn,kn),Cn||Fn.updatePathMinMax(Zn,vn,kn);break;case Se.OPS.lineTo:vn=sn[In++],kn=sn[In++],Pn.lineTo(vn,kn),Cn||Fn.updatePathMinMax(Zn,vn,kn);break;case Se.OPS.curveTo:Bn=vn,er=kn,vn=sn[In+4],kn=sn[In+5],Pn.bezierCurveTo(sn[In],sn[In+1],sn[In+2],sn[In+3],vn,kn),Fn.updateCurvePathMinMax(Zn,Bn,er,sn[In],sn[In+1],sn[In+2],sn[In+3],vn,kn,Tn),In+=6;break;case Se.OPS.curveTo2:Bn=vn,er=kn,Pn.bezierCurveTo(vn,kn,sn[In],sn[In+1],sn[In+2],sn[In+3]),Fn.updateCurvePathMinMax(Zn,Bn,er,vn,kn,sn[In],sn[In+1],sn[In+2],sn[In+3],Tn),vn=sn[In+2],kn=sn[In+3],In+=4;break;case Se.OPS.curveTo3:Bn=vn,er=kn,vn=sn[In+2],kn=sn[In+3],Pn.bezierCurveTo(sn[In],sn[In+1],vn,kn,vn,kn),Fn.updateCurvePathMinMax(Zn,Bn,er,sn[In],sn[In+1],vn,kn,vn,kn,Tn),In+=4;break;case Se.OPS.closePath:Pn.closePath();break}Cn&&Fn.updateScalingPathMinMax(Zn,Tn),Fn.setCurrentPoint(vn,kn)}closePath(){this.ctx.closePath()}stroke(St=!0){const sn=this.ctx,gn=this.current.strokeColor;sn.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof gn=="object"&&(gn!=null&&gn.getPattern)?(sn.save(),sn.strokeStyle=gn.getPattern(sn,this,(0,_e.getCurrentTransformInverse)(sn),Ae.PathType.STROKE),this.rescaleAndStroke(!1),sn.restore()):this.rescaleAndStroke(!0)),St&&this.consumePath(this.current.getClippedPathBoundingBox()),sn.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(St=!0){const sn=this.ctx,gn=this.current.fillColor,Pn=this.current.patternFill;let Fn=!1;Pn&&(sn.save(),sn.fillStyle=gn.getPattern(sn,this,(0,_e.getCurrentTransformInverse)(sn),Ae.PathType.FILL),Fn=!0);const vn=this.current.getClippedPathBoundingBox();this.contentVisible&&vn!==null&&(this.pendingEOFill?(sn.fill("evenodd"),this.pendingEOFill=!1):sn.fill()),Fn&&sn.restore(),St&&this.consumePath(vn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dn}eoClip(){this.pendingClip=bn}beginText(){this.current.textMatrix=Se.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const St=this.pendingTextPaths,sn=this.ctx;if(St===void 0){sn.beginPath();return}sn.save(),sn.beginPath();for(const gn of St)sn.setTransform(...gn.transform),sn.translate(gn.x,gn.y),gn.addToPath(sn,gn.fontSize);sn.restore(),sn.clip(),sn.beginPath(),delete this.pendingTextPaths}setCharSpacing(St){this.current.charSpacing=St}setWordSpacing(St){this.current.wordSpacing=St}setHScale(St){this.current.textHScale=St/100}setLeading(St){this.current.leading=-St}setFont(St,sn){const gn=this.commonObjs.get(St),Pn=this.current;if(!gn)throw new Error(`Can't find font for ${St}`);if(Pn.fontMatrix=gn.fontMatrix||Se.FONT_IDENTITY_MATRIX,(Pn.fontMatrix[0]===0||Pn.fontMatrix[3]===0)&&(0,Se.warn)("Invalid font matrix for font "+St),sn<0?(sn=-sn,Pn.fontDirection=-1):Pn.fontDirection=1,this.current.font=gn,this.current.fontSize=sn,gn.isType3Font)return;const Fn=gn.loadedName||"sans-serif";let vn="normal";gn.black?vn="900":gn.bold&&(vn="bold");const kn=gn.italic?"italic":"normal",Bn=`"${Fn}", ${gn.fallbackName}`;let er=sn;sn<Pe?er=Pe:sn>Ee&&(er=Ee),this.current.fontSizeScale=sn/er,this.ctx.font=`${kn} ${vn} ${er}px ${Bn}`}setTextRenderingMode(St){this.current.textRenderingMode=St}setTextRise(St){this.current.textRise=St}moveText(St,sn){this.current.x=this.current.lineX+=St,this.current.y=this.current.lineY+=sn}setLeadingMoveText(St,sn){this.setLeading(-sn),this.moveText(St,sn)}setTextMatrix(St,sn,gn,Pn,Fn,vn){this.current.textMatrix=[St,sn,gn,Pn,Fn,vn],this.current.textMatrixScale=Math.hypot(St,sn),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(St,sn,gn,Pn){const Fn=this.ctx,vn=this.current,kn=vn.font,Bn=vn.textRenderingMode,er=vn.fontSize/vn.fontSizeScale,Zn=Bn&Se.TextRenderingMode.FILL_STROKE_MASK,Cn=!!(Bn&Se.TextRenderingMode.ADD_TO_PATH_FLAG),Tn=vn.patternFill&&!kn.missingFile;let qn;(kn.disableFontFace||Cn||Tn)&&(qn=kn.getPathGenerator(this.commonObjs,St)),kn.disableFontFace||Tn?(Fn.save(),Fn.translate(sn,gn),Fn.beginPath(),qn(Fn,er),Pn&&Fn.setTransform(...Pn),(Zn===Se.TextRenderingMode.FILL||Zn===Se.TextRenderingMode.FILL_STROKE)&&Fn.fill(),(Zn===Se.TextRenderingMode.STROKE||Zn===Se.TextRenderingMode.FILL_STROKE)&&Fn.stroke(),Fn.restore()):((Zn===Se.TextRenderingMode.FILL||Zn===Se.TextRenderingMode.FILL_STROKE)&&Fn.fillText(St,sn,gn),(Zn===Se.TextRenderingMode.STROKE||Zn===Se.TextRenderingMode.FILL_STROKE)&&Fn.strokeText(St,sn,gn)),Cn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_e.getCurrentTransform)(Fn),x:sn,y:gn,fontSize:er,addToPath:qn})}get isFontSubpixelAAEnabled(){const{context:St}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);St.scale(1.5,1),St.fillText("I",0,10);const sn=St.getImageData(0,0,10,10).data;let gn=!1;for(let Pn=3;Pn<sn.length;Pn+=4)if(sn[Pn]>0&&sn[Pn]<255){gn=!0;break}return(0,Se.shadow)(this,"isFontSubpixelAAEnabled",gn)}showText(St){const sn=this.current,gn=sn.font;if(gn.isType3Font)return this.showType3Text(St);const Pn=sn.fontSize;if(Pn===0)return;const Fn=this.ctx,vn=sn.fontSizeScale,kn=sn.charSpacing,Bn=sn.wordSpacing,er=sn.fontDirection,Zn=sn.textHScale*er,Cn=St.length,Tn=gn.vertical,qn=Tn?1:-1,In=gn.defaultVMetrics,wn=Pn*sn.fontMatrix[0],Vn=sn.textRenderingMode===Se.TextRenderingMode.FILL&&!gn.disableFontFace&&!sn.patternFill;Fn.save(),Fn.transform(...sn.textMatrix),Fn.translate(sn.x,sn.y+sn.textRise),er>0?Fn.scale(Zn,-1):Fn.scale(Zn,1);let Yn;if(sn.patternFill){Fn.save();const ir=sn.fillColor.getPattern(Fn,this,(0,_e.getCurrentTransformInverse)(Fn),Ae.PathType.FILL);Yn=(0,_e.getCurrentTransform)(Fn),Fn.restore(),Fn.fillStyle=ir}let tr=sn.lineWidth;const cr=sn.textMatrixScale;if(cr===0||tr===0){const ir=sn.textRenderingMode&Se.TextRenderingMode.FILL_STROKE_MASK;(ir===Se.TextRenderingMode.STROKE||ir===Se.TextRenderingMode.FILL_STROKE)&&(tr=this.getSinglePixelWidth())}else tr/=cr;if(vn!==1&&(Fn.scale(vn,vn),tr/=vn),Fn.lineWidth=tr,gn.isInvalidPDFjsFont){const ir=[];let yr=0;for(const xr of St)ir.push(xr.unicode),yr+=xr.width;Fn.fillText(ir.join(""),0,0),sn.x+=yr*wn*Zn,Fn.restore(),this.compose();return}let Kn=0,rr;for(rr=0;rr<Cn;++rr){const ir=St[rr];if(typeof ir=="number"){Kn+=qn*ir*Pn/1e3;continue}let yr=!1;const xr=(ir.isSpace?Bn:0)+kn,Nr=ir.fontChar,jr=ir.accent;let Vr,Yr,ei=ir.width;if(Tn){const ar=ir.vmetric||In,sr=-(ir.vmetric?ar[1]:ei*.5)*wn,Tr=ar[2]*wn;ei=ar?-ar[0]:ei,Vr=sr/vn,Yr=(Kn+Tr)/vn}else Vr=Kn/vn,Yr=0;if(gn.remeasure&&ei>0){const ar=Fn.measureText(Nr).width*1e3/Pn*vn;if(ei<ar&&this.isFontSubpixelAAEnabled){const sr=ei/ar;yr=!0,Fn.save(),Fn.scale(sr,1),Vr/=sr}else ei!==ar&&(Vr+=(ei-ar)/2e3*Pn/vn)}if(this.contentVisible&&(ir.isInFont||gn.missingFile)){if(Vn&&!jr)Fn.fillText(Nr,Vr,Yr);else if(this.paintChar(Nr,Vr,Yr,Yn),jr){const ar=Vr+Pn*jr.offset.x/vn,sr=Yr-Pn*jr.offset.y/vn;this.paintChar(jr.fontChar,ar,sr,Yn)}}let Ln;Tn?Ln=ei*wn-xr*er:Ln=ei*wn+xr*er,Kn+=Ln,yr&&Fn.restore()}Tn?sn.y-=Kn:sn.x+=Kn*Zn,Fn.restore(),this.compose()}showType3Text(St){const sn=this.ctx,gn=this.current,Pn=gn.font,Fn=gn.fontSize,vn=gn.fontDirection,kn=Pn.vertical?1:-1,Bn=gn.charSpacing,er=gn.wordSpacing,Zn=gn.textHScale*vn,Cn=gn.fontMatrix||Se.FONT_IDENTITY_MATRIX,Tn=St.length,qn=gn.textRenderingMode===Se.TextRenderingMode.INVISIBLE;let In,wn,Vn,Yn;if(!(qn||Fn===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,sn.save(),sn.transform(...gn.textMatrix),sn.translate(gn.x,gn.y),sn.scale(Zn,vn),In=0;In<Tn;++In){if(wn=St[In],typeof wn=="number"){Yn=kn*wn*Fn/1e3,this.ctx.translate(Yn,0),gn.x+=Yn*Zn;continue}const tr=(wn.isSpace?er:0)+Bn,cr=Pn.charProcOperatorList[wn.operatorListId];if(!cr){(0,Se.warn)(`Type3 character "${wn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=wn,this.save(),sn.scale(Fn,Fn),sn.transform(...Cn),this.executeOperatorList(cr),this.restore()),Vn=Se.Util.applyTransform([wn.width,0],Cn)[0]*Fn+tr,sn.translate(Vn,0),gn.x+=Vn*Zn}sn.restore(),this.processingType3=null}}setCharWidth(St,sn){}setCharWidthAndBounds(St,sn,gn,Pn,Fn,vn){this.ctx.rect(gn,Pn,Fn-gn,vn-Pn),this.ctx.clip(),this.endPath()}getColorN_Pattern(St){let sn;if(St[0]==="TilingPattern"){const gn=St[1],Pn=this.baseTransform||(0,_e.getCurrentTransform)(this.ctx),Fn={createCanvasGraphics:vn=>new Un(vn,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};sn=new Ae.TilingPattern(St,gn,this.ctx,Fn,Pn)}else sn=this._getPattern(St[1],St[2]);return sn}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(St,sn,gn){var Fn;const Pn=((Fn=this.selectColor)==null?void 0:Fn.call(this,St,sn,gn))||Se.Util.makeHexColor(St,sn,gn);this.ctx.strokeStyle=Pn,this.current.strokeColor=Pn}setFillRGBColor(St,sn,gn){var Fn;const Pn=((Fn=this.selectColor)==null?void 0:Fn.call(this,St,sn,gn))||Se.Util.makeHexColor(St,sn,gn);this.ctx.fillStyle=Pn,this.current.fillColor=Pn,this.current.patternFill=!1}_getPattern(St,sn=null){let gn;return this.cachedPatterns.has(St)?gn=this.cachedPatterns.get(St):(gn=(0,Ae.getShadingPattern)(this.objs.get(St)),this.cachedPatterns.set(St,gn)),sn&&(gn.matrix=sn),gn}shadingFill(St){if(!this.contentVisible)return;const sn=this.ctx;this.save();const gn=this._getPattern(St);sn.fillStyle=gn.getPattern(sn,this,(0,_e.getCurrentTransformInverse)(sn),Ae.PathType.SHADING);const Pn=(0,_e.getCurrentTransformInverse)(sn);if(Pn){const Fn=sn.canvas,vn=Fn.width,kn=Fn.height,Bn=Se.Util.applyTransform([0,0],Pn),er=Se.Util.applyTransform([0,kn],Pn),Zn=Se.Util.applyTransform([vn,0],Pn),Cn=Se.Util.applyTransform([vn,kn],Pn),Tn=Math.min(Bn[0],er[0],Zn[0],Cn[0]),qn=Math.min(Bn[1],er[1],Zn[1],Cn[1]),In=Math.max(Bn[0],er[0],Zn[0],Cn[0]),wn=Math.max(Bn[1],er[1],Zn[1],Cn[1]);this.ctx.fillRect(Tn,qn,In-Tn,wn-qn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Se.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Se.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(St,sn){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(St)&&St.length===6&&this.transform(...St),this.baseTransform=(0,_e.getCurrentTransform)(this.ctx),sn)){const gn=sn[2]-sn[0],Pn=sn[3]-sn[1];this.ctx.rect(sn[0],sn[1],gn,Pn),this.current.updateRectMinMax((0,_e.getCurrentTransform)(this.ctx),sn),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(St){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const sn=this.ctx;St.isolated||(0,Se.info)("TODO: Support non-isolated groups."),St.knockout&&(0,Se.warn)("Knockout groups not supported.");const gn=(0,_e.getCurrentTransform)(sn);if(St.matrix&&sn.transform(...St.matrix),!St.bbox)throw new Error("Bounding box is required.");let Pn=Se.Util.getAxialAlignedBoundingBox(St.bbox,(0,_e.getCurrentTransform)(sn));const Fn=[0,0,sn.canvas.width,sn.canvas.height];Pn=Se.Util.intersect(Pn,Fn)||[0,0,0,0];const vn=Math.floor(Pn[0]),kn=Math.floor(Pn[1]);let Bn=Math.max(Math.ceil(Pn[2])-vn,1),er=Math.max(Math.ceil(Pn[3])-kn,1),Zn=1,Cn=1;Bn>Fe&&(Zn=Bn/Fe,Bn=Fe),er>Fe&&(Cn=er/Fe,er=Fe),this.current.startNewPathAndClipBox([0,0,Bn,er]);let Tn="groupAt"+this.groupLevel;St.smask&&(Tn+="_smask_"+this.smaskCounter++%2);const qn=this.cachedCanvases.getCanvas(Tn,Bn,er),In=qn.context;In.scale(1/Zn,1/Cn),In.translate(-vn,-kn),In.transform(...gn),St.smask?this.smaskStack.push({canvas:qn.canvas,context:In,offsetX:vn,offsetY:kn,scaleX:Zn,scaleY:Cn,subtype:St.smask.subtype,backdrop:St.smask.backdrop,transferMap:St.smask.transferMap||null,startTransformInverse:null}):(sn.setTransform(1,0,0,1,0,0),sn.translate(vn,kn),sn.scale(Zn,Cn),sn.save()),We(sn,In),this.ctx=In,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(sn),this.groupLevel++}endGroup(St){if(!this.contentVisible)return;this.groupLevel--;const sn=this.ctx,gn=this.groupStack.pop();if(this.ctx=gn,this.ctx.imageSmoothingEnabled=!1,St.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pn=(0,_e.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pn);const Fn=Se.Util.getAxialAlignedBoundingBox([0,0,sn.canvas.width,sn.canvas.height],Pn);this.ctx.drawImage(sn.canvas,0,0),this.ctx.restore(),this.compose(Fn)}}beginAnnotation(St,sn,gn,Pn,Fn){if(On(this,_n,V2).call(this),Je(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(sn)&&sn.length===4){const vn=sn[2]-sn[0],kn=sn[3]-sn[1];if(Fn&&this.annotationCanvasMap){gn=gn.slice(),gn[4]-=sn[0],gn[5]-=sn[1],sn=sn.slice(),sn[0]=sn[1]=0,sn[2]=vn,sn[3]=kn;const[Bn,er]=Se.Util.singularValueDecompose2dScale((0,_e.getCurrentTransform)(this.ctx)),{viewportScale:Zn}=this,Cn=Math.ceil(vn*this.outputScaleX*Zn),Tn=Math.ceil(kn*this.outputScaleY*Zn);this.annotationCanvas=this.canvasFactory.create(Cn,Tn);const{canvas:qn,context:In}=this.annotationCanvas;this.annotationCanvasMap.set(St,qn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=In,this.ctx.setTransform(Bn,0,0,-er,0,kn*er),Je(this.ctx,this.foregroundColor)}else Je(this.ctx,this.foregroundColor),this.ctx.rect(sn[0],sn[1],vn,kn),this.ctx.clip(),this.endPath()}this.current=new Ve(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...gn),this.transform(...Pn)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(St){if(!this.contentVisible)return;const sn=St.count;St=this.getObject(St.data,St),St.count=sn;const gn=this.ctx,Pn=this.processingType3;if(Pn&&(Pn.compiled===void 0&&(Pn.compiled=Ge(St)),Pn.compiled)){Pn.compiled(gn);return}const Fn=this._createMaskCanvas(St),vn=Fn.canvas;gn.save(),gn.setTransform(1,0,0,1,0,0),gn.drawImage(vn,Fn.offsetX,Fn.offsetY),gn.restore(),this.compose()}paintImageMaskXObjectRepeat(St,sn,gn=0,Pn=0,Fn,vn){if(!this.contentVisible)return;St=this.getObject(St.data,St);const kn=this.ctx;kn.save();const Bn=(0,_e.getCurrentTransform)(kn);kn.transform(sn,gn,Pn,Fn,0,0);const er=this._createMaskCanvas(St);kn.setTransform(1,0,0,1,er.offsetX-Bn[4],er.offsetY-Bn[5]);for(let Zn=0,Cn=vn.length;Zn<Cn;Zn+=2){const Tn=Se.Util.transform(Bn,[sn,gn,Pn,Fn,vn[Zn],vn[Zn+1]]),[qn,In]=Se.Util.applyTransform([0,0],Tn);kn.drawImage(er.canvas,qn,In)}kn.restore(),this.compose()}paintImageMaskXObjectGroup(St){if(!this.contentVisible)return;const sn=this.ctx,gn=this.current.fillColor,Pn=this.current.patternFill;for(const Fn of St){const{data:vn,width:kn,height:Bn,transform:er}=Fn,Zn=this.cachedCanvases.getCanvas("maskCanvas",kn,Bn),Cn=Zn.context;Cn.save();const Tn=this.getObject(vn,Fn);Xe(Cn,Tn),Cn.globalCompositeOperation="source-in",Cn.fillStyle=Pn?gn.getPattern(Cn,this,(0,_e.getCurrentTransformInverse)(sn),Ae.PathType.FILL):gn,Cn.fillRect(0,0,kn,Bn),Cn.restore(),sn.save(),sn.transform(...er),sn.scale(1,-1),He(sn,Zn.canvas,0,0,kn,Bn,0,-1,1,1),sn.restore()}this.compose()}paintImageXObject(St){if(!this.contentVisible)return;const sn=this.getObject(St);if(!sn){(0,Se.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(sn)}paintImageXObjectRepeat(St,sn,gn,Pn){if(!this.contentVisible)return;const Fn=this.getObject(St);if(!Fn){(0,Se.warn)("Dependent image isn't ready yet");return}const vn=Fn.width,kn=Fn.height,Bn=[];for(let er=0,Zn=Pn.length;er<Zn;er+=2)Bn.push({transform:[sn,0,0,gn,Pn[er],Pn[er+1]],x:0,y:0,w:vn,h:kn});this.paintInlineImageXObjectGroup(Fn,Bn)}paintInlineImageXObject(St){if(!this.contentVisible)return;const sn=St.width,gn=St.height,Pn=this.ctx;this.save(),Pn.scale(1/sn,-1/gn);let Fn;if(typeof HTMLElement=="function"&&St instanceof HTMLElement||!St.data)Fn=St;else{const kn=this.cachedCanvases.getCanvas("inlineImage",sn,gn),Bn=kn.context;ze(Bn,St,this.current.transferMaps),Fn=kn.canvas}const vn=this._scaleImage(Fn,(0,_e.getCurrentTransformInverse)(Pn));Pn.imageSmoothingEnabled=fn((0,_e.getCurrentTransform)(Pn),St.interpolate),He(Pn,vn.img,0,0,vn.paintWidth,vn.paintHeight,0,-gn,sn,gn),this.compose(),this.restore()}paintInlineImageXObjectGroup(St,sn){if(!this.contentVisible)return;const gn=this.ctx,Pn=St.width,Fn=St.height,vn=this.cachedCanvases.getCanvas("inlineImage",Pn,Fn),kn=vn.context;ze(kn,St,this.current.transferMaps);for(const Bn of sn)gn.save(),gn.transform(...Bn.transform),gn.scale(1,-1),He(gn,vn.canvas,Bn.x,Bn.y,Bn.w,Bn.h,0,-1,1,1),gn.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(St){}markPointProps(St,sn){}beginMarkedContent(St){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(St,sn){St==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(sn)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(St){const sn=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(St);const gn=this.ctx;this.pendingClip&&(sn||(this.pendingClip===bn?gn.clip("evenodd"):gn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),gn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const St=(0,_e.getCurrentTransform)(this.ctx);if(St[1]===0&&St[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(St[0]),Math.abs(St[3]));else{const sn=Math.abs(St[0]*St[3]-St[2]*St[1]),gn=Math.hypot(St[0],St[2]),Pn=Math.hypot(St[1],St[3]);this._cachedGetSinglePixelWidth=Math.max(gn,Pn)/sn}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:St}=this.current,sn=(0,_e.getCurrentTransform)(this.ctx);let gn,Pn;if(sn[1]===0&&sn[2]===0){const Fn=Math.abs(sn[0]),vn=Math.abs(sn[3]);if(St===0)gn=1/Fn,Pn=1/vn;else{const kn=Fn*St,Bn=vn*St;gn=kn<1?1/kn:1,Pn=Bn<1?1/Bn:1}}else{const Fn=Math.abs(sn[0]*sn[3]-sn[2]*sn[1]),vn=Math.hypot(sn[0],sn[1]),kn=Math.hypot(sn[2],sn[3]);if(St===0)gn=kn/Fn,Pn=vn/Fn;else{const Bn=St*Fn;gn=kn>Bn?kn/Bn:1,Pn=vn>Bn?vn/Bn:1}}this._cachedScaleForStroking=[gn,Pn]}return this._cachedScaleForStroking}rescaleAndStroke(St){const{ctx:sn}=this,{lineWidth:gn}=this.current,[Pn,Fn]=this.getScaleForStroking();if(sn.lineWidth=gn||1,Pn===1&&Fn===1){sn.stroke();return}let vn,kn,Bn;St&&(vn=(0,_e.getCurrentTransform)(sn),kn=sn.getLineDash().slice(),Bn=sn.lineDashOffset),sn.scale(Pn,Fn);const er=Math.max(Pn,Fn);sn.setLineDash(sn.getLineDash().map(Zn=>Zn/er)),sn.lineDashOffset/=er,sn.stroke(),St&&(sn.setTransform(...vn),sn.setLineDash(kn),sn.lineDashOffset=Bn)}isContentVisible(){for(let St=this.markedContentStack.length-1;St>=0;St--)if(!this.markedContentStack[St].visible)return!1;return!0}};_n=new WeakSet,V2=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let pn=Un;e.CanvasGraphics=pn;for(const xn in Se.OPS)pn.prototype[xn]!==void 0&&(pn.prototype[Se.OPS[xn]]=pn.prototype[xn])},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=Re;var Se=t(1),_e=t(6);const Ae={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=Ae;function Ce(He,Ge){if(!Ge)return;const Ve=Ge[2]-Ge[0],ze=Ge[3]-Ge[1],Xe=new Path2D;Xe.rect(Ge[0],Ge[1],Ve,ze),He.clip(Xe)}class Pe{constructor(){this.constructor===Pe&&(0,Se.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Se.unreachable)("Abstract method `getPattern` called.")}}class Ee extends Pe{constructor(Ge){super(),this._type=Ge[1],this._bbox=Ge[2],this._colorStops=Ge[3],this._p0=Ge[4],this._p1=Ge[5],this._r0=Ge[6],this._r1=Ge[7],this.matrix=null}_createGradient(Ge){let Ve;this._type==="axial"?Ve=Ge.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ve=Ge.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ze of this._colorStops)Ve.addColorStop(ze[0],ze[1]);return Ve}getPattern(Ge,Ve,ze,Xe){let We;if(Xe===Ae.STROKE||Xe===Ae.FILL){const Je=Ve.current.getClippedPathBoundingBox(Xe,(0,_e.getCurrentTransform)(Ge))||[0,0,0,0],Qe=Math.ceil(Je[2]-Je[0])||1,Ze=Math.ceil(Je[3]-Je[1])||1,on=Ve.cachedCanvases.getCanvas("pattern",Qe,Ze,!0),an=on.context;an.clearRect(0,0,an.canvas.width,an.canvas.height),an.beginPath(),an.rect(0,0,an.canvas.width,an.canvas.height),an.translate(-Je[0],-Je[1]),ze=Se.Util.transform(ze,[1,0,0,1,Je[0],Je[1]]),an.transform(...Ve.baseTransform),this.matrix&&an.transform(...this.matrix),Ce(an,this._bbox),an.fillStyle=this._createGradient(an),an.fill(),We=Ge.createPattern(on.canvas,"no-repeat");const rn=new DOMMatrix(ze);We.setTransform(rn)}else Ce(Ge,this._bbox),We=this._createGradient(Ge);return We}}function Fe(He,Ge,Ve,ze,Xe,We,Je,Qe){const Ze=Ge.coords,on=Ge.colors,an=He.data,rn=He.width*4;let fn;Ze[Ve+1]>Ze[ze+1]&&(fn=Ve,Ve=ze,ze=fn,fn=We,We=Je,Je=fn),Ze[ze+1]>Ze[Xe+1]&&(fn=ze,ze=Xe,Xe=fn,fn=Je,Je=Qe,Qe=fn),Ze[Ve+1]>Ze[ze+1]&&(fn=Ve,Ve=ze,ze=fn,fn=We,We=Je,Je=fn);const nn=(Ze[Ve]+Ge.offsetX)*Ge.scaleX,cn=(Ze[Ve+1]+Ge.offsetY)*Ge.scaleY,dn=(Ze[ze]+Ge.offsetX)*Ge.scaleX,bn=(Ze[ze+1]+Ge.offsetY)*Ge.scaleY,pn=(Ze[Xe]+Ge.offsetX)*Ge.scaleX,_n=(Ze[Xe+1]+Ge.offsetY)*Ge.scaleY;if(cn>=_n)return;const Nn=on[We],Un=on[We+1],xn=on[We+2],St=on[Je],sn=on[Je+1],gn=on[Je+2],Pn=on[Qe],Fn=on[Qe+1],vn=on[Qe+2],kn=Math.round(cn),Bn=Math.round(_n);let er,Zn,Cn,Tn,qn,In,wn,Vn;for(let Yn=kn;Yn<=Bn;Yn++){if(Yn<bn){let ir;Yn<cn?ir=0:ir=(cn-Yn)/(cn-bn),er=nn-(nn-dn)*ir,Zn=Nn-(Nn-St)*ir,Cn=Un-(Un-sn)*ir,Tn=xn-(xn-gn)*ir}else{let ir;Yn>_n?ir=1:bn===_n?ir=0:ir=(bn-Yn)/(bn-_n),er=dn-(dn-pn)*ir,Zn=St-(St-Pn)*ir,Cn=sn-(sn-Fn)*ir,Tn=gn-(gn-vn)*ir}let tr;Yn<cn?tr=0:Yn>_n?tr=1:tr=(cn-Yn)/(cn-_n),qn=nn-(nn-pn)*tr,In=Nn-(Nn-Pn)*tr,wn=Un-(Un-Fn)*tr,Vn=xn-(xn-vn)*tr;const cr=Math.round(Math.min(er,qn)),Kn=Math.round(Math.max(er,qn));let rr=rn*Yn+cr*4;for(let ir=cr;ir<=Kn;ir++)tr=(er-ir)/(er-qn),tr<0?tr=0:tr>1&&(tr=1),an[rr++]=Zn-(Zn-In)*tr|0,an[rr++]=Cn-(Cn-wn)*tr|0,an[rr++]=Tn-(Tn-Vn)*tr|0,an[rr++]=255}}function ke(He,Ge,Ve){const ze=Ge.coords,Xe=Ge.colors;let We,Je;switch(Ge.type){case"lattice":const Qe=Ge.verticesPerRow,Ze=Math.floor(ze.length/Qe)-1,on=Qe-1;for(We=0;We<Ze;We++){let an=We*Qe;for(let rn=0;rn<on;rn++,an++)Fe(He,Ve,ze[an],ze[an+1],ze[an+Qe],Xe[an],Xe[an+1],Xe[an+Qe]),Fe(He,Ve,ze[an+Qe+1],ze[an+1],ze[an+Qe],Xe[an+Qe+1],Xe[an+1],Xe[an+Qe])}break;case"triangles":for(We=0,Je=ze.length;We<Je;We+=3)Fe(He,Ve,ze[We],ze[We+1],ze[We+2],Xe[We],Xe[We+1],Xe[We+2]);break;default:throw new Error("illegal figure")}}class Ie extends Pe{constructor(Ge){super(),this._coords=Ge[2],this._colors=Ge[3],this._figures=Ge[4],this._bounds=Ge[5],this._bbox=Ge[7],this._background=Ge[8],this.matrix=null}_createMeshCanvas(Ge,Ve,ze){const Qe=Math.floor(this._bounds[0]),Ze=Math.floor(this._bounds[1]),on=Math.ceil(this._bounds[2])-Qe,an=Math.ceil(this._bounds[3])-Ze,rn=Math.min(Math.ceil(Math.abs(on*Ge[0]*1.1)),3e3),fn=Math.min(Math.ceil(Math.abs(an*Ge[1]*1.1)),3e3),nn=on/rn,cn=an/fn,dn={coords:this._coords,colors:this._colors,offsetX:-Qe,offsetY:-Ze,scaleX:1/nn,scaleY:1/cn},bn=rn+2*2,pn=fn+2*2,_n=ze.getCanvas("mesh",bn,pn,!1),Nn=_n.context,Un=Nn.createImageData(rn,fn);if(Ve){const St=Un.data;for(let sn=0,gn=St.length;sn<gn;sn+=4)St[sn]=Ve[0],St[sn+1]=Ve[1],St[sn+2]=Ve[2],St[sn+3]=255}for(const St of this._figures)ke(Un,St,dn);return Nn.putImageData(Un,2,2),{canvas:_n.canvas,offsetX:Qe-2*nn,offsetY:Ze-2*cn,scaleX:nn,scaleY:cn}}getPattern(Ge,Ve,ze,Xe){Ce(Ge,this._bbox);let We;if(Xe===Ae.SHADING)We=Se.Util.singularValueDecompose2dScale((0,_e.getCurrentTransform)(Ge));else if(We=Se.Util.singularValueDecompose2dScale(Ve.baseTransform),this.matrix){const Qe=Se.Util.singularValueDecompose2dScale(this.matrix);We=[We[0]*Qe[0],We[1]*Qe[1]]}const Je=this._createMeshCanvas(We,Xe===Ae.SHADING?null:this._background,Ve.cachedCanvases);return Xe!==Ae.SHADING&&(Ge.setTransform(...Ve.baseTransform),this.matrix&&Ge.transform(...this.matrix)),Ge.translate(Je.offsetX,Je.offsetY),Ge.scale(Je.scaleX,Je.scaleY),Ge.createPattern(Je.canvas,"no-repeat")}}class Oe extends Pe{getPattern(){return"hotpink"}}function Re(He){switch(He[0]){case"RadialAxial":return new Ee(He);case"Mesh":return new Ie(He);case"Dummy":return new Oe}throw new Error(`Unknown IR type: ${He[0]}`)}const Be={COLORED:1,UNCOLORED:2};class je{static get MAX_PATTERN_SIZE(){return(0,Se.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Ge,Ve,ze,Xe,We){this.operatorList=Ge[2],this.matrix=Ge[3]||[1,0,0,1,0,0],this.bbox=Ge[4],this.xstep=Ge[5],this.ystep=Ge[6],this.paintType=Ge[7],this.tilingType=Ge[8],this.color=Ve,this.ctx=ze,this.canvasGraphicsFactory=Xe,this.baseTransform=We}createPatternCanvas(Ge){const Ve=this.operatorList,ze=this.bbox,Xe=this.xstep,We=this.ystep,Je=this.paintType,Qe=this.tilingType,Ze=this.color,on=this.canvasGraphicsFactory;(0,Se.info)("TilingType: "+Qe);const an=ze[0],rn=ze[1],fn=ze[2],nn=ze[3],cn=Se.Util.singularValueDecompose2dScale(this.matrix),dn=Se.Util.singularValueDecompose2dScale(this.baseTransform),bn=[cn[0]*dn[0],cn[1]*dn[1]],pn=this.getSizeAndScale(Xe,this.ctx.canvas.width,bn[0]),_n=this.getSizeAndScale(We,this.ctx.canvas.height,bn[1]),Nn=Ge.cachedCanvases.getCanvas("pattern",pn.size,_n.size,!0),Un=Nn.context,xn=on.createCanvasGraphics(Un);xn.groupLevel=Ge.groupLevel,this.setFillAndStrokeStyleToContext(xn,Je,Ze);let St=an,sn=rn,gn=fn,Pn=nn;return an<0&&(St=0,gn+=Math.abs(an)),rn<0&&(sn=0,Pn+=Math.abs(rn)),Un.translate(-(pn.scale*St),-(_n.scale*sn)),xn.transform(pn.scale,0,0,_n.scale,0,0),Un.save(),this.clipBbox(xn,St,sn,gn,Pn),xn.baseTransform=(0,_e.getCurrentTransform)(xn.ctx),xn.executeOperatorList(Ve),xn.endDrawing(),{canvas:Nn.canvas,scaleX:pn.scale,scaleY:_n.scale,offsetX:St,offsetY:sn}}getSizeAndScale(Ge,Ve,ze){Ge=Math.abs(Ge);const Xe=Math.max(je.MAX_PATTERN_SIZE,Ve);let We=Math.ceil(Ge*ze);return We>=Xe?We=Xe:ze=We/Ge,{scale:ze,size:We}}clipBbox(Ge,Ve,ze,Xe,We){const Je=Xe-Ve,Qe=We-ze;Ge.ctx.rect(Ve,ze,Je,Qe),Ge.current.updateRectMinMax((0,_e.getCurrentTransform)(Ge.ctx),[Ve,ze,Xe,We]),Ge.clip(),Ge.endPath()}setFillAndStrokeStyleToContext(Ge,Ve,ze){const Xe=Ge.ctx,We=Ge.current;switch(Ve){case Be.COLORED:const Je=this.ctx;Xe.fillStyle=Je.fillStyle,Xe.strokeStyle=Je.strokeStyle,We.fillColor=Je.fillStyle,We.strokeColor=Je.strokeStyle;break;case Be.UNCOLORED:const Qe=Se.Util.makeHexColor(ze[0],ze[1],ze[2]);Xe.fillStyle=Qe,Xe.strokeStyle=Qe,We.fillColor=Qe,We.strokeColor=Qe;break;default:throw new Se.FormatError(`Unsupported paint type: ${Ve}`)}}getPattern(Ge,Ve,ze,Xe){let We=ze;Xe!==Ae.SHADING&&(We=Se.Util.transform(We,Ve.baseTransform),this.matrix&&(We=Se.Util.transform(We,this.matrix)));const Je=this.createPatternCanvas(Ve);let Qe=new DOMMatrix(We);Qe=Qe.translate(Je.offsetX,Je.offsetY),Qe=Qe.scale(1/Je.scaleX,1/Je.scaleY);const Ze=Ge.createPattern(Je.canvas,"repeat");return Ze.setTransform(Qe),Ze}}e.TilingPattern=je},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=_e;var Se=t(1);function _e({src:Ae,srcPos:Ce=0,dest:Pe,destPos:Ee=0,width:Fe,height:ke,inverseDecode:Ie=!1}){const Oe=Se.FeatureTest.isLittleEndian?4278190080:255,[Re,Be]=Ie?[0,Oe]:[Oe,0],je=Fe>>3,He=Fe&7,Ge=Ae.length;Pe=new Uint32Array(Pe.buffer);for(let Ve=0;Ve<ke;Ve++){for(const Xe=Ce+je;Ce<Xe;Ce++){const We=Ce<Ge?Ae[Ce]:255;Pe[Ee++]=We&128?Be:Re,Pe[Ee++]=We&64?Be:Re,Pe[Ee++]=We&32?Be:Re,Pe[Ee++]=We&16?Be:Re,Pe[Ee++]=We&8?Be:Re,Pe[Ee++]=We&4?Be:Re,Pe[Ee++]=We&2?Be:Re,Pe[Ee++]=We&1?Be:Re}if(He===0)continue;const ze=Ce<Ge?Ae[Ce++]:255;for(let Xe=0;Xe<He;Xe++)Pe[Ee++]=ze&1<<7-Xe?Be:Re}return{srcPos:Ce,destPos:Ee}}},(xe,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const t=Object.create(null);e.GlobalWorkerOptions=t,t.workerPort=null,t.workerSrc=""},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var Se=t(1);const _e={UNKNOWN:0,DATA:1,ERROR:2},Ae={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ce(Ee){switch(Ee instanceof Error||typeof Ee=="object"&&Ee!==null||(0,Se.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Ee.name){case"AbortException":return new Se.AbortException(Ee.message);case"MissingPDFException":return new Se.MissingPDFException(Ee.message);case"PasswordException":return new Se.PasswordException(Ee.message,Ee.code);case"UnexpectedResponseException":return new Se.UnexpectedResponseException(Ee.message,Ee.status);case"UnknownErrorException":return new Se.UnknownErrorException(Ee.message,Ee.details);default:return new Se.UnknownErrorException(Ee.message,Ee.toString())}}class Pe{constructor(Fe,ke,Ie){this.sourceName=Fe,this.targetName=ke,this.comObj=Ie,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Oe=>{const Re=Oe.data;if(Re.targetName!==this.sourceName)return;if(Re.stream){this._processStreamMessage(Re);return}if(Re.callback){const je=Re.callbackId,He=this.callbackCapabilities[je];if(!He)throw new Error(`Cannot resolve callback ${je}`);if(delete this.callbackCapabilities[je],Re.callback===_e.DATA)He.resolve(Re.data);else if(Re.callback===_e.ERROR)He.reject(Ce(Re.reason));else throw new Error("Unexpected callback case");return}const Be=this.actionHandler[Re.action];if(!Be)throw new Error(`Unknown action from worker: ${Re.action}`);if(Re.callbackId){const je=this.sourceName,He=Re.sourceName;new Promise(function(Ge){Ge(Be(Re.data))}).then(function(Ge){Ie.postMessage({sourceName:je,targetName:He,callback:_e.DATA,callbackId:Re.callbackId,data:Ge})},function(Ge){Ie.postMessage({sourceName:je,targetName:He,callback:_e.ERROR,callbackId:Re.callbackId,reason:Ce(Ge)})});return}if(Re.streamId){this._createStreamSink(Re);return}Be(Re.data)},Ie.addEventListener("message",this._onComObjOnMessage)}on(Fe,ke){const Ie=this.actionHandler;if(Ie[Fe])throw new Error(`There is already an actionName called "${Fe}"`);Ie[Fe]=ke}send(Fe,ke,Ie){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Fe,data:ke},Ie)}sendWithPromise(Fe,ke,Ie){const Oe=this.callbackId++,Re=(0,Se.createPromiseCapability)();this.callbackCapabilities[Oe]=Re;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Fe,callbackId:Oe,data:ke},Ie)}catch(Be){Re.reject(Be)}return Re.promise}sendWithStream(Fe,ke,Ie,Oe){const Re=this.streamId++,Be=this.sourceName,je=this.targetName,He=this.comObj;return new ReadableStream({start:Ge=>{const Ve=(0,Se.createPromiseCapability)();return this.streamControllers[Re]={controller:Ge,startCall:Ve,pullCall:null,cancelCall:null,isClosed:!1},He.postMessage({sourceName:Be,targetName:je,action:Fe,streamId:Re,data:ke,desiredSize:Ge.desiredSize},Oe),Ve.promise},pull:Ge=>{const Ve=(0,Se.createPromiseCapability)();return this.streamControllers[Re].pullCall=Ve,He.postMessage({sourceName:Be,targetName:je,stream:Ae.PULL,streamId:Re,desiredSize:Ge.desiredSize}),Ve.promise},cancel:Ge=>{(0,Se.assert)(Ge instanceof Error,"cancel must have a valid reason");const Ve=(0,Se.createPromiseCapability)();return this.streamControllers[Re].cancelCall=Ve,this.streamControllers[Re].isClosed=!0,He.postMessage({sourceName:Be,targetName:je,stream:Ae.CANCEL,streamId:Re,reason:Ce(Ge)}),Ve.promise}},Ie)}_createStreamSink(Fe){const ke=Fe.streamId,Ie=this.sourceName,Oe=Fe.sourceName,Re=this.comObj,Be=this,je=this.actionHandler[Fe.action],He={enqueue(Ge,Ve=1,ze){if(this.isCancelled)return;const Xe=this.desiredSize;this.desiredSize-=Ve,Xe>0&&this.desiredSize<=0&&(this.sinkCapability=(0,Se.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.ENQUEUE,streamId:ke,chunk:Ge},ze)},close(){this.isCancelled||(this.isCancelled=!0,Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.CLOSE,streamId:ke}),delete Be.streamSinks[ke])},error(Ge){(0,Se.assert)(Ge instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.ERROR,streamId:ke,reason:Ce(Ge)}))},sinkCapability:(0,Se.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:Fe.desiredSize,ready:null};He.sinkCapability.resolve(),He.ready=He.sinkCapability.promise,this.streamSinks[ke]=He,new Promise(function(Ge){Ge(je(Fe.data,He))}).then(function(){Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.START_COMPLETE,streamId:ke,success:!0})},function(Ge){Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.START_COMPLETE,streamId:ke,reason:Ce(Ge)})})}_processStreamMessage(Fe){const ke=Fe.streamId,Ie=this.sourceName,Oe=Fe.sourceName,Re=this.comObj,Be=this.streamControllers[ke],je=this.streamSinks[ke];switch(Fe.stream){case Ae.START_COMPLETE:Fe.success?Be.startCall.resolve():Be.startCall.reject(Ce(Fe.reason));break;case Ae.PULL_COMPLETE:Fe.success?Be.pullCall.resolve():Be.pullCall.reject(Ce(Fe.reason));break;case Ae.PULL:if(!je){Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.PULL_COMPLETE,streamId:ke,success:!0});break}je.desiredSize<=0&&Fe.desiredSize>0&&je.sinkCapability.resolve(),je.desiredSize=Fe.desiredSize,new Promise(function(He){He(je.onPull&&je.onPull())}).then(function(){Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.PULL_COMPLETE,streamId:ke,success:!0})},function(He){Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.PULL_COMPLETE,streamId:ke,reason:Ce(He)})});break;case Ae.ENQUEUE:if((0,Se.assert)(Be,"enqueue should have stream controller"),Be.isClosed)break;Be.controller.enqueue(Fe.chunk);break;case Ae.CLOSE:if((0,Se.assert)(Be,"close should have stream controller"),Be.isClosed)break;Be.isClosed=!0,Be.controller.close(),this._deleteStreamController(Be,ke);break;case Ae.ERROR:(0,Se.assert)(Be,"error should have stream controller"),Be.controller.error(Ce(Fe.reason)),this._deleteStreamController(Be,ke);break;case Ae.CANCEL_COMPLETE:Fe.success?Be.cancelCall.resolve():Be.cancelCall.reject(Ce(Fe.reason)),this._deleteStreamController(Be,ke);break;case Ae.CANCEL:if(!je)break;new Promise(function(He){He(je.onCancel&&je.onCancel(Ce(Fe.reason)))}).then(function(){Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.CANCEL_COMPLETE,streamId:ke,success:!0})},function(He){Re.postMessage({sourceName:Ie,targetName:Oe,stream:Ae.CANCEL_COMPLETE,streamId:ke,reason:Ce(He)})}),je.sinkCapability.reject(Ce(Fe.reason)),je.isCancelled=!0,delete this.streamSinks[ke];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(Fe,ke){await Promise.allSettled([Fe.startCall&&Fe.startCall.promise,Fe.pullCall&&Fe.pullCall.promise,Fe.cancelCall&&Fe.cancelCall.promise]),delete this.streamControllers[ke]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=Pe},(xe,e,t)=>{var Ae,Ce;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var Se=t(1);class _e{constructor({parsedData:Ee,rawData:Fe}){jn(this,Ae);jn(this,Ce);Mn(this,Ae,Ee),Mn(this,Ce,Fe)}getRaw(){return qe(this,Ce)}get(Ee){return qe(this,Ae).get(Ee)??null}getAll(){return(0,Se.objectFromMap)(qe(this,Ae))}has(Ee){return qe(this,Ae).has(Ee)}}Ae=new WeakMap,Ce=new WeakMap,e.Metadata=_e},(xe,e,t)=>{var Ee,Fe,ke,Ie,Oe,Re,W2;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var Se=t(1),_e=t(8);const Ae=Symbol("INTERNAL");class Ce{constructor(He,Ge){jn(this,Ee,!0);this.name=He,this.intent=Ge}get visible(){return qe(this,Ee)}_setVisible(He,Ge){He!==Ae&&(0,Se.unreachable)("Internal method `_setVisible` called."),Mn(this,Ee,Ge)}}Ee=new WeakMap;class Pe{constructor(He){jn(this,Re);jn(this,Fe,null);jn(this,ke,new Map);jn(this,Ie,null);jn(this,Oe,null);if(this.name=null,this.creator=null,He!==null){this.name=He.name,this.creator=He.creator,Mn(this,Oe,He.order);for(const Ge of He.groups)qe(this,ke).set(Ge.id,new Ce(Ge.name,Ge.intent));if(He.baseState==="OFF")for(const Ge of qe(this,ke).values())Ge._setVisible(Ae,!1);for(const Ge of He.on)qe(this,ke).get(Ge)._setVisible(Ae,!0);for(const Ge of He.off)qe(this,ke).get(Ge)._setVisible(Ae,!1);Mn(this,Ie,this.getHash())}}isVisible(He){if(qe(this,ke).size===0)return!0;if(!He)return(0,Se.warn)("Optional content group not defined."),!0;if(He.type==="OCG")return qe(this,ke).has(He.id)?qe(this,ke).get(He.id).visible:((0,Se.warn)(`Optional content group not found: ${He.id}`),!0);if(He.type==="OCMD"){if(He.expression)return On(this,Re,W2).call(this,He.expression);if(!He.policy||He.policy==="AnyOn"){for(const Ge of He.ids){if(!qe(this,ke).has(Ge))return(0,Se.warn)(`Optional content group not found: ${Ge}`),!0;if(qe(this,ke).get(Ge).visible)return!0}return!1}else if(He.policy==="AllOn"){for(const Ge of He.ids){if(!qe(this,ke).has(Ge))return(0,Se.warn)(`Optional content group not found: ${Ge}`),!0;if(!qe(this,ke).get(Ge).visible)return!1}return!0}else if(He.policy==="AnyOff"){for(const Ge of He.ids){if(!qe(this,ke).has(Ge))return(0,Se.warn)(`Optional content group not found: ${Ge}`),!0;if(!qe(this,ke).get(Ge).visible)return!0}return!1}else if(He.policy==="AllOff"){for(const Ge of He.ids){if(!qe(this,ke).has(Ge))return(0,Se.warn)(`Optional content group not found: ${Ge}`),!0;if(qe(this,ke).get(Ge).visible)return!1}return!0}return(0,Se.warn)(`Unknown optional content policy ${He.policy}.`),!0}return(0,Se.warn)(`Unknown group type ${He.type}.`),!0}setVisibility(He,Ge=!0){if(!qe(this,ke).has(He)){(0,Se.warn)(`Optional content group not found: ${He}`);return}qe(this,ke).get(He)._setVisible(Ae,!!Ge),Mn(this,Fe,null)}get hasInitialVisibility(){return this.getHash()===qe(this,Ie)}getOrder(){return qe(this,ke).size?qe(this,Oe)?qe(this,Oe).slice():[...qe(this,ke).keys()]:null}getGroups(){return qe(this,ke).size>0?(0,Se.objectFromMap)(qe(this,ke)):null}getGroup(He){return qe(this,ke).get(He)||null}getHash(){if(qe(this,Fe)!==null)return qe(this,Fe);const He=new _e.MurmurHash3_64;for(const[Ge,Ve]of qe(this,ke))He.update(`${Ge}:${Ve.visible}`);return Mn(this,Fe,He.hexdigest())}}Fe=new WeakMap,ke=new WeakMap,Ie=new WeakMap,Oe=new WeakMap,Re=new WeakSet,W2=function(He){const Ge=He.length;if(Ge<2)return!0;const Ve=He[0];for(let ze=1;ze<Ge;ze++){const Xe=He[ze];let We;if(Array.isArray(Xe))We=On(this,Re,W2).call(this,Xe);else if(qe(this,ke).has(Xe))We=qe(this,ke).get(Xe).visible;else return(0,Se.warn)(`Optional content group not found: ${Xe}`),!0;switch(Ve){case"And":if(!We)return!1;break;case"Or":if(We)return!0;break;case"Not":return!We;default:return!0}}return Ve==="And"},e.OptionalContentConfig=Pe},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var Se=t(1),_e=t(6);class Ae{constructor({length:Fe,initialData:ke,progressiveDone:Ie=!1,contentDispositionFilename:Oe=null,disableRange:Re=!1,disableStream:Be=!1},je){if((0,Se.assert)(je,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ie,this._contentDispositionFilename=Oe,(ke==null?void 0:ke.length)>0){const He=ke instanceof Uint8Array&&ke.byteLength===ke.buffer.byteLength?ke.buffer:new Uint8Array(ke).buffer;this._queuedChunks.push(He)}this._pdfDataRangeTransport=je,this._isStreamingSupported=!Be,this._isRangeSupported=!Re,this._contentLength=Fe,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((He,Ge)=>{this._onReceiveData({begin:He,chunk:Ge})}),this._pdfDataRangeTransport.addProgressListener((He,Ge)=>{this._onProgress({loaded:He,total:Ge})}),this._pdfDataRangeTransport.addProgressiveReadListener(He=>{this._onReceiveData({chunk:He})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Fe,chunk:ke}){const Ie=ke instanceof Uint8Array&&ke.byteLength===ke.buffer.byteLength?ke.buffer:new Uint8Array(ke).buffer;if(Fe===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ie):this._queuedChunks.push(Ie);else{const Oe=this._rangeReaders.some(function(Re){return Re._begin!==Fe?!1:(Re._enqueue(Ie),!0)});(0,Se.assert)(Oe,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Fe;return((Fe=this._fullRequestReader)==null?void 0:Fe._loaded)??0}_onProgress(Fe){var ke,Ie,Oe,Re;Fe.total===void 0?(Ie=(ke=this._rangeReaders[0])==null?void 0:ke.onProgress)==null||Ie.call(ke,{loaded:Fe.loaded}):(Re=(Oe=this._fullRequestReader)==null?void 0:Oe.onProgress)==null||Re.call(Oe,{loaded:Fe.loaded,total:Fe.total})}_onProgressiveDone(){var Fe;(Fe=this._fullRequestReader)==null||Fe.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Fe){const ke=this._rangeReaders.indexOf(Fe);ke>=0&&this._rangeReaders.splice(ke,1)}getFullReader(){(0,Se.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Fe=this._queuedChunks;return this._queuedChunks=null,new Ce(this,Fe,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Fe,ke){if(ke<=this._progressiveDataLength)return null;const Ie=new Pe(this,Fe,ke);return this._pdfDataRangeTransport.requestDataRange(Fe,ke),this._rangeReaders.push(Ie),Ie}cancelAllRequests(Fe){var ke;(ke=this._fullRequestReader)==null||ke.cancel(Fe);for(const Ie of this._rangeReaders.slice(0))Ie.cancel(Fe);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=Ae;class Ce{constructor(Fe,ke,Ie=!1,Oe=null){this._stream=Fe,this._done=Ie||!1,this._filename=(0,_e.isPdfFile)(Oe)?Oe:null,this._queuedChunks=ke||[],this._loaded=0;for(const Re of this._queuedChunks)this._loaded+=Re.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Fe._fullRequestReader=this,this.onProgress=null}_enqueue(Fe){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Fe,done:!1}):this._queuedChunks.push(Fe),this._loaded+=Fe.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Fe=(0,Se.createPromiseCapability)();return this._requests.push(Fe),Fe.promise}cancel(Fe){this._done=!0;for(const ke of this._requests)ke.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Pe{constructor(Fe,ke,Ie){this._stream=Fe,this._begin=ke,this._end=Ie,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Fe){if(!this._done){if(this._requests.length===0)this._queuedChunk=Fe;else{this._requests.shift().resolve({value:Fe,done:!1});for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ke=this._queuedChunk;return this._queuedChunk=null,{value:ke,done:!1}}if(this._done)return{value:void 0,done:!0};const Fe=(0,Se.createPromiseCapability)();return this._requests.push(Fe),Fe.promise}cancel(Fe){this._done=!0;for(const ke of this._requests)ke.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(xe,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class t{static textContent(_e){const Ae=[],Ce={items:Ae,styles:Object.create(null)};function Pe(Ee){var Ie;if(!Ee)return;let Fe=null;const ke=Ee.name;if(ke==="#text")Fe=Ee.value;else if(t.shouldBuildText(ke))(Ie=Ee==null?void 0:Ee.attributes)!=null&&Ie.textContent?Fe=Ee.attributes.textContent:Ee.value&&(Fe=Ee.value);else return;if(Fe!==null&&Ae.push({str:Fe}),!!Ee.children)for(const Oe of Ee.children)Pe(Oe)}return Pe(_e),Ce}static shouldBuildText(_e){return!(_e==="textarea"||_e==="input"||_e==="option"||_e==="select")}}e.XfaText=t},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var Se=t(7);const _e=function(Ee){return new Promise((Fe,ke)=>{require$$5.readFile(Ee,(Oe,Re)=>{if(Oe||!Re){ke(new Error(Oe));return}Fe(new Uint8Array(Re))})})};class Ae extends Se.BaseCanvasFactory{_createCanvas(Fe,ke){return require$$5.createCanvas(Fe,ke)}}e.NodeCanvasFactory=Ae;class Ce extends Se.BaseCMapReaderFactory{_fetchData(Fe,ke){return _e(Fe).then(Ie=>({cMapData:Ie,compressionType:ke}))}}e.NodeCMapReaderFactory=Ce;class Pe extends Se.BaseStandardFontDataFactory{_fetchData(Fe){return _e(Fe)}}e.NodeStandardFontDataFactory=Pe},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var Se=t(1),_e=t(22);const Ae=require$$5,Ce=require$$5,Pe=require$$5,Ee=require$$5,Fe=/^file:\/\/\/[a-zA-Z]:\//;function ke(ze){const Xe=Ee.parse(ze);return Xe.protocol==="file:"||Xe.host?Xe:/^[a-z]:[/\\]/i.test(ze)?Ee.parse(`file:///${ze}`):(Xe.host||(Xe.protocol="file:"),Xe)}class Ie{constructor(Xe){this.source=Xe,this.url=ke(Xe.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Xe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Xe;return((Xe=this._fullRequestReader)==null?void 0:Xe._loaded)??0}getFullReader(){return(0,Se.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ge(this):new je(this),this._fullRequestReader}getRangeReader(Xe,We){if(We<=this._progressiveDataLength)return null;const Je=this.isFsUrl?new Ve(this,Xe,We):new He(this,Xe,We);return this._rangeRequestReaders.push(Je),Je}cancelAllRequests(Xe){var We;(We=this._fullRequestReader)==null||We.cancel(Xe);for(const Je of this._rangeRequestReaders.slice(0))Je.cancel(Xe)}}e.PDFNodeStream=Ie;class Oe{constructor(Xe){this._url=Xe.url,this._done=!1,this._storedError=null,this.onProgress=null;const We=Xe.source;this._contentLength=We.length,this._loaded=0,this._filename=null,this._disableRange=We.disableRange||!1,this._rangeChunkSize=We.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!We.disableStream,this._isRangeSupported=!We.disableRange,this._readableStream=null,this._readCapability=(0,Se.createPromiseCapability)(),this._headersCapability=(0,Se.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Je;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Xe=this._readableStream.read();return Xe===null?(this._readCapability=(0,Se.createPromiseCapability)(),this.read()):(this._loaded+=Xe.length,(Je=this.onProgress)==null||Je.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Xe).buffer,done:!1})}cancel(Xe){if(!this._readableStream){this._error(Xe);return}this._readableStream.destroy(Xe)}_error(Xe){this._storedError=Xe,this._readCapability.resolve()}_setReadableStream(Xe){this._readableStream=Xe,Xe.on("readable",()=>{this._readCapability.resolve()}),Xe.on("end",()=>{Xe.destroy(),this._done=!0,this._readCapability.resolve()}),Xe.on("error",We=>{this._error(We)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Se.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Re{constructor(Xe){this._url=Xe.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,Se.createPromiseCapability)();const We=Xe.source;this._isStreamingSupported=!We.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Je;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Xe=this._readableStream.read();return Xe===null?(this._readCapability=(0,Se.createPromiseCapability)(),this.read()):(this._loaded+=Xe.length,(Je=this.onProgress)==null||Je.call(this,{loaded:this._loaded}),{value:new Uint8Array(Xe).buffer,done:!1})}cancel(Xe){if(!this._readableStream){this._error(Xe);return}this._readableStream.destroy(Xe)}_error(Xe){this._storedError=Xe,this._readCapability.resolve()}_setReadableStream(Xe){this._readableStream=Xe,Xe.on("readable",()=>{this._readCapability.resolve()}),Xe.on("end",()=>{Xe.destroy(),this._done=!0,this._readCapability.resolve()}),Xe.on("error",We=>{this._error(We)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Be(ze,Xe){return{protocol:ze.protocol,auth:ze.auth,host:ze.hostname,port:ze.port,path:ze.path,method:"GET",headers:Xe}}class je extends Oe{constructor(Xe){super(Xe);const We=Je=>{if(Je.statusCode===404){const an=new Se.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=an,this._headersCapability.reject(an);return}this._headersCapability.resolve(),this._setReadableStream(Je);const Qe=an=>this._readableStream.headers[an.toLowerCase()],{allowRangeRequests:Ze,suggestedLength:on}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:Qe,isHttp:Xe.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ze,this._contentLength=on||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(Qe)};this._request=null,this._url.protocol==="http:"?this._request=Ce.request(Be(this._url,Xe.httpHeaders),We):this._request=Pe.request(Be(this._url,Xe.httpHeaders),We),this._request.on("error",Je=>{this._storedError=Je,this._headersCapability.reject(Je)}),this._request.end()}}class He extends Re{constructor(Xe,We,Je){super(Xe),this._httpHeaders={};for(const Ze in Xe.httpHeaders){const on=Xe.httpHeaders[Ze];on!==void 0&&(this._httpHeaders[Ze]=on)}this._httpHeaders.Range=`bytes=${We}-${Je-1}`;const Qe=Ze=>{if(Ze.statusCode===404){const on=new Se.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=on;return}this._setReadableStream(Ze)};this._request=null,this._url.protocol==="http:"?this._request=Ce.request(Be(this._url,this._httpHeaders),Qe):this._request=Pe.request(Be(this._url,this._httpHeaders),Qe),this._request.on("error",Ze=>{this._storedError=Ze}),this._request.end()}}class Ge extends Oe{constructor(Xe){super(Xe);let We=decodeURIComponent(this._url.path);Fe.test(this._url.href)&&(We=We.replace(/^\//,"")),Ae.lstat(We,(Je,Qe)=>{if(Je){Je.code==="ENOENT"&&(Je=new Se.MissingPDFException(`Missing PDF "${We}".`)),this._storedError=Je,this._headersCapability.reject(Je);return}this._contentLength=Qe.size,this._setReadableStream(Ae.createReadStream(We)),this._headersCapability.resolve()})}}class Ve extends Re{constructor(Xe,We,Je){super(Xe);let Qe=decodeURIComponent(this._url.path);Fe.test(this._url.href)&&(Qe=Qe.replace(/^\//,"")),this._setReadableStream(Ae.createReadStream(Qe,{start:We,end:Je-1}))}}},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=Ee,e.extractFilenameFromHeader=Pe,e.validateRangeRequestCapabilities=Ce,e.validateResponseStatus=Fe;var Se=t(1),_e=t(23),Ae=t(6);function Ce({getResponseHeader:ke,isHttp:Ie,rangeChunkSize:Oe,disableRange:Re}){const Be={allowRangeRequests:!1,suggestedLength:void 0},je=parseInt(ke("Content-Length"),10);return!Number.isInteger(je)||(Be.suggestedLength=je,je<=2*Oe)||Re||!Ie||ke("Accept-Ranges")!=="bytes"||(ke("Content-Encoding")||"identity")!=="identity"||(Be.allowRangeRequests=!0),Be}function Pe(ke){const Ie=ke("Content-Disposition");if(Ie){let Oe=(0,_e.getFilenameFromContentDispositionHeader)(Ie);if(Oe.includes("%"))try{Oe=decodeURIComponent(Oe)}catch{}if((0,Ae.isPdfFile)(Oe))return Oe}return null}function Ee(ke,Ie){return ke===404||ke===0&&Ie.startsWith("file:")?new Se.MissingPDFException('Missing PDF "'+Ie+'".'):new Se.UnexpectedResponseException(`Unexpected server response (${ke}) while retrieving PDF "${Ie}".`,ke)}function Fe(ke){return ke===200||ke===206}},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=_e;var Se=t(1);function _e(Ae){let Ce=!0,Pe=Ee("filename\\*","i").exec(Ae);if(Pe){Pe=Pe[1];let je=Oe(Pe);return je=unescape(je),je=Re(je),je=Be(je),ke(je)}if(Pe=Ie(Ae),Pe){const je=Be(Pe);return ke(je)}if(Pe=Ee("filename","i").exec(Ae),Pe){Pe=Pe[1];let je=Oe(Pe);return je=Be(je),ke(je)}function Ee(je,He){return new RegExp("(?:^|;)\\s*"+je+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',He)}function Fe(je,He){if(je){if(!/^[\x00-\xFF]+$/.test(He))return He;try{const Ge=new TextDecoder(je,{fatal:!0}),Ve=(0,Se.stringToBytes)(He);He=Ge.decode(Ve),Ce=!1}catch{}}return He}function ke(je){return Ce&&/[\x80-\xff]/.test(je)&&(je=Fe("utf-8",je),Ce&&(je=Fe("iso-8859-1",je))),je}function Ie(je){const He=[];let Ge;const Ve=Ee("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ge=Ve.exec(je))!==null;){let[,Xe,We,Je]=Ge;if(Xe=parseInt(Xe,10),Xe in He){if(Xe===0)break;continue}He[Xe]=[We,Je]}const ze=[];for(let Xe=0;Xe<He.length&&Xe in He;++Xe){let[We,Je]=He[Xe];Je=Oe(Je),We&&(Je=unescape(Je),Xe===0&&(Je=Re(Je))),ze.push(Je)}return ze.join("")}function Oe(je){if(je.startsWith('"')){const He=je.slice(1).split('\\"');for(let Ge=0;Ge<He.length;++Ge){const Ve=He[Ge].indexOf('"');Ve!==-1&&(He[Ge]=He[Ge].slice(0,Ve),He.length=Ge+1),He[Ge]=He[Ge].replace(/\\(.)/g,"$1")}je=He.join('"')}return je}function Re(je){const He=je.indexOf("'");if(He===-1)return je;const Ge=je.slice(0,He),ze=je.slice(He+1).replace(/^[^']*'/,"");return Fe(Ge,ze)}function Be(je){return!je.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(je)?je:je.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(He,Ge,Ve,ze){if(Ve==="q"||Ve==="Q")return ze=ze.replace(/_/g," "),ze=ze.replace(/=([0-9a-fA-F]{2})/g,function(Xe,We){return String.fromCharCode(parseInt(We,16))}),Fe(Ge,ze);try{ze=atob(ze)}catch{}return Fe(Ge,ze)})}return""}},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var Se=t(1),_e=t(22);const Ae=200,Ce=206;function Pe(Oe){const Re=Oe.response;return typeof Re!="string"?Re:(0,Se.stringToBytes)(Re).buffer}class Ee{constructor(Re,Be={}){this.url=Re,this.isHttp=/^https?:/i.test(Re),this.httpHeaders=this.isHttp&&Be.httpHeaders||Object.create(null),this.withCredentials=Be.withCredentials||!1,this.getXhr=Be.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Re,Be,je){const He={begin:Re,end:Be};for(const Ge in je)He[Ge]=je[Ge];return this.request(He)}requestFull(Re){return this.request(Re)}request(Re){const Be=this.getXhr(),je=this.currXhrId++,He=this.pendingRequests[je]={xhr:Be};Be.open("GET",this.url),Be.withCredentials=this.withCredentials;for(const Ge in this.httpHeaders){const Ve=this.httpHeaders[Ge];Ve!==void 0&&Be.setRequestHeader(Ge,Ve)}return this.isHttp&&"begin"in Re&&"end"in Re?(Be.setRequestHeader("Range",`bytes=${Re.begin}-${Re.end-1}`),He.expectedStatus=Ce):He.expectedStatus=Ae,Be.responseType="arraybuffer",Re.onError&&(Be.onerror=function(Ge){Re.onError(Be.status)}),Be.onreadystatechange=this.onStateChange.bind(this,je),Be.onprogress=this.onProgress.bind(this,je),He.onHeadersReceived=Re.onHeadersReceived,He.onDone=Re.onDone,He.onError=Re.onError,He.onProgress=Re.onProgress,Be.send(null),je}onProgress(Re,Be){var He;const je=this.pendingRequests[Re];je&&((He=je.onProgress)==null||He.call(je,Be))}onStateChange(Re,Be){var Xe,We,Je;const je=this.pendingRequests[Re];if(!je)return;const He=je.xhr;if(He.readyState>=2&&je.onHeadersReceived&&(je.onHeadersReceived(),delete je.onHeadersReceived),He.readyState!==4||!(Re in this.pendingRequests))return;if(delete this.pendingRequests[Re],He.status===0&&this.isHttp){(Xe=je.onError)==null||Xe.call(je,He.status);return}const Ge=He.status||Ae;if(!(Ge===Ae&&je.expectedStatus===Ce)&&Ge!==je.expectedStatus){(We=je.onError)==null||We.call(je,He.status);return}const ze=Pe(He);if(Ge===Ce){const Qe=He.getResponseHeader("Content-Range"),Ze=/bytes (\d+)-(\d+)\/(\d+)/.exec(Qe);je.onDone({begin:parseInt(Ze[1],10),chunk:ze})}else ze?je.onDone({begin:0,chunk:ze}):(Je=je.onError)==null||Je.call(je,He.status)}getRequestXhr(Re){return this.pendingRequests[Re].xhr}isPendingRequest(Re){return Re in this.pendingRequests}abortRequest(Re){const Be=this.pendingRequests[Re].xhr;delete this.pendingRequests[Re],Be.abort()}}class Fe{constructor(Re){this._source=Re,this._manager=new Ee(Re.url,{httpHeaders:Re.httpHeaders,withCredentials:Re.withCredentials}),this._rangeChunkSize=Re.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Re){const Be=this._rangeRequestReaders.indexOf(Re);Be>=0&&this._rangeRequestReaders.splice(Be,1)}getFullReader(){return(0,Se.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ke(this._manager,this._source),this._fullRequestReader}getRangeReader(Re,Be){const je=new Ie(this._manager,Re,Be);return je.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(je),je}cancelAllRequests(Re){var Be;(Be=this._fullRequestReader)==null||Be.cancel(Re);for(const je of this._rangeRequestReaders.slice(0))je.cancel(Re)}}e.PDFNetworkStream=Fe;class ke{constructor(Re,Be){this._manager=Re;const je={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Be.url,this._fullRequestId=Re.requestFull(je),this._headersReceivedCapability=(0,Se.createPromiseCapability)(),this._disableRange=Be.disableRange||!1,this._contentLength=Be.length,this._rangeChunkSize=Be.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Re=this._fullRequestId,Be=this._manager.getRequestXhr(Re),je=Ve=>Be.getResponseHeader(Ve),{allowRangeRequests:He,suggestedLength:Ge}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:je,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});He&&(this._isRangeSupported=!0),this._contentLength=Ge||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(je),this._isRangeSupported&&this._manager.abortRequest(Re),this._headersReceivedCapability.resolve()}_onDone(Re){if(Re&&(this._requests.length>0?this._requests.shift().resolve({value:Re.chunk,done:!1}):this._cachedChunks.push(Re.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Be of this._requests)Be.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Re){this._storedError=(0,_e.createResponseStatusError)(Re,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Be of this._requests)Be.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Re){var Be;(Be=this.onProgress)==null||Be.call(this,{loaded:Re.loaded,total:Re.lengthComputable?Re.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Re=(0,Se.createPromiseCapability)();return this._requests.push(Re),Re.promise}cancel(Re){this._done=!0,this._headersReceivedCapability.reject(Re);for(const Be of this._requests)Be.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ie{constructor(Re,Be,je){this._manager=Re;const He={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Re.url,this._requestId=Re.requestRange(Be,je,He),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Re;(Re=this.onClosed)==null||Re.call(this,this)}_onDone(Re){const Be=Re.chunk;this._requests.length>0?this._requests.shift().resolve({value:Be,done:!1}):this._queuedChunk=Be,this._done=!0;for(const je of this._requests)je.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Re){this._storedError=(0,_e.createResponseStatusError)(Re,this._url);for(const Be of this._requests)Be.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Re){var Be;this.isStreamingSupported||(Be=this.onProgress)==null||Be.call(this,{loaded:Re.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Be=this._queuedChunk;return this._queuedChunk=null,{value:Be,done:!1}}if(this._done)return{value:void 0,done:!0};const Re=(0,Se.createPromiseCapability)();return this._requests.push(Re),Re.promise}cancel(Re){this._done=!0;for(const Be of this._requests)Be.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var Se=t(1),_e=t(22);function Ae(Ie,Oe,Re){return{method:"GET",headers:Ie,signal:Re.signal,mode:"cors",credentials:Oe?"include":"same-origin",redirect:"follow"}}function Ce(Ie){const Oe=new Headers;for(const Re in Ie){const Be=Ie[Re];Be!==void 0&&Oe.append(Re,Be)}return Oe}function Pe(Ie){return Ie instanceof Uint8Array?Ie.buffer:Ie instanceof ArrayBuffer?Ie:((0,Se.warn)(`getArrayBuffer - unexpected data format: ${Ie}`),new Uint8Array(Ie).buffer)}class Ee{constructor(Oe){this.source=Oe,this.isHttp=/^https?:/i.test(Oe.url),this.httpHeaders=this.isHttp&&Oe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Oe;return((Oe=this._fullRequestReader)==null?void 0:Oe._loaded)??0}getFullReader(){return(0,Se.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Fe(this),this._fullRequestReader}getRangeReader(Oe,Re){if(Re<=this._progressiveDataLength)return null;const Be=new ke(this,Oe,Re);return this._rangeRequestReaders.push(Be),Be}cancelAllRequests(Oe){var Re;(Re=this._fullRequestReader)==null||Re.cancel(Oe);for(const Be of this._rangeRequestReaders.slice(0))Be.cancel(Oe)}}e.PDFFetchStream=Ee;class Fe{constructor(Oe){this._stream=Oe,this._reader=null,this._loaded=0,this._filename=null;const Re=Oe.source;this._withCredentials=Re.withCredentials||!1,this._contentLength=Re.length,this._headersCapability=(0,Se.createPromiseCapability)(),this._disableRange=Re.disableRange||!1,this._rangeChunkSize=Re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Re.disableStream,this._isRangeSupported=!Re.disableRange,this._headers=Ce(this._stream.httpHeaders);const Be=Re.url;fetch(Be,Ae(this._headers,this._withCredentials,this._abortController)).then(je=>{if(!(0,_e.validateResponseStatus)(je.status))throw(0,_e.createResponseStatusError)(je.status,Be);this._reader=je.body.getReader(),this._headersCapability.resolve();const He=ze=>je.headers.get(ze),{allowRangeRequests:Ge,suggestedLength:Ve}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:He,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ge,this._contentLength=Ve||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(He),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Se.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Be;await this._headersCapability.promise;const{value:Oe,done:Re}=await this._reader.read();return Re?{value:Oe,done:Re}:(this._loaded+=Oe.byteLength,(Be=this.onProgress)==null||Be.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Pe(Oe),done:!1})}cancel(Oe){var Re;(Re=this._reader)==null||Re.cancel(Oe),this._abortController.abort()}}class ke{constructor(Oe,Re,Be){this._stream=Oe,this._reader=null,this._loaded=0;const je=Oe.source;this._withCredentials=je.withCredentials||!1,this._readCapability=(0,Se.createPromiseCapability)(),this._isStreamingSupported=!je.disableStream,this._abortController=new AbortController,this._headers=Ce(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Re}-${Be-1}`);const He=je.url;fetch(He,Ae(this._headers,this._withCredentials,this._abortController)).then(Ge=>{if(!(0,_e.validateResponseStatus)(Ge.status))throw(0,_e.createResponseStatusError)(Ge.status,He);this._readCapability.resolve(),this._reader=Ge.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Be;await this._readCapability.promise;const{value:Oe,done:Re}=await this._reader.read();return Re?{value:Oe,done:Re}:(this._loaded+=Oe.byteLength,(Be=this.onProgress)==null||Be.call(this,{loaded:this._loaded}),{value:Pe(Oe),done:!1})}cancel(Oe){var Re;(Re=this._reader)==null||Re.cancel(Oe),this._abortController.abort()}}},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=je,e.updateTextLayer=He;var Se=t(1),_e=t(6);const Ae=1e5,Ce=30,Pe=.8,Ee=new Map;function Fe(Ge,Ve){let ze;if(Ve&&Se.FeatureTest.isOffscreenCanvasSupported)ze=new OffscreenCanvas(Ge,Ge).getContext("2d",{alpha:!1});else{const Xe=document.createElement("canvas");Xe.width=Xe.height=Ge,ze=Xe.getContext("2d",{alpha:!1})}return ze}function ke(Ge,Ve){const ze=Ee.get(Ge);if(ze)return ze;const Xe=Fe(Ce,Ve);Xe.font=`${Ce}px ${Ge}`;const We=Xe.measureText("");let Je=We.fontBoundingBoxAscent,Qe=Math.abs(We.fontBoundingBoxDescent);if(Je){const on=Je/(Je+Qe);return Ee.set(Ge,on),Xe.canvas.width=Xe.canvas.height=0,on}Xe.strokeStyle="red",Xe.clearRect(0,0,Ce,Ce),Xe.strokeText("g",0,0);let Ze=Xe.getImageData(0,0,Ce,Ce).data;Qe=0;for(let on=Ze.length-1-3;on>=0;on-=4)if(Ze[on]>0){Qe=Math.ceil(on/4/Ce);break}Xe.clearRect(0,0,Ce,Ce),Xe.strokeText("A",0,Ce),Ze=Xe.getImageData(0,0,Ce,Ce).data,Je=0;for(let on=0,an=Ze.length;on<an;on+=4)if(Ze[on]>0){Je=Ce-Math.floor(on/4/Ce);break}if(Xe.canvas.width=Xe.canvas.height=0,Je){const on=Je/(Je+Qe);return Ee.set(Ge,on),on}return Ee.set(Ge,Pe),Pe}function Ie(Ge,Ve,ze){const Xe=document.createElement("span"),We={angle:0,canvasWidth:0,hasText:Ve.str!=="",hasEOL:Ve.hasEOL,fontSize:0};Ge._textDivs.push(Xe);const Je=Se.Util.transform(Ge._transform,Ve.transform);let Qe=Math.atan2(Je[1],Je[0]);const Ze=ze[Ve.fontName];Ze.vertical&&(Qe+=Math.PI/2);const on=Math.hypot(Je[2],Je[3]),an=on*ke(Ze.fontFamily,Ge._isOffscreenCanvasSupported);let rn,fn;Qe===0?(rn=Je[4],fn=Je[5]-an):(rn=Je[4]+an*Math.sin(Qe),fn=Je[5]-an*Math.cos(Qe));const nn="calc(var(--scale-factor)*",cn=Xe.style;Ge._container===Ge._rootContainer?(cn.left=`${(100*rn/Ge._pageWidth).toFixed(2)}%`,cn.top=`${(100*fn/Ge._pageHeight).toFixed(2)}%`):(cn.left=`${nn}${rn.toFixed(2)}px)`,cn.top=`${nn}${fn.toFixed(2)}px)`),cn.fontSize=`${nn}${on.toFixed(2)}px)`,cn.fontFamily=Ze.fontFamily,We.fontSize=on,Xe.setAttribute("role","presentation"),Xe.textContent=Ve.str,Xe.dir=Ve.dir,Ge._fontInspectorEnabled&&(Xe.dataset.fontName=Ve.fontName),Qe!==0&&(We.angle=Qe*(180/Math.PI));let dn=!1;if(Ve.str.length>1)dn=!0;else if(Ve.str!==" "&&Ve.transform[0]!==Ve.transform[3]){const bn=Math.abs(Ve.transform[0]),pn=Math.abs(Ve.transform[3]);bn!==pn&&Math.max(bn,pn)/Math.min(bn,pn)>1.5&&(dn=!0)}dn&&(We.canvasWidth=Ze.vertical?Ve.height:Ve.width),Ge._textDivProperties.set(Xe,We),Ge._isReadableStream&&Ge._layoutText(Xe)}function Oe(Ge){const{div:Ve,scale:ze,properties:Xe,ctx:We,prevFontSize:Je,prevFontFamily:Qe}=Ge,{style:Ze}=Ve;let on="";if(Xe.canvasWidth!==0&&Xe.hasText){const{fontFamily:an}=Ze,{canvasWidth:rn,fontSize:fn}=Xe;(Je!==fn||Qe!==an)&&(We.font=`${fn*ze}px ${an}`,Ge.prevFontSize=fn,Ge.prevFontFamily=an);const{width:nn}=We.measureText(Ve.textContent);nn>0&&(on=`scaleX(${rn*ze/nn})`)}Xe.angle!==0&&(on=`rotate(${Xe.angle}deg) ${on}`),on.length>0&&(Ze.transform=on)}function Re(Ge){if(Ge._canceled)return;const Ve=Ge._textDivs,ze=Ge._capability;if(Ve.length>Ae){ze.resolve();return}if(!Ge._isReadableStream)for(const We of Ve)Ge._layoutText(We);ze.resolve()}class Be{constructor({textContentSource:Ve,container:ze,viewport:Xe,textDivs:We,textDivProperties:Je,textContentItemsStr:Qe,isOffscreenCanvasSupported:Ze}){var nn;this._textContentSource=Ve,this._isReadableStream=Ve instanceof ReadableStream,this._container=this._rootContainer=ze,this._textDivs=We||[],this._textContentItemsStr=Qe||[],this._isOffscreenCanvasSupported=Ze,this._fontInspectorEnabled=!!((nn=globalThis.FontInspector)!=null&&nn.enabled),this._reader=null,this._textDivProperties=Je||new WeakMap,this._canceled=!1,this._capability=(0,Se.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Xe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Fe(0,Ze)};const{pageWidth:on,pageHeight:an,pageX:rn,pageY:fn}=Xe.rawDims;this._transform=[1,0,0,-1,-rn,fn+an],this._pageWidth=on,this._pageHeight=an,(0,_e.setLayerDimensions)(ze,Xe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Se.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new Se.AbortException("TextLayer task cancelled."))}_processItems(Ve,ze){for(const Xe of Ve){if(Xe.str===void 0){if(Xe.type==="beginMarkedContentProps"||Xe.type==="beginMarkedContent"){const We=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Xe.id!==null&&this._container.setAttribute("id",`${Xe.id}`),We.append(this._container)}else Xe.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Xe.str),Ie(this,Xe,ze)}}_layoutText(Ve){const ze=this._layoutTextParams.properties=this._textDivProperties.get(Ve);if(this._layoutTextParams.div=Ve,Oe(this._layoutTextParams),ze.hasText&&this._container.append(Ve),ze.hasEOL){const Xe=document.createElement("br");Xe.setAttribute("role","presentation"),this._container.append(Xe)}}_render(){const Ve=(0,Se.createPromiseCapability)();let ze=Object.create(null);if(this._isReadableStream){const Xe=()=>{this._reader.read().then(({value:We,done:Je})=>{if(Je){Ve.resolve();return}Object.assign(ze,We.styles),this._processItems(We.items,ze),Xe()},Ve.reject)};this._reader=this._textContentSource.getReader(),Xe()}else if(this._textContentSource){const{items:Xe,styles:We}=this._textContentSource;this._processItems(Xe,We),Ve.resolve()}else throw new Error('No "textContentSource" parameter specified.');Ve.promise.then(()=>{ze=null,Re(this)},this._capability.reject)}}e.TextLayerRenderTask=Be;function je(Ge){!Ge.textContentSource&&(Ge.textContent||Ge.textContentStream)&&((0,_e.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ge.textContentSource=Ge.textContent||Ge.textContentStream);const Ve=new Be(Ge);return Ve._render(),Ve}function He({container:Ge,viewport:Ve,textDivs:ze,textDivProperties:Xe,isOffscreenCanvasSupported:We,mustRotate:Je=!0,mustRescale:Qe=!0}){if(Je&&(0,_e.setLayerDimensions)(Ge,{rotation:Ve.rotation}),Qe){const Ze=Fe(0,We),an={prevFontSize:null,prevFontFamily:null,div:null,scale:Ve.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ze};for(const rn of ze)an.properties=Xe.get(rn),an.div=rn,Oe(an)}}},(xe,e,t)=>{var Fe,ke,Ie,Oe,Re,Be,je,He,Ge,K2,K5,X2,Y2;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var Se=t(1),_e=t(5),Ae=t(28),Ce=t(29),Pe=t(6);const Je=class Je{constructor(Ze){jn(this,Ge);jn(this,Fe);jn(this,ke,!1);jn(this,Ie,this.pointerup.bind(this));jn(this,Oe,this.pointerdown.bind(this));jn(this,Re,new Map);jn(this,Be,!1);jn(this,je,!1);jn(this,He);Je._initialized||(Je._initialized=!0,Ae.FreeTextEditor.initialize(Ze.l10n),Ce.InkEditor.initialize(Ze.l10n)),Ze.uiManager.registerEditorTypes([Ae.FreeTextEditor,Ce.InkEditor]),Mn(this,He,Ze.uiManager),this.pageIndex=Ze.pageIndex,this.div=Ze.div,Mn(this,Fe,Ze.accessibilityManager),qe(this,He).addLayer(this)}get isEmpty(){return qe(this,Re).size===0}updateToolbar(Ze){qe(this,He).updateToolbar(Ze)}updateMode(Ze=qe(this,He).getMode()){On(this,Ge,Y2).call(this),Ze===Se.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),qe(this,He).unselectAll(),Ze!==Se.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ze===Se.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ze===Se.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(Ze){if(!Ze&&qe(this,He).getMode()!==Se.AnnotationEditorType.INK)return;if(!Ze){for(const an of qe(this,Re).values())if(an.isEmpty()){an.setInBackground();return}}On(this,Ge,X2).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Ze){qe(this,He).setEditingState(Ze)}addCommands(Ze){qe(this,He).addCommands(Ze)}enable(){this.div.style.pointerEvents="auto";for(const Ze of qe(this,Re).values())Ze.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Ze of qe(this,Re).values())Ze.disableEditing();On(this,Ge,Y2).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(Ze){qe(this,He).getActive()!==Ze&&qe(this,He).setActiveEditor(Ze)}enableClick(){this.div.addEventListener("pointerdown",qe(this,Oe)),this.div.addEventListener("pointerup",qe(this,Ie))}disableClick(){this.div.removeEventListener("pointerdown",qe(this,Oe)),this.div.removeEventListener("pointerup",qe(this,Ie))}attach(Ze){qe(this,Re).set(Ze.id,Ze)}detach(Ze){var on;qe(this,Re).delete(Ze.id),(on=qe(this,Fe))==null||on.removePointerInTextLayer(Ze.contentDiv)}remove(Ze){qe(this,He).removeEditor(Ze),this.detach(Ze),Ze.div.style.display="none",setTimeout(()=>{Ze.div.style.display="",Ze.div.remove(),Ze.isAttachedToDOM=!1,document.activeElement===document.body&&qe(this,He).focusMainContainer()},0),qe(this,je)||this.addInkEditorIfNeeded(!1)}add(Ze){if(On(this,Ge,K2).call(this,Ze),qe(this,He).addEditor(Ze),this.attach(Ze),!Ze.isAttachedToDOM){const on=Ze.render();this.div.append(on),Ze.isAttachedToDOM=!0}this.moveEditorInDOM(Ze),Ze.onceAdded(),qe(this,He).addToAnnotationStorage(Ze)}moveEditorInDOM(Ze){var on;(on=qe(this,Fe))==null||on.moveElementInDOM(this.div,Ze.div,Ze.contentDiv,!0)}addOrRebuild(Ze){Ze.needsToBeRebuilt()?Ze.rebuild():this.add(Ze)}addANewEditor(Ze){const on=()=>{this.addOrRebuild(Ze)},an=()=>{Ze.remove()};this.addCommands({cmd:on,undo:an,mustExec:!0})}addUndoableEditor(Ze){const on=()=>{this.addOrRebuild(Ze)},an=()=>{Ze.remove()};this.addCommands({cmd:on,undo:an,mustExec:!1})}getNextId(){return qe(this,He).getId()}deserialize(Ze){switch(Ze.annotationType){case Se.AnnotationEditorType.FREETEXT:return Ae.FreeTextEditor.deserialize(Ze,this,qe(this,He));case Se.AnnotationEditorType.INK:return Ce.InkEditor.deserialize(Ze,this,qe(this,He))}return null}setSelected(Ze){qe(this,He).setSelected(Ze)}toggleSelected(Ze){qe(this,He).toggleSelected(Ze)}isSelected(Ze){return qe(this,He).isSelected(Ze)}unselect(Ze){qe(this,He).unselect(Ze)}pointerup(Ze){const{isMac:on}=Se.FeatureTest.platform;if(!(Ze.button!==0||Ze.ctrlKey&&on)&&Ze.target===this.div&&qe(this,Be)){if(Mn(this,Be,!1),!qe(this,ke)){Mn(this,ke,!0);return}On(this,Ge,X2).call(this,Ze)}}pointerdown(Ze){const{isMac:on}=Se.FeatureTest.platform;if(Ze.button!==0||Ze.ctrlKey&&on||Ze.target!==this.div)return;Mn(this,Be,!0);const an=qe(this,He).getActive();Mn(this,ke,!an||an.isEmpty())}drop(Ze){const on=Ze.dataTransfer.getData("text/plain"),an=qe(this,He).getEditor(on);if(!an)return;Ze.preventDefault(),Ze.dataTransfer.dropEffect="move",On(this,Ge,K2).call(this,an);const rn=this.div.getBoundingClientRect(),fn=Ze.clientX-rn.x,nn=Ze.clientY-rn.y;an.translate(fn-an.startX,nn-an.startY),this.moveEditorInDOM(an),an.div.focus()}dragover(Ze){Ze.preventDefault()}destroy(){var Ze,on;((Ze=qe(this,He).getActive())==null?void 0:Ze.parent)===this&&qe(this,He).setActiveEditor(null);for(const an of qe(this,Re).values())(on=qe(this,Fe))==null||on.removePointerInTextLayer(an.contentDiv),an.setParent(null),an.isAttachedToDOM=!1,an.div.remove();this.div=null,qe(this,Re).clear(),qe(this,He).removeLayer(this)}render({viewport:Ze}){this.viewport=Ze,(0,Pe.setLayerDimensions)(this.div,Ze),(0,_e.bindEvents)(this,this.div,["dragover","drop"]);for(const on of qe(this,He).getEditors(this.pageIndex))this.add(on);this.updateMode()}update({viewport:Ze}){qe(this,He).commitOrRemove(),this.viewport=Ze,(0,Pe.setLayerDimensions)(this.div,{rotation:Ze.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ze,pageHeight:on}=this.viewport.rawDims;return[Ze,on]}};Fe=new WeakMap,ke=new WeakMap,Ie=new WeakMap,Oe=new WeakMap,Re=new WeakMap,Be=new WeakMap,je=new WeakMap,He=new WeakMap,Ge=new WeakSet,K2=function(Ze){var on;Ze.parent!==this&&(this.attach(Ze),(on=Ze.parent)==null||on.detach(Ze),Ze.setParent(this),Ze.div&&Ze.isAttachedToDOM&&(Ze.div.remove(),this.div.append(Ze.div)))},K5=function(Ze){switch(qe(this,He).getMode()){case Se.AnnotationEditorType.FREETEXT:return new Ae.FreeTextEditor(Ze);case Se.AnnotationEditorType.INK:return new Ce.InkEditor(Ze)}return null},X2=function(Ze){const on=this.getNextId(),an=On(this,Ge,K5).call(this,{parent:this,id:on,x:Ze.offsetX,y:Ze.offsetY,uiManager:qe(this,He)});return an&&this.add(an),an},Y2=function(){Mn(this,je,!0);for(const Ze of qe(this,Re).values())Ze.isEmpty()&&Ze.remove();Mn(this,je,!1)},yi(Je,"_initialized",!1);let Ee=Je;e.AnnotationEditorLayer=Ee},(xe,e,t)=>{var Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,X5,Y5,Z5,Z2;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var Se=t(1),_e=t(5),Ae=t(4);const We=class We extends Ae.AnnotationEditor{constructor(Ze){super({...Ze,name:"freeTextEditor"});jn(this,He);jn(this,Pe,this.editorDivBlur.bind(this));jn(this,Ee,this.editorDivFocus.bind(this));jn(this,Fe,this.editorDivInput.bind(this));jn(this,ke,this.editorDivKeydown.bind(this));jn(this,Ie);jn(this,Oe,"");jn(this,Re,`${this.id}-editor`);jn(this,Be,!1);jn(this,je);Mn(this,Ie,Ze.color||We._defaultColor||Ae.AnnotationEditor._defaultLineColor),Mn(this,je,Ze.fontSize||We._defaultFontSize)}static initialize(Ze){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(an=>[an,Ze.get(an)]));const on=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(on.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ze,on){switch(Ze){case Se.AnnotationEditorParamsType.FREETEXT_SIZE:We._defaultFontSize=on;break;case Se.AnnotationEditorParamsType.FREETEXT_COLOR:We._defaultColor=on;break}}updateParams(Ze,on){switch(Ze){case Se.AnnotationEditorParamsType.FREETEXT_SIZE:On(this,He,X5).call(this,on);break;case Se.AnnotationEditorParamsType.FREETEXT_COLOR:On(this,He,Y5).call(this,on);break}}static get defaultPropertiesToUpdate(){return[[Se.AnnotationEditorParamsType.FREETEXT_SIZE,We._defaultFontSize],[Se.AnnotationEditorParamsType.FREETEXT_COLOR,We._defaultColor||Ae.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Se.AnnotationEditorParamsType.FREETEXT_SIZE,qe(this,je)],[Se.AnnotationEditorParamsType.FREETEXT_COLOR,qe(this,Ie)]]}getInitialTranslation(){const Ze=this.parentScale;return[-We._internalPadding*Ze,-(We._internalPadding+qe(this,je))*Ze]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Se.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",qe(this,ke)),this.editorDiv.addEventListener("focus",qe(this,Ee)),this.editorDiv.addEventListener("blur",qe(this,Pe)),this.editorDiv.addEventListener("input",qe(this,Fe)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",qe(this,Re)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",qe(this,ke)),this.editorDiv.removeEventListener("focus",qe(this,Ee)),this.editorDiv.removeEventListener("blur",qe(this,Pe)),this.editorDiv.removeEventListener("input",qe(this,Fe)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ze){super.focusin(Ze),Ze.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),qe(this,Be)||(Mn(this,Be,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Mn(this,Oe,On(this,He,Z5).call(this).trimEnd()),On(this,He,Z2).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Ze){this.enableEditMode(),this.editorDiv.focus()}keydown(Ze){Ze.target===this.div&&Ze.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Ze){We._keyboardManager.exec(this,Ze)}editorDivFocus(Ze){this.isEditing=!0}editorDivBlur(Ze){this.isEditing=!1}editorDivInput(Ze){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ze,on;this.width&&(Ze=this.x,on=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",qe(this,Re)),this.enableEditing(),We._l10nPromise.get("editor_free_text2_aria_label").then(rn=>{var fn;return(fn=this.editorDiv)==null?void 0:fn.setAttribute("aria-label",rn)}),We._l10nPromise.get("free_text2_default_content").then(rn=>{var fn;return(fn=this.editorDiv)==null?void 0:fn.setAttribute("default-content",rn)}),this.editorDiv.contentEditable=!0;const{style:an}=this.editorDiv;if(an.fontSize=`calc(${qe(this,je)}px * var(--scale-factor))`,an.color=qe(this,Ie),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_e.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[rn,fn]=this.parentDimensions;this.setAt(Ze*rn,on*fn,this.width*rn,this.height*fn);for(const nn of qe(this,Oe).split(`
`)){const cn=document.createElement("div");cn.append(nn?document.createTextNode(nn):document.createElement("br")),this.editorDiv.append(cn)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ze,on,an){const rn=super.deserialize(Ze,on,an);return Mn(rn,je,Ze.fontSize),Mn(rn,Ie,Se.Util.makeHexColor(...Ze.color)),Mn(rn,Oe,Ze.value),rn}serialize(){if(this.isEmpty())return null;const Ze=We._internalPadding*this.parentScale,on=this.getRect(Ze,Ze),an=Ae.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:qe(this,Ie));return{annotationType:Se.AnnotationEditorType.FREETEXT,color:an,fontSize:qe(this,je),value:qe(this,Oe),pageIndex:this.pageIndex,rect:on,rotation:this.rotation}}};Pe=new WeakMap,Ee=new WeakMap,Fe=new WeakMap,ke=new WeakMap,Ie=new WeakMap,Oe=new WeakMap,Re=new WeakMap,Be=new WeakMap,je=new WeakMap,He=new WeakSet,X5=function(Ze){const on=rn=>{this.editorDiv.style.fontSize=`calc(${rn}px * var(--scale-factor))`,this.translate(0,-(rn-qe(this,je))*this.parentScale),Mn(this,je,rn),On(this,He,Z2).call(this)},an=qe(this,je);this.addCommands({cmd:()=>{on(Ze)},undo:()=>{on(an)},mustExec:!0,type:Se.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Y5=function(Ze){const on=qe(this,Ie);this.addCommands({cmd:()=>{Mn(this,Ie,this.editorDiv.style.color=Ze)},undo:()=>{Mn(this,Ie,this.editorDiv.style.color=on)},mustExec:!0,type:Se.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Z5=function(){const Ze=this.editorDiv.getElementsByTagName("div");if(Ze.length===0)return this.editorDiv.innerText;const on=[];for(const an of Ze)on.push(an.innerText.replace(/\r\n?|\n/,""));return on.join(`
`)},Z2=function(){const[Ze,on]=this.parentDimensions;let an;if(this.isAttachedToDOM)an=this.div.getBoundingClientRect();else{const{currentLayer:rn,div:fn}=this,nn=fn.style.display;fn.style.display="hidden",rn.div.append(this.div),an=fn.getBoundingClientRect(),fn.remove(),fn.style.display=nn}this.width=an.width/Ze,this.height=an.height/on},yi(We,"_freeTextDefaultContent",""),yi(We,"_l10nPromise"),yi(We,"_internalPadding",0),yi(We,"_defaultColor",null),yi(We,"_defaultFontSize",10),yi(We,"_keyboardManager",new _e.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],We.prototype.commitOrRemove]])),yi(We,"_type","freetext");let Ce=We;e.FreeTextEditor=Ce},(xe,e,t)=>{var ke,Ie,Oe,Re,Be,je,He,Ge,Ve,ze,Xe,We,Je,Qe,Ze,J5,Q5,$5,eb,J2,tb,nb,rb,$h,Q2,mv,vv,X0,$2,yv,gn,ey,ib,sb,ab,ty,bv,Y0,ny;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return Ae.fitCurve}});var Se=t(1),_e=t(4),Ae=t(30),Ce=t(5);const Pe=16,Ee=100,Tn=class Tn extends _e.AnnotationEditor{constructor(wn){super({...wn,name:"inkEditor"});jn(this,Ze);jn(this,ke,0);jn(this,Ie,0);jn(this,Oe,0);jn(this,Re,this.canvasPointermove.bind(this));jn(this,Be,this.canvasPointerleave.bind(this));jn(this,je,this.canvasPointerup.bind(this));jn(this,He,this.canvasPointerdown.bind(this));jn(this,Ge,!1);jn(this,Ve,!1);jn(this,ze,null);jn(this,Xe,null);jn(this,We,0);jn(this,Je,0);jn(this,Qe,null);this.color=wn.color||null,this.thickness=wn.thickness||null,this.opacity=wn.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(wn){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Vn=>[Vn,wn.get(Vn)]))}static updateDefaultParams(wn,Vn){switch(wn){case Se.AnnotationEditorParamsType.INK_THICKNESS:Tn._defaultThickness=Vn;break;case Se.AnnotationEditorParamsType.INK_COLOR:Tn._defaultColor=Vn;break;case Se.AnnotationEditorParamsType.INK_OPACITY:Tn._defaultOpacity=Vn/100;break}}updateParams(wn,Vn){switch(wn){case Se.AnnotationEditorParamsType.INK_THICKNESS:On(this,Ze,J5).call(this,Vn);break;case Se.AnnotationEditorParamsType.INK_COLOR:On(this,Ze,Q5).call(this,Vn);break;case Se.AnnotationEditorParamsType.INK_OPACITY:On(this,Ze,$5).call(this,Vn);break}}static get defaultPropertiesToUpdate(){return[[Se.AnnotationEditorParamsType.INK_THICKNESS,Tn._defaultThickness],[Se.AnnotationEditorParamsType.INK_COLOR,Tn._defaultColor||_e.AnnotationEditor._defaultLineColor],[Se.AnnotationEditorParamsType.INK_OPACITY,Math.round(Tn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Se.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Tn._defaultThickness],[Se.AnnotationEditorParamsType.INK_COLOR,this.color||Tn._defaultColor||_e.AnnotationEditor._defaultLineColor],[Se.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Tn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(On(this,Ze,mv).call(this),On(this,Ze,vv).call(this)),this.isAttachedToDOM||(this.parent.add(this),On(this,Ze,X0).call(this)),On(this,Ze,Y0).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,qe(this,Xe).disconnect(),Mn(this,Xe,null),super.remove())}setParent(wn){!this.parent&&wn?this._uiManager.removeShouldRescale(this):this.parent&&wn===null&&this._uiManager.addShouldRescale(this),super.setParent(wn)}onScaleChanging(){const[wn,Vn]=this.parentDimensions,Yn=this.width*wn,tr=this.height*Vn;this.setDimensions(Yn,tr)}enableEditMode(){qe(this,Ge)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",qe(this,He)),this.canvas.addEventListener("pointerup",qe(this,je)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",qe(this,He)),this.canvas.removeEventListener("pointerup",qe(this,je)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){qe(this,Ge)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Mn(this,Ge,!0),this.div.classList.add("disabled"),On(this,Ze,Y0).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(wn){super.focusin(wn),this.enableEditMode()}canvasPointerdown(wn){wn.button!==0||!this.isInEditMode()||qe(this,Ge)||(this.setInForeground(),wn.type!=="mouse"&&this.div.focus(),wn.stopPropagation(),this.canvas.addEventListener("pointerleave",qe(this,Be)),this.canvas.addEventListener("pointermove",qe(this,Re)),On(this,Ze,tb).call(this,wn.offsetX,wn.offsetY))}canvasPointermove(wn){wn.stopPropagation(),On(this,Ze,nb).call(this,wn.offsetX,wn.offsetY)}canvasPointerup(wn){wn.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(wn.stopPropagation(),On(this,Ze,Q2).call(this,wn),this.setInBackground())}canvasPointerleave(wn){On(this,Ze,Q2).call(this,wn),this.setInBackground()}render(){if(this.div)return this.div;let wn,Vn;this.width&&(wn=this.x,Vn=this.y),super.render(),Tn._l10nPromise.get("editor_ink2_aria_label").then(rr=>{var ir;return(ir=this.div)==null?void 0:ir.setAttribute("aria-label",rr)});const[Yn,tr,cr,Kn]=On(this,Ze,eb).call(this);if(this.setAt(Yn,tr,0,0),this.setDims(cr,Kn),On(this,Ze,mv).call(this),this.width){const[rr,ir]=this.parentDimensions;this.setAt(wn*rr,Vn*ir,this.width*rr,this.height*ir),Mn(this,Ve,!0),On(this,Ze,X0).call(this),this.setDims(this.width*rr,this.height*ir),On(this,Ze,$h).call(this),On(this,Ze,ny).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return On(this,Ze,vv).call(this),this.div}setDimensions(wn,Vn){const Yn=Math.round(wn),tr=Math.round(Vn);if(qe(this,We)===Yn&&qe(this,Je)===tr)return;Mn(this,We,Yn),Mn(this,Je,tr),this.canvas.style.visibility="hidden",qe(this,ke)&&Math.abs(qe(this,ke)-wn/Vn)>.01&&(Vn=Math.ceil(wn/qe(this,ke)),this.setDims(wn,Vn));const[cr,Kn]=this.parentDimensions;this.width=wn/cr,this.height=Vn/Kn,qe(this,Ge)&&On(this,Ze,$2).call(this,wn,Vn),On(this,Ze,X0).call(this),On(this,Ze,$h).call(this),this.canvas.style.visibility="visible"}static deserialize(wn,Vn,Yn){var jr,Vr;const tr=super.deserialize(wn,Vn,Yn);tr.thickness=wn.thickness,tr.color=Se.Util.makeHexColor(...wn.color),tr.opacity=wn.opacity;const[cr,Kn]=tr.pageDimensions,rr=tr.width*cr,ir=tr.height*Kn,yr=tr.parentScale,xr=wn.thickness/2;Mn(tr,ke,rr/ir),Mn(tr,Ge,!0),Mn(tr,We,Math.round(rr)),Mn(tr,Je,Math.round(ir));for(const{bezier:Yr}of wn.paths){const ei=[];tr.paths.push(ei);let Ln=yr*(Yr[0]-xr),ar=yr*(ir-Yr[1]-xr);for(let Tr=2,dr=Yr.length;Tr<dr;Tr+=6){const Pr=yr*(Yr[Tr]-xr),Hn=yr*(ir-Yr[Tr+1]-xr),Br=yr*(Yr[Tr+2]-xr),di=yr*(ir-Yr[Tr+3]-xr),An=yr*(Yr[Tr+4]-xr),Er=yr*(ir-Yr[Tr+5]-xr);ei.push([[Ln,ar],[Pr,Hn],[Br,di],[An,Er]]),Ln=An,ar=Er}const sr=On(this,gn,ey).call(this,ei);tr.bezierPath2D.push(sr)}const Nr=On(jr=tr,Ze,ty).call(jr);return Mn(tr,Oe,Math.max(Pe,Nr[2]-Nr[0])),Mn(tr,Ie,Math.max(Pe,Nr[3]-Nr[1])),On(Vr=tr,Ze,$2).call(Vr,rr,ir),tr}serialize(){if(this.isEmpty())return null;const wn=this.getRect(0,0),Vn=this.rotation%180===0?wn[3]-wn[1]:wn[2]-wn[0],Yn=_e.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Se.AnnotationEditorType.INK,color:Yn,thickness:this.thickness,opacity:this.opacity,paths:On(this,Ze,ib).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Vn),pageIndex:this.pageIndex,rect:wn,rotation:this.rotation}}};ke=new WeakMap,Ie=new WeakMap,Oe=new WeakMap,Re=new WeakMap,Be=new WeakMap,je=new WeakMap,He=new WeakMap,Ge=new WeakMap,Ve=new WeakMap,ze=new WeakMap,Xe=new WeakMap,We=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Ze=new WeakSet,J5=function(wn){const Vn=this.thickness;this.addCommands({cmd:()=>{this.thickness=wn,On(this,Ze,Y0).call(this)},undo:()=>{this.thickness=Vn,On(this,Ze,Y0).call(this)},mustExec:!0,type:Se.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Q5=function(wn){const Vn=this.color;this.addCommands({cmd:()=>{this.color=wn,On(this,Ze,$h).call(this)},undo:()=>{this.color=Vn,On(this,Ze,$h).call(this)},mustExec:!0,type:Se.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$5=function(wn){wn/=100;const Vn=this.opacity;this.addCommands({cmd:()=>{this.opacity=wn,On(this,Ze,$h).call(this)},undo:()=>{this.opacity=Vn,On(this,Ze,$h).call(this)},mustExec:!0,type:Se.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},eb=function(){const{parentRotation:wn,parentDimensions:[Vn,Yn]}=this;switch(wn){case 90:return[0,Yn,Yn,Vn];case 180:return[Vn,Yn,Vn,Yn];case 270:return[Vn,0,Yn,Vn];default:return[0,0,Vn,Yn]}},J2=function(){const{ctx:wn,color:Vn,opacity:Yn,thickness:tr,parentScale:cr,scaleFactor:Kn}=this;wn.lineWidth=tr*cr/Kn,wn.lineCap="round",wn.lineJoin="round",wn.miterLimit=10,wn.strokeStyle=`${Vn}${(0,Ce.opacityToHex)(Yn)}`},tb=function(wn,Vn){this.isEditing=!0,qe(this,Ve)||(Mn(this,Ve,!0),On(this,Ze,X0).call(this),this.thickness||(this.thickness=Tn._defaultThickness),this.color||(this.color=Tn._defaultColor||_e.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Tn._defaultOpacity)),this.currentPath.push([wn,Vn]),Mn(this,ze,null),On(this,Ze,J2).call(this),this.ctx.beginPath(),this.ctx.moveTo(wn,Vn),Mn(this,Qe,()=>{qe(this,Qe)&&(qe(this,ze)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):On(this,Ze,$h).call(this),this.ctx.lineTo(...qe(this,ze)),Mn(this,ze,null),this.ctx.stroke()),window.requestAnimationFrame(qe(this,Qe)))}),window.requestAnimationFrame(qe(this,Qe))},nb=function(wn,Vn){const[Yn,tr]=this.currentPath.at(-1);wn===Yn&&Vn===tr||(this.currentPath.push([wn,Vn]),Mn(this,ze,[wn,Vn]))},rb=function(wn,Vn){var yr;this.ctx.closePath(),Mn(this,Qe,null),wn=Math.min(Math.max(wn,0),this.canvas.width),Vn=Math.min(Math.max(Vn,0),this.canvas.height);const[Yn,tr]=this.currentPath.at(-1);(wn!==Yn||Vn!==tr)&&this.currentPath.push([wn,Vn]);let cr;if(this.currentPath.length!==1)cr=(0,Ae.fitCurve)(this.currentPath,30,null);else{const xr=[wn,Vn];cr=[[xr,xr.slice(),xr.slice(),xr]]}const Kn=On(yr=Tn,gn,ey).call(yr,cr);this.currentPath.length=0;const rr=()=>{this.paths.push(cr),this.bezierPath2D.push(Kn),this.rebuild()},ir=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(On(this,Ze,mv).call(this),On(this,Ze,vv).call(this)),On(this,Ze,Y0).call(this))};this.addCommands({cmd:rr,undo:ir,mustExec:!0})},$h=function(){if(this.isEmpty()){On(this,Ze,yv).call(this);return}On(this,Ze,J2).call(this);const{canvas:wn,ctx:Vn}=this;Vn.setTransform(1,0,0,1,0,0),Vn.clearRect(0,0,wn.width,wn.height),On(this,Ze,yv).call(this);for(const Yn of this.bezierPath2D)Vn.stroke(Yn)},Q2=function(wn){On(this,Ze,rb).call(this,wn.offsetX,wn.offsetY),this.canvas.removeEventListener("pointerleave",qe(this,Be)),this.canvas.removeEventListener("pointermove",qe(this,Re)),this.addToAnnotationStorage()},mv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Tn._l10nPromise.get("editor_ink_canvas_aria_label").then(wn=>{var Vn;return(Vn=this.canvas)==null?void 0:Vn.setAttribute("aria-label",wn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},vv=function(){let wn=null;Mn(this,Xe,new ResizeObserver(Vn=>{const Yn=Vn[0].contentRect;Yn.width&&Yn.height&&(wn!==null&&clearTimeout(wn),wn=setTimeout(()=>{this.fixDims(),wn=null},Ee),this.setDimensions(Yn.width,Yn.height))})),qe(this,Xe).observe(this.div)},X0=function(){if(!qe(this,Ve))return;const[wn,Vn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*wn),this.canvas.height=Math.ceil(this.height*Vn),On(this,Ze,yv).call(this)},$2=function(wn,Vn){const Yn=On(this,Ze,bv).call(this),tr=(wn-Yn)/qe(this,Oe),cr=(Vn-Yn)/qe(this,Ie);this.scaleFactor=Math.min(tr,cr)},yv=function(){const wn=On(this,Ze,bv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+wn,this.translationY*this.scaleFactor+wn)},gn=new WeakSet,ey=function(wn){const Vn=new Path2D;for(let Yn=0,tr=wn.length;Yn<tr;Yn++){const[cr,Kn,rr,ir]=wn[Yn];Yn===0&&Vn.moveTo(...cr),Vn.bezierCurveTo(Kn[0],Kn[1],rr[0],rr[1],ir[0],ir[1])}return Vn},ib=function(wn,Vn,Yn,tr){const Kn=[],rr=this.thickness/2;let ir,yr;for(const xr of this.paths){ir=[],yr=[];for(let Nr=0,jr=xr.length;Nr<jr;Nr++){const[Vr,Yr,ei,Ln]=xr[Nr],ar=wn*(Vr[0]+Vn)+rr,sr=tr-wn*(Vr[1]+Yn)-rr,Tr=wn*(Yr[0]+Vn)+rr,dr=tr-wn*(Yr[1]+Yn)-rr,Pr=wn*(ei[0]+Vn)+rr,Hn=tr-wn*(ei[1]+Yn)-rr,Br=wn*(Ln[0]+Vn)+rr,di=tr-wn*(Ln[1]+Yn)-rr;Nr===0&&(ir.push(ar,sr),yr.push(ar,sr)),ir.push(Tr,dr,Pr,Hn,Br,di),On(this,Ze,sb).call(this,ar,sr,Tr,dr,Pr,Hn,Br,di,4,yr)}Kn.push({bezier:ir,points:yr})}return Kn},sb=function(wn,Vn,Yn,tr,cr,Kn,rr,ir,yr,xr){if(On(this,Ze,ab).call(this,wn,Vn,Yn,tr,cr,Kn,rr,ir)){xr.push(rr,ir);return}for(let Nr=1;Nr<yr-1;Nr++){const jr=Nr/yr,Vr=1-jr;let Yr=jr*wn+Vr*Yn,ei=jr*Vn+Vr*tr,Ln=jr*Yn+Vr*cr,ar=jr*tr+Vr*Kn;const sr=jr*cr+Vr*rr,Tr=jr*Kn+Vr*ir;Yr=jr*Yr+Vr*Ln,ei=jr*ei+Vr*ar,Ln=jr*Ln+Vr*sr,ar=jr*ar+Vr*Tr,Yr=jr*Yr+Vr*Ln,ei=jr*ei+Vr*ar,xr.push(Yr,ei)}xr.push(rr,ir)},ab=function(wn,Vn,Yn,tr,cr,Kn,rr,ir){const xr=(3*Yn-2*wn-rr)**2,Nr=(3*tr-2*Vn-ir)**2,jr=(3*cr-wn-2*rr)**2,Vr=(3*Kn-Vn-2*ir)**2;return Math.max(xr,jr)+Math.max(Nr,Vr)<=10},ty=function(){let wn=1/0,Vn=-1/0,Yn=1/0,tr=-1/0;for(const cr of this.paths)for(const[Kn,rr,ir,yr]of cr){const xr=Se.Util.bezierBoundingBox(...Kn,...rr,...ir,...yr);wn=Math.min(wn,xr[0]),Yn=Math.min(Yn,xr[1]),Vn=Math.max(Vn,xr[2]),tr=Math.max(tr,xr[3])}return[wn,Yn,Vn,tr]},bv=function(){return qe(this,Ge)?Math.ceil(this.thickness*this.parentScale):0},Y0=function(wn=!1){if(this.isEmpty())return;if(!qe(this,Ge)){On(this,Ze,$h).call(this);return}const Vn=On(this,Ze,ty).call(this),Yn=On(this,Ze,bv).call(this);Mn(this,Oe,Math.max(Pe,Vn[2]-Vn[0])),Mn(this,Ie,Math.max(Pe,Vn[3]-Vn[1]));const tr=Math.ceil(Yn+qe(this,Oe)*this.scaleFactor),cr=Math.ceil(Yn+qe(this,Ie)*this.scaleFactor),[Kn,rr]=this.parentDimensions;this.width=tr/Kn,this.height=cr/rr,Mn(this,ke,tr/cr),On(this,Ze,ny).call(this);const ir=this.translationX,yr=this.translationY;this.translationX=-Vn[0],this.translationY=-Vn[1],On(this,Ze,X0).call(this),On(this,Ze,$h).call(this),Mn(this,We,tr),Mn(this,Je,cr),this.setDims(tr,cr);const xr=wn?Yn/this.scaleFactor/2:0;this.translate(ir-this.translationX-xr,yr-this.translationY-xr)},ny=function(){const{style:wn}=this.div;qe(this,ke)>=1?(wn.minHeight=`${Pe}px`,wn.minWidth=`${Math.round(qe(this,ke)*Pe)}px`):(wn.minWidth=`${Pe}px`,wn.minHeight=`${Math.round(Pe/qe(this,ke))}px`)},jn(Tn,gn),yi(Tn,"_defaultColor",null),yi(Tn,"_defaultOpacity",1),yi(Tn,"_defaultThickness",1),yi(Tn,"_l10nPromise"),yi(Tn,"_type","ink");let Fe=Tn;e.InkEditor=Fe},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const Se=t(31);e.fitCurve=Se},xe=>{function e(Be,je,He){if(!Array.isArray(Be))throw new TypeError("First argument should be an array");if(Be.forEach(Xe=>{if(!Array.isArray(Xe)||Xe.some(We=>typeof We!="number")||Xe.length!==Be[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),Be=Be.filter((Xe,We)=>We===0||!Xe.every((Je,Qe)=>Je===Be[We-1][Qe])),Be.length<2)return[];const Ge=Be.length,Ve=Ie(Be[1],Be[0]),ze=Ie(Be[Ge-2],Be[Ge-1]);return t(Be,Ve,ze,je,He)}function t(Be,je,He,Ge,Ve){var Xe,We,Je,Qe,Ze,on,an,rn,fn,nn,cn,dn,bn;if(Be.length===2)return dn=Oe.vectorLen(Oe.subtract(Be[0],Be[1]))/3,Xe=[Be[0],Oe.addArrays(Be[0],Oe.mulItems(je,dn)),Oe.addArrays(Be[1],Oe.mulItems(He,dn)),Be[1]],[Xe];if(We=Pe(Be),[Xe,Qe,on]=Se(Be,We,We,je,He,Ve),Qe===0||Qe<Ge)return[Xe];if(Qe<Ge*Ge)for(Je=We,Ze=Qe,an=on,bn=0;bn<20;bn++){if(Je=Ae(Xe,Be,Je),[Xe,Qe,on]=Se(Be,We,Je,je,He,Ve),Qe<Ge)return[Xe];if(on===an){let pn=Qe/Ze;if(pn>.9999&&pn<1.0001)break}Ze=Qe,an=on}return cn=[],rn=Oe.subtract(Be[on-1],Be[on+1]),rn.every(pn=>pn===0)&&(rn=Oe.subtract(Be[on-1],Be[on]),[rn[0],rn[1]]=[-rn[1],rn[0]]),fn=Oe.normalize(rn),nn=Oe.mulItems(fn,-1),cn=cn.concat(t(Be.slice(0,on+1),je,fn,Ge,Ve)),cn=cn.concat(t(Be.slice(on),nn,He,Ge,Ve)),cn}function Se(Be,je,He,Ge,Ve,ze){var Xe,We,Je;return Xe=_e(Be,He,Ge,Ve),[We,Je]=Ee(Be,Xe,je),ze&&ze({bez:Xe,points:Be,params:je,maxErr:We,maxPoint:Je}),[Xe,We,Je]}function _e(Be,je,He,Ge){var Ve,ze,Xe,We,Je,Qe,Ze,on,an,rn,fn,nn,cn,dn,bn,pn,_n,Nn=Be[0],Un=Be[Be.length-1];for(Ve=[Nn,null,null,Un],ze=Oe.zeros_Xx2x2(je.length),cn=0,dn=je.length;cn<dn;cn++)pn=je[cn],_n=1-pn,Xe=ze[cn],Xe[0]=Oe.mulItems(He,3*pn*(_n*_n)),Xe[1]=Oe.mulItems(Ge,3*_n*(pn*pn));for(We=[[0,0],[0,0]],Je=[0,0],cn=0,dn=Be.length;cn<dn;cn++)pn=je[cn],Xe=ze[cn],We[0][0]+=Oe.dot(Xe[0],Xe[0]),We[0][1]+=Oe.dot(Xe[0],Xe[1]),We[1][0]+=Oe.dot(Xe[0],Xe[1]),We[1][1]+=Oe.dot(Xe[1],Xe[1]),bn=Oe.subtract(Be[cn],Re.q([Nn,Nn,Un,Un],pn)),Je[0]+=Oe.dot(Xe[0],bn),Je[1]+=Oe.dot(Xe[1],bn);return Qe=We[0][0]*We[1][1]-We[1][0]*We[0][1],Ze=We[0][0]*Je[1]-We[1][0]*Je[0],on=Je[0]*We[1][1]-Je[1]*We[0][1],an=Qe===0?0:on/Qe,rn=Qe===0?0:Ze/Qe,nn=Oe.vectorLen(Oe.subtract(Nn,Un)),fn=1e-6*nn,an<fn||rn<fn?(Ve[1]=Oe.addArrays(Nn,Oe.mulItems(He,nn/3)),Ve[2]=Oe.addArrays(Un,Oe.mulItems(Ge,nn/3))):(Ve[1]=Oe.addArrays(Nn,Oe.mulItems(He,an)),Ve[2]=Oe.addArrays(Un,Oe.mulItems(Ge,rn))),Ve}function Ae(Be,je,He){return He.map((Ge,Ve)=>Ce(Be,je[Ve],Ge))}function Ce(Be,je,He){var Ge=Oe.subtract(Re.q(Be,He),je),Ve=Re.qprime(Be,He),ze=Oe.mulMatrix(Ge,Ve),Xe=Oe.sum(Oe.squareItems(Ve))+2*Oe.mulMatrix(Ge,Re.qprimeprime(Be,He));return Xe===0?He:He-ze/Xe}function Pe(Be){var je=[],He,Ge,Ve;return Be.forEach((ze,Xe)=>{He=Xe?Ge+Oe.vectorLen(Oe.subtract(ze,Ve)):0,je.push(He),Ge=He,Ve=ze}),je=je.map(ze=>ze/Ge),je}function Ee(Be,je,He){var Ge,Ve,ze,Xe,We,Je,Qe,Ze;Ve=0,ze=Math.floor(Be.length/2);const on=Fe(je,10);for(We=0,Je=Be.length;We<Je;We++)Qe=Be[We],Ze=ke(je,He[We],on,10),Xe=Oe.subtract(Re.q(je,Ze),Qe),Ge=Xe[0]*Xe[0]+Xe[1]*Xe[1],Ge>Ve&&(Ve=Ge,ze=We);return[Ve,ze]}var Fe=function(Be,je){for(var He,Ge=[0],Ve=Be[0],ze=0,Xe=1;Xe<=je;Xe++)He=Re.q(Be,Xe/je),ze+=Oe.vectorLen(Oe.subtract(He,Ve)),Ge.push(ze),Ve=He;return Ge=Ge.map(We=>We/ze),Ge};function ke(Be,je,He,Ge){if(je<0)return 0;if(je>1)return 1;for(var Ve,ze,Xe,We,Je,Qe=1;Qe<=Ge;Qe++)if(je<=He[Qe]){We=(Qe-1)/Ge,Xe=Qe/Ge,ze=He[Qe-1],Ve=He[Qe],Je=(je-ze)/(Ve-ze)*(Xe-We)+We;break}return Je}function Ie(Be,je){return Oe.normalize(Oe.subtract(Be,je))}class Oe{static zeros_Xx2x2(je){for(var He=[];je--;)He.push([0,0]);return He}static mulItems(je,He){return je.map(Ge=>Ge*He)}static mulMatrix(je,He){return je.reduce((Ge,Ve,ze)=>Ge+Ve*He[ze],0)}static subtract(je,He){return je.map((Ge,Ve)=>Ge-He[Ve])}static addArrays(je,He){return je.map((Ge,Ve)=>Ge+He[Ve])}static addItems(je,He){return je.map(Ge=>Ge+He)}static sum(je){return je.reduce((He,Ge)=>He+Ge)}static dot(je,He){return Oe.mulMatrix(je,He)}static vectorLen(je){return Math.hypot(...je)}static divItems(je,He){return je.map(Ge=>Ge/He)}static squareItems(je){return je.map(He=>He*He)}static normalize(je){return this.divItems(je,this.vectorLen(je))}}class Re{static q(je,He){var Ge=1-He,Ve=Oe.mulItems(je[0],Ge*Ge*Ge),ze=Oe.mulItems(je[1],3*Ge*Ge*He),Xe=Oe.mulItems(je[2],3*Ge*He*He),We=Oe.mulItems(je[3],He*He*He);return Oe.addArrays(Oe.addArrays(Ve,ze),Oe.addArrays(Xe,We))}static qprime(je,He){var Ge=1-He,Ve=Oe.mulItems(Oe.subtract(je[1],je[0]),3*Ge*Ge),ze=Oe.mulItems(Oe.subtract(je[2],je[1]),6*Ge*He),Xe=Oe.mulItems(Oe.subtract(je[3],je[2]),3*He*He);return Oe.addArrays(Oe.addArrays(Ve,ze),Xe)}static qprimeprime(je,He){return Oe.addArrays(Oe.mulItems(Oe.addArrays(Oe.subtract(je[2],Oe.mulItems(je[1],2)),je[0]),6*(1-He)),Oe.mulItems(Oe.addArrays(Oe.subtract(je[3],Oe.mulItems(je[2],2)),je[1]),6*He))}}xe.exports=e,xe.exports.fitCubic=t,xe.exports.createTangent=Ie},(xe,e,t)=>{var sn,Tp,ob,vn,ry,iy;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var Se=t(1),_e=t(6),Ae=t(3),Ce=t(33),Pe=t(34);const Ee=1e3,Fe=9,ke=new WeakSet;function Ie(Zn){return{width:Zn[2]-Zn[0],height:Zn[3]-Zn[1]}}class Oe{static create(Cn){switch(Cn.data.annotationType){case Se.AnnotationType.LINK:return new Be(Cn);case Se.AnnotationType.TEXT:return new je(Cn);case Se.AnnotationType.WIDGET:switch(Cn.data.fieldType){case"Tx":return new Ge(Cn);case"Btn":return Cn.data.radioButton?new ze(Cn):Cn.data.checkBox?new Ve(Cn):new Xe(Cn);case"Ch":return new We(Cn)}return new He(Cn);case Se.AnnotationType.POPUP:return new Je(Cn);case Se.AnnotationType.FREETEXT:return new Ze(Cn);case Se.AnnotationType.LINE:return new on(Cn);case Se.AnnotationType.SQUARE:return new an(Cn);case Se.AnnotationType.CIRCLE:return new rn(Cn);case Se.AnnotationType.POLYLINE:return new fn(Cn);case Se.AnnotationType.CARET:return new cn(Cn);case Se.AnnotationType.INK:return new dn(Cn);case Se.AnnotationType.POLYGON:return new nn(Cn);case Se.AnnotationType.HIGHLIGHT:return new bn(Cn);case Se.AnnotationType.UNDERLINE:return new pn(Cn);case Se.AnnotationType.SQUIGGLY:return new _n(Cn);case Se.AnnotationType.STRIKEOUT:return new Nn(Cn);case Se.AnnotationType.STAMP:return new Un(Cn);case Se.AnnotationType.FILEATTACHMENT:return new xn(Cn);default:return new Re(Cn)}}}class Re{constructor(Cn,{isRenderable:Tn=!1,ignoreBorder:qn=!1,createQuadrilaterals:In=!1}={}){this.isRenderable=Tn,this.data=Cn.data,this.layer=Cn.layer,this.page=Cn.page,this.viewport=Cn.viewport,this.linkService=Cn.linkService,this.downloadManager=Cn.downloadManager,this.imageResourcesPath=Cn.imageResourcesPath,this.renderForms=Cn.renderForms,this.svgFactory=Cn.svgFactory,this.annotationStorage=Cn.annotationStorage,this.enableScripting=Cn.enableScripting,this.hasJSActions=Cn.hasJSActions,this._fieldObjects=Cn.fieldObjects,Tn&&(this.container=this._createContainer(qn)),In&&(this.quadrilaterals=this._createQuadrilaterals(qn))}_createContainer(Cn=!1){const{data:Tn,page:qn,viewport:In}=this,wn=document.createElement("section");wn.setAttribute("data-annotation-id",Tn.id);const{pageWidth:Vn,pageHeight:Yn,pageX:tr,pageY:cr}=In.rawDims,{width:Kn,height:rr}=Ie(Tn.rect),ir=Se.Util.normalizeRect([Tn.rect[0],qn.view[3]-Tn.rect[1]+qn.view[1],Tn.rect[2],qn.view[3]-Tn.rect[3]+qn.view[1]]);if(!Cn&&Tn.borderStyle.width>0){wn.style.borderWidth=`${Tn.borderStyle.width}px`;const xr=Tn.borderStyle.horizontalCornerRadius,Nr=Tn.borderStyle.verticalCornerRadius;if(xr>0||Nr>0){const Vr=`calc(${xr}px * var(--scale-factor)) / calc(${Nr}px * var(--scale-factor))`;wn.style.borderRadius=Vr}else if(this instanceof ze){const Vr=`calc(${Kn}px * var(--scale-factor)) / calc(${rr}px * var(--scale-factor))`;wn.style.borderRadius=Vr}switch(Tn.borderStyle.style){case Se.AnnotationBorderStyleType.SOLID:wn.style.borderStyle="solid";break;case Se.AnnotationBorderStyleType.DASHED:wn.style.borderStyle="dashed";break;case Se.AnnotationBorderStyleType.BEVELED:(0,Se.warn)("Unimplemented border style: beveled");break;case Se.AnnotationBorderStyleType.INSET:(0,Se.warn)("Unimplemented border style: inset");break;case Se.AnnotationBorderStyleType.UNDERLINE:wn.style.borderBottomStyle="solid";break}const jr=Tn.borderColor||null;jr?wn.style.borderColor=Se.Util.makeHexColor(jr[0]|0,jr[1]|0,jr[2]|0):wn.style.borderWidth=0}wn.style.left=`${100*(ir[0]-tr)/Vn}%`,wn.style.top=`${100*(ir[1]-cr)/Yn}%`;const{rotation:yr}=Tn;return Tn.hasOwnCanvas||yr===0?(wn.style.width=`${100*Kn/Vn}%`,wn.style.height=`${100*rr/Yn}%`):this.setRotation(yr,wn),wn}setRotation(Cn,Tn=this.container){const{pageWidth:qn,pageHeight:In}=this.viewport.rawDims,{width:wn,height:Vn}=Ie(this.data.rect);let Yn,tr;Cn%180===0?(Yn=100*wn/qn,tr=100*Vn/In):(Yn=100*Vn/qn,tr=100*wn/In),Tn.style.width=`${Yn}%`,Tn.style.height=`${tr}%`,Tn.setAttribute("data-main-rotation",(360-Cn)%360)}get _commonActions(){const Cn=(Tn,qn,In)=>{const wn=In.detail[Tn];In.target.style[qn]=Ce.ColorConverters[`${wn[0]}_HTML`](wn.slice(1))};return(0,Se.shadow)(this,"_commonActions",{display:Tn=>{const qn=Tn.detail.display%2===1;this.container.style.visibility=qn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:qn,print:Tn.detail.display===0||Tn.detail.display===3})},print:Tn=>{this.annotationStorage.setValue(this.data.id,{print:Tn.detail.print})},hidden:Tn=>{this.container.style.visibility=Tn.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Tn.detail.hidden})},focus:Tn=>{setTimeout(()=>Tn.target.focus({preventScroll:!1}),0)},userName:Tn=>{Tn.target.title=Tn.detail.userName},readonly:Tn=>{Tn.detail.readonly?Tn.target.setAttribute("readonly",""):Tn.target.removeAttribute("readonly")},required:Tn=>{this._setRequired(Tn.target,Tn.detail.required)},bgColor:Tn=>{Cn("bgColor","backgroundColor",Tn)},fillColor:Tn=>{Cn("fillColor","backgroundColor",Tn)},fgColor:Tn=>{Cn("fgColor","color",Tn)},textColor:Tn=>{Cn("textColor","color",Tn)},borderColor:Tn=>{Cn("borderColor","borderColor",Tn)},strokeColor:Tn=>{Cn("strokeColor","borderColor",Tn)},rotation:Tn=>{const qn=Tn.detail.rotation;this.setRotation(qn),this.annotationStorage.setValue(this.data.id,{rotation:qn})}})}_dispatchEventFromSandbox(Cn,Tn){const qn=this._commonActions;for(const In of Object.keys(Tn.detail)){const wn=Cn[In]||qn[In];wn==null||wn(Tn)}}_setDefaultPropertiesFromJS(Cn){if(!this.enableScripting)return;const Tn=this.annotationStorage.getRawValue(this.data.id);if(!Tn)return;const qn=this._commonActions;for(const[In,wn]of Object.entries(Tn)){const Vn=qn[In];if(Vn){const Yn={detail:{[In]:wn},target:Cn};Vn(Yn),delete Tn[In]}}}_createQuadrilaterals(Cn=!1){if(!this.data.quadPoints)return null;const Tn=[],qn=this.data.rect;for(const In of this.data.quadPoints)this.data.rect=[In[2].x,In[2].y,In[1].x,In[1].y],Tn.push(this._createContainer(Cn));return this.data.rect=qn,Tn}_createPopup(Cn,Tn){let qn=this.container;this.quadrilaterals&&(Cn=Cn||this.quadrilaterals,qn=this.quadrilaterals[0]),Cn||(Cn=document.createElement("div"),Cn.className="popupTriggerArea",qn.append(Cn));const wn=new Qe({container:qn,trigger:Cn,color:Tn.color,titleObj:Tn.titleObj,modificationDate:Tn.modificationDate,contentsObj:Tn.contentsObj,richText:Tn.richText,hideWrapper:!0}).render();wn.style.left="100%",qn.append(wn)}_renderQuadrilaterals(Cn){for(const Tn of this.quadrilaterals)Tn.className=Cn;return this.quadrilaterals}render(){(0,Se.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Cn,Tn=null){const qn=[];if(this._fieldObjects){const In=this._fieldObjects[Cn];if(In)for(const{page:wn,id:Vn,exportValues:Yn}of In){if(wn===-1||Vn===Tn)continue;const tr=typeof Yn=="string"?Yn:null,cr=document.querySelector(`[data-element-id="${Vn}"]`);if(cr&&!ke.has(cr)){(0,Se.warn)(`_getElementsByName - element not allowed: ${Vn}`);continue}qn.push({id:Vn,exportValue:tr,domElement:cr})}return qn}for(const In of document.getElementsByName(Cn)){const{exportValue:wn}=In,Vn=In.getAttribute("data-element-id");Vn!==Tn&&ke.has(In)&&qn.push({id:Vn,exportValue:wn,domElement:In})}return qn}}class Be extends Re{constructor(Tn,qn=null){super(Tn,{isRenderable:!0,ignoreBorder:!!(qn!=null&&qn.ignoreBorder),createQuadrilaterals:!0});jn(this,sn);this.isTooltipOnly=Tn.data.isTooltipOnly}render(){const{data:Tn,linkService:qn}=this,In=document.createElement("a");In.setAttribute("data-element-id",Tn.id);let wn=!1;return Tn.url?(qn.addLinkAttributes(In,Tn.url,Tn.newWindow),wn=!0):Tn.action?(this._bindNamedAction(In,Tn.action),wn=!0):Tn.attachment?(this._bindAttachment(In,Tn.attachment),wn=!0):Tn.setOCGState?(On(this,sn,ob).call(this,In,Tn.setOCGState),wn=!0):Tn.dest?(this._bindLink(In,Tn.dest),wn=!0):(Tn.actions&&(Tn.actions.Action||Tn.actions["Mouse Up"]||Tn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(In,Tn),wn=!0),Tn.resetForm?(this._bindResetFormAction(In,Tn.resetForm),wn=!0):this.isTooltipOnly&&!wn&&(this._bindLink(In,""),wn=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Vn,Yn)=>{const tr=Yn===0?In:In.cloneNode();return Vn.append(tr),Vn}):(this.container.className="linkAnnotation",wn&&this.container.append(In),this.container)}_bindLink(Tn,qn){Tn.href=this.linkService.getDestinationHash(qn),Tn.onclick=()=>(qn&&this.linkService.goToDestination(qn),!1),(qn||qn==="")&&On(this,sn,Tp).call(this)}_bindNamedAction(Tn,qn){Tn.href=this.linkService.getAnchorUrl(""),Tn.onclick=()=>(this.linkService.executeNamedAction(qn),!1),On(this,sn,Tp).call(this)}_bindAttachment(Tn,qn){Tn.href=this.linkService.getAnchorUrl(""),Tn.onclick=()=>{var In;return(In=this.downloadManager)==null||In.openOrDownloadData(this.container,qn.content,qn.filename),!1},On(this,sn,Tp).call(this)}_bindJSAction(Tn,qn){Tn.href=this.linkService.getAnchorUrl("");const In=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const wn of Object.keys(qn.actions)){const Vn=In.get(wn);Vn&&(Tn[Vn]=()=>{var Yn;return(Yn=this.linkService.eventBus)==null||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qn.id,name:wn}}),!1})}Tn.onclick||(Tn.onclick=()=>!1),On(this,sn,Tp).call(this)}_bindResetFormAction(Tn,qn){const In=Tn.onclick;if(In||(Tn.href=this.linkService.getAnchorUrl("")),On(this,sn,Tp).call(this),!this._fieldObjects){(0,Se.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),In||(Tn.onclick=()=>!1);return}Tn.onclick=()=>{var rr;In==null||In();const{fields:wn,refs:Vn,include:Yn}=qn,tr=[];if(wn.length!==0||Vn.length!==0){const ir=new Set(Vn);for(const yr of wn){const xr=this._fieldObjects[yr]||[];for(const{id:Nr}of xr)ir.add(Nr)}for(const yr of Object.values(this._fieldObjects))for(const xr of yr)ir.has(xr.id)===Yn&&tr.push(xr)}else for(const ir of Object.values(this._fieldObjects))tr.push(...ir);const cr=this.annotationStorage,Kn=[];for(const ir of tr){const{id:yr}=ir;switch(Kn.push(yr),ir.type){case"text":{const Nr=ir.defaultValue||"";cr.setValue(yr,{value:Nr});break}case"checkbox":case"radiobutton":{const Nr=ir.defaultValue===ir.exportValues;cr.setValue(yr,{value:Nr});break}case"combobox":case"listbox":{const Nr=ir.defaultValue||"";cr.setValue(yr,{value:Nr});break}default:continue}const xr=document.querySelector(`[data-element-id="${yr}"]`);if(xr){if(!ke.has(xr)){(0,Se.warn)(`_bindResetFormAction - element not allowed: ${yr}`);continue}}else continue;xr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Kn,name:"ResetForm"}})),!1}}}sn=new WeakSet,Tp=function(){this.container.setAttribute("data-internal-link","")},ob=function(Tn,qn){Tn.href=this.linkService.getAnchorUrl(""),Tn.onclick=()=>(this.linkService.executeSetOCGState(qn),!1),On(this,sn,Tp).call(this)};class je extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn})}render(){this.container.className="textAnnotation";const Cn=document.createElement("img");return Cn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Cn.alt="[{{type}} Annotation]",Cn.dataset.l10nId="text_annotation_type",Cn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Cn,this.data),this.container.append(Cn),this.container}}class He extends Re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(Cn){const{isWin:Tn,isMac:qn}=Se.FeatureTest.platform;return Tn&&Cn.ctrlKey||qn&&Cn.metaKey}_setEventListener(Cn,Tn,qn,In){Tn.includes("mouse")?Cn.addEventListener(Tn,wn=>{var Vn;(Vn=this.linkService.eventBus)==null||Vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:qn,value:In(wn),shift:wn.shiftKey,modifier:this._getKeyModifier(wn)}})}):Cn.addEventListener(Tn,wn=>{var Vn;(Vn=this.linkService.eventBus)==null||Vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:qn,value:In(wn)}})})}_setEventListeners(Cn,Tn,qn){var In;for(const[wn,Vn]of Tn)(Vn==="Action"||(In=this.data.actions)!=null&&In[Vn])&&this._setEventListener(Cn,wn,Vn,qn)}_setBackgroundColor(Cn){const Tn=this.data.backgroundColor||null;Cn.style.backgroundColor=Tn===null?"transparent":Se.Util.makeHexColor(Tn[0],Tn[1],Tn[2])}_setTextStyle(Cn){const Tn=["left","center","right"],{fontColor:qn}=this.data.defaultAppearanceData,In=this.data.defaultAppearanceData.fontSize||Fe,wn=Cn.style;let Vn;const Yn=2,tr=cr=>Math.round(10*cr)/10;if(this.data.multiLine){const cr=Math.abs(this.data.rect[3]-this.data.rect[1]-Yn),Kn=Math.round(cr/(Se.LINE_FACTOR*In))||1,rr=cr/Kn;Vn=Math.min(In,tr(rr/Se.LINE_FACTOR))}else{const cr=Math.abs(this.data.rect[3]-this.data.rect[1]-Yn);Vn=Math.min(In,tr(cr/Se.LINE_FACTOR))}wn.fontSize=`calc(${Vn}px * var(--scale-factor))`,wn.color=Se.Util.makeHexColor(qn[0],qn[1],qn[2]),this.data.textAlignment!==null&&(wn.textAlign=Tn[this.data.textAlignment])}_setRequired(Cn,Tn){Tn?Cn.setAttribute("required",!0):Cn.removeAttribute("required"),Cn.setAttribute("aria-required",Tn)}}class Ge extends He{constructor(Cn){const Tn=Cn.renderForms||!Cn.data.hasAppearance&&!!Cn.data.fieldValue;super(Cn,{isRenderable:Tn})}setPropertyOnSiblings(Cn,Tn,qn,In){const wn=this.annotationStorage;for(const Vn of this._getElementsByName(Cn.name,Cn.id))Vn.domElement&&(Vn.domElement[Tn]=qn),wn.setValue(Vn.id,{[In]:qn})}render(){var In;const Cn=this.annotationStorage,Tn=this.data.id;this.container.className="textWidgetAnnotation";let qn=null;if(this.renderForms){const wn=Cn.getValue(Tn,{value:this.data.fieldValue});let Vn=wn.formattedValue||wn.value||"";const Yn=Cn.getValue(Tn,{charLimit:this.data.maxLen}).charLimit;Yn&&Vn.length>Yn&&(Vn=Vn.slice(0,Yn));const tr={userValue:Vn,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(qn=document.createElement("textarea"),qn.textContent=Vn,this.data.doNotScroll&&(qn.style.overflowY="hidden")):(qn=document.createElement("input"),qn.type="text",qn.setAttribute("value",Vn),this.data.doNotScroll&&(qn.style.overflowX="hidden")),ke.add(qn),qn.setAttribute("data-element-id",Tn),qn.disabled=this.data.readOnly,qn.name=this.data.fieldName,qn.tabIndex=Ee,this._setRequired(qn,this.data.required),Yn&&(qn.maxLength=Yn),qn.addEventListener("input",Kn=>{Cn.setValue(Tn,{value:Kn.target.value}),this.setPropertyOnSiblings(qn,"value",Kn.target.value,"value")}),qn.addEventListener("resetform",Kn=>{const rr=this.data.defaultFieldValue??"";qn.value=tr.userValue=rr,tr.formattedValue=null});let cr=Kn=>{const{formattedValue:rr}=tr;rr!=null&&(Kn.target.value=rr),Kn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){qn.addEventListener("focus",rr=>{const{target:ir}=rr;tr.userValue&&(ir.value=tr.userValue),tr.lastCommittedValue=ir.value,tr.commitKey=1}),qn.addEventListener("updatefromsandbox",rr=>{const ir={value(yr){tr.userValue=yr.detail.value??"",Cn.setValue(Tn,{value:tr.userValue.toString()}),yr.target.value=tr.userValue},formattedValue(yr){const{formattedValue:xr}=yr.detail;tr.formattedValue=xr,xr!=null&&yr.target!==document.activeElement&&(yr.target.value=xr),Cn.setValue(Tn,{formattedValue:xr})},selRange(yr){yr.target.setSelectionRange(...yr.detail.selRange)},charLimit:yr=>{var Vr;const{charLimit:xr}=yr.detail,{target:Nr}=yr;if(xr===0){Nr.removeAttribute("maxLength");return}Nr.setAttribute("maxLength",xr);let jr=tr.userValue;!jr||jr.length<=xr||(jr=jr.slice(0,xr),Nr.value=tr.userValue=jr,Cn.setValue(Tn,{value:jr}),(Vr=this.linkService.eventBus)==null||Vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tn,name:"Keystroke",value:jr,willCommit:!0,commitKey:1,selStart:Nr.selectionStart,selEnd:Nr.selectionEnd}}))}};this._dispatchEventFromSandbox(ir,rr)}),qn.addEventListener("keydown",rr=>{var xr;tr.commitKey=1;let ir=-1;if(rr.key==="Escape"?ir=0:rr.key==="Enter"&&!this.data.multiLine?ir=2:rr.key==="Tab"&&(tr.commitKey=3),ir===-1)return;const{value:yr}=rr.target;tr.lastCommittedValue!==yr&&(tr.lastCommittedValue=yr,tr.userValue=yr,(xr=this.linkService.eventBus)==null||xr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tn,name:"Keystroke",value:yr,willCommit:!0,commitKey:ir,selStart:rr.target.selectionStart,selEnd:rr.target.selectionEnd}}))});const Kn=cr;cr=null,qn.addEventListener("blur",rr=>{var yr;if(!rr.relatedTarget)return;const{value:ir}=rr.target;tr.userValue=ir,tr.lastCommittedValue!==ir&&((yr=this.linkService.eventBus)==null||yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tn,name:"Keystroke",value:ir,willCommit:!0,commitKey:tr.commitKey,selStart:rr.target.selectionStart,selEnd:rr.target.selectionEnd}})),Kn(rr)}),(In=this.data.actions)!=null&&In.Keystroke&&qn.addEventListener("beforeinput",rr=>{var ei;tr.lastCommittedValue=null;const{data:ir,target:yr}=rr,{value:xr,selectionStart:Nr,selectionEnd:jr}=yr;let Vr=Nr,Yr=jr;switch(rr.inputType){case"deleteWordBackward":{const Ln=xr.substring(0,Nr).match(/\w*[^\w]*$/);Ln&&(Vr-=Ln[0].length);break}case"deleteWordForward":{const Ln=xr.substring(Nr).match(/^[^\w]*\w*/);Ln&&(Yr+=Ln[0].length);break}case"deleteContentBackward":Nr===jr&&(Vr-=1);break;case"deleteContentForward":Nr===jr&&(Yr+=1);break}rr.preventDefault(),(ei=this.linkService.eventBus)==null||ei.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tn,name:"Keystroke",value:xr,change:ir||"",willCommit:!1,selStart:Vr,selEnd:Yr}})}),this._setEventListeners(qn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rr=>rr.target.value)}if(cr&&qn.addEventListener("blur",cr),this.data.comb){const rr=(this.data.rect[2]-this.data.rect[0])/Yn;qn.classList.add("comb"),qn.style.letterSpacing=`calc(${rr}px * var(--scale-factor) - 1ch)`}}else qn=document.createElement("div"),qn.textContent=this.data.fieldValue,qn.style.verticalAlign="middle",qn.style.display="table-cell";return this._setTextStyle(qn),this._setBackgroundColor(qn),this._setDefaultPropertiesFromJS(qn),this.container.append(qn),this.container}}class Ve extends He{constructor(Cn){super(Cn,{isRenderable:Cn.renderForms})}render(){const Cn=this.annotationStorage,Tn=this.data,qn=Tn.id;let In=Cn.getValue(qn,{value:Tn.exportValue===Tn.fieldValue}).value;typeof In=="string"&&(In=In!=="Off",Cn.setValue(qn,{value:In})),this.container.className="buttonWidgetAnnotation checkBox";const wn=document.createElement("input");return ke.add(wn),wn.setAttribute("data-element-id",qn),wn.disabled=Tn.readOnly,this._setRequired(wn,this.data.required),wn.type="checkbox",wn.name=Tn.fieldName,In&&wn.setAttribute("checked",!0),wn.setAttribute("exportValue",Tn.exportValue),wn.tabIndex=Ee,wn.addEventListener("change",Vn=>{const{name:Yn,checked:tr}=Vn.target;for(const cr of this._getElementsByName(Yn,qn)){const Kn=tr&&cr.exportValue===Tn.exportValue;cr.domElement&&(cr.domElement.checked=Kn),Cn.setValue(cr.id,{value:Kn})}Cn.setValue(qn,{value:tr})}),wn.addEventListener("resetform",Vn=>{const Yn=Tn.defaultFieldValue||"Off";Vn.target.checked=Yn===Tn.exportValue}),this.enableScripting&&this.hasJSActions&&(wn.addEventListener("updatefromsandbox",Vn=>{const Yn={value(tr){tr.target.checked=tr.detail.value!=="Off",Cn.setValue(qn,{value:tr.target.checked})}};this._dispatchEventFromSandbox(Yn,Vn)}),this._setEventListeners(wn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Vn=>Vn.target.checked)),this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class ze extends He{constructor(Cn){super(Cn,{isRenderable:Cn.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const Cn=this.annotationStorage,Tn=this.data,qn=Tn.id;let In=Cn.getValue(qn,{value:Tn.fieldValue===Tn.buttonValue}).value;typeof In=="string"&&(In=In!==Tn.buttonValue,Cn.setValue(qn,{value:In}));const wn=document.createElement("input");if(ke.add(wn),wn.setAttribute("data-element-id",qn),wn.disabled=Tn.readOnly,this._setRequired(wn,this.data.required),wn.type="radio",wn.name=Tn.fieldName,In&&wn.setAttribute("checked",!0),wn.tabIndex=Ee,wn.addEventListener("change",Vn=>{const{name:Yn,checked:tr}=Vn.target;for(const cr of this._getElementsByName(Yn,qn))Cn.setValue(cr.id,{value:!1});Cn.setValue(qn,{value:tr})}),wn.addEventListener("resetform",Vn=>{const Yn=Tn.defaultFieldValue;Vn.target.checked=Yn!=null&&Yn===Tn.buttonValue}),this.enableScripting&&this.hasJSActions){const Vn=Tn.buttonValue;wn.addEventListener("updatefromsandbox",Yn=>{const tr={value:cr=>{const Kn=Vn===cr.detail.value;for(const rr of this._getElementsByName(cr.target.name)){const ir=Kn&&rr.id===qn;rr.domElement&&(rr.domElement.checked=ir),Cn.setValue(rr.id,{value:ir})}}};this._dispatchEventFromSandbox(tr,Yn)}),this._setEventListeners(wn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Yn=>Yn.target.checked)}return this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class Xe extends Be{constructor(Cn){super(Cn,{ignoreBorder:Cn.data.hasAppearance})}render(){const Cn=super.render();Cn.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Cn.title=this.data.alternativeText);const Tn=Cn.lastChild;return this.enableScripting&&this.hasJSActions&&Tn&&(this._setDefaultPropertiesFromJS(Tn),Tn.addEventListener("updatefromsandbox",qn=>{this._dispatchEventFromSandbox({},qn)})),Cn}}class We extends He{constructor(Cn){super(Cn,{isRenderable:Cn.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const Cn=this.annotationStorage,Tn=this.data.id,qn=Cn.getValue(Tn,{value:this.data.fieldValue}),In=document.createElement("select");ke.add(In),In.setAttribute("data-element-id",Tn),In.disabled=this.data.readOnly,this._setRequired(In,this.data.required),In.name=this.data.fieldName,In.tabIndex=Ee;let wn=this.data.combo&&this.data.options.length>0;this.data.combo||(In.size=this.data.options.length,this.data.multiSelect&&(In.multiple=!0)),In.addEventListener("resetform",Kn=>{const rr=this.data.defaultFieldValue;for(const ir of In.options)ir.selected=ir.value===rr});for(const Kn of this.data.options){const rr=document.createElement("option");rr.textContent=Kn.displayValue,rr.value=Kn.exportValue,qn.value.includes(Kn.exportValue)&&(rr.setAttribute("selected",!0),wn=!1),In.append(rr)}let Vn=null;if(wn){const Kn=document.createElement("option");Kn.value=" ",Kn.setAttribute("hidden",!0),Kn.setAttribute("selected",!0),In.prepend(Kn),Vn=()=>{Kn.remove(),In.removeEventListener("input",Vn),Vn=null},In.addEventListener("input",Vn)}const Yn=Kn=>{const rr=Kn?"value":"textContent",{options:ir,multiple:yr}=In;return yr?Array.prototype.filter.call(ir,xr=>xr.selected).map(xr=>xr[rr]):ir.selectedIndex===-1?null:ir[ir.selectedIndex][rr]};let tr=Yn(!1);const cr=Kn=>{const rr=Kn.target.options;return Array.prototype.map.call(rr,ir=>({displayValue:ir.textContent,exportValue:ir.value}))};return this.enableScripting&&this.hasJSActions?(In.addEventListener("updatefromsandbox",Kn=>{const rr={value(ir){Vn==null||Vn();const yr=ir.detail.value,xr=new Set(Array.isArray(yr)?yr:[yr]);for(const Nr of In.options)Nr.selected=xr.has(Nr.value);Cn.setValue(Tn,{value:Yn(!0)}),tr=Yn(!1)},multipleSelection(ir){In.multiple=!0},remove(ir){const yr=In.options,xr=ir.detail.remove;yr[xr].selected=!1,In.remove(xr),yr.length>0&&Array.prototype.findIndex.call(yr,jr=>jr.selected)===-1&&(yr[0].selected=!0),Cn.setValue(Tn,{value:Yn(!0),items:cr(ir)}),tr=Yn(!1)},clear(ir){for(;In.length!==0;)In.remove(0);Cn.setValue(Tn,{value:null,items:[]}),tr=Yn(!1)},insert(ir){const{index:yr,displayValue:xr,exportValue:Nr}=ir.detail.insert,jr=In.children[yr],Vr=document.createElement("option");Vr.textContent=xr,Vr.value=Nr,jr?jr.before(Vr):In.append(Vr),Cn.setValue(Tn,{value:Yn(!0),items:cr(ir)}),tr=Yn(!1)},items(ir){const{items:yr}=ir.detail;for(;In.length!==0;)In.remove(0);for(const xr of yr){const{displayValue:Nr,exportValue:jr}=xr,Vr=document.createElement("option");Vr.textContent=Nr,Vr.value=jr,In.append(Vr)}In.options.length>0&&(In.options[0].selected=!0),Cn.setValue(Tn,{value:Yn(!0),items:cr(ir)}),tr=Yn(!1)},indices(ir){const yr=new Set(ir.detail.indices);for(const xr of ir.target.options)xr.selected=yr.has(xr.index);Cn.setValue(Tn,{value:Yn(!0)}),tr=Yn(!1)},editable(ir){ir.target.disabled=!ir.detail.editable}};this._dispatchEventFromSandbox(rr,Kn)}),In.addEventListener("input",Kn=>{var ir;const rr=Yn(!0);Cn.setValue(Tn,{value:rr}),Kn.preventDefault(),(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tn,name:"Keystroke",value:tr,changeEx:rr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(In,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Kn=>Kn.target.value)):In.addEventListener("input",function(Kn){Cn.setValue(Tn,{value:Yn(!0)})}),this.data.combo&&this._setTextStyle(In),this._setBackgroundColor(In),this._setDefaultPropertiesFromJS(In),this.container.append(In),this.container}}const Fn=class Fn extends Re{constructor(Cn){var In,wn,Vn;const{data:Tn}=Cn,qn=!Fn.IGNORE_TYPES.has(Tn.parentType)&&!!((In=Tn.titleObj)!=null&&In.str||(wn=Tn.contentsObj)!=null&&wn.str||(Vn=Tn.richText)!=null&&Vn.str);super(Cn,{isRenderable:qn})}render(){this.container.className="popupAnnotation";const Cn=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(Cn.length===0)return this.container;const Tn=new Qe({container:this.container,trigger:Array.from(Cn),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),qn=this.page,In=Se.Util.normalizeRect([this.data.parentRect[0],qn.view[3]-this.data.parentRect[1]+qn.view[1],this.data.parentRect[2],qn.view[3]-this.data.parentRect[3]+qn.view[1]]),wn=In[0]+this.data.parentRect[2]-this.data.parentRect[0],Vn=In[1],{pageWidth:Yn,pageHeight:tr,pageX:cr,pageY:Kn}=this.viewport.rawDims;return this.container.style.left=`${100*(wn-cr)/Yn}%`,this.container.style.top=`${100*(Vn-Kn)/tr}%`,this.container.append(Tn.render()),this.container}};yi(Fn,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let Je=Fn;class Qe{constructor(Cn){this.container=Cn.container,this.trigger=Cn.trigger,this.color=Cn.color,this.titleObj=Cn.titleObj,this.modificationDate=Cn.modificationDate,this.contentsObj=Cn.contentsObj,this.richText=Cn.richText,this.hideWrapper=Cn.hideWrapper||!1,this.pinned=!1}render(){var Yn,tr;const Tn=document.createElement("div");Tn.className="popupWrapper",this.hideElement=this.hideWrapper?Tn:this.container,this.hideElement.hidden=!0;const qn=document.createElement("div");qn.className="popup";const In=this.color;if(In){const cr=.7*(255-In[0])+In[0],Kn=.7*(255-In[1])+In[1],rr=.7*(255-In[2])+In[2];qn.style.backgroundColor=Se.Util.makeHexColor(cr|0,Kn|0,rr|0)}const wn=document.createElement("h1");wn.dir=this.titleObj.dir,wn.textContent=this.titleObj.str,qn.append(wn);const Vn=_e.PDFDateString.toDateObject(this.modificationDate);if(Vn){const cr=document.createElement("span");cr.className="popupDate",cr.textContent="{{date}}, {{time}}",cr.dataset.l10nId="annotation_date_string",cr.dataset.l10nArgs=JSON.stringify({date:Vn.toLocaleDateString(),time:Vn.toLocaleTimeString()}),qn.append(cr)}if((Yn=this.richText)!=null&&Yn.str&&(!((tr=this.contentsObj)!=null&&tr.str)||this.contentsObj.str===this.richText.str))Pe.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:qn}),qn.lastChild.className="richText popupContent";else{const cr=this._formatContents(this.contentsObj);qn.append(cr)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const cr of this.trigger)cr.addEventListener("click",this._toggle.bind(this)),cr.addEventListener("mouseover",this._show.bind(this,!1)),cr.addEventListener("mouseout",this._hide.bind(this,!1));return qn.addEventListener("click",this._hide.bind(this,!0)),Tn.append(qn),Tn}_formatContents({str:Cn,dir:Tn}){const qn=document.createElement("p");qn.className="popupContent",qn.dir=Tn;const In=Cn.split(/(?:\r\n?|\n)/);for(let wn=0,Vn=In.length;wn<Vn;++wn){const Yn=In[wn];qn.append(document.createTextNode(Yn)),wn<Vn-1&&qn.append(document.createElement("br"))}return qn}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(Cn=!1){Cn&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(Cn=!0){Cn&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Ze extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0}),this.textContent=Cn.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const Cn=document.createElement("div");Cn.className="annotationTextContent",Cn.setAttribute("role","comment");for(const Tn of this.textContent){const qn=document.createElement("span");qn.textContent=Tn,Cn.append(qn)}this.container.append(Cn)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class on extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const Cn=this.data,{width:Tn,height:qn}=Ie(Cn.rect),In=this.svgFactory.create(Tn,qn,!0),wn=this.svgFactory.createElement("svg:line");return wn.setAttribute("x1",Cn.rect[2]-Cn.lineCoordinates[0]),wn.setAttribute("y1",Cn.rect[3]-Cn.lineCoordinates[1]),wn.setAttribute("x2",Cn.rect[2]-Cn.lineCoordinates[2]),wn.setAttribute("y2",Cn.rect[3]-Cn.lineCoordinates[3]),wn.setAttribute("stroke-width",Cn.borderStyle.width||1),wn.setAttribute("stroke","transparent"),wn.setAttribute("fill","transparent"),In.append(wn),this.container.append(In),this._createPopup(wn,Cn),this.container}}class an extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const Cn=this.data,{width:Tn,height:qn}=Ie(Cn.rect),In=this.svgFactory.create(Tn,qn,!0),wn=Cn.borderStyle.width,Vn=this.svgFactory.createElement("svg:rect");return Vn.setAttribute("x",wn/2),Vn.setAttribute("y",wn/2),Vn.setAttribute("width",Tn-wn),Vn.setAttribute("height",qn-wn),Vn.setAttribute("stroke-width",wn||1),Vn.setAttribute("stroke","transparent"),Vn.setAttribute("fill","transparent"),In.append(Vn),this.container.append(In),this._createPopup(Vn,Cn),this.container}}class rn extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const Cn=this.data,{width:Tn,height:qn}=Ie(Cn.rect),In=this.svgFactory.create(Tn,qn,!0),wn=Cn.borderStyle.width,Vn=this.svgFactory.createElement("svg:ellipse");return Vn.setAttribute("cx",Tn/2),Vn.setAttribute("cy",qn/2),Vn.setAttribute("rx",Tn/2-wn/2),Vn.setAttribute("ry",qn/2-wn/2),Vn.setAttribute("stroke-width",wn||1),Vn.setAttribute("stroke","transparent"),Vn.setAttribute("fill","transparent"),In.append(Vn),this.container.append(In),this._createPopup(Vn,Cn),this.container}}class fn extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Cn=this.data,{width:Tn,height:qn}=Ie(Cn.rect),In=this.svgFactory.create(Tn,qn,!0);let wn=[];for(const Yn of Cn.vertices){const tr=Yn.x-Cn.rect[0],cr=Cn.rect[3]-Yn.y;wn.push(tr+","+cr)}wn=wn.join(" ");const Vn=this.svgFactory.createElement(this.svgElementName);return Vn.setAttribute("points",wn),Vn.setAttribute("stroke-width",Cn.borderStyle.width||1),Vn.setAttribute("stroke","transparent"),Vn.setAttribute("fill","transparent"),In.append(Vn),this.container.append(In),this._createPopup(Vn,Cn),this.container}}class nn extends fn{constructor(Cn){super(Cn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class cn extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class dn extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Cn=this.data,{width:Tn,height:qn}=Ie(Cn.rect),In=this.svgFactory.create(Tn,qn,!0);for(const wn of Cn.inkLists){let Vn=[];for(const tr of wn){const cr=tr.x-Cn.rect[0],Kn=Cn.rect[3]-tr.y;Vn.push(`${cr},${Kn}`)}Vn=Vn.join(" ");const Yn=this.svgFactory.createElement(this.svgElementName);Yn.setAttribute("points",Vn),Yn.setAttribute("stroke-width",Cn.borderStyle.width||1),Yn.setAttribute("stroke","transparent"),Yn.setAttribute("fill","transparent"),this._createPopup(Yn,Cn),In.append(Yn)}return this.container.append(In),this.container}}class bn extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class pn extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class _n extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Nn extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Un extends Re{constructor(Cn){var qn,In,wn;const Tn=!!(Cn.data.hasPopup||(qn=Cn.data.titleObj)!=null&&qn.str||(In=Cn.data.contentsObj)!=null&&In.str||(wn=Cn.data.richText)!=null&&wn.str);super(Cn,{isRenderable:Tn,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class xn extends Re{constructor(Cn){var In;super(Cn,{isRenderable:!0});const{filename:Tn,content:qn}=this.data.file;this.filename=(0,_e.getFilenameFromUrl)(Tn,!0),this.content=qn,(In=this.linkService.eventBus)==null||In.dispatch("fileattachmentannotation",{source:this,filename:Tn,content:qn})}render(){var Tn,qn;this.container.className="fileAttachmentAnnotation";let Cn;return this.data.hasAppearance?Cn=document.createElement("div"):(Cn=document.createElement("img"),Cn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),Cn.className="popupTriggerArea",Cn.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Tn=this.data.titleObj)!=null&&Tn.str||(qn=this.data.contentsObj)!=null&&qn.str||this.data.richText)&&this._createPopup(Cn,this.data),this.container.append(Cn),this.container}_download(){var Cn;(Cn=this.downloadManager)==null||Cn.openOrDownloadData(this.container,this.content,this.filename)}}const er=class er{static render(Cn){var tr,cr;const{annotations:Tn,div:qn,viewport:In,accessibilityManager:wn}=Cn;(0,_e.setLayerDimensions)(qn,In);const Vn={data:null,layer:qn,page:Cn.page,viewport:In,linkService:Cn.linkService,downloadManager:Cn.downloadManager,imageResourcesPath:Cn.imageResourcesPath||"",renderForms:Cn.renderForms!==!1,svgFactory:new _e.DOMSVGFactory,annotationStorage:Cn.annotationStorage||new Ae.AnnotationStorage,enableScripting:Cn.enableScripting===!0,hasJSActions:Cn.hasJSActions,fieldObjects:Cn.fieldObjects};let Yn=0;for(const Kn of Tn){if(Kn.annotationType!==Se.AnnotationType.POPUP){const{width:yr,height:xr}=Ie(Kn.rect);if(yr<=0||xr<=0)continue}Vn.data=Kn;const rr=Oe.create(Vn);if(!rr.isRenderable)continue;const ir=rr.render();if(Kn.hidden&&(ir.style.visibility="hidden"),Array.isArray(ir))for(const yr of ir)yr.style.zIndex=Yn++,On(tr=er,vn,ry).call(tr,yr,Kn.id,qn,wn);else ir.style.zIndex=Yn++,rr instanceof Je?qn.prepend(ir):On(cr=er,vn,ry).call(cr,ir,Kn.id,qn,wn)}On(this,vn,iy).call(this,qn,Cn.annotationCanvasMap)}static update(Cn){const{annotationCanvasMap:Tn,div:qn,viewport:In}=Cn;(0,_e.setLayerDimensions)(qn,{rotation:In.rotation}),On(this,vn,iy).call(this,qn,Tn),qn.hidden=!1}};vn=new WeakSet,ry=function(Cn,Tn,qn,In){const wn=Cn.firstChild||Cn;wn.id=`${_e.AnnotationPrefix}${Tn}`,qn.append(Cn),In==null||In.moveElementInDOM(qn,Cn,wn,!1)},iy=function(Cn,Tn){if(Tn){for(const[qn,In]of Tn){const wn=Cn.querySelector(`[data-annotation-id="${qn}"]`);if(!wn)continue;const{firstChild:Vn}=wn;Vn?Vn.nodeName==="CANVAS"?Vn.replaceWith(In):Vn.before(In):wn.append(In)}Tn.clear()}},jn(er,vn);let St=er;e.AnnotationLayer=St},(xe,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function t(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}class Se{static CMYK_G([Ae,Ce,Pe,Ee]){return["G",1-Math.min(1,.3*Ae+.59*Pe+.11*Ce+Ee)]}static G_CMYK([Ae]){return["CMYK",0,0,0,1-Ae]}static G_RGB([Ae]){return["RGB",Ae,Ae,Ae]}static G_HTML([Ae]){const Ce=t(Ae);return`#${Ce}${Ce}${Ce}`}static RGB_G([Ae,Ce,Pe]){return["G",.3*Ae+.59*Ce+.11*Pe]}static RGB_HTML([Ae,Ce,Pe]){const Ee=t(Ae),Fe=t(Ce),ke=t(Pe);return`#${Ee}${Fe}${ke}`}static T_HTML(){return"#00000000"}static CMYK_RGB([Ae,Ce,Pe,Ee]){return["RGB",1-Math.min(1,Ae+Ee),1-Math.min(1,Pe+Ee),1-Math.min(1,Ce+Ee)]}static CMYK_HTML(Ae){const Ce=this.CMYK_RGB(Ae).slice(1);return this.RGB_HTML(Ce)}static RGB_CMYK([Ae,Ce,Pe]){const Ee=1-Ae,Fe=1-Ce,ke=1-Pe,Ie=Math.min(Ee,Fe,ke);return["CMYK",Ee,Fe,ke,Ie]}}e.ColorConverters=Se},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var Se=t(19);class _e{static setupStorage(Ce,Pe,Ee,Fe,ke){const Ie=Fe.getValue(Pe,{value:null});switch(Ee.name){case"textarea":if(Ie.value!==null&&(Ce.textContent=Ie.value),ke==="print")break;Ce.addEventListener("input",Oe=>{Fe.setValue(Pe,{value:Oe.target.value})});break;case"input":if(Ee.attributes.type==="radio"||Ee.attributes.type==="checkbox"){if(Ie.value===Ee.attributes.xfaOn?Ce.setAttribute("checked",!0):Ie.value===Ee.attributes.xfaOff&&Ce.removeAttribute("checked"),ke==="print")break;Ce.addEventListener("change",Oe=>{Fe.setValue(Pe,{value:Oe.target.checked?Oe.target.getAttribute("xfaOn"):Oe.target.getAttribute("xfaOff")})})}else{if(Ie.value!==null&&Ce.setAttribute("value",Ie.value),ke==="print")break;Ce.addEventListener("input",Oe=>{Fe.setValue(Pe,{value:Oe.target.value})})}break;case"select":if(Ie.value!==null)for(const Oe of Ee.children)Oe.attributes.value===Ie.value&&(Oe.attributes.selected=!0);Ce.addEventListener("input",Oe=>{const Re=Oe.target.options,Be=Re.selectedIndex===-1?"":Re[Re.selectedIndex].value;Fe.setValue(Pe,{value:Be})});break}}static setAttributes({html:Ce,element:Pe,storage:Ee=null,intent:Fe,linkService:ke}){const{attributes:Ie}=Pe,Oe=Ce instanceof HTMLAnchorElement;Ie.type==="radio"&&(Ie.name=`${Ie.name}-${Fe}`);for(const[Re,Be]of Object.entries(Ie))if(Be!=null)switch(Re){case"class":Be.length&&Ce.setAttribute(Re,Be.join(" "));break;case"dataId":break;case"id":Ce.setAttribute("data-element-id",Be);break;case"style":Object.assign(Ce.style,Be);break;case"textContent":Ce.textContent=Be;break;default:(!Oe||Re!=="href"&&Re!=="newWindow")&&Ce.setAttribute(Re,Be)}Oe&&ke.addLinkAttributes(Ce,Ie.href,Ie.newWindow),Ee&&Ie.dataId&&this.setupStorage(Ce,Ie.dataId,Pe,Ee)}static render(Ce){var je;const Pe=Ce.annotationStorage,Ee=Ce.linkService,Fe=Ce.xfaHtml,ke=Ce.intent||"display",Ie=document.createElement(Fe.name);Fe.attributes&&this.setAttributes({html:Ie,element:Fe,intent:ke,linkService:Ee});const Oe=[[Fe,-1,Ie]],Re=Ce.div;if(Re.append(Ie),Ce.viewport){const He=`matrix(${Ce.viewport.transform.join(",")})`;Re.style.transform=He}ke!=="richText"&&Re.setAttribute("class","xfaLayer xfaFont");const Be=[];for(;Oe.length>0;){const[He,Ge,Ve]=Oe.at(-1);if(Ge+1===He.children.length){Oe.pop();continue}const ze=He.children[++Oe.at(-1)[1]];if(ze===null)continue;const{name:Xe}=ze;if(Xe==="#text"){const Je=document.createTextNode(ze.value);Be.push(Je),Ve.append(Je);continue}let We;if((je=ze==null?void 0:ze.attributes)!=null&&je.xmlns?We=document.createElementNS(ze.attributes.xmlns,Xe):We=document.createElement(Xe),Ve.append(We),ze.attributes&&this.setAttributes({html:We,element:ze,storage:Pe,intent:ke,linkService:Ee}),ze.children&&ze.children.length>0)Oe.push([ze,-1,We]);else if(ze.value){const Je=document.createTextNode(ze.value);Se.XfaText.shouldBuildText(Xe)&&Be.push(Je),We.append(Je)}}for(const He of Re.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))He.setAttribute("readOnly",!0);return{textDivs:Be}}static update(Ce){const Pe=`matrix(${Ce.viewport.transform.join(",")})`;Ce.div.style.transform=Pe,Ce.div.hidden=!1}}e.XfaLayer=_e},(xe,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var Se=t(6),_e=t(1),Ae=t(10);let Ce=class{constructor(){(0,_e.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=Ce;{let je=function(We){let Je=[];const Qe=[];for(const Ze of We){if(Ze.fn==="save"){Je.push({fnId:92,fn:"group",items:[]}),Qe.push(Je),Je=Je.at(-1).items;continue}Ze.fn==="restore"?Je=Qe.pop():Je.push(Ze)}return Je},He=function(We){if(Number.isInteger(We))return We.toString();const Je=We.toFixed(10);let Qe=Je.length-1;if(Je[Qe]!=="0")return Je;do Qe--;while(Je[Qe]==="0");return Je.substring(0,Je[Qe]==="."?Qe:Qe+1)},Ge=function(We){if(We[4]===0&&We[5]===0){if(We[1]===0&&We[2]===0)return We[0]===1&&We[3]===1?"":`scale(${He(We[0])} ${He(We[3])})`;if(We[0]===We[3]&&We[1]===-We[2]){const Je=Math.acos(We[0])*180/Math.PI;return`rotate(${He(Je)})`}}else if(We[0]===1&&We[1]===0&&We[2]===0&&We[3]===1)return`translate(${He(We[4])} ${He(We[5])})`;return`matrix(${He(We[0])} ${He(We[1])} ${He(We[2])} ${He(We[3])} ${He(We[4])} ${He(We[5])})`};const Pe={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ee="http://www.w3.org/XML/1998/namespace",Fe="http://www.w3.org/1999/xlink",ke=["butt","round","square"],Ie=["miter","round","bevel"],Oe=function(We,Je="",Qe=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Qe)return URL.createObjectURL(new Blob([We],{type:Je}));const Ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let on=`data:${Je};base64,`;for(let an=0,rn=We.length;an<rn;an+=3){const fn=We[an]&255,nn=We[an+1]&255,cn=We[an+2]&255,dn=fn>>2,bn=(fn&3)<<4|nn>>4,pn=an+1<rn?(nn&15)<<2|cn>>6:64,_n=an+2<rn?cn&63:64;on+=Ze[dn]+Ze[bn]+Ze[pn]+Ze[_n]}return on},Re=function(){const We=new Uint8Array([137,80,78,71,13,10,26,10]),Je=12,Qe=new Int32Array(256);for(let cn=0;cn<256;cn++){let dn=cn;for(let bn=0;bn<8;bn++)dn&1?dn=3988292384^dn>>1&2147483647:dn=dn>>1&2147483647;Qe[cn]=dn}function Ze(cn,dn,bn){let pn=-1;for(let _n=dn;_n<bn;_n++){const Nn=(pn^cn[_n])&255,Un=Qe[Nn];pn=pn>>>8^Un}return pn^-1}function on(cn,dn,bn,pn){let _n=pn;const Nn=dn.length;bn[_n]=Nn>>24&255,bn[_n+1]=Nn>>16&255,bn[_n+2]=Nn>>8&255,bn[_n+3]=Nn&255,_n+=4,bn[_n]=cn.charCodeAt(0)&255,bn[_n+1]=cn.charCodeAt(1)&255,bn[_n+2]=cn.charCodeAt(2)&255,bn[_n+3]=cn.charCodeAt(3)&255,_n+=4,bn.set(dn,_n),_n+=dn.length;const Un=Ze(bn,pn+4,_n);bn[_n]=Un>>24&255,bn[_n+1]=Un>>16&255,bn[_n+2]=Un>>8&255,bn[_n+3]=Un&255}function an(cn,dn,bn){let pn=1,_n=0;for(let Nn=dn;Nn<bn;++Nn)pn=(pn+(cn[Nn]&255))%65521,_n=(_n+pn)%65521;return _n<<16|pn}function rn(cn){if(!Ae.isNodeJS)return fn(cn);try{let dn;parseInt(process.versions.node)>=8?dn=cn:dn=Buffer.from(cn);const bn=require$$5.deflateSync(dn,{level:9});return bn instanceof Uint8Array?bn:new Uint8Array(bn)}catch(dn){(0,_e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+dn)}return fn(cn)}function fn(cn){let dn=cn.length;const bn=65535,pn=Math.ceil(dn/bn),_n=new Uint8Array(2+dn+pn*5+4);let Nn=0;_n[Nn++]=120,_n[Nn++]=156;let Un=0;for(;dn>bn;)_n[Nn++]=0,_n[Nn++]=255,_n[Nn++]=255,_n[Nn++]=0,_n[Nn++]=0,_n.set(cn.subarray(Un,Un+bn),Nn),Nn+=bn,Un+=bn,dn-=bn;_n[Nn++]=1,_n[Nn++]=dn&255,_n[Nn++]=dn>>8&255,_n[Nn++]=~dn&65535&255,_n[Nn++]=(~dn&65535)>>8&255,_n.set(cn.subarray(Un),Nn),Nn+=cn.length-Un;const xn=an(cn,0,cn.length);return _n[Nn++]=xn>>24&255,_n[Nn++]=xn>>16&255,_n[Nn++]=xn>>8&255,_n[Nn++]=xn&255,_n}function nn(cn,dn,bn,pn){const _n=cn.width,Nn=cn.height;let Un,xn,St;const sn=cn.data;switch(dn){case _e.ImageKind.GRAYSCALE_1BPP:xn=0,Un=1,St=_n+7>>3;break;case _e.ImageKind.RGB_24BPP:xn=2,Un=8,St=_n*3;break;case _e.ImageKind.RGBA_32BPP:xn=6,Un=8,St=_n*4;break;default:throw new Error("invalid format")}const gn=new Uint8Array((1+St)*Nn);let Pn=0,Fn=0;for(let Cn=0;Cn<Nn;++Cn)gn[Pn++]=0,gn.set(sn.subarray(Fn,Fn+St),Pn),Fn+=St,Pn+=St;if(dn===_e.ImageKind.GRAYSCALE_1BPP&&pn){Pn=0;for(let Cn=0;Cn<Nn;Cn++){Pn++;for(let Tn=0;Tn<St;Tn++)gn[Pn++]^=255}}const vn=new Uint8Array([_n>>24&255,_n>>16&255,_n>>8&255,_n&255,Nn>>24&255,Nn>>16&255,Nn>>8&255,Nn&255,Un,xn,0,0,0]),kn=rn(gn),Bn=We.length+Je*3+vn.length+kn.length,er=new Uint8Array(Bn);let Zn=0;return er.set(We,Zn),Zn+=We.length,on("IHDR",vn,er,Zn),Zn+=Je+vn.length,on("IDATA",kn,er,Zn),Zn+=Je+kn.length,on("IEND",new Uint8Array(0),er,Zn),Oe(er,"image/png",bn)}return function(dn,bn,pn){const _n=dn.kind===void 0?_e.ImageKind.GRAYSCALE_1BPP:dn.kind;return nn(dn,_n,bn,pn)}}();class Be{constructor(){this.fontSizeScale=1,this.fontWeight=Pe.fontWeight,this.fontSize=0,this.textMatrix=_e.IDENTITY_MATRIX,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Pe.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Je,Qe){this.x=Je,this.y=Qe}}let Ve=0,ze=0,Xe=0;e.SVGGraphics=Ce=class{constructor(We,Je,Qe=!1){(0,Se.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Se.DOMSVGFactory,this.current=new Be,this.transformMatrix=_e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=We,this.objs=Je,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Qe,this._operatorIdMapping=[];for(const Ze in _e.OPS)this._operatorIdMapping[_e.OPS[Ze]]=Ze}getObject(We,Je=null){return typeof We=="string"?We.startsWith("g_")?this.commonObjs.get(We):this.objs.get(We):Je}save(){this.transformStack.push(this.transformMatrix);const We=this.current;this.extraStack.push(We),this.current=We.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(We){this.save(),this.executeOpTree(We),this.restore()}loadDependencies(We){const Je=We.fnArray,Qe=We.argsArray;for(let Ze=0,on=Je.length;Ze<on;Ze++)if(Je[Ze]===_e.OPS.dependency)for(const an of Qe[Ze]){const rn=an.startsWith("g_")?this.commonObjs:this.objs,fn=new Promise(nn=>{rn.get(an,nn)});this.current.dependencies.push(fn)}return Promise.all(this.current.dependencies)}transform(We,Je,Qe,Ze,on,an){const rn=[We,Je,Qe,Ze,on,an];this.transformMatrix=_e.Util.transform(this.transformMatrix,rn),this.tgrp=null}getSVG(We,Je){this.viewport=Je;const Qe=this._initialize(Je);return this.loadDependencies(We).then(()=>(this.transformMatrix=_e.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(We)),Qe))}convertOpList(We){const Je=this._operatorIdMapping,Qe=We.argsArray,Ze=We.fnArray,on=[];for(let an=0,rn=Ze.length;an<rn;an++){const fn=Ze[an];on.push({fnId:fn,fn:Je[fn],args:Qe[an]})}return je(on)}executeOpTree(We){for(const Je of We){const Qe=Je.fn,Ze=Je.fnId,on=Je.args;switch(Ze|0){case _e.OPS.beginText:this.beginText();break;case _e.OPS.dependency:break;case _e.OPS.setLeading:this.setLeading(on);break;case _e.OPS.setLeadingMoveText:this.setLeadingMoveText(on[0],on[1]);break;case _e.OPS.setFont:this.setFont(on);break;case _e.OPS.showText:this.showText(on[0]);break;case _e.OPS.showSpacedText:this.showText(on[0]);break;case _e.OPS.endText:this.endText();break;case _e.OPS.moveText:this.moveText(on[0],on[1]);break;case _e.OPS.setCharSpacing:this.setCharSpacing(on[0]);break;case _e.OPS.setWordSpacing:this.setWordSpacing(on[0]);break;case _e.OPS.setHScale:this.setHScale(on[0]);break;case _e.OPS.setTextMatrix:this.setTextMatrix(on[0],on[1],on[2],on[3],on[4],on[5]);break;case _e.OPS.setTextRise:this.setTextRise(on[0]);break;case _e.OPS.setTextRenderingMode:this.setTextRenderingMode(on[0]);break;case _e.OPS.setLineWidth:this.setLineWidth(on[0]);break;case _e.OPS.setLineJoin:this.setLineJoin(on[0]);break;case _e.OPS.setLineCap:this.setLineCap(on[0]);break;case _e.OPS.setMiterLimit:this.setMiterLimit(on[0]);break;case _e.OPS.setFillRGBColor:this.setFillRGBColor(on[0],on[1],on[2]);break;case _e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(on[0],on[1],on[2]);break;case _e.OPS.setStrokeColorN:this.setStrokeColorN(on);break;case _e.OPS.setFillColorN:this.setFillColorN(on);break;case _e.OPS.shadingFill:this.shadingFill(on[0]);break;case _e.OPS.setDash:this.setDash(on[0],on[1]);break;case _e.OPS.setRenderingIntent:this.setRenderingIntent(on[0]);break;case _e.OPS.setFlatness:this.setFlatness(on[0]);break;case _e.OPS.setGState:this.setGState(on[0]);break;case _e.OPS.fill:this.fill();break;case _e.OPS.eoFill:this.eoFill();break;case _e.OPS.stroke:this.stroke();break;case _e.OPS.fillStroke:this.fillStroke();break;case _e.OPS.eoFillStroke:this.eoFillStroke();break;case _e.OPS.clip:this.clip("nonzero");break;case _e.OPS.eoClip:this.clip("evenodd");break;case _e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _e.OPS.paintImageXObject:this.paintImageXObject(on[0]);break;case _e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(on[0]);break;case _e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(on[0]);break;case _e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(on[0],on[1]);break;case _e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _e.OPS.closePath:this.closePath();break;case _e.OPS.closeStroke:this.closeStroke();break;case _e.OPS.closeFillStroke:this.closeFillStroke();break;case _e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _e.OPS.nextLine:this.nextLine();break;case _e.OPS.transform:this.transform(on[0],on[1],on[2],on[3],on[4],on[5]);break;case _e.OPS.constructPath:this.constructPath(on[0],on[1]);break;case _e.OPS.endPath:this.endPath();break;case 92:this.group(Je.items);break;default:(0,_e.warn)(`Unimplemented operator ${Qe}`);break}}}setWordSpacing(We){this.current.wordSpacing=We}setCharSpacing(We){this.current.charSpacing=We}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(We,Je,Qe,Ze,on,an){const rn=this.current;rn.textMatrix=rn.lineMatrix=[We,Je,Qe,Ze,on,an],rn.textMatrixScale=Math.hypot(We,Je),rn.x=rn.lineX=0,rn.y=rn.lineY=0,rn.xcoords=[],rn.ycoords=[],rn.tspan=this.svgFactory.createElement("svg:tspan"),rn.tspan.setAttributeNS(null,"font-family",rn.fontFamily),rn.tspan.setAttributeNS(null,"font-size",`${He(rn.fontSize)}px`),rn.tspan.setAttributeNS(null,"y",He(-rn.y)),rn.txtElement=this.svgFactory.createElement("svg:text"),rn.txtElement.append(rn.tspan)}beginText(){const We=this.current;We.x=We.lineX=0,We.y=We.lineY=0,We.textMatrix=_e.IDENTITY_MATRIX,We.lineMatrix=_e.IDENTITY_MATRIX,We.textMatrixScale=1,We.tspan=this.svgFactory.createElement("svg:tspan"),We.txtElement=this.svgFactory.createElement("svg:text"),We.txtgrp=this.svgFactory.createElement("svg:g"),We.xcoords=[],We.ycoords=[]}moveText(We,Je){const Qe=this.current;Qe.x=Qe.lineX+=We,Qe.y=Qe.lineY+=Je,Qe.xcoords=[],Qe.ycoords=[],Qe.tspan=this.svgFactory.createElement("svg:tspan"),Qe.tspan.setAttributeNS(null,"font-family",Qe.fontFamily),Qe.tspan.setAttributeNS(null,"font-size",`${He(Qe.fontSize)}px`),Qe.tspan.setAttributeNS(null,"y",He(-Qe.y))}showText(We){const Je=this.current,Qe=Je.font,Ze=Je.fontSize;if(Ze===0)return;const on=Je.fontSizeScale,an=Je.charSpacing,rn=Je.wordSpacing,fn=Je.fontDirection,nn=Je.textHScale*fn,cn=Qe.vertical,dn=cn?1:-1,bn=Qe.defaultVMetrics,pn=Ze*Je.fontMatrix[0];let _n=0;for(const xn of We){if(xn===null){_n+=fn*rn;continue}else if(typeof xn=="number"){_n+=dn*xn*Ze/1e3;continue}const St=(xn.isSpace?rn:0)+an,sn=xn.fontChar;let gn,Pn,Fn=xn.width;if(cn){let kn;const Bn=xn.vmetric||bn;kn=xn.vmetric?Bn[1]:Fn*.5,kn=-kn*pn;const er=Bn[2]*pn;Fn=Bn?-Bn[0]:Fn,gn=kn/on,Pn=(_n+er)/on}else gn=_n/on,Pn=0;(xn.isInFont||Qe.missingFile)&&(Je.xcoords.push(Je.x+gn),cn&&Je.ycoords.push(-Je.y+Pn),Je.tspan.textContent+=sn);let vn;cn?vn=Fn*pn-St*fn:vn=Fn*pn+St*fn,_n+=vn}Je.tspan.setAttributeNS(null,"x",Je.xcoords.map(He).join(" ")),cn?Je.tspan.setAttributeNS(null,"y",Je.ycoords.map(He).join(" ")):Je.tspan.setAttributeNS(null,"y",He(-Je.y)),cn?Je.y-=_n:Je.x+=_n*nn,Je.tspan.setAttributeNS(null,"font-family",Je.fontFamily),Je.tspan.setAttributeNS(null,"font-size",`${He(Je.fontSize)}px`),Je.fontStyle!==Pe.fontStyle&&Je.tspan.setAttributeNS(null,"font-style",Je.fontStyle),Je.fontWeight!==Pe.fontWeight&&Je.tspan.setAttributeNS(null,"font-weight",Je.fontWeight);const Nn=Je.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;if(Nn===_e.TextRenderingMode.FILL||Nn===_e.TextRenderingMode.FILL_STROKE?(Je.fillColor!==Pe.fillColor&&Je.tspan.setAttributeNS(null,"fill",Je.fillColor),Je.fillAlpha<1&&Je.tspan.setAttributeNS(null,"fill-opacity",Je.fillAlpha)):Je.textRenderingMode===_e.TextRenderingMode.ADD_TO_PATH?Je.tspan.setAttributeNS(null,"fill","transparent"):Je.tspan.setAttributeNS(null,"fill","none"),Nn===_e.TextRenderingMode.STROKE||Nn===_e.TextRenderingMode.FILL_STROKE){const xn=1/(Je.textMatrixScale||1);this._setStrokeAttributes(Je.tspan,xn)}let Un=Je.textMatrix;Je.textRise!==0&&(Un=Un.slice(),Un[5]+=Je.textRise),Je.txtElement.setAttributeNS(null,"transform",`${Ge(Un)} scale(${He(nn)}, -1)`),Je.txtElement.setAttributeNS(Ee,"xml:space","preserve"),Je.txtElement.append(Je.tspan),Je.txtgrp.append(Je.txtElement),this._ensureTransformGroup().append(Je.txtElement)}setLeadingMoveText(We,Je){this.setLeading(-Je),this.moveText(We,Je)}addFontStyle(We){if(!We.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Je=Oe(We.data,We.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${We.loadedName}"; src: url(${Je}); }
`}setFont(We){const Je=this.current,Qe=this.commonObjs.get(We[0]);let Ze=We[1];Je.font=Qe,this.embedFonts&&!Qe.missingFile&&!this.embeddedFonts[Qe.loadedName]&&(this.addFontStyle(Qe),this.embeddedFonts[Qe.loadedName]=Qe),Je.fontMatrix=Qe.fontMatrix||_e.FONT_IDENTITY_MATRIX;let on="normal";Qe.black?on="900":Qe.bold&&(on="bold");const an=Qe.italic?"italic":"normal";Ze<0?(Ze=-Ze,Je.fontDirection=-1):Je.fontDirection=1,Je.fontSize=Ze,Je.fontFamily=Qe.loadedName,Je.fontWeight=on,Je.fontStyle=an,Je.tspan=this.svgFactory.createElement("svg:tspan"),Je.tspan.setAttributeNS(null,"y",He(-Je.y)),Je.xcoords=[],Je.ycoords=[]}endText(){var Je;const We=this.current;We.textRenderingMode&_e.TextRenderingMode.ADD_TO_PATH_FLAG&&((Je=We.txtElement)!=null&&Je.hasChildNodes())&&(We.element=We.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(We){We>0&&(this.current.lineWidth=We)}setLineCap(We){this.current.lineCap=ke[We]}setLineJoin(We){this.current.lineJoin=Ie[We]}setMiterLimit(We){this.current.miterLimit=We}setStrokeAlpha(We){this.current.strokeAlpha=We}setStrokeRGBColor(We,Je,Qe){this.current.strokeColor=_e.Util.makeHexColor(We,Je,Qe)}setFillAlpha(We){this.current.fillAlpha=We}setFillRGBColor(We,Je,Qe){this.current.fillColor=_e.Util.makeHexColor(We,Je,Qe),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(We){this.current.strokeColor=this._makeColorN_Pattern(We)}setFillColorN(We){this.current.fillColor=this._makeColorN_Pattern(We)}shadingFill(We){const Je=this.viewport.width,Qe=this.viewport.height,Ze=_e.Util.inverseTransform(this.transformMatrix),on=_e.Util.applyTransform([0,0],Ze),an=_e.Util.applyTransform([0,Qe],Ze),rn=_e.Util.applyTransform([Je,0],Ze),fn=_e.Util.applyTransform([Je,Qe],Ze),nn=Math.min(on[0],an[0],rn[0],fn[0]),cn=Math.min(on[1],an[1],rn[1],fn[1]),dn=Math.max(on[0],an[0],rn[0],fn[0]),bn=Math.max(on[1],an[1],rn[1],fn[1]),pn=this.svgFactory.createElement("svg:rect");pn.setAttributeNS(null,"x",nn),pn.setAttributeNS(null,"y",cn),pn.setAttributeNS(null,"width",dn-nn),pn.setAttributeNS(null,"height",bn-cn),pn.setAttributeNS(null,"fill",this._makeShadingPattern(We)),this.current.fillAlpha<1&&pn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(pn)}_makeColorN_Pattern(We){return We[0]==="TilingPattern"?this._makeTilingPattern(We):this._makeShadingPattern(We)}_makeTilingPattern(We){const Je=We[1],Qe=We[2],Ze=We[3]||_e.IDENTITY_MATRIX,[on,an,rn,fn]=We[4],nn=We[5],cn=We[6],dn=We[7],bn=`shading${Xe++}`,[pn,_n,Nn,Un]=_e.Util.normalizeRect([..._e.Util.applyTransform([on,an],Ze),..._e.Util.applyTransform([rn,fn],Ze)]),[xn,St]=_e.Util.singularValueDecompose2dScale(Ze),sn=nn*xn,gn=cn*St,Pn=this.svgFactory.createElement("svg:pattern");Pn.setAttributeNS(null,"id",bn),Pn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Pn.setAttributeNS(null,"width",sn),Pn.setAttributeNS(null,"height",gn),Pn.setAttributeNS(null,"x",`${pn}`),Pn.setAttributeNS(null,"y",`${_n}`);const Fn=this.svg,vn=this.transformMatrix,kn=this.current.fillColor,Bn=this.current.strokeColor,er=this.svgFactory.create(Nn-pn,Un-_n);if(this.svg=er,this.transformMatrix=Ze,dn===2){const Zn=_e.Util.makeHexColor(...Je);this.current.fillColor=Zn,this.current.strokeColor=Zn}return this.executeOpTree(this.convertOpList(Qe)),this.svg=Fn,this.transformMatrix=vn,this.current.fillColor=kn,this.current.strokeColor=Bn,Pn.append(er.childNodes[0]),this.defs.append(Pn),`url(#${bn})`}_makeShadingPattern(We){switch(typeof We=="string"&&(We=this.objs.get(We)),We[0]){case"RadialAxial":const Je=`shading${Xe++}`,Qe=We[3];let Ze;switch(We[1]){case"axial":const on=We[4],an=We[5];Ze=this.svgFactory.createElement("svg:linearGradient"),Ze.setAttributeNS(null,"id",Je),Ze.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ze.setAttributeNS(null,"x1",on[0]),Ze.setAttributeNS(null,"y1",on[1]),Ze.setAttributeNS(null,"x2",an[0]),Ze.setAttributeNS(null,"y2",an[1]);break;case"radial":const rn=We[4],fn=We[5],nn=We[6],cn=We[7];Ze=this.svgFactory.createElement("svg:radialGradient"),Ze.setAttributeNS(null,"id",Je),Ze.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ze.setAttributeNS(null,"cx",fn[0]),Ze.setAttributeNS(null,"cy",fn[1]),Ze.setAttributeNS(null,"r",cn),Ze.setAttributeNS(null,"fx",rn[0]),Ze.setAttributeNS(null,"fy",rn[1]),Ze.setAttributeNS(null,"fr",nn);break;default:throw new Error(`Unknown RadialAxial type: ${We[1]}`)}for(const on of Qe){const an=this.svgFactory.createElement("svg:stop");an.setAttributeNS(null,"offset",on[0]),an.setAttributeNS(null,"stop-color",on[1]),Ze.append(an)}return this.defs.append(Ze),`url(#${Je})`;case"Mesh":return(0,_e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${We[0]}`)}}setDash(We,Je){this.current.dashArray=We,this.current.dashPhase=Je}constructPath(We,Je){const Qe=this.current;let Ze=Qe.x,on=Qe.y,an=[],rn=0;for(const fn of We)switch(fn|0){case _e.OPS.rectangle:Ze=Je[rn++],on=Je[rn++];const nn=Je[rn++],cn=Je[rn++],dn=Ze+nn,bn=on+cn;an.push("M",He(Ze),He(on),"L",He(dn),He(on),"L",He(dn),He(bn),"L",He(Ze),He(bn),"Z");break;case _e.OPS.moveTo:Ze=Je[rn++],on=Je[rn++],an.push("M",He(Ze),He(on));break;case _e.OPS.lineTo:Ze=Je[rn++],on=Je[rn++],an.push("L",He(Ze),He(on));break;case _e.OPS.curveTo:Ze=Je[rn+4],on=Je[rn+5],an.push("C",He(Je[rn]),He(Je[rn+1]),He(Je[rn+2]),He(Je[rn+3]),He(Ze),He(on)),rn+=6;break;case _e.OPS.curveTo2:an.push("C",He(Ze),He(on),He(Je[rn]),He(Je[rn+1]),He(Je[rn+2]),He(Je[rn+3])),Ze=Je[rn+2],on=Je[rn+3],rn+=4;break;case _e.OPS.curveTo3:Ze=Je[rn+2],on=Je[rn+3],an.push("C",He(Je[rn]),He(Je[rn+1]),He(Ze),He(on),He(Ze),He(on)),rn+=4;break;case _e.OPS.closePath:an.push("Z");break}an=an.join(" "),Qe.path&&We.length>0&&We[0]!==_e.OPS.rectangle&&We[0]!==_e.OPS.moveTo?an=Qe.path.getAttributeNS(null,"d")+an:(Qe.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Qe.path)),Qe.path.setAttributeNS(null,"d",an),Qe.path.setAttributeNS(null,"fill","none"),Qe.element=Qe.path,Qe.setCurrentPoint(Ze,on)}endPath(){const We=this.current;if(We.path=null,!this.pendingClip)return;if(!We.element){this.pendingClip=null;return}const Je=`clippath${Ve++}`,Qe=this.svgFactory.createElement("svg:clipPath");Qe.setAttributeNS(null,"id",Je),Qe.setAttributeNS(null,"transform",Ge(this.transformMatrix));const Ze=We.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ze.setAttributeNS(null,"clip-rule","evenodd"):Ze.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Qe.append(Ze),this.defs.append(Qe),We.activeClipUrl){We.clipGroup=null;for(const on of this.extraStack)on.clipGroup=null;Qe.setAttributeNS(null,"clip-path",We.activeClipUrl)}We.activeClipUrl=`url(#${Je})`,this.tgrp=null}clip(We){this.pendingClip=We}closePath(){const We=this.current;if(We.path){const Je=`${We.path.getAttributeNS(null,"d")}Z`;We.path.setAttributeNS(null,"d",Je)}}setLeading(We){this.current.leading=-We}setTextRise(We){this.current.textRise=We}setTextRenderingMode(We){this.current.textRenderingMode=We}setHScale(We){this.current.textHScale=We/100}setRenderingIntent(We){}setFlatness(We){}setGState(We){for(const[Je,Qe]of We)switch(Je){case"LW":this.setLineWidth(Qe);break;case"LC":this.setLineCap(Qe);break;case"LJ":this.setLineJoin(Qe);break;case"ML":this.setMiterLimit(Qe);break;case"D":this.setDash(Qe[0],Qe[1]);break;case"RI":this.setRenderingIntent(Qe);break;case"FL":this.setFlatness(Qe);break;case"Font":this.setFont(Qe);break;case"CA":this.setStrokeAlpha(Qe);break;case"ca":this.setFillAlpha(Qe);break;default:(0,_e.warn)(`Unimplemented graphic state operator ${Je}`);break}}fill(){const We=this.current;We.element&&(We.element.setAttributeNS(null,"fill",We.fillColor),We.element.setAttributeNS(null,"fill-opacity",We.fillAlpha),this.endPath())}stroke(){const We=this.current;We.element&&(this._setStrokeAttributes(We.element),We.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(We,Je=1){const Qe=this.current;let Ze=Qe.dashArray;Je!==1&&Ze.length>0&&(Ze=Ze.map(function(on){return Je*on})),We.setAttributeNS(null,"stroke",Qe.strokeColor),We.setAttributeNS(null,"stroke-opacity",Qe.strokeAlpha),We.setAttributeNS(null,"stroke-miterlimit",He(Qe.miterLimit)),We.setAttributeNS(null,"stroke-linecap",Qe.lineCap),We.setAttributeNS(null,"stroke-linejoin",Qe.lineJoin),We.setAttributeNS(null,"stroke-width",He(Je*Qe.lineWidth)+"px"),We.setAttributeNS(null,"stroke-dasharray",Ze.map(He).join(" ")),We.setAttributeNS(null,"stroke-dashoffset",He(Je*Qe.dashPhase)+"px")}eoFill(){var We;(We=this.current.element)==null||We.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var We;(We=this.current.element)==null||We.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const We=this.svgFactory.createElement("svg:rect");We.setAttributeNS(null,"x","0"),We.setAttributeNS(null,"y","0"),We.setAttributeNS(null,"width","1px"),We.setAttributeNS(null,"height","1px"),We.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(We)}paintImageXObject(We){const Je=this.getObject(We);if(!Je){(0,_e.warn)(`Dependent image with object ID ${We} is not ready yet`);return}this.paintInlineImageXObject(Je)}paintInlineImageXObject(We,Je){const Qe=We.width,Ze=We.height,on=Re(We,this.forceDataSchema,!!Je),an=this.svgFactory.createElement("svg:rect");an.setAttributeNS(null,"x","0"),an.setAttributeNS(null,"y","0"),an.setAttributeNS(null,"width",He(Qe)),an.setAttributeNS(null,"height",He(Ze)),this.current.element=an,this.clip("nonzero");const rn=this.svgFactory.createElement("svg:image");rn.setAttributeNS(Fe,"xlink:href",on),rn.setAttributeNS(null,"x","0"),rn.setAttributeNS(null,"y",He(-Ze)),rn.setAttributeNS(null,"width",He(Qe)+"px"),rn.setAttributeNS(null,"height",He(Ze)+"px"),rn.setAttributeNS(null,"transform",`scale(${He(1/Qe)} ${He(-1/Ze)})`),Je?Je.append(rn):this._ensureTransformGroup().append(rn)}paintImageMaskXObject(We){const Je=this.getObject(We.data,We);if(Je.bitmap){(0,_e.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Qe=this.current,Ze=Je.width,on=Je.height,an=Qe.fillColor;Qe.maskId=`mask${ze++}`;const rn=this.svgFactory.createElement("svg:mask");rn.setAttributeNS(null,"id",Qe.maskId);const fn=this.svgFactory.createElement("svg:rect");fn.setAttributeNS(null,"x","0"),fn.setAttributeNS(null,"y","0"),fn.setAttributeNS(null,"width",He(Ze)),fn.setAttributeNS(null,"height",He(on)),fn.setAttributeNS(null,"fill",an),fn.setAttributeNS(null,"mask",`url(#${Qe.maskId})`),this.defs.append(rn),this._ensureTransformGroup().append(fn),this.paintInlineImageXObject(Je,rn)}paintFormXObjectBegin(We,Je){if(Array.isArray(We)&&We.length===6&&this.transform(We[0],We[1],We[2],We[3],We[4],We[5]),Je){const Qe=Je[2]-Je[0],Ze=Je[3]-Je[1],on=this.svgFactory.createElement("svg:rect");on.setAttributeNS(null,"x",Je[0]),on.setAttributeNS(null,"y",Je[1]),on.setAttributeNS(null,"width",He(Qe)),on.setAttributeNS(null,"height",He(Ze)),this.current.element=on,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(We){const Je=this.svgFactory.create(We.width,We.height),Qe=this.svgFactory.createElement("svg:defs");Je.append(Qe),this.defs=Qe;const Ze=this.svgFactory.createElement("svg:g");return Ze.setAttributeNS(null,"transform",Ge(We.transform)),Je.append(Ze),this.svg=Ze,Je}_ensureClipGroup(){if(!this.current.clipGroup){const We=this.svgFactory.createElement("svg:g");We.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(We),this.current.clipGroup=We}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ge(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(xe){var e=__webpack_module_cache__[xe];if(e!==void 0)return e.exports;var t=__webpack_module_cache__[xe]={exports:{}};return __webpack_modules__[xe](t,t.exports,__w_pdfjs_require__),t.exports}var __webpack_exports__={};return(()=>{var xe=__webpack_exports__;Object.defineProperty(xe,"__esModule",{value:!0}),Object.defineProperty(xe,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(xe,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Ae.AnnotationEditorLayer}}),Object.defineProperty(xe,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(xe,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(xe,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Ce.AnnotationEditorUIManager}}),Object.defineProperty(xe,"AnnotationLayer",{enumerable:!0,get:function(){return Pe.AnnotationLayer}}),Object.defineProperty(xe,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(xe,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(xe,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(xe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Ee.GlobalWorkerOptions}}),Object.defineProperty(xe,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(xe,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(xe,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(xe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return t.PDFDataRangeTransport}}),Object.defineProperty(xe,"PDFDateString",{enumerable:!0,get:function(){return Se.PDFDateString}}),Object.defineProperty(xe,"PDFWorker",{enumerable:!0,get:function(){return t.PDFWorker}}),Object.defineProperty(xe,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(xe,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(xe,"PixelsPerInch",{enumerable:!0,get:function(){return Se.PixelsPerInch}}),Object.defineProperty(xe,"RenderingCancelledException",{enumerable:!0,get:function(){return Se.RenderingCancelledException}}),Object.defineProperty(xe,"SVGGraphics",{enumerable:!0,get:function(){return Fe.SVGGraphics}}),Object.defineProperty(xe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(xe,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(xe,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(xe,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(xe,"XfaLayer",{enumerable:!0,get:function(){return ke.XfaLayer}}),Object.defineProperty(xe,"build",{enumerable:!0,get:function(){return t.build}}),Object.defineProperty(xe,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(xe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(xe,"getDocument",{enumerable:!0,get:function(){return t.getDocument}}),Object.defineProperty(xe,"getFilenameFromUrl",{enumerable:!0,get:function(){return Se.getFilenameFromUrl}}),Object.defineProperty(xe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Se.getPdfFilenameFromUrl}}),Object.defineProperty(xe,"getXfaPageViewport",{enumerable:!0,get:function(){return Se.getXfaPageViewport}}),Object.defineProperty(xe,"isDataScheme",{enumerable:!0,get:function(){return Se.isDataScheme}}),Object.defineProperty(xe,"isPdfFile",{enumerable:!0,get:function(){return Se.isPdfFile}}),Object.defineProperty(xe,"loadScript",{enumerable:!0,get:function(){return Se.loadScript}}),Object.defineProperty(xe,"renderTextLayer",{enumerable:!0,get:function(){return _e.renderTextLayer}}),Object.defineProperty(xe,"setLayerDimensions",{enumerable:!0,get:function(){return Se.setLayerDimensions}}),Object.defineProperty(xe,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(xe,"updateTextLayer",{enumerable:!0,get:function(){return _e.updateTextLayer}}),Object.defineProperty(xe,"version",{enumerable:!0,get:function(){return t.version}});var e=__w_pdfjs_require__(1),t=__w_pdfjs_require__(2),Se=__w_pdfjs_require__(6),_e=__w_pdfjs_require__(26),Ae=__w_pdfjs_require__(27),Ce=__w_pdfjs_require__(5),Pe=__w_pdfjs_require__(32),Ee=__w_pdfjs_require__(14),Fe=__w_pdfjs_require__(35),ke=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();const scriptRel="modulepreload",assetsURL=function(xe,e){return new URL(xe,e).href},seen={},__vitePreload=function xe(e,t,Se){let _e=Promise.resolve();if(t&&t.length>0){const Ce=document.getElementsByTagName("link"),Pe=document.querySelector("meta[property=csp-nonce]"),Ee=(Pe==null?void 0:Pe.nonce)||(Pe==null?void 0:Pe.getAttribute("nonce"));_e=Promise.allSettled(t.map(Fe=>{if(Fe=assetsURL(Fe,Se),Fe in seen)return;seen[Fe]=!0;const ke=Fe.endsWith(".css"),Ie=ke?'[rel="stylesheet"]':"";if(!!Se)for(let Be=Ce.length-1;Be>=0;Be--){const je=Ce[Be];if(je.href===Fe&&(!ke||je.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Fe}"]${Ie}`))return;const Re=document.createElement("link");if(Re.rel=ke?"stylesheet":scriptRel,ke||(Re.as="script"),Re.crossOrigin="",Re.href=Fe,Ee&&Re.setAttribute("nonce",Ee),document.head.appendChild(Re),ke)return new Promise((Be,je)=>{Re.addEventListener("load",Be),Re.addEventListener("error",()=>je(new Error(`Unable to preload CSS for ${Fe}`)))})}))}function Ae(Ce){const Pe=new Event("vite:preloadError",{cancelable:!0});if(Pe.payload=Ce,window.dispatchEvent(Pe),!Pe.defaultPrevented)throw Ce}return _e.then(Ce=>{for(const Pe of Ce||[])Pe.status==="rejected"&&Ae(Pe.reason);return e().catch(Ae)})};function _typeof(xe){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(xe)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(xe,e){for(var t=new u16(31),Se=0;Se<31;++Se)t[Se]=e+=1<<xe[Se-1];for(var _e=new i32(t[30]),Se=1;Se<30;++Se)for(var Ae=t[Se];Ae<t[Se+1];++Ae)_e[Ae]=Ae-t[Se]<<5|Se;return{b:t,r:_e}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b$1=freb(fdeb,0),fd=_b$1.b,revfd=_b$1.r,rev=new u16(32768);for(var i$3=0;i$3<32768;++i$3){var x$1=(i$3&43690)>>1|(i$3&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$3]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(xe,e,t){for(var Se=xe.length,_e=0,Ae=new u16(e);_e<Se;++_e)xe[_e]&&++Ae[xe[_e]-1];var Ce=new u16(e);for(_e=1;_e<e;++_e)Ce[_e]=Ce[_e-1]+Ae[_e-1]<<1;var Pe;if(t){Pe=new u16(1<<e);var Ee=15-e;for(_e=0;_e<Se;++_e)if(xe[_e])for(var Fe=_e<<4|xe[_e],ke=e-xe[_e],Ie=Ce[xe[_e]-1]++<<ke,Oe=Ie|(1<<ke)-1;Ie<=Oe;++Ie)Pe[rev[Ie]>>Ee]=Fe}else for(Pe=new u16(Se),_e=0;_e<Se;++_e)xe[_e]&&(Pe[_e]=rev[Ce[xe[_e]-1]++]>>15-xe[_e]);return Pe},flt=new u8(288);for(var i$3=0;i$3<144;++i$3)flt[i$3]=8;for(var i$3=144;i$3<256;++i$3)flt[i$3]=9;for(var i$3=256;i$3<280;++i$3)flt[i$3]=7;for(var i$3=280;i$3<288;++i$3)flt[i$3]=8;var fdt=new u8(32);for(var i$3=0;i$3<32;++i$3)fdt[i$3]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(xe){for(var e=xe[0],t=1;t<xe.length;++t)xe[t]>e&&(e=xe[t]);return e},bits=function(xe,e,t){var Se=e/8|0;return(xe[Se]|xe[Se+1]<<8)>>(e&7)&t},bits16=function(xe,e){var t=e/8|0;return(xe[t]|xe[t+1]<<8|xe[t+2]<<16)>>(e&7)},shft=function(xe){return(xe+7)/8|0},slc=function(xe,e,t){return(t==null||t>xe.length)&&(t=xe.length),new u8(xe.subarray(e,t))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(xe,e,t){var Se=new Error(e||ec[xe]);if(Se.code=xe,Error.captureStackTrace&&Error.captureStackTrace(Se,err),!t)throw Se;return Se},inflt=function(xe,e,t,Se){var _e=xe.length,Ae=0;if(!_e||e.f&&!e.l)return t||new u8(0);var Ce=!t,Pe=Ce||e.i!=2,Ee=e.i;Ce&&(t=new u8(_e*3));var Fe=function(Zn){var Cn=t.length;if(Zn>Cn){var Tn=new u8(Math.max(Cn*2,Zn));Tn.set(t),t=Tn}},ke=e.f||0,Ie=e.p||0,Oe=e.b||0,Re=e.l,Be=e.d,je=e.m,He=e.n,Ge=_e*8;do{if(!Re){ke=bits(xe,Ie,1);var Ve=bits(xe,Ie+1,3);if(Ie+=3,Ve)if(Ve==1)Re=flrm,Be=fdrm,je=9,He=5;else if(Ve==2){var Je=bits(xe,Ie,31)+257,Qe=bits(xe,Ie+10,15)+4,Ze=Je+bits(xe,Ie+5,31)+1;Ie+=14;for(var on=new u8(Ze),an=new u8(19),rn=0;rn<Qe;++rn)an[clim[rn]]=bits(xe,Ie+rn*3,7);Ie+=Qe*3;for(var fn=max(an),nn=(1<<fn)-1,cn=hMap(an,fn,1),rn=0;rn<Ze;){var dn=cn[bits(xe,Ie,nn)];Ie+=dn&15;var ze=dn>>4;if(ze<16)on[rn++]=ze;else{var bn=0,pn=0;for(ze==16?(pn=3+bits(xe,Ie,3),Ie+=2,bn=on[rn-1]):ze==17?(pn=3+bits(xe,Ie,7),Ie+=3):ze==18&&(pn=11+bits(xe,Ie,127),Ie+=7);pn--;)on[rn++]=bn}}var _n=on.subarray(0,Je),Nn=on.subarray(Je);je=max(_n),He=max(Nn),Re=hMap(_n,je,1),Be=hMap(Nn,He,1)}else err(1);else{var ze=shft(Ie)+4,Xe=xe[ze-4]|xe[ze-3]<<8,We=ze+Xe;if(We>_e){Ee&&err(0);break}Pe&&Fe(Oe+Xe),t.set(xe.subarray(ze,We),Oe),e.b=Oe+=Xe,e.p=Ie=We*8,e.f=ke;continue}if(Ie>Ge){Ee&&err(0);break}}Pe&&Fe(Oe+131072);for(var Un=(1<<je)-1,xn=(1<<He)-1,St=Ie;;St=Ie){var bn=Re[bits16(xe,Ie)&Un],sn=bn>>4;if(Ie+=bn&15,Ie>Ge){Ee&&err(0);break}if(bn||err(2),sn<256)t[Oe++]=sn;else if(sn==256){St=Ie,Re=null;break}else{var gn=sn-254;if(sn>264){var rn=sn-257,Pn=fleb[rn];gn=bits(xe,Ie,(1<<Pn)-1)+fl[rn],Ie+=Pn}var Fn=Be[bits16(xe,Ie)&xn],vn=Fn>>4;Fn||err(3),Ie+=Fn&15;var Nn=fd[vn];if(vn>3){var Pn=fdeb[vn];Nn+=bits16(xe,Ie)&(1<<Pn)-1,Ie+=Pn}if(Ie>Ge){Ee&&err(0);break}Pe&&Fe(Oe+131072);var kn=Oe+gn;if(Oe<Nn){var Bn=Ae-Nn,er=Math.min(Nn,kn);for(Bn+Oe<0&&err(3);Oe<er;++Oe)t[Oe]=Se[Bn+Oe]}for(;Oe<kn;++Oe)t[Oe]=t[Oe-Nn]}}e.l=Re,e.p=St,e.b=Oe,e.f=ke,Re&&(ke=1,e.m=je,e.d=Be,e.n=He)}while(!ke);return Oe!=t.length&&Ce?slc(t,0,Oe):t.subarray(0,Oe)},wbits=function(xe,e,t){t<<=e&7;var Se=e/8|0;xe[Se]|=t,xe[Se+1]|=t>>8},wbits16=function(xe,e,t){t<<=e&7;var Se=e/8|0;xe[Se]|=t,xe[Se+1]|=t>>8,xe[Se+2]|=t>>16},hTree=function(xe,e){for(var t=[],Se=0;Se<xe.length;++Se)xe[Se]&&t.push({s:Se,f:xe[Se]});var _e=t.length,Ae=t.slice();if(!_e)return{t:et$1,l:0};if(_e==1){var Ce=new u8(t[0].s+1);return Ce[t[0].s]=1,{t:Ce,l:1}}t.sort(function(We,Je){return We.f-Je.f}),t.push({s:-1,f:25001});var Pe=t[0],Ee=t[1],Fe=0,ke=1,Ie=2;for(t[0]={s:-1,f:Pe.f+Ee.f,l:Pe,r:Ee};ke!=_e-1;)Pe=t[t[Fe].f<t[Ie].f?Fe++:Ie++],Ee=t[Fe!=ke&&t[Fe].f<t[Ie].f?Fe++:Ie++],t[ke++]={s:-1,f:Pe.f+Ee.f,l:Pe,r:Ee};for(var Oe=Ae[0].s,Se=1;Se<_e;++Se)Ae[Se].s>Oe&&(Oe=Ae[Se].s);var Re=new u16(Oe+1),Be=ln(t[ke-1],Re,0);if(Be>e){var Se=0,je=0,He=Be-e,Ge=1<<He;for(Ae.sort(function(Je,Qe){return Re[Qe.s]-Re[Je.s]||Je.f-Qe.f});Se<_e;++Se){var Ve=Ae[Se].s;if(Re[Ve]>e)je+=Ge-(1<<Be-Re[Ve]),Re[Ve]=e;else break}for(je>>=He;je>0;){var ze=Ae[Se].s;Re[ze]<e?je-=1<<e-Re[ze]++-1:++Se}for(;Se>=0&&je;--Se){var Xe=Ae[Se].s;Re[Xe]==e&&(--Re[Xe],++je)}Be=e}return{t:new u8(Re),l:Be}},ln=function(xe,e,t){return xe.s==-1?Math.max(ln(xe.l,e,t+1),ln(xe.r,e,t+1)):e[xe.s]=t},lc=function(xe){for(var e=xe.length;e&&!xe[--e];);for(var t=new u16(++e),Se=0,_e=xe[0],Ae=1,Ce=function(Ee){t[Se++]=Ee},Pe=1;Pe<=e;++Pe)if(xe[Pe]==_e&&Pe!=e)++Ae;else{if(!_e&&Ae>2){for(;Ae>138;Ae-=138)Ce(32754);Ae>2&&(Ce(Ae>10?Ae-11<<5|28690:Ae-3<<5|12305),Ae=0)}else if(Ae>3){for(Ce(_e),--Ae;Ae>6;Ae-=6)Ce(8304);Ae>2&&(Ce(Ae-3<<5|8208),Ae=0)}for(;Ae--;)Ce(_e);Ae=1,_e=xe[Pe]}return{c:t.subarray(0,Se),n:e}},clen=function(xe,e){for(var t=0,Se=0;Se<e.length;++Se)t+=xe[Se]*e[Se];return t},wfblk=function(xe,e,t){var Se=t.length,_e=shft(e+2);xe[_e]=Se&255,xe[_e+1]=Se>>8,xe[_e+2]=xe[_e]^255,xe[_e+3]=xe[_e+1]^255;for(var Ae=0;Ae<Se;++Ae)xe[_e+Ae+4]=t[Ae];return(_e+4+Se)*8},wblk=function(xe,e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke){wbits(e,ke++,t),++_e[256];for(var Ie=hTree(_e,15),Oe=Ie.t,Re=Ie.l,Be=hTree(Ae,15),je=Be.t,He=Be.l,Ge=lc(Oe),Ve=Ge.c,ze=Ge.n,Xe=lc(je),We=Xe.c,Je=Xe.n,Qe=new u16(19),Ze=0;Ze<Ve.length;++Ze)++Qe[Ve[Ze]&31];for(var Ze=0;Ze<We.length;++Ze)++Qe[We[Ze]&31];for(var on=hTree(Qe,7),an=on.t,rn=on.l,fn=19;fn>4&&!an[clim[fn-1]];--fn);var nn=Fe+5<<3,cn=clen(_e,flt)+clen(Ae,fdt)+Ce,dn=clen(_e,Oe)+clen(Ae,je)+Ce+14+3*fn+clen(Qe,an)+2*Qe[16]+3*Qe[17]+7*Qe[18];if(Ee>=0&&nn<=cn&&nn<=dn)return wfblk(e,ke,xe.subarray(Ee,Ee+Fe));var bn,pn,_n,Nn;if(wbits(e,ke,1+(dn<cn)),ke+=2,dn<cn){bn=hMap(Oe,Re,0),pn=Oe,_n=hMap(je,He,0),Nn=je;var Un=hMap(an,rn,0);wbits(e,ke,ze-257),wbits(e,ke+5,Je-1),wbits(e,ke+10,fn-4),ke+=14;for(var Ze=0;Ze<fn;++Ze)wbits(e,ke+3*Ze,an[clim[Ze]]);ke+=3*fn;for(var xn=[Ve,We],St=0;St<2;++St)for(var sn=xn[St],Ze=0;Ze<sn.length;++Ze){var gn=sn[Ze]&31;wbits(e,ke,Un[gn]),ke+=an[gn],gn>15&&(wbits(e,ke,sn[Ze]>>5&127),ke+=sn[Ze]>>12)}}else bn=flm,pn=flt,_n=fdm,Nn=fdt;for(var Ze=0;Ze<Pe;++Ze){var Pn=Se[Ze];if(Pn>255){var gn=Pn>>18&31;wbits16(e,ke,bn[gn+257]),ke+=pn[gn+257],gn>7&&(wbits(e,ke,Pn>>23&31),ke+=fleb[gn]);var Fn=Pn&31;wbits16(e,ke,_n[Fn]),ke+=Nn[Fn],Fn>3&&(wbits16(e,ke,Pn>>5&8191),ke+=fdeb[Fn])}else wbits16(e,ke,bn[Pn]),ke+=pn[Pn]}return wbits16(e,ke,bn[256]),ke+pn[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(xe,e,t,Se,_e,Ae){var Ce=Ae.z||xe.length,Pe=new u8(Se+Ce+5*(1+Math.ceil(Ce/7e3))+_e),Ee=Pe.subarray(Se,Pe.length-_e),Fe=Ae.l,ke=(Ae.r||0)&7;if(e){ke&&(Ee[0]=Ae.r>>3);for(var Ie=deo[e-1],Oe=Ie>>13,Re=Ie&8191,Be=(1<<t)-1,je=Ae.p||new u16(32768),He=Ae.h||new u16(Be+1),Ge=Math.ceil(t/3),Ve=2*Ge,ze=function(qn){return(xe[qn]^xe[qn+1]<<Ge^xe[qn+2]<<Ve)&Be},Xe=new i32(25e3),We=new u16(288),Je=new u16(32),Qe=0,Ze=0,on=Ae.i||0,an=0,rn=Ae.w||0,fn=0;on+2<Ce;++on){var nn=ze(on),cn=on&32767,dn=He[nn];if(je[cn]=dn,He[nn]=cn,rn<=on){var bn=Ce-on;if((Qe>7e3||an>24576)&&(bn>423||!Fe)){ke=wblk(xe,Ee,0,Xe,We,Je,Ze,an,fn,on-fn,ke),an=Qe=Ze=0,fn=on;for(var pn=0;pn<286;++pn)We[pn]=0;for(var pn=0;pn<30;++pn)Je[pn]=0}var _n=2,Nn=0,Un=Re,xn=cn-dn&32767;if(bn>2&&nn==ze(on-xn))for(var St=Math.min(Oe,bn)-1,sn=Math.min(32767,on),gn=Math.min(258,bn);xn<=sn&&--Un&&cn!=dn;){if(xe[on+_n]==xe[on+_n-xn]){for(var Pn=0;Pn<gn&&xe[on+Pn]==xe[on+Pn-xn];++Pn);if(Pn>_n){if(_n=Pn,Nn=xn,Pn>St)break;for(var Fn=Math.min(xn,Pn-2),vn=0,pn=0;pn<Fn;++pn){var kn=on-xn+pn&32767,Bn=je[kn],er=kn-Bn&32767;er>vn&&(vn=er,dn=kn)}}}cn=dn,dn=je[cn],xn+=cn-dn&32767}if(Nn){Xe[an++]=268435456|revfl[_n]<<18|revfd[Nn];var Zn=revfl[_n]&31,Cn=revfd[Nn]&31;Ze+=fleb[Zn]+fdeb[Cn],++We[257+Zn],++Je[Cn],rn=on+_n,++Qe}else Xe[an++]=xe[on],++We[xe[on]]}}for(on=Math.max(on,rn);on<Ce;++on)Xe[an++]=xe[on],++We[xe[on]];ke=wblk(xe,Ee,Fe,Xe,We,Je,Ze,an,fn,on-fn,ke),Fe||(Ae.r=ke&7|Ee[ke/8|0]<<3,ke-=7,Ae.h=He,Ae.p=je,Ae.i=on,Ae.w=rn)}else{for(var on=Ae.w||0;on<Ce+Fe;on+=65535){var Tn=on+65535;Tn>=Ce&&(Ee[ke/8|0]=Fe,Tn=Ce),ke=wfblk(Ee,ke+1,xe.subarray(on,Tn))}Ae.i=Ce}return slc(Pe,0,Se+shft(ke)+_e)},adler=function(){var xe=1,e=0;return{p:function(t){for(var Se=xe,_e=e,Ae=t.length|0,Ce=0;Ce!=Ae;){for(var Pe=Math.min(Ce+2655,Ae);Ce<Pe;++Ce)_e+=Se+=t[Ce];Se=(Se&65535)+15*(Se>>16),_e=(_e&65535)+15*(_e>>16)}xe=Se,e=_e},d:function(){return xe%=65521,e%=65521,(xe&255)<<24|(xe&65280)<<8|(e&255)<<8|e>>8}}},dopt=function(xe,e,t,Se,_e){if(!_e&&(_e={l:1},e.dictionary)){var Ae=e.dictionary.subarray(-32768),Ce=new u8(Ae.length+xe.length);Ce.set(Ae),Ce.set(xe,Ae.length),xe=Ce,_e.w=Ae.length}return dflt(xe,e.level==null?6:e.level,e.mem==null?_e.l?Math.ceil(Math.max(8,Math.min(13,Math.log(xe.length)))*1.5):20:12+e.mem,t,Se,_e)},wbytes=function(xe,e,t){for(;t;++e)xe[e]=t,t>>>=8},zlh=function(xe,e){var t=e.level,Se=t==0?0:t<6?1:t==9?3:2;if(xe[0]=120,xe[1]=Se<<6|(e.dictionary&&32),xe[1]|=31-(xe[0]<<8|xe[1])%31,e.dictionary){var _e=adler();_e.p(e.dictionary),wbytes(xe,2,_e.d())}},zls=function(xe,e){return((xe[0]&15)!=8||xe[0]>>4>7||(xe[0]<<8|xe[1])%31)&&err(6,"invalid zlib data"),(xe[1]>>5&1)==+!e&&err(6,"invalid zlib data: "+(xe[1]&32?"need":"unexpected")+" dictionary"),(xe[1]>>3&4)+2};function zlibSync(xe,e){e||(e={});var t=adler();t.p(xe);var Se=dopt(xe,e,e.dictionary?6:2,4);return zlh(Se,e),wbytes(Se,Se.length-4,t.d()),Se}function unzlibSync(xe,e){return inflt(xe.subarray(zls(xe,e),-4),{i:2},e,e)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(xe){}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i$2(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i$2,warn:function(xe){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i$2.call(null,arguments))},error:function(xe){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i$2(xe))}};function o(xe,e,t){var Se=new XMLHttpRequest;Se.open("GET",xe),Se.responseType="blob",Se.onload=function(){l(Se.response,e,t)},Se.onerror=function(){a.error("could not download file")},Se.send()}function s(xe){var e=new XMLHttpRequest;e.open("HEAD",xe,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(xe){try{xe.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),xe.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(xe,e,t){var Se=n.URL||n.webkitURL,_e=document.createElement("a");e=e||xe.name||"download",_e.download=e,_e.rel="noopener",typeof xe=="string"?(_e.href=xe,_e.origin!==location.origin?s(_e.href)?o(xe,e,t):c(_e,_e.target="_blank"):c(_e)):(_e.href=Se.createObjectURL(xe),setTimeout(function(){Se.revokeObjectURL(_e.href)},4e4),setTimeout(function(){c(_e)},0))}:"msSaveOrOpenBlob"in navigator?function(xe,e,t){if(e=e||xe.name||"download",typeof xe=="string")if(s(xe))o(xe,e,t);else{var Se=document.createElement("a");Se.href=xe,Se.target="_blank",setTimeout(function(){c(Se)})}else navigator.msSaveOrOpenBlob(function(_e,Ae){return Ae===void 0?Ae={autoBom:!1}:_typeof(Ae)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Ae={autoBom:!Ae}),Ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_e.type)?new Blob(["\uFEFF",_e],{type:_e.type}):_e}(xe,t),e)}:function(xe,e,t,Se){if((Se=Se||open("","_blank"))&&(Se.document.title=Se.document.body.innerText="downloading..."),typeof xe=="string")return o(xe,e,t);var _e=xe.type==="application/octet-stream",Ae=/constructor/i.test(n.HTMLElement)||n.safari,Ce=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ce||_e&&Ae)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Pe=new FileReader;Pe.onloadend=function(){var ke=Pe.result;ke=Ce?ke:ke.replace(/^data:[^;]*;/,"data:attachment/file;"),Se?Se.location.href=ke:location=ke,Se=null},Pe.readAsDataURL(xe)}else{var Ee=n.URL||n.webkitURL,Fe=Ee.createObjectURL(xe);Se?Se.location=Fe:location.href=Fe,Se=null,setTimeout(function(){Ee.revokeObjectURL(Fe)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(xe){var e;xe=xe||"",this.ok=!1,xe.charAt(0)=="#"&&(xe=xe.substr(1,6)),xe={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[xe=(xe=xe.replace(/ /g,"")).toLowerCase()]||xe;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Pe){return[parseInt(Pe[1]),parseInt(Pe[2]),parseInt(Pe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Pe){return[parseInt(Pe[1],16),parseInt(Pe[2],16),parseInt(Pe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Pe){return[parseInt(Pe[1]+Pe[1],16),parseInt(Pe[2]+Pe[2],16),parseInt(Pe[3]+Pe[3],16)]}}],Se=0;Se<t.length;Se++){var _e=t[Se].re,Ae=t[Se].process,Ce=_e.exec(xe);Ce&&(e=Ae(Ce),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Pe=this.r.toString(16),Ee=this.g.toString(16),Fe=this.b.toString(16);return Pe.length==1&&(Pe="0"+Pe),Ee.length==1&&(Ee="0"+Ee),Fe.length==1&&(Fe="0"+Fe),"#"+Pe+Ee+Fe}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(xe,e){var t=xe[0],Se=xe[1],_e=xe[2],Ae=xe[3];t=g(t,Se,_e,Ae,e[0],7,-680876936),Ae=g(Ae,t,Se,_e,e[1],12,-389564586),_e=g(_e,Ae,t,Se,e[2],17,606105819),Se=g(Se,_e,Ae,t,e[3],22,-1044525330),t=g(t,Se,_e,Ae,e[4],7,-176418897),Ae=g(Ae,t,Se,_e,e[5],12,1200080426),_e=g(_e,Ae,t,Se,e[6],17,-1473231341),Se=g(Se,_e,Ae,t,e[7],22,-45705983),t=g(t,Se,_e,Ae,e[8],7,1770035416),Ae=g(Ae,t,Se,_e,e[9],12,-1958414417),_e=g(_e,Ae,t,Se,e[10],17,-42063),Se=g(Se,_e,Ae,t,e[11],22,-1990404162),t=g(t,Se,_e,Ae,e[12],7,1804603682),Ae=g(Ae,t,Se,_e,e[13],12,-40341101),_e=g(_e,Ae,t,Se,e[14],17,-1502002290),t=m(t,Se=g(Se,_e,Ae,t,e[15],22,1236535329),_e,Ae,e[1],5,-165796510),Ae=m(Ae,t,Se,_e,e[6],9,-1069501632),_e=m(_e,Ae,t,Se,e[11],14,643717713),Se=m(Se,_e,Ae,t,e[0],20,-373897302),t=m(t,Se,_e,Ae,e[5],5,-701558691),Ae=m(Ae,t,Se,_e,e[10],9,38016083),_e=m(_e,Ae,t,Se,e[15],14,-660478335),Se=m(Se,_e,Ae,t,e[4],20,-405537848),t=m(t,Se,_e,Ae,e[9],5,568446438),Ae=m(Ae,t,Se,_e,e[14],9,-1019803690),_e=m(_e,Ae,t,Se,e[3],14,-187363961),Se=m(Se,_e,Ae,t,e[8],20,1163531501),t=m(t,Se,_e,Ae,e[13],5,-1444681467),Ae=m(Ae,t,Se,_e,e[2],9,-51403784),_e=m(_e,Ae,t,Se,e[7],14,1735328473),t=v(t,Se=m(Se,_e,Ae,t,e[12],20,-1926607734),_e,Ae,e[5],4,-378558),Ae=v(Ae,t,Se,_e,e[8],11,-2022574463),_e=v(_e,Ae,t,Se,e[11],16,1839030562),Se=v(Se,_e,Ae,t,e[14],23,-35309556),t=v(t,Se,_e,Ae,e[1],4,-1530992060),Ae=v(Ae,t,Se,_e,e[4],11,1272893353),_e=v(_e,Ae,t,Se,e[7],16,-155497632),Se=v(Se,_e,Ae,t,e[10],23,-1094730640),t=v(t,Se,_e,Ae,e[13],4,681279174),Ae=v(Ae,t,Se,_e,e[0],11,-358537222),_e=v(_e,Ae,t,Se,e[3],16,-722521979),Se=v(Se,_e,Ae,t,e[6],23,76029189),t=v(t,Se,_e,Ae,e[9],4,-640364487),Ae=v(Ae,t,Se,_e,e[12],11,-421815835),_e=v(_e,Ae,t,Se,e[15],16,530742520),t=b(t,Se=v(Se,_e,Ae,t,e[2],23,-995338651),_e,Ae,e[0],6,-198630844),Ae=b(Ae,t,Se,_e,e[7],10,1126891415),_e=b(_e,Ae,t,Se,e[14],15,-1416354905),Se=b(Se,_e,Ae,t,e[5],21,-57434055),t=b(t,Se,_e,Ae,e[12],6,1700485571),Ae=b(Ae,t,Se,_e,e[3],10,-1894986606),_e=b(_e,Ae,t,Se,e[10],15,-1051523),Se=b(Se,_e,Ae,t,e[1],21,-2054922799),t=b(t,Se,_e,Ae,e[8],6,1873313359),Ae=b(Ae,t,Se,_e,e[15],10,-30611744),_e=b(_e,Ae,t,Se,e[6],15,-1560198380),Se=b(Se,_e,Ae,t,e[13],21,1309151649),t=b(t,Se,_e,Ae,e[4],6,-145523070),Ae=b(Ae,t,Se,_e,e[11],10,-1120210379),_e=b(_e,Ae,t,Se,e[2],15,718787259),Se=b(Se,_e,Ae,t,e[9],21,-343485551),xe[0]=_(t,xe[0]),xe[1]=_(Se,xe[1]),xe[2]=_(_e,xe[2]),xe[3]=_(Ae,xe[3])}function p(xe,e,t,Se,_e,Ae){return e=_(_(e,xe),_(Se,Ae)),_(e<<_e|e>>>32-_e,t)}function g(xe,e,t,Se,_e,Ae,Ce){return p(e&t|~e&Se,xe,e,_e,Ae,Ce)}function m(xe,e,t,Se,_e,Ae,Ce){return p(e&Se|t&~Se,xe,e,_e,Ae,Ce)}function v(xe,e,t,Se,_e,Ae,Ce){return p(e^t^Se,xe,e,_e,Ae,Ce)}function b(xe,e,t,Se,_e,Ae,Ce){return p(t^(e|~Se),xe,e,_e,Ae,Ce)}function y(xe){var e,t=xe.length,Se=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=xe.length;e+=64)d(Se,w(xe.substring(e-64,e)));xe=xe.substring(e-64);var _e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<xe.length;e++)_e[e>>2]|=xe.charCodeAt(e)<<(e%4<<3);if(_e[e>>2]|=128<<(e%4<<3),e>55)for(d(Se,_e),e=0;e<16;e++)_e[e]=0;return _e[14]=8*t,d(Se,_e),Se}function w(xe){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=xe.charCodeAt(e)+(xe.charCodeAt(e+1)<<8)+(xe.charCodeAt(e+2)<<16)+(xe.charCodeAt(e+3)<<24);return t}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(xe){for(var e="",t=0;t<4;t++)e+=N[xe>>8*t+4&15]+N[xe>>8*t&15];return e}function A(xe){return String.fromCharCode((255&xe)>>0,(65280&xe)>>8,(16711680&xe)>>16,(4278190080&xe)>>24)}function x(xe){return y(xe).map(A).join("")}var S=function(xe){for(var e=0;e<xe.length;e++)xe[e]=L(xe[e]);return xe.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(xe,e){if(S){var t=(65535&xe)+(65535&e);return(xe>>16)+(e>>16)+(t>>16)<<16|65535&t}return xe+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(xe,e){var t,Se,_e,Ae;if(xe!==t){for(var Ce=(_e=xe,Ae=1+(256/xe.length>>0),new Array(Ae+1).join(_e)),Pe=[],Ee=0;Ee<256;Ee++)Pe[Ee]=Ee;var Fe=0;for(Ee=0;Ee<256;Ee++){var ke=Pe[Ee];Fe=(Fe+ke+Ce.charCodeAt(Ee))%256,Pe[Ee]=Pe[Fe],Pe[Fe]=ke}t=xe,Se=Pe}else Pe=Se;var Ie=e.length,Oe=0,Re=0,Be="";for(Ee=0;Ee<Ie;Ee++)Re=(Re+(ke=Pe[Oe=(Oe+1)%256]))%256,Pe[Oe]=Pe[Re],Pe[Re]=ke,Ce=Pe[(Pe[Oe]+Pe[Re])%256],Be+=String.fromCharCode(e.charCodeAt(Ee)^Ce);return Be}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(xe,e,t,Se){this.v=1,this.r=2;var _e=192;xe.forEach(function(Pe){if(k.perm!==void 0)throw new Error("Invalid permission: "+Pe);_e+=k[Pe]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var Ae=(e+this.padding).substr(0,32),Ce=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(Ae,Ce),this.P=-(1+(255^_e)),this.encryptionKey=x(Ae+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Se)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(xe){if(/[^\u0000-\u00ff]/.test(xe))throw new Error("Invalid PDF Name Object: "+xe+", Only accept ASCII characters.");for(var e="",t=xe.length,Se=0;Se<t;Se++){var _e=xe.charCodeAt(Se);_e<33||_e===35||_e===37||_e===40||_e===41||_e===47||_e===60||_e===62||_e===91||_e===93||_e===123||_e===125||_e>126?e+="#"+("0"+_e.toString(16)).slice(-2):e+=xe[Se]}return e}function C(xe){if(_typeof(xe)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,Se,_e){if(_e=_e||!1,typeof t!="string"||typeof Se!="function"||typeof _e!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var Ae=Math.random().toString(35);return e[t][Ae]=[Se,!!_e],Ae},this.unsubscribe=function(t){for(var Se in e)if(e[Se][t])return delete e[Se][t],Object.keys(e[Se]).length===0&&delete e[Se],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var Se=Array.prototype.slice.call(arguments,1),_e=[];for(var Ae in e[t]){var Ce=e[t][Ae];try{Ce[0].apply(xe,Se)}catch(Pe){n.console&&a.error("jsPDF PubSub Error",Pe.message,Pe)}Ce[1]&&_e.push(Ae)}_e.length&&_e.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j(xe){if(!(this instanceof j))return new j(xe);var e="opacity,stroke-opacity".split(",");for(var t in xe)xe.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=xe[t]);this.id="",this.objectNumber=-1}function O(xe,e){this.gState=xe,this.matrix=e,this.id="",this.objectNumber=-1}function B(xe,e,t,Se,_e){if(!(this instanceof B))return new B(xe,e,t,Se,_e);this.type=xe==="axial"?2:3,this.coords=e,this.colors=t,O.call(this,Se,_e)}function M(xe,e,t,Se,_e){if(!(this instanceof M))return new M(xe,e,t,Se,_e);this.boundingBox=xe,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,O.call(this,Se,_e)}function E(xe){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",Se=arguments[1],_e=arguments[2],Ae=arguments[3],Ce=[],Pe=1,Ee=16,Fe="S",ke=null;_typeof(xe=xe||{})==="object"&&(t=xe.orientation,Se=xe.unit||Se,_e=xe.format||_e,Ae=xe.compress||xe.compressPdf||Ae,(ke=xe.encryption||null)!==null&&(ke.userPassword=ke.userPassword||"",ke.ownerPassword=ke.ownerPassword||"",ke.userPermissions=ke.userPermissions||[]),Pe=typeof xe.userUnit=="number"?Math.abs(xe.userUnit):1,xe.precision!==void 0&&(e=xe.precision),xe.floatPrecision!==void 0&&(Ee=xe.floatPrecision),Fe=xe.defaultPathOperation||"S"),Ce=xe.filters||(Ae===!0?["FlateEncode"]:Ce),Se=Se||"mm",t=(""+(t||"P")).toLowerCase();var Ie=xe.putOnlyUsedFonts||!1,Oe={},Re={internal:{},__private__:{}};Re.__private__.PubSub=C;var Be="1.3",je=Re.__private__.getPdfVersion=function(){return Be};Re.__private__.setPdfVersion=function(un){Be=un};var He={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Re.__private__.getPageFormats=function(){return He};var Ge=Re.__private__.getPageFormat=function(un){return He[un]};_e=_e||"a4";var Ve={COMPAT:"compat",ADVANCED:"advanced"},ze=Ve.COMPAT;function Xe(){this.saveGraphicsState(),wn(new gi(Ln,0,0,-Ln,0,yc()*Ln).toString()+" cm"),this.setFontSize(this.getFontSize()/Ln),Fe="n",ze=Ve.ADVANCED}function We(){this.restoreGraphicsState(),Fe="S",ze=Ve.COMPAT}var Je=Re.__private__.combineFontStyleAndFontWeight=function(un,Gn){if(un=="bold"&&Gn=="normal"||un=="bold"&&Gn==400||un=="normal"&&Gn=="italic"||un=="bold"&&Gn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Gn&&(un=Gn==400||Gn==="normal"?un==="italic"?"italic":"normal":Gn!=700&&Gn!=="bold"||un!=="normal"?(Gn==700?"bold":Gn)+""+un:"bold"),un};Re.advancedAPI=function(un){var Gn=ze===Ve.COMPAT;return Gn&&Xe.call(this),typeof un!="function"||(un(this),Gn&&We.call(this)),this},Re.compatAPI=function(un){var Gn=ze===Ve.ADVANCED;return Gn&&We.call(this),typeof un!="function"||(un(this),Gn&&Xe.call(this)),this},Re.isAdvancedAPI=function(){return ze===Ve.ADVANCED};var Qe,Ze=function(un){if(ze!==Ve.ADVANCED)throw new Error(un+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},on=Re.roundToPrecision=Re.__private__.roundToPrecision=function(un,Gn){var ur=e||Gn;if(isNaN(un)||isNaN(ur))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return un.toFixed(ur).replace(/0+$/,"")};Qe=Re.hpf=Re.__private__.hpf=typeof Ee=="number"?function(un){if(isNaN(un))throw new Error("Invalid argument passed to jsPDF.hpf");return on(un,Ee)}:Ee==="smart"?function(un){if(isNaN(un))throw new Error("Invalid argument passed to jsPDF.hpf");return on(un,un>-1&&un<1?16:5)}:function(un){if(isNaN(un))throw new Error("Invalid argument passed to jsPDF.hpf");return on(un,16)};var an=Re.f2=Re.__private__.f2=function(un){if(isNaN(un))throw new Error("Invalid argument passed to jsPDF.f2");return on(un,2)},rn=Re.__private__.f3=function(un){if(isNaN(un))throw new Error("Invalid argument passed to jsPDF.f3");return on(un,3)},fn=Re.scale=Re.__private__.scale=function(un){if(isNaN(un))throw new Error("Invalid argument passed to jsPDF.scale");return ze===Ve.COMPAT?un*Ln:ze===Ve.ADVANCED?un:void 0},nn=function(un){return ze===Ve.COMPAT?yc()-un:ze===Ve.ADVANCED?un:void 0},cn=function(un){return fn(nn(un))};Re.__private__.setPrecision=Re.setPrecision=function(un){typeof parseInt(un,10)=="number"&&(e=parseInt(un,10))};var dn,bn="00000000000000000000000000000000",pn=Re.__private__.getFileId=function(){return bn},_n=Re.__private__.setFileId=function(un){return bn=un!==void 0&&/^[a-fA-F0-9]{32}$/.test(un)?un.toUpperCase():bn.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ke!==null&&(Rs=new I(ke.userPermissions,ke.userPassword,ke.ownerPassword,bn)),bn};Re.setFileId=function(un){return _n(un),this},Re.getFileId=function(){return pn()};var Nn=Re.__private__.convertDateToPDFDate=function(un){var Gn=un.getTimezoneOffset(),ur=Gn<0?"+":"-",vr=Math.floor(Math.abs(Gn/60)),kr=Math.abs(Gn%60),Gr=[ur,gn(vr),"'",gn(kr),"'"].join("");return["D:",un.getFullYear(),gn(un.getMonth()+1),gn(un.getDate()),gn(un.getHours()),gn(un.getMinutes()),gn(un.getSeconds()),Gr].join("")},Un=Re.__private__.convertPDFDateToDate=function(un){var Gn=parseInt(un.substr(2,4),10),ur=parseInt(un.substr(6,2),10)-1,vr=parseInt(un.substr(8,2),10),kr=parseInt(un.substr(10,2),10),Gr=parseInt(un.substr(12,2),10),Zr=parseInt(un.substr(14,2),10);return new Date(Gn,ur,vr,kr,Gr,Zr,0)},xn=Re.__private__.setCreationDate=function(un){var Gn;if(un===void 0&&(un=new Date),un instanceof Date)Gn=Nn(un);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(un))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Gn=un}return dn=Gn},St=Re.__private__.getCreationDate=function(un){var Gn=dn;return un==="jsDate"&&(Gn=Un(dn)),Gn};Re.setCreationDate=function(un){return xn(un),this},Re.getCreationDate=function(un){return St(un)};var sn,gn=Re.__private__.padd2=function(un){return("0"+parseInt(un)).slice(-2)},Pn=Re.__private__.padd2Hex=function(un){return("00"+(un=un.toString())).substr(un.length)},Fn=0,vn=[],kn=[],Bn=0,er=[],Zn=[],Cn=!1,Tn=kn,qn=function(){Fn=0,Bn=0,kn=[],vn=[],er=[],ps=Ki(),Xs=Ki()};Re.__private__.setCustomOutputDestination=function(un){Cn=!0,Tn=un};var In=function(un){Cn||(Tn=un)};Re.__private__.resetCustomOutputDestination=function(){Cn=!1,Tn=kn};var wn=Re.__private__.out=function(un){return un=un.toString(),Bn+=un.length+1,Tn.push(un),Tn},Vn=Re.__private__.write=function(un){return wn(arguments.length===1?un.toString():Array.prototype.join.call(arguments," "))},Yn=Re.__private__.getArrayBuffer=function(un){for(var Gn=un.length,ur=new ArrayBuffer(Gn),vr=new Uint8Array(ur);Gn--;)vr[Gn]=un.charCodeAt(Gn);return ur},tr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Re.__private__.getStandardFonts=function(){return tr};var cr=xe.fontSize||16;Re.__private__.setFontSize=Re.setFontSize=function(un){return cr=ze===Ve.ADVANCED?un/Ln:un,this};var Kn,rr=Re.__private__.getFontSize=Re.getFontSize=function(){return ze===Ve.COMPAT?cr:cr*Ln},ir=xe.R2L||!1;Re.__private__.setR2L=Re.setR2L=function(un){return ir=un,this},Re.__private__.getR2L=Re.getR2L=function(){return ir};var yr,xr=Re.__private__.setZoomMode=function(un){var Gn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(un))Kn=un;else if(isNaN(un)){if(Gn.indexOf(un)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+un+'" is not recognized.');Kn=un}else Kn=parseInt(un,10)};Re.__private__.getZoomMode=function(){return Kn};var Nr,jr=Re.__private__.setPageMode=function(un){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(un)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+un+'" is not recognized.');yr=un};Re.__private__.getPageMode=function(){return yr};var Vr=Re.__private__.setLayoutMode=function(un){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(un)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+un+'" is not recognized.');Nr=un};Re.__private__.getLayoutMode=function(){return Nr},Re.__private__.setDisplayMode=Re.setDisplayMode=function(un,Gn,ur){return xr(un),Vr(Gn),jr(ur),this};var Yr={title:"",subject:"",author:"",keywords:"",creator:""};Re.__private__.getDocumentProperty=function(un){if(Object.keys(Yr).indexOf(un)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Yr[un]},Re.__private__.getDocumentProperties=function(){return Yr},Re.__private__.setDocumentProperties=Re.setProperties=Re.setDocumentProperties=function(un){for(var Gn in Yr)Yr.hasOwnProperty(Gn)&&un[Gn]&&(Yr[Gn]=un[Gn]);return this},Re.__private__.setDocumentProperty=function(un,Gn){if(Object.keys(Yr).indexOf(un)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Yr[un]=Gn};var ei,Ln,ar,sr,Tr,dr={},Pr={},Hn=[],Br={},di={},An={},Er={},Lr=null,Qn=0,fr=[],wr=new C(Re),ui=xe.hotfixes||[],Qr={},ri={},ki=[],gi=function un(Gn,ur,vr,kr,Gr,Zr){if(!(this instanceof un))return new un(Gn,ur,vr,kr,Gr,Zr);isNaN(Gn)&&(Gn=1),isNaN(ur)&&(ur=0),isNaN(vr)&&(vr=0),isNaN(kr)&&(kr=1),isNaN(Gr)&&(Gr=0),isNaN(Zr)&&(Zr=0),this._matrix=[Gn,ur,vr,kr,Gr,Zr]};Object.defineProperty(gi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(un){this._matrix[0]=un}}),Object.defineProperty(gi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(un){this._matrix[1]=un}}),Object.defineProperty(gi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(un){this._matrix[2]=un}}),Object.defineProperty(gi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(un){this._matrix[3]=un}}),Object.defineProperty(gi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(un){this._matrix[4]=un}}),Object.defineProperty(gi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(un){this._matrix[5]=un}}),Object.defineProperty(gi.prototype,"a",{get:function(){return this._matrix[0]},set:function(un){this._matrix[0]=un}}),Object.defineProperty(gi.prototype,"b",{get:function(){return this._matrix[1]},set:function(un){this._matrix[1]=un}}),Object.defineProperty(gi.prototype,"c",{get:function(){return this._matrix[2]},set:function(un){this._matrix[2]=un}}),Object.defineProperty(gi.prototype,"d",{get:function(){return this._matrix[3]},set:function(un){this._matrix[3]=un}}),Object.defineProperty(gi.prototype,"e",{get:function(){return this._matrix[4]},set:function(un){this._matrix[4]=un}}),Object.defineProperty(gi.prototype,"f",{get:function(){return this._matrix[5]},set:function(un){this._matrix[5]=un}}),Object.defineProperty(gi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gi.prototype.join=function(un){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Qe).join(un)},gi.prototype.multiply=function(un){var Gn=un.sx*this.sx+un.shy*this.shx,ur=un.sx*this.shy+un.shy*this.sy,vr=un.shx*this.sx+un.sy*this.shx,kr=un.shx*this.shy+un.sy*this.sy,Gr=un.tx*this.sx+un.ty*this.shx+this.tx,Zr=un.tx*this.shy+un.ty*this.sy+this.ty;return new gi(Gn,ur,vr,kr,Gr,Zr)},gi.prototype.decompose=function(){var un=this.sx,Gn=this.shy,ur=this.shx,vr=this.sy,kr=this.tx,Gr=this.ty,Zr=Math.sqrt(un*un+Gn*Gn),li=(un/=Zr)*ur+(Gn/=Zr)*vr;ur-=un*li,vr-=Gn*li;var _i=Math.sqrt(ur*ur+vr*vr);return li/=_i,un*(vr/=_i)<Gn*(ur/=_i)&&(un=-un,Gn=-Gn,li=-li,Zr=-Zr),{scale:new gi(Zr,0,0,_i,0,0),translate:new gi(1,0,0,1,kr,Gr),rotate:new gi(un,Gn,-Gn,un,0,0),skew:new gi(1,0,li,1,0,0)}},gi.prototype.toString=function(un){return this.join(" ")},gi.prototype.inversed=function(){var un=this.sx,Gn=this.shy,ur=this.shx,vr=this.sy,kr=this.tx,Gr=this.ty,Zr=1/(un*vr-Gn*ur),li=vr*Zr,_i=-Gn*Zr,Bi=-ur*Zr,Mi=un*Zr;return new gi(li,_i,Bi,Mi,-li*kr-Bi*Gr,-_i*kr-Mi*Gr)},gi.prototype.applyToPoint=function(un){var Gn=un.x*this.sx+un.y*this.shx+this.tx,ur=un.x*this.shy+un.y*this.sy+this.ty;return new oa(Gn,ur)},gi.prototype.applyToRectangle=function(un){var Gn=this.applyToPoint(un),ur=this.applyToPoint(new oa(un.x+un.w,un.y+un.h));return new Da(Gn.x,Gn.y,ur.x-Gn.x,ur.y-Gn.y)},gi.prototype.clone=function(){var un=this.sx,Gn=this.shy,ur=this.shx,vr=this.sy,kr=this.tx,Gr=this.ty;return new gi(un,Gn,ur,vr,kr,Gr)},Re.Matrix=gi;var Ri=Re.matrixMult=function(un,Gn){return Gn.multiply(un)},Fi=new gi(1,0,0,1,0,0);Re.unitMatrix=Re.identityMatrix=Fi;var Vi=function(un,Gn){if(!di[un]){var ur=(Gn instanceof B?"Sh":"P")+(Object.keys(Br).length+1).toString(10);Gn.id=ur,di[un]=ur,Br[ur]=Gn,wr.publish("addPattern",Gn)}};Re.ShadingPattern=B,Re.TilingPattern=M,Re.addShadingPattern=function(un,Gn){return Ze("addShadingPattern()"),Vi(un,Gn),this},Re.beginTilingPattern=function(un){Ze("beginTilingPattern()"),wu(un.boundingBox[0],un.boundingBox[1],un.boundingBox[2]-un.boundingBox[0],un.boundingBox[3]-un.boundingBox[1],un.matrix)},Re.endTilingPattern=function(un,Gn){Ze("endTilingPattern()"),Gn.stream=Zn[sn].join(`
`),Vi(un,Gn),wr.publish("endTilingPattern",Gn),ki.pop().restore()};var ji=Re.__private__.newObject=function(){var un=Ki();return fa(un,!0),un},Ki=Re.__private__.newObjectDeferred=function(){return Fn++,vn[Fn]=function(){return Bn},Fn},fa=function(un,Gn){return Gn=typeof Gn=="boolean"&&Gn,vn[un]=Bn,Gn&&wn(un+" 0 obj"),un},mo=Re.__private__.newAdditionalObject=function(){var un={objId:Ki(),content:""};return er.push(un),un},ps=Ki(),Xs=Ki(),ys=Re.__private__.decodeColorString=function(un){var Gn=un.split(" ");if(Gn.length!==2||Gn[1]!=="g"&&Gn[1]!=="G")Gn.length===5&&(Gn[4]==="k"||Gn[4]==="K")&&(Gn=[(1-Gn[0])*(1-Gn[3]),(1-Gn[1])*(1-Gn[3]),(1-Gn[2])*(1-Gn[3]),"r"]);else{var ur=parseFloat(Gn[0]);Gn=[ur,ur,ur,"r"]}for(var vr="#",kr=0;kr<3;kr++)vr+=("0"+Math.floor(255*parseFloat(Gn[kr])).toString(16)).slice(-2);return vr},ks=Re.__private__.encodeColorString=function(un){var Gn;typeof un=="string"&&(un={ch1:un});var ur=un.ch1,vr=un.ch2,kr=un.ch3,Gr=un.ch4,Zr=un.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ur=="string"&&ur.charAt(0)!=="#"){var li=new f(ur);if(li.ok)ur=li.toHex();else if(!/^\d*\.?\d*$/.test(ur))throw new Error('Invalid color "'+ur+'" passed to jsPDF.encodeColorString.')}if(typeof ur=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ur)&&(ur="#"+ur[1]+ur[1]+ur[2]+ur[2]+ur[3]+ur[3]),typeof ur=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ur)){var _i=parseInt(ur.substr(1),16);ur=_i>>16&255,vr=_i>>8&255,kr=255&_i}if(vr===void 0||Gr===void 0&&ur===vr&&vr===kr)if(typeof ur=="string")Gn=ur+" "+Zr[0];else switch(un.precision){case 2:Gn=an(ur/255)+" "+Zr[0];break;case 3:default:Gn=rn(ur/255)+" "+Zr[0]}else if(Gr===void 0||_typeof(Gr)==="object"){if(Gr&&!isNaN(Gr.a)&&Gr.a===0)return Gn=["1.","1.","1.",Zr[1]].join(" ");if(typeof ur=="string")Gn=[ur,vr,kr,Zr[1]].join(" ");else switch(un.precision){case 2:Gn=[an(ur/255),an(vr/255),an(kr/255),Zr[1]].join(" ");break;default:case 3:Gn=[rn(ur/255),rn(vr/255),rn(kr/255),Zr[1]].join(" ")}}else if(typeof ur=="string")Gn=[ur,vr,kr,Gr,Zr[2]].join(" ");else switch(un.precision){case 2:Gn=[an(ur),an(vr),an(kr),an(Gr),Zr[2]].join(" ");break;case 3:default:Gn=[rn(ur),rn(vr),rn(kr),rn(Gr),Zr[2]].join(" ")}return Gn},aa=Re.__private__.getFilters=function(){return Ce},vo=Re.__private__.putStream=function(un){var Gn=(un=un||{}).data||"",ur=un.filters||aa(),vr=un.alreadyAppliedFilters||[],kr=un.addLength1||!1,Gr=Gn.length,Zr=un.objectId,li=function(pa){return pa};if(ke!==null&&Zr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ke!==null&&(li=Rs.encryptor(Zr,0));var _i={};ur===!0&&(ur=["FlateEncode"]);var Bi=un.additionalKeyValues||[],Mi=(_i=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Gn,ur):{data:Gn,reverseChain:[]}).reverseChain+(Array.isArray(vr)?vr.join(" "):vr.toString());if(_i.data.length!==0&&(Bi.push({key:"Length",value:_i.data.length}),kr===!0&&Bi.push({key:"Length1",value:Gr})),Mi.length!=0)if(Mi.split("/").length-1==1)Bi.push({key:"Filter",value:Mi});else{Bi.push({key:"Filter",value:"["+Mi+"]"});for(var Gi=0;Gi<Bi.length;Gi+=1)if(Bi[Gi].key==="DecodeParms"){for(var Ys=[],zs=0;zs<_i.reverseChain.split("/").length-1;zs+=1)Ys.push("null");Ys.push(Bi[Gi].value),Bi[Gi].value="["+Ys.join(" ")+"]"}}wn("<<");for(var na=0;na<Bi.length;na++)wn("/"+Bi[na].key+" "+Bi[na].value);wn(">>"),_i.data.length!==0&&(wn("stream"),wn(li(_i.data)),wn("endstream"))},fc=Re.__private__.putPage=function(un){var Gn=un.number,ur=un.data,vr=un.objId,kr=un.contentsObjId;fa(vr,!0),wn("<</Type /Page"),wn("/Parent "+un.rootDictionaryObjId+" 0 R"),wn("/Resources "+un.resourceDictionaryObjId+" 0 R"),wn("/MediaBox ["+parseFloat(Qe(un.mediaBox.bottomLeftX))+" "+parseFloat(Qe(un.mediaBox.bottomLeftY))+" "+Qe(un.mediaBox.topRightX)+" "+Qe(un.mediaBox.topRightY)+"]"),un.cropBox!==null&&wn("/CropBox ["+Qe(un.cropBox.bottomLeftX)+" "+Qe(un.cropBox.bottomLeftY)+" "+Qe(un.cropBox.topRightX)+" "+Qe(un.cropBox.topRightY)+"]"),un.bleedBox!==null&&wn("/BleedBox ["+Qe(un.bleedBox.bottomLeftX)+" "+Qe(un.bleedBox.bottomLeftY)+" "+Qe(un.bleedBox.topRightX)+" "+Qe(un.bleedBox.topRightY)+"]"),un.trimBox!==null&&wn("/TrimBox ["+Qe(un.trimBox.bottomLeftX)+" "+Qe(un.trimBox.bottomLeftY)+" "+Qe(un.trimBox.topRightX)+" "+Qe(un.trimBox.topRightY)+"]"),un.artBox!==null&&wn("/ArtBox ["+Qe(un.artBox.bottomLeftX)+" "+Qe(un.artBox.bottomLeftY)+" "+Qe(un.artBox.topRightX)+" "+Qe(un.artBox.topRightY)+"]"),typeof un.userUnit=="number"&&un.userUnit!==1&&wn("/UserUnit "+un.userUnit),wr.publish("putPage",{objId:vr,pageContext:fr[Gn],pageNumber:Gn,page:ur}),wn("/Contents "+kr+" 0 R"),wn(">>"),wn("endobj");var Gr=ur.join(`
`);return ze===Ve.ADVANCED&&(Gr+=`
Q`),fa(kr,!0),vo({data:Gr,filters:aa(),objectId:kr}),wn("endobj"),vr},hu=Re.__private__.putPages=function(){var un,Gn,ur=[];for(un=1;un<=Qn;un++)fr[un].objId=Ki(),fr[un].contentsObjId=Ki();for(un=1;un<=Qn;un++)ur.push(fc({number:un,data:Zn[un],objId:fr[un].objId,contentsObjId:fr[un].contentsObjId,mediaBox:fr[un].mediaBox,cropBox:fr[un].cropBox,bleedBox:fr[un].bleedBox,trimBox:fr[un].trimBox,artBox:fr[un].artBox,userUnit:fr[un].userUnit,rootDictionaryObjId:ps,resourceDictionaryObjId:Xs}));fa(ps,!0),wn("<</Type /Pages");var vr="/Kids [";for(Gn=0;Gn<Qn;Gn++)vr+=ur[Gn]+" 0 R ";wn(vr+"]"),wn("/Count "+Qn),wn(">>"),wn("endobj"),wr.publish("postPutPages")},Ku=function(un){wr.publish("putFont",{font:un,out:wn,newObject:ji,putStream:vo}),un.isAlreadyPutted!==!0&&(un.objectNumber=ji(),wn("<<"),wn("/Type /Font"),wn("/BaseFont /"+F(un.postScriptName)),wn("/Subtype /Type1"),typeof un.encoding=="string"&&wn("/Encoding /"+un.encoding),wn("/FirstChar 32"),wn("/LastChar 255"),wn(">>"),wn("endobj"))},Xu=function(){for(var un in dr)dr.hasOwnProperty(un)&&(Ie===!1||Ie===!0&&Oe.hasOwnProperty(un))&&Ku(dr[un])},Yu=function(un){un.objectNumber=ji();var Gn=[];Gn.push({key:"Type",value:"/XObject"}),Gn.push({key:"Subtype",value:"/Form"}),Gn.push({key:"BBox",value:"["+[Qe(un.x),Qe(un.y),Qe(un.x+un.width),Qe(un.y+un.height)].join(" ")+"]"}),Gn.push({key:"Matrix",value:"["+un.matrix.toString()+"]"});var ur=un.pages[1].join(`
`);vo({data:ur,additionalKeyValues:Gn,objectId:un.objectNumber}),wn("endobj")},Dh=function(){for(var un in Qr)Qr.hasOwnProperty(un)&&Yu(Qr[un])},mf=function(un,Gn){var ur,vr=[],kr=1/(Gn-1);for(ur=0;ur<1;ur+=kr)vr.push(ur);if(vr.push(1),un[0].offset!=0){var Gr={offset:0,color:un[0].color};un.unshift(Gr)}if(un[un.length-1].offset!=1){var Zr={offset:1,color:un[un.length-1].color};un.push(Zr)}for(var li="",_i=0,Bi=0;Bi<vr.length;Bi++){for(ur=vr[Bi];ur>un[_i+1].offset;)_i++;var Mi=un[_i].offset,Gi=(ur-Mi)/(un[_i+1].offset-Mi),Ys=un[_i].color,zs=un[_i+1].color;li+=Pn(Math.round((1-Gi)*Ys[0]+Gi*zs[0]).toString(16))+Pn(Math.round((1-Gi)*Ys[1]+Gi*zs[1]).toString(16))+Pn(Math.round((1-Gi)*Ys[2]+Gi*zs[2]).toString(16))}return li.trim()},ea=function(un,Gn){Gn||(Gn=21);var ur=ji(),vr=mf(un.colors,Gn),kr=[];kr.push({key:"FunctionType",value:"0"}),kr.push({key:"Domain",value:"[0.0 1.0]"}),kr.push({key:"Size",value:"["+Gn+"]"}),kr.push({key:"BitsPerSample",value:"8"}),kr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vo({data:vr,additionalKeyValues:kr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ur}),wn("endobj"),un.objectNumber=ji(),wn("<< /ShadingType "+un.type),wn("/ColorSpace /DeviceRGB");var Gr="/Coords ["+Qe(parseFloat(un.coords[0]))+" "+Qe(parseFloat(un.coords[1]))+" ";un.type===2?Gr+=Qe(parseFloat(un.coords[2]))+" "+Qe(parseFloat(un.coords[3])):Gr+=Qe(parseFloat(un.coords[2]))+" "+Qe(parseFloat(un.coords[3]))+" "+Qe(parseFloat(un.coords[4]))+" "+Qe(parseFloat(un.coords[5])),wn(Gr+="]"),un.matrix&&wn("/Matrix ["+un.matrix.toString()+"]"),wn("/Function "+ur+" 0 R"),wn("/Extend [true true]"),wn(">>"),wn("endobj")},wd=function(un,Gn){var ur=Ki(),vr=ji();Gn.push({resourcesOid:ur,objectOid:vr}),un.objectNumber=vr;var kr=[];kr.push({key:"Type",value:"/Pattern"}),kr.push({key:"PatternType",value:"1"}),kr.push({key:"PaintType",value:"1"}),kr.push({key:"TilingType",value:"1"}),kr.push({key:"BBox",value:"["+un.boundingBox.map(Qe).join(" ")+"]"}),kr.push({key:"XStep",value:Qe(un.xStep)}),kr.push({key:"YStep",value:Qe(un.yStep)}),kr.push({key:"Resources",value:ur+" 0 R"}),un.matrix&&kr.push({key:"Matrix",value:"["+un.matrix.toString()+"]"}),vo({data:un.stream,additionalKeyValues:kr,objectId:un.objectNumber}),wn("endobj")},El=function(un){var Gn;for(Gn in Br)Br.hasOwnProperty(Gn)&&(Br[Gn]instanceof B?ea(Br[Gn]):Br[Gn]instanceof M&&wd(Br[Gn],un))},Zu=function(un){for(var Gn in un.objectNumber=ji(),wn("<<"),un)switch(Gn){case"opacity":wn("/ca "+an(un[Gn]));break;case"stroke-opacity":wn("/CA "+an(un[Gn]))}wn(">>"),wn("endobj")},du=function(){var un;for(un in An)An.hasOwnProperty(un)&&Zu(An[un])},Sd=function(){for(var un in wn("/XObject <<"),Qr)Qr.hasOwnProperty(un)&&Qr[un].objectNumber>=0&&wn("/"+un+" "+Qr[un].objectNumber+" 0 R");wr.publish("putXobjectDict"),wn(">>")},Nh=function(){Rs.oid=ji(),wn("<<"),wn("/Filter /Standard"),wn("/V "+Rs.v),wn("/R "+Rs.r),wn("/U <"+Rs.toHexString(Rs.U)+">"),wn("/O <"+Rs.toHexString(Rs.O)+">"),wn("/P "+Rs.P),wn(">>"),wn("endobj")},Fl=function(){for(var un in wn("/Font <<"),dr)dr.hasOwnProperty(un)&&(Ie===!1||Ie===!0&&Oe.hasOwnProperty(un))&&wn("/"+un+" "+dr[un].objectNumber+" 0 R");wn(">>")},ka=function(){if(Object.keys(Br).length>0){for(var un in wn("/Shading <<"),Br)Br.hasOwnProperty(un)&&Br[un]instanceof B&&Br[un].objectNumber>=0&&wn("/"+un+" "+Br[un].objectNumber+" 0 R");wr.publish("putShadingPatternDict"),wn(">>")}},gs=function(un){if(Object.keys(Br).length>0){for(var Gn in wn("/Pattern <<"),Br)Br.hasOwnProperty(Gn)&&Br[Gn]instanceof Re.TilingPattern&&Br[Gn].objectNumber>=0&&Br[Gn].objectNumber<un&&wn("/"+Gn+" "+Br[Gn].objectNumber+" 0 R");wr.publish("putTilingPatternDict"),wn(">>")}},Xi=function(){if(Object.keys(An).length>0){var un;for(un in wn("/ExtGState <<"),An)An.hasOwnProperty(un)&&An[un].objectNumber>=0&&wn("/"+un+" "+An[un].objectNumber+" 0 R");wr.publish("putGStateDict"),wn(">>")}},Cs=function(un){fa(un.resourcesOid,!0),wn("<<"),wn("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fl(),ka(),gs(un.objectOid),Xi(),Sd(),wn(">>"),wn("endobj")},Ra=function(){var un=[];Xu(),du(),Dh(),El(un),wr.publish("putResources"),un.forEach(Cs),Cs({resourcesOid:Xs,objectOid:Number.MAX_SAFE_INTEGER}),wr.publish("postPutResources")},Ya=function(){wr.publish("putAdditionalObjects");for(var un=0;un<er.length;un++){var Gn=er[un];fa(Gn.objId,!0),wn(Gn.content),wn("endobj")}wr.publish("postPutAdditionalObjects")},nl=function(un){Pr[un.fontName]=Pr[un.fontName]||{},Pr[un.fontName][un.fontStyle]=un.id},rl=function(un,Gn,ur,vr,kr){var Gr={id:"F"+(Object.keys(dr).length+1).toString(10),postScriptName:un,fontName:Gn,fontStyle:ur,encoding:vr,isStandardFont:kr||!1,metadata:{}};return wr.publish("addFont",{font:Gr,instance:this}),dr[Gr.id]=Gr,nl(Gr),Gr.id},ya=function(un){for(var Gn=0,ur=tr.length;Gn<ur;Gn++){var vr=rl.call(this,un[Gn][0],un[Gn][1],un[Gn][2],tr[Gn][3],!0);Ie===!1&&(Oe[vr]=!0);var kr=un[Gn][0].split("-");nl({id:vr,fontName:kr[0],fontStyle:kr[1]||""})}wr.publish("addFonts",{fonts:dr,dictionary:Pr})},Za=function(un){return un.foo=function(){try{return un.apply(this,arguments)}catch(vr){var Gn=vr.stack||"";~Gn.indexOf(" at ")&&(Gn=Gn.split(" at ")[1]);var ur="Error in function "+Gn.split(`
`)[0].split("<")[0]+": "+vr.message;if(!n.console)throw new Error(ur);n.console.error(ur,vr),n.alert&&alert(ur)}},un.foo.bar=un,un.foo},Ju=function(un,Gn){var ur,vr,kr,Gr,Zr,li,_i,Bi,Mi;if(kr=(Gn=Gn||{}).sourceEncoding||"Unicode",Zr=Gn.outputEncoding,(Gn.autoencode||Zr)&&dr[ei].metadata&&dr[ei].metadata[kr]&&dr[ei].metadata[kr].encoding&&(Gr=dr[ei].metadata[kr].encoding,!Zr&&dr[ei].encoding&&(Zr=dr[ei].encoding),!Zr&&Gr.codePages&&(Zr=Gr.codePages[0]),typeof Zr=="string"&&(Zr=Gr[Zr]),Zr)){for(_i=!1,li=[],ur=0,vr=un.length;ur<vr;ur++)(Bi=Zr[un.charCodeAt(ur)])?li.push(String.fromCharCode(Bi)):li.push(un[ur]),li[ur].charCodeAt(0)>>8&&(_i=!0);un=li.join("")}for(ur=un.length;_i===void 0&&ur!==0;)un.charCodeAt(ur-1)>>8&&(_i=!0),ur--;if(!_i)return un;for(li=Gn.noBOM?[]:[254,255],ur=0,vr=un.length;ur<vr;ur++){if((Mi=(Bi=un.charCodeAt(ur))>>8)>>8)throw new Error("Character at position "+ur+" of string '"+un+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");li.push(Mi),li.push(Bi-(Mi<<8))}return String.fromCharCode.apply(void 0,li)},Ro=Re.__private__.pdfEscape=Re.pdfEscape=function(un,Gn){return Ju(un,Gn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pc=Re.__private__.beginPage=function(un){Zn[++Qn]=[],fr[Qn]={objId:0,contentsObjId:0,userUnit:Number(Pe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(un[0]),topRightY:Number(un[1])}},fu(Qn),In(Zn[sn])},Lh=function(un,Gn){var ur,vr,kr;switch(t=Gn||t,typeof un=="string"&&(ur=Ge(un.toLowerCase()),Array.isArray(ur)&&(vr=ur[0],kr=ur[1])),Array.isArray(un)&&(vr=un[0]*Ln,kr=un[1]*Ln),isNaN(vr)&&(vr=_e[0],kr=_e[1]),(vr>14400||kr>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),vr=Math.min(14400,vr),kr=Math.min(14400,kr)),_e=[vr,kr],t.substr(0,1)){case"l":kr>vr&&(_e=[kr,vr]);break;case"p":vr>kr&&(_e=[kr,vr])}pc(_e),Hc(al),wn(js),Uh!==0&&wn(Uh+" J"),Vc!==0&&wn(Vc+" j"),wr.publish("addPage",{pageNumber:Qn})},Do=function(un){un>0&&un<=Qn&&(Zn.splice(un,1),fr.splice(un,1),Qn--,sn>Qn&&(sn=Qn),this.setPage(sn))},fu=function(un){un>0&&un<=Qn&&(sn=un)},gp=Re.__private__.getNumberOfPages=Re.getNumberOfPages=function(){return Zn.length-1},Ih=function(un,Gn,ur){var vr,kr=void 0;return ur=ur||{},un=un!==void 0?un:dr[ei].fontName,Gn=Gn!==void 0?Gn:dr[ei].fontStyle,vr=un.toLowerCase(),Pr[vr]!==void 0&&Pr[vr][Gn]!==void 0?kr=Pr[vr][Gn]:Pr[un]!==void 0&&Pr[un][Gn]!==void 0?kr=Pr[un][Gn]:ur.disableWarning===!1&&a.warn("Unable to look up font label for font '"+un+"', '"+Gn+"'. Refer to getFontList() for available fonts."),kr||ur.noFallback||(kr=Pr.times[Gn])==null&&(kr=Pr.times.normal),kr},es=Re.__private__.putInfo=function(){var un=ji(),Gn=function(vr){return vr};for(var ur in ke!==null&&(Gn=Rs.encryptor(un,0)),wn("<<"),wn("/Producer ("+Ro(Gn("jsPDF "+E.version))+")"),Yr)Yr.hasOwnProperty(ur)&&Yr[ur]&&wn("/"+ur.substr(0,1).toUpperCase()+ur.substr(1)+" ("+Ro(Gn(Yr[ur]))+")");wn("/CreationDate ("+Ro(Gn(dn))+")"),wn(">>"),wn("endobj")},jc=Re.__private__.putCatalog=function(un){var Gn=(un=un||{}).rootDictionaryObjId||ps;switch(ji(),wn("<<"),wn("/Type /Catalog"),wn("/Pages "+Gn+" 0 R"),Kn||(Kn="fullwidth"),Kn){case"fullwidth":wn("/OpenAction [3 0 R /FitH null]");break;case"fullheight":wn("/OpenAction [3 0 R /FitV null]");break;case"fullpage":wn("/OpenAction [3 0 R /Fit]");break;case"original":wn("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ur=""+Kn;ur.substr(ur.length-1)==="%"&&(Kn=parseInt(Kn)/100),typeof Kn=="number"&&wn("/OpenAction [3 0 R /XYZ null null "+an(Kn)+"]")}switch(Nr||(Nr="continuous"),Nr){case"continuous":wn("/PageLayout /OneColumn");break;case"single":wn("/PageLayout /SinglePage");break;case"two":case"twoleft":wn("/PageLayout /TwoColumnLeft");break;case"tworight":wn("/PageLayout /TwoColumnRight")}yr&&wn("/PageMode /"+yr),wr.publish("putCatalog"),wn(">>"),wn("endobj")},pu=Re.__private__.putTrailer=function(){wn("trailer"),wn("<<"),wn("/Size "+(Fn+1)),wn("/Root "+Fn+" 0 R"),wn("/Info "+(Fn-1)+" 0 R"),ke!==null&&wn("/Encrypt "+Rs.oid+" 0 R"),wn("/ID [ <"+bn+"> <"+bn+"> ]"),wn(">>")},gu=Re.__private__.putHeader=function(){wn("%PDF-"+Be),wn("%")},vf=Re.__private__.putXRef=function(){var un="0000000000";wn("xref"),wn("0 "+(Fn+1)),wn("0000000000 65535 f ");for(var Gn=1;Gn<=Fn;Gn++)typeof vn[Gn]=="function"?wn((un+vn[Gn]()).slice(-10)+" 00000 n "):vn[Gn]!==void 0?wn((un+vn[Gn]).slice(-10)+" 00000 n "):wn("0000000000 00000 n ")},gc=Re.__private__.buildDocument=function(){qn(),In(kn),wr.publish("buildDocument"),gu(),hu(),Ya(),Ra(),ke!==null&&Nh(),es(),jc();var un=Bn;return vf(),pu(),wn("startxref"),wn(""+un),wn("%%EOF"),In(Zn[sn]),kn.join(`
`)},qc=Re.__private__.getBlob=function(un){return new Blob([Yn(un)],{type:"application/pdf"})},zc=Re.output=Re.__private__.output=Za(function(un,Gn){switch(typeof(Gn=Gn||{})=="string"?Gn={filename:Gn}:Gn.filename=Gn.filename||"generated.pdf",un){case void 0:return gc();case"save":Re.save(Gn.filename);break;case"arraybuffer":return Yn(gc());case"blob":return qc(gc());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(qc(gc()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ur="",vr=gc();try{ur=h(vr)}catch{ur=h(unescape(encodeURIComponent(vr)))}return"data:application/pdf;filename="+Gn.filename+";base64,"+ur;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var kr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Gr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Gn.pdfObjectUrl&&(kr=Gn.pdfObjectUrl,Gr="");var Zr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+kr+'"'+Gr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Gn)+");<\/script></body></html>",li=n.open();return li!==null&&li.document.write(Zr),li}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var _i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Gn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Gn.filename+'" width="500px" height="400px" /></body></html>',Bi=n.open();if(Bi!==null){Bi.document.write(_i);var Mi=this;Bi.document.documentElement.querySelector("#pdfViewer").onload=function(){Bi.document.title=Gn.filename,Bi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mi.output("bloburl"))}}return Bi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Gn)+'"></iframe></body></html>',Ys=n.open();if(Ys!==null&&(Ys.document.write(Gi),Ys.document.title=Gn.filename),Ys||typeof safari>"u")return Ys;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Gn);default:return null}}),Gc=function(un){return Array.isArray(ui)===!0&&ui.indexOf(un)>-1};switch(Se){case"pt":Ln=1;break;case"mm":Ln=72/25.4;break;case"cm":Ln=72/2.54;break;case"in":Ln=72;break;case"px":Ln=Gc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ln=12;break;case"ex":Ln=6;break;default:if(typeof Se!="number")throw new Error("Invalid unit: "+Se);Ln=Se}var Rs=null;xn(),_n();var mc=function(un){return ke!==null?Rs.encryptor(un,0):function(Gn){return Gn}},il=Re.__private__.getPageInfo=Re.getPageInfo=function(un){if(isNaN(un)||un%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fr[un].objId,pageNumber:un,pageContext:fr[un]}},ai=Re.__private__.getPageInfoByObjId=function(un){if(isNaN(un)||un%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Gn in fr)if(fr[Gn].objId===un)break;return il(Gn)},mu=Re.__private__.getCurrentPageInfo=Re.getCurrentPageInfo=function(){return{objId:fr[sn].objId,pageNumber:sn,pageContext:fr[sn]}};Re.addPage=function(){return Lh.apply(this,arguments),this},Re.setPage=function(){return fu.apply(this,arguments),In.call(this,Zn[sn]),this},Re.insertPage=function(un){return this.addPage(),this.movePage(sn,un),this},Re.movePage=function(un,Gn){var ur,vr;if(un>Gn){ur=Zn[un],vr=fr[un];for(var kr=un;kr>Gn;kr--)Zn[kr]=Zn[kr-1],fr[kr]=fr[kr-1];Zn[Gn]=ur,fr[Gn]=vr,this.setPage(Gn)}else if(un<Gn){ur=Zn[un],vr=fr[un];for(var Gr=un;Gr<Gn;Gr++)Zn[Gr]=Zn[Gr+1],fr[Gr]=fr[Gr+1];Zn[Gn]=ur,fr[Gn]=vr,this.setPage(Gn)}return this},Re.deletePage=function(){return Do.apply(this,arguments),this},Re.__private__.text=Re.text=function(un,Gn,ur,vr,kr){var Gr,Zr,li,_i,Bi,Mi,Gi,Ys,zs,na=(vr=vr||{}).scope||this;if(typeof un=="number"&&typeof Gn=="number"&&(typeof ur=="string"||Array.isArray(ur))){var pa=ur;ur=Gn,Gn=un,un=pa}if(arguments[3]instanceof gi?(Ze("The transform parameter of text() with a Matrix value"),zs=kr):(li=arguments[4],_i=arguments[5],_typeof(Gi=arguments[3])==="object"&&Gi!==null||(typeof li=="string"&&(_i=li,li=null),typeof Gi=="string"&&(_i=Gi,Gi=null),typeof Gi=="number"&&(li=Gi,Gi=null),vr={flags:Gi,angle:li,align:_i})),isNaN(Gn)||isNaN(ur)||un==null)throw new Error("Invalid arguments passed to jsPDF.text");if(un.length===0)return na;var Sa="",cl=!1,zo=typeof vr.lineHeightFactor=="number"?vr.lineHeightFactor:Ja,Go=na.internal.scaleFactor;function bc(Ss){return Ss=Ss.split("	").join(Array(vr.TabLen||9).join(" ")),Ro(Ss,Gi)}function wc(Ss){for(var us,ra=Ss.concat(),ga=[],$l=ra.length;$l--;)typeof(us=ra.shift())=="string"?ga.push(us):Array.isArray(Ss)&&(us.length===1||us[1]===void 0&&us[2]===void 0)?ga.push(us[0]):ga.push([us[0],us[1],us[2]]);return ga}function to(Ss,us){var ra;if(typeof Ss=="string")ra=us(Ss)[0];else if(Array.isArray(Ss)){for(var ga,$l,ih=Ss.concat(),Cu=[],qh=ih.length;qh--;)typeof(ga=ih.shift())=="string"?Cu.push(us(ga)[0]):Array.isArray(ga)&&typeof ga[0]=="string"&&($l=us(ga[0],ga[1],ga[2]),Cu.push([$l[0],$l[1],$l[2]]));ra=Cu}return ra}var ul=!1,Su=!0;if(typeof un=="string")ul=!0;else if(Array.isArray(un)){var nh=un.concat();Zr=[];for(var wo,ws=nh.length;ws--;)(typeof(wo=nh.shift())!="string"||Array.isArray(wo)&&typeof wo[0]!="string")&&(Su=!1);ul=Su}if(ul===!1)throw new Error('Type of text must be string or Array. "'+un+'" is not recognized.');typeof un=="string"&&(un=un.match(/[\r?\n]/)?un.split(/\r\n|\r|\n/g):[un]);var xu=cr/na.internal.scaleFactor,rh=xu*(zo-1);switch(vr.baseline){case"bottom":ur-=rh;break;case"top":ur+=xu-rh;break;case"hanging":ur+=xu-2*rh;break;case"middle":ur+=xu/2-rh}if((Mi=vr.maxWidth||0)>0&&(typeof un=="string"?un=na.splitTextToSize(un,Mi):Object.prototype.toString.call(un)==="[object Array]"&&(un=un.reduce(function(Ss,us){return Ss.concat(na.splitTextToSize(us,Mi))},[]))),Gr={text:un,x:Gn,y:ur,options:vr,mutex:{pdfEscape:Ro,activeFontKey:ei,fonts:dr,activeFontSize:cr}},wr.publish("preProcessText",Gr),un=Gr.text,li=(vr=Gr.options).angle,!(zs instanceof gi)&&li&&typeof li=="number"){li*=Math.PI/180,vr.rotationDirection===0&&(li=-li),ze===Ve.ADVANCED&&(li=-li);var Ho=Math.cos(li),hl=Math.sin(li);zs=new gi(Ho,hl,-hl,Ho,0,0)}else li&&li instanceof gi&&(zs=li);ze!==Ve.ADVANCED||zs||(zs=Fi),(Bi=vr.charSpace||bo)!==void 0&&(Sa+=Qe(fn(Bi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ys=vr.horizontalScale)!==void 0&&(Sa+=Qe(100*Ys)+` Tz
`),vr.lang;var ja=-1,_u=vr.renderingMode!==void 0?vr.renderingMode:vr.stroke,Rl=na.internal.getCurrentPageInfo().pageContext;switch(_u){case 0:case!1:case"fill":ja=0;break;case 1:case!0:case"stroke":ja=1;break;case 2:case"fillThenStroke":ja=2;break;case 3:case"invisible":ja=3;break;case 4:case"fillAndAddForClipping":ja=4;break;case 5:case"strokeAndAddPathForClipping":ja=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ja=6;break;case 7:case"addToPathForClipping":ja=7}var Ad=Rl.usedRenderingMode!==void 0?Rl.usedRenderingMode:-1;ja!==-1?Sa+=ja+` Tr
`:Ad!==-1&&(Sa+=`0 Tr
`),ja!==-1&&(Rl.usedRenderingMode=ja),_i=vr.align||"left";var Na,no=cr*zo,Wc=na.internal.pageSize.getWidth(),Wl=dr[ei];Bi=vr.charSpace||bo,Mi=vr.maxWidth||0,Gi=Object.assign({autoencode:!0,noBOM:!0},vr.flags);var La=[],Sc=function(Ss){return na.getStringUnitWidth(Ss,{font:Wl,charSpace:Bi,fontSize:cr,doKerning:!1})*cr/Go};if(Object.prototype.toString.call(un)==="[object Array]"){var xa;Zr=wc(un),_i!=="left"&&(Na=Zr.map(Sc));var ro,xc=0;if(_i==="right"){Gn-=Na[0],un=[],ws=Zr.length;for(var cs=0;cs<ws;cs++)cs===0?(ro=Qa(Gn),xa=$a(ur)):(ro=fn(xc-Na[cs]),xa=-no),un.push([Zr[cs],ro,xa]),xc=Na[cs]}else if(_i==="center"){Gn-=Na[0]/2,un=[],ws=Zr.length;for(var Dl=0;Dl<ws;Dl++)Dl===0?(ro=Qa(Gn),xa=$a(ur)):(ro=fn((xc-Na[Dl])/2),xa=-no),un.push([Zr[Dl],ro,xa]),xc=Na[Dl]}else if(_i==="left"){un=[],ws=Zr.length;for(var Au=0;Au<ws;Au++)un.push(Zr[Au])}else if(_i==="justify"&&Wl.encoding==="Identity-H"){un=[],ws=Zr.length,Mi=Mi!==0?Mi:Wc;for(var Kl=0,ts=0;ts<ws;ts++)if(xa=ts===0?$a(ur):-no,ro=ts===0?Qa(Gn):Kl,ts<ws-1){var Xl=fn((Mi-Na[ts])/(Zr[ts].split(" ").length-1)),la=Zr[ts].split(" ");un.push([la[0]+" ",ro,xa]),Kl=0;for(var Qi=1;Qi<la.length;Qi++){var Gs=(Sc(la[Qi-1]+" "+la[Qi])-Sc(la[Qi]))*Go+Xl;Qi==la.length-1?un.push([la[Qi],Gs,0]):un.push([la[Qi]+" ",Gs,0]),Kl-=Gs}}else un.push([Zr[ts],ro,xa]);un.push(["",Kl,0])}else{if(_i!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(un=[],ws=Zr.length,Mi=Mi!==0?Mi:Wc,ts=0;ts<ws;ts++)xa=ts===0?$a(ur):-no,ro=ts===0?Qa(Gn):0,ts<ws-1?La.push(Qe(fn((Mi-Na[ts])/(Zr[ts].split(" ").length-1)))):La.push(0),un.push([Zr[ts],ro,xa])}}var ca=typeof vr.R2L=="boolean"?vr.R2L:ir;ca===!0&&(un=to(un,function(Ss,us,ra){return[Ss.split("").reverse().join(""),us,ra]})),Gr={text:un,x:Gn,y:ur,options:vr,mutex:{pdfEscape:Ro,activeFontKey:ei,fonts:dr,activeFontSize:cr}},wr.publish("postProcessText",Gr),un=Gr.text,cl=Gr.mutex.isHex||!1;var _c=dr[ei].encoding;_c!=="WinAnsiEncoding"&&_c!=="StandardEncoding"||(un=to(un,function(Ss,us,ra){return[bc(Ss),us,ra]})),Zr=wc(un),un=[];for(var Yl,Zl,dl,Zs=0,Nl=1,Jl=Array.isArray(Zr[0])?Nl:Zs,Ql="",io=function(Ss,us,ra){var ga="";return ra instanceof gi?(ra=typeof vr.angle=="number"?Ri(ra,new gi(1,0,0,1,Ss,us)):Ri(new gi(1,0,0,1,Ss,us),ra),ze===Ve.ADVANCED&&(ra=Ri(new gi(1,0,0,-1,0,0),ra)),ga=ra.join(" ")+` Tm
`):ga=Qe(Ss)+" "+Qe(us)+` Td
`,ga},Ps=0;Ps<Zr.length;Ps++){switch(Ql="",Jl){case Nl:dl=(cl?"<":"(")+Zr[Ps][0]+(cl?">":")"),Yl=parseFloat(Zr[Ps][1]),Zl=parseFloat(Zr[Ps][2]);break;case Zs:dl=(cl?"<":"(")+Zr[Ps]+(cl?">":")"),Yl=Qa(Gn),Zl=$a(ur)}La!==void 0&&La[Ps]!==void 0&&(Ql=La[Ps]+` Tw
`),Ps===0?un.push(Ql+io(Yl,Zl,zs)+dl):Jl===Zs?un.push(Ql+dl):Jl===Nl&&un.push(Ql+io(Yl,Zl,zs)+dl)}un=Jl===Zs?un.join(` Tj
T* `):un.join(` Tj
`),un+=` Tj
`;var qa=`BT
/`;return qa+=ei+" "+cr+` Tf
`,qa+=Qe(cr*zo)+` TL
`,qa+=qs+`
`,qa+=Sa,qa+=un,wn(qa+="ET"),Oe[ei]=!0,na};var Tl=Re.__private__.clip=Re.clip=function(un){return wn(un==="evenodd"?"W*":"W"),this};Re.clipEvenOdd=function(){return Tl("evenodd")},Re.__private__.discardPath=Re.discardPath=function(){return wn("n"),this};var Hl=Re.__private__.isValidStyle=function(un){var Gn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(un)!==-1&&(Gn=!0),Gn};Re.__private__.setDefaultPathOperation=Re.setDefaultPathOperation=function(un){return Hl(un)&&(Fe=un),this};var xd=Re.__private__.getStyle=Re.getStyle=function(un){var Gn=Fe;switch(un){case"D":case"S":Gn="S";break;case"F":Gn="f";break;case"FD":case"DF":Gn="B";break;case"f":case"f*":case"B":case"B*":Gn=un}return Gn},vu=Re.close=function(){return wn("h"),this};Re.stroke=function(){return wn("S"),this},Re.fill=function(un){return ta("f",un),this},Re.fillEvenOdd=function(un){return ta("f*",un),this},Re.fillStroke=function(un){return ta("B",un),this},Re.fillStrokeEvenOdd=function(un){return ta("B*",un),this};var ta=function(un,Gn){_typeof(Gn)==="object"?Mh(Gn,un):wn(un)},yu=function(un){un===null||ze===Ve.ADVANCED&&un===void 0||(un=xd(un),wn(un))};function Oh(un,Gn,ur,vr,kr){var Gr=new M(Gn||this.boundingBox,ur||this.xStep,vr||this.yStep,this.gState,kr||this.matrix);Gr.stream=this.stream;var Zr=un+"$$"+this.cloneIndex+++"$$";return Vi(Zr,Gr),Gr}var Mh=function(un,Gn){var ur=di[un.key],vr=Br[ur];if(vr instanceof B)wn("q"),wn(mp(Gn)),vr.gState&&Re.setGState(vr.gState),wn(un.matrix.toString()+" cm"),wn("/"+ur+" sh"),wn("Q");else if(vr instanceof M){var kr=new gi(1,0,0,-1,0,yc());un.matrix&&(kr=kr.multiply(un.matrix||Fi),ur=Oh.call(vr,un.key,un.boundingBox,un.xStep,un.yStep,kr).id),wn("q"),wn("/Pattern cs"),wn("/"+ur+" scn"),vr.gState&&Re.setGState(vr.gState),wn(Gn),wn("Q")}},mp=function(un){switch(un){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},kl=Re.moveTo=function(un,Gn){return wn(Qe(fn(un))+" "+Qe(cn(Gn))+" m"),this},ba=Re.lineTo=function(un,Gn){return wn(Qe(fn(un))+" "+Qe(cn(Gn))+" l"),this},sl=Re.curveTo=function(un,Gn,ur,vr,kr,Gr){return wn([Qe(fn(un)),Qe(cn(Gn)),Qe(fn(ur)),Qe(cn(vr)),Qe(fn(kr)),Qe(cn(Gr)),"c"].join(" ")),this};Re.__private__.line=Re.line=function(un,Gn,ur,vr,kr){if(isNaN(un)||isNaN(Gn)||isNaN(ur)||isNaN(vr)||!Hl(kr))throw new Error("Invalid arguments passed to jsPDF.line");return ze===Ve.COMPAT?this.lines([[ur-un,vr-Gn]],un,Gn,[1,1],kr||"S"):this.lines([[ur-un,vr-Gn]],un,Gn,[1,1]).stroke()},Re.__private__.lines=Re.lines=function(un,Gn,ur,vr,kr,Gr){var Zr,li,_i,Bi,Mi,Gi,Ys,zs,na,pa,Sa,cl;if(typeof un=="number"&&(cl=ur,ur=Gn,Gn=un,un=cl),vr=vr||[1,1],Gr=Gr||!1,isNaN(Gn)||isNaN(ur)||!Array.isArray(un)||!Array.isArray(vr)||!Hl(kr)||typeof Gr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kl(Gn,ur),Zr=vr[0],li=vr[1],Bi=un.length,pa=Gn,Sa=ur,_i=0;_i<Bi;_i++)(Mi=un[_i]).length===2?(pa=Mi[0]*Zr+pa,Sa=Mi[1]*li+Sa,ba(pa,Sa)):(Gi=Mi[0]*Zr+pa,Ys=Mi[1]*li+Sa,zs=Mi[2]*Zr+pa,na=Mi[3]*li+Sa,pa=Mi[4]*Zr+pa,Sa=Mi[5]*li+Sa,sl(Gi,Ys,zs,na,pa,Sa));return Gr&&vu(),yu(kr),this},Re.path=function(un){for(var Gn=0;Gn<un.length;Gn++){var ur=un[Gn],vr=ur.c;switch(ur.op){case"m":kl(vr[0],vr[1]);break;case"l":ba(vr[0],vr[1]);break;case"c":sl.apply(this,vr);break;case"h":vu()}}return this},Re.__private__.rect=Re.rect=function(un,Gn,ur,vr,kr){if(isNaN(un)||isNaN(Gn)||isNaN(ur)||isNaN(vr)||!Hl(kr))throw new Error("Invalid arguments passed to jsPDF.rect");return ze===Ve.COMPAT&&(vr=-vr),wn([Qe(fn(un)),Qe(cn(Gn)),Qe(fn(ur)),Qe(fn(vr)),"re"].join(" ")),yu(kr),this},Re.__private__.triangle=Re.triangle=function(un,Gn,ur,vr,kr,Gr,Zr){if(isNaN(un)||isNaN(Gn)||isNaN(ur)||isNaN(vr)||isNaN(kr)||isNaN(Gr)||!Hl(Zr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ur-un,vr-Gn],[kr-ur,Gr-vr],[un-kr,Gn-Gr]],un,Gn,[1,1],Zr,!0),this},Re.__private__.roundedRect=Re.roundedRect=function(un,Gn,ur,vr,kr,Gr,Zr){if(isNaN(un)||isNaN(Gn)||isNaN(ur)||isNaN(vr)||isNaN(kr)||isNaN(Gr)||!Hl(Zr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var li=4/3*(Math.SQRT2-1);return kr=Math.min(kr,.5*ur),Gr=Math.min(Gr,.5*vr),this.lines([[ur-2*kr,0],[kr*li,0,kr,Gr-Gr*li,kr,Gr],[0,vr-2*Gr],[0,Gr*li,-kr*li,Gr,-kr,Gr],[2*kr-ur,0],[-kr*li,0,-kr,-Gr*li,-kr,-Gr],[0,2*Gr-vr],[0,-Gr*li,kr*li,-Gr,kr,-Gr]],un+kr,Gn,[1,1],Zr,!0),this},Re.__private__.ellipse=Re.ellipse=function(un,Gn,ur,vr,kr){if(isNaN(un)||isNaN(Gn)||isNaN(ur)||isNaN(vr)||!Hl(kr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Gr=4/3*(Math.SQRT2-1)*ur,Zr=4/3*(Math.SQRT2-1)*vr;return kl(un+ur,Gn),sl(un+ur,Gn-Zr,un+Gr,Gn-vr,un,Gn-vr),sl(un-Gr,Gn-vr,un-ur,Gn-Zr,un-ur,Gn),sl(un-ur,Gn+Zr,un-Gr,Gn+vr,un,Gn+vr),sl(un+Gr,Gn+vr,un+ur,Gn+Zr,un+ur,Gn),yu(kr),this},Re.__private__.circle=Re.circle=function(un,Gn,ur,vr){if(isNaN(un)||isNaN(Gn)||isNaN(ur)||!Hl(vr))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(un,Gn,ur,ur,vr)},Re.setFont=function(un,Gn,ur){return ur&&(Gn=Je(Gn,ur)),ei=Ih(un,Gn,{disableWarning:!1}),this};var Bh=Re.__private__.getFont=Re.getFont=function(){return dr[Ih.apply(Re,arguments)]};Re.__private__.getFontList=Re.getFontList=function(){var un,Gn,ur={};for(un in Pr)if(Pr.hasOwnProperty(un))for(Gn in ur[un]=[],Pr[un])Pr[un].hasOwnProperty(Gn)&&ur[un].push(Gn);return ur},Re.addFont=function(un,Gn,ur,vr,kr){var Gr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Gr.indexOf(arguments[3])!==-1?kr=arguments[3]:arguments[3]&&Gr.indexOf(arguments[3])==-1&&(ur=Je(ur,vr)),kr=kr||"Identity-H",rl.call(this,un,Gn,ur,kr)};var Ja,al=xe.lineWidth||.200025,Vl=Re.__private__.getLineWidth=Re.getLineWidth=function(){return al},Hc=Re.__private__.setLineWidth=Re.setLineWidth=function(un){return al=un,wn(Qe(fn(un))+" w"),this};Re.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(un,Gn){if(un=un||[],Gn=Gn||0,isNaN(Gn)||!Array.isArray(un))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return un=un.map(function(ur){return Qe(fn(ur))}).join(" "),Gn=Qe(fn(Gn)),wn("["+un+"] "+Gn+" d"),this};var Qu=Re.__private__.getLineHeight=Re.getLineHeight=function(){return cr*Ja};Re.__private__.getLineHeight=Re.getLineHeight=function(){return cr*Ja};var _d=Re.__private__.setLineHeightFactor=Re.setLineHeightFactor=function(un){return typeof(un=un||1.15)=="number"&&(Ja=un),this},wa=Re.__private__.getLineHeightFactor=Re.getLineHeightFactor=function(){return Ja};_d(xe.lineHeight);var Qa=Re.__private__.getHorizontalCoordinate=function(un){return fn(un)},$a=Re.__private__.getVerticalCoordinate=function(un){return ze===Ve.ADVANCED?un:fr[sn].mediaBox.topRightY-fr[sn].mediaBox.bottomLeftY-fn(un)},$u=Re.__private__.getHorizontalCoordinateString=Re.getHorizontalCoordinateString=function(un){return Qe(Qa(un))},qo=Re.__private__.getVerticalCoordinateString=Re.getVerticalCoordinateString=function(un){return Qe($a(un))},js=xe.strokeColor||"0 G";Re.__private__.getStrokeColor=Re.getDrawColor=function(){return ys(js)},Re.__private__.setStrokeColor=Re.setDrawColor=function(un,Gn,ur,vr){return js=ks({ch1:un,ch2:Gn,ch3:ur,ch4:vr,pdfColorType:"draw",precision:2}),wn(js),this};var eo=xe.fillColor||"0 g";Re.__private__.getFillColor=Re.getFillColor=function(){return ys(eo)},Re.__private__.setFillColor=Re.setFillColor=function(un,Gn,ur,vr){return eo=ks({ch1:un,ch2:Gn,ch3:ur,ch4:vr,pdfColorType:"fill",precision:2}),wn(eo),this};var qs=xe.textColor||"0 g",yo=Re.__private__.getTextColor=Re.getTextColor=function(){return ys(qs)};Re.__private__.setTextColor=Re.setTextColor=function(un,Gn,ur,vr){return qs=ks({ch1:un,ch2:Gn,ch3:ur,ch4:vr,pdfColorType:"text",precision:3}),this};var bo=xe.charSpace,ol=Re.__private__.getCharSpace=Re.getCharSpace=function(){return parseFloat(bo||0)};Re.__private__.setCharSpace=Re.setCharSpace=function(un){if(isNaN(un))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bo=un,this};var Uh=0;Re.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Re.__private__.setLineCap=Re.setLineCap=function(un){var Gn=Re.CapJoinStyles[un];if(Gn===void 0)throw new Error("Line cap style of '"+un+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uh=Gn,wn(Gn+" J"),this};var Vc=0;Re.__private__.setLineJoin=Re.setLineJoin=function(un){var Gn=Re.CapJoinStyles[un];if(Gn===void 0)throw new Error("Line join style of '"+un+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vc=Gn,wn(Gn+" j"),this},Re.__private__.setLineMiterLimit=Re.__private__.setMiterLimit=Re.setLineMiterLimit=Re.setMiterLimit=function(un){if(un=un||0,isNaN(un))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return wn(Qe(fn(un))+" M"),this},Re.GState=j,Re.setGState=function(un){(un=typeof un=="string"?An[Er[un]]:bu(null,un)).equals(Lr)||(wn("/"+un.id+" gs"),Lr=un)};var bu=function(un,Gn){if(!un||!Er[un]){var ur=!1;for(var vr in An)if(An.hasOwnProperty(vr)&&An[vr].equals(Gn)){ur=!0;break}if(ur)Gn=An[vr];else{var kr="GS"+(Object.keys(An).length+1).toString(10);An[kr]=Gn,Gn.id=kr}return un&&(Er[un]=Gn.id),wr.publish("addGState",Gn),Gn}};Re.addGState=function(un,Gn){return bu(un,Gn),this},Re.saveGraphicsState=function(){return wn("q"),Hn.push({key:ei,size:cr,color:qs}),this},Re.restoreGraphicsState=function(){wn("Q");var un=Hn.pop();return ei=un.key,cr=un.size,qs=un.color,Lr=null,this},Re.setCurrentTransformationMatrix=function(un){return wn(un.toString()+" cm"),this},Re.comment=function(un){return wn("#"+un),this};var oa=function(un,Gn){var ur=un||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ur},set:function(Gr){isNaN(Gr)||(ur=parseFloat(Gr))}});var vr=Gn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return vr},set:function(Gr){isNaN(Gr)||(vr=parseFloat(Gr))}});var kr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return kr},set:function(Gr){kr=Gr.toString()}}),this},Da=function(un,Gn,ur,vr){oa.call(this,un,Gn),this.type="rect";var kr=ur||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return kr},set:function(Zr){isNaN(Zr)||(kr=parseFloat(Zr))}});var Gr=vr||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Gr},set:function(Zr){isNaN(Zr)||(Gr=parseFloat(Zr))}}),this},bs=function(){this.page=Qn,this.currentPage=sn,this.pages=Zn.slice(0),this.pagesContext=fr.slice(0),this.x=ar,this.y=sr,this.matrix=Tr,this.width=vc(sn),this.height=yc(sn),this.outputDestination=Tn,this.id="",this.objectNumber=-1};bs.prototype.restore=function(){Qn=this.page,sn=this.currentPage,fr=this.pagesContext,Zn=this.pages,ar=this.x,sr=this.y,Tr=this.matrix,th(sn,this.width),jh(sn,this.height),Tn=this.outputDestination};var wu=function(un,Gn,ur,vr,kr){ki.push(new bs),Qn=sn=0,Zn=[],ar=un,sr=Gn,Tr=kr,pc([ur,vr])},ll=function(un){if(ri[un])ki.pop().restore();else{var Gn=new bs,ur="Xo"+(Object.keys(Qr).length+1).toString(10);Gn.id=ur,ri[un]=ur,Qr[ur]=Gn,wr.publish("addFormObject",Gn),ki.pop().restore()}};for(var eh in Re.beginFormObject=function(un,Gn,ur,vr,kr){return wu(un,Gn,ur,vr,kr),this},Re.endFormObject=function(un){return ll(un),this},Re.doFormObject=function(un,Gn){var ur=Qr[ri[un]];return wn("q"),wn(Gn.toString()+" cm"),wn("/"+ur.id+" Do"),wn("Q"),this},Re.getFormObject=function(un){var Gn=Qr[ri[un]];return{x:Gn.x,y:Gn.y,width:Gn.width,height:Gn.height,matrix:Gn.matrix}},Re.save=function(un,Gn){return un=un||"generated.pdf",(Gn=Gn||{}).returnPromise=Gn.returnPromise||!1,Gn.returnPromise===!1?(l(qc(gc()),un),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(ur,vr){try{var kr=l(qc(gc()),un);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),ur(kr)}catch(Gr){vr(Gr.message)}})},E.API)E.API.hasOwnProperty(eh)&&(eh==="events"&&E.API.events.length?function(un,Gn){var ur,vr,kr;for(kr=Gn.length-1;kr!==-1;kr--)ur=Gn[kr][0],vr=Gn[kr][1],un.subscribe.apply(un,[ur].concat(typeof vr=="function"?[vr]:vr))}(wr,E.API.events):Re[eh]=E.API[eh]);var vc=Re.getPageWidth=function(un){return(fr[un=un||sn].mediaBox.topRightX-fr[un].mediaBox.bottomLeftX)/Ln},th=Re.setPageWidth=function(un,Gn){fr[un].mediaBox.topRightX=Gn*Ln+fr[un].mediaBox.bottomLeftX},yc=Re.getPageHeight=function(un){return(fr[un=un||sn].mediaBox.topRightY-fr[un].mediaBox.bottomLeftY)/Ln},jh=Re.setPageHeight=function(un,Gn){fr[un].mediaBox.topRightY=Gn*Ln+fr[un].mediaBox.bottomLeftY};return Re.internal={pdfEscape:Ro,getStyle:xd,getFont:Bh,getFontSize:rr,getCharSpace:ol,getTextColor:yo,getLineHeight:Qu,getLineHeightFactor:wa,getLineWidth:Vl,write:Vn,getHorizontalCoordinate:Qa,getVerticalCoordinate:$a,getCoordinateString:$u,getVerticalCoordinateString:qo,collections:{},newObject:ji,newAdditionalObject:mo,newObjectDeferred:Ki,newObjectDeferredBegin:fa,getFilters:aa,putStream:vo,events:wr,scaleFactor:Ln,pageSize:{getWidth:function(){return vc(sn)},setWidth:function(un){th(sn,un)},getHeight:function(){return yc(sn)},setHeight:function(un){jh(sn,un)}},encryptionOptions:ke,encryption:Rs,getEncryptor:mc,output:zc,getNumberOfPages:gp,pages:Zn,out:wn,f2:an,f3:rn,getPageInfo:il,getPageInfoByObjId:ai,getCurrentPageInfo:mu,getPDFVersion:je,Point:oa,Rectangle:Da,Matrix:gi,hasHotfix:Gc},Object.defineProperty(Re.internal.pageSize,"width",{get:function(){return vc(sn)},set:function(un){th(sn,un)},enumerable:!0,configurable:!0}),Object.defineProperty(Re.internal.pageSize,"height",{get:function(){return yc(sn)},set:function(un){jh(sn,un)},enumerable:!0,configurable:!0}),ya.call(Re,tr),ei="F1",Lh(_e,t),wr.publish("initialized"),Re}I.prototype.lsbFirstWord=function(xe){return String.fromCharCode(xe>>0&255,xe>>8&255,xe>>16&255,xe>>24&255)},I.prototype.toHexString=function(xe){return xe.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(xe){for(var e=[],t=0;t<xe.length;t+=2)e.push(String.fromCharCode(parseInt(xe.substr(t,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(xe,e){return P(x(e).substr(0,5),xe)},I.prototype.encryptor=function(xe,e){var t=x(this.encryptionKey+String.fromCharCode(255&xe,xe>>8&255,xe>>16&255,255&e,e>>8&255)).substr(0,10);return function(Se){return P(t,Se)}},j.prototype.equals=function(xe){var e,t="id,objectNumber,equals";if(!xe||_typeof(xe)!==_typeof(this))return!1;var Se=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!xe.hasOwnProperty(e)||this[e]!==xe[e])return!1;Se++}for(e in xe)xe.hasOwnProperty(e)&&t.indexOf(e)<0&&Se--;return Se===0},E.API={events:[]},E.version="2.5.2";var q=E.API,D=1,R=function(xe){return xe.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(xe){return xe.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(xe){return xe.toFixed(2)},z=function(xe){return xe.toFixed(5)};q.__acroform__={};var H=function(xe,e){xe.prototype=Object.create(e.prototype),xe.prototype.constructor=xe},W=function(xe){return xe*D},V=function(xe){var e=new ut,t=At.internal.getHeight(xe)||0,Se=At.internal.getWidth(xe)||0;return e.BBox=[0,0,Number(U(Se)),Number(U(t))],e},G=q.__acroform__.setBit=function(xe,e){if(xe=xe||0,e=e||0,isNaN(xe)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return xe|=1<<e},Y=q.__acroform__.clearBit=function(xe,e){if(xe=xe||0,e=e||0,isNaN(xe)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return xe&=~(1<<e)},J=q.__acroform__.getBit=function(xe,e){if(isNaN(xe)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return xe&1<<e?1:0},X=q.__acroform__.getBitForPdf=function(xe,e){if(isNaN(xe)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(xe,e-1)},K=q.__acroform__.setBitForPdf=function(xe,e){if(isNaN(xe)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(xe,e-1)},Z=q.__acroform__.clearBitForPdf=function(xe,e){if(isNaN(xe)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(xe,e-1)},$=q.__acroform__.calculateCoordinates=function(xe,e){var t=e.internal.getHorizontalCoordinate,Se=e.internal.getVerticalCoordinate,_e=xe[0],Ae=xe[1],Ce=xe[2],Pe=xe[3],Ee={};return Ee.lowerLeft_X=t(_e)||0,Ee.lowerLeft_Y=Se(Ae+Pe)||0,Ee.upperRight_X=t(_e+Ce)||0,Ee.upperRight_Y=Se(Ae)||0,[Number(U(Ee.lowerLeft_X)),Number(U(Ee.lowerLeft_Y)),Number(U(Ee.upperRight_X)),Number(U(Ee.upperRight_Y))]},Q=function(xe){if(xe.appearanceStreamContent)return xe.appearanceStreamContent;if(xe.V||xe.DV){var e=[],t=xe._V||xe.DV,Se=tt(xe,t),_e=xe.scope.internal.getFont(xe.fontName,xe.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(xe.scope.__private__.encodeColorString(xe.color)),e.push("/"+_e+" "+U(Se.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(Se.text),e.push("ET"),e.push("Q"),e.push("EMC");var Ae=V(xe);return Ae.scope=xe.scope,Ae.stream=e.join(`
`),Ae}},tt=function(xe,e){var t=xe.fontSize===0?xe.maxFontSize:xe.fontSize,Se={text:"",fontSize:""},_e=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");_e=xe.multiline?_e.map(function(rn){return rn.split(`
`)}):_e.map(function(rn){return[rn]});var Ae=t,Ce=At.internal.getHeight(xe)||0;Ce=Ce<0?-Ce:Ce;var Pe=At.internal.getWidth(xe)||0;Pe=Pe<0?-Pe:Pe;var Ee=function(rn,fn,nn){if(rn+1<_e.length){var cn=fn+" "+_e[rn+1][0];return et(cn,xe,nn).width<=Pe-4}return!1};Ae++;e:for(;Ae>0;){e="",Ae--;var Fe,ke,Ie=et("3",xe,Ae).height,Oe=xe.multiline?Ce-Ae:(Ce-Ie)/2,Re=Oe+=2,Be=0,je=0,He=0;if(Ae<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,xe,Ae=12).width+", FieldWidth:"+Pe+`
`;break}for(var Ge="",Ve=0,ze=0;ze<_e.length;ze++)if(_e.hasOwnProperty(ze)){var Xe=!1;if(_e[ze].length!==1&&He!==_e[ze].length-1){if((Ie+2)*(Ve+2)+2>Ce)continue e;Ge+=_e[ze][He],Xe=!0,je=ze,ze--}else{Ge=(Ge+=_e[ze][He]+" ").substr(Ge.length-1)==" "?Ge.substr(0,Ge.length-1):Ge;var We=parseInt(ze),Je=Ee(We,Ge,Ae),Qe=ze>=_e.length-1;if(Je&&!Qe){Ge+=" ",He=0;continue}if(Je||Qe){if(Qe)je=We;else if(xe.multiline&&(Ie+2)*(Ve+2)+2>Ce)continue e}else{if(!xe.multiline||(Ie+2)*(Ve+2)+2>Ce)continue e;je=We}}for(var Ze="",on=Be;on<=je;on++){var an=_e[on];if(xe.multiline){if(on===je){Ze+=an[He]+" ",He=(He+1)%an.length;continue}if(on===Be){Ze+=an[an.length-1]+" ";continue}}Ze+=an[0]+" "}switch(Ze=Ze.substr(Ze.length-1)==" "?Ze.substr(0,Ze.length-1):Ze,ke=et(Ze,xe,Ae).width,xe.textAlign){case"right":Fe=Pe-ke-2;break;case"center":Fe=(Pe-ke)/2;break;case"left":default:Fe=2}e+=U(Fe)+" "+U(Re)+` Td
`,e+="("+R(Ze)+`) Tj
`,e+=-U(Fe)+` 0 Td
`,Re=-(Ae+2),ke=0,Be=Xe?je:je+1,Ve++,Ge=""}break}return Se.text=e,Se.fontSize=Ae,Se},et=function(xe,e,t){var Se=e.scope.internal.getFont(e.fontName,e.fontStyle),_e=e.scope.getStringUnitWidth(xe,{font:Se,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:Se,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:_e}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(xe,e){var t={type:"reference",object:xe};e.internal.getPageInfo(xe.page).pageContext.annotations.find(function(Se){return Se.type===t.type&&Se.object===t.object})===void 0&&e.internal.getPageInfo(xe.page).pageContext.annotations.push(t)},it=function(xe,e){for(var t in xe)if(xe.hasOwnProperty(t)){var Se=t,_e=xe[t];e.internal.newObjectDeferredBegin(_e.objId,!0),_typeof(_e)==="object"&&typeof _e.putStream=="function"&&_e.putStream(),delete xe[Se]}},at=function(xe,e){if(e.scope=xe,xe.internal!==void 0&&(xe.internal.acroformPlugin===void 0||xe.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,xe.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),xe.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=xe.internal.scaleFactor,xe.internal.acroformPlugin.acroFormDictionaryRoot=new ht,xe.internal.acroformPlugin.acroFormDictionaryRoot.scope=xe,xe.internal.acroformPlugin.acroFormDictionaryRoot._eventID=xe.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(xe)}),xe.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Se=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var _e in Se)if(Se.hasOwnProperty(_e)){var Ae=Se[_e];Ae.objId=void 0,Ae.hasAnnotation&&nt(Ae,t)}})(xe)}),xe.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(xe)}),xe.internal.events.subscribe("postPutPages",function(t){(function(Se,_e){var Ae=!Se;for(var Ce in Se||(_e.internal.newObjectDeferredBegin(_e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),_e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Se=Se||_e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Se.hasOwnProperty(Ce)){var Pe=Se[Ce],Ee=[],Fe=Pe.Rect;if(Pe.Rect&&(Pe.Rect=$(Pe.Rect,_e)),_e.internal.newObjectDeferredBegin(Pe.objId,!0),Pe.DA=At.createDefaultAppearanceStream(Pe),_typeof(Pe)==="object"&&typeof Pe.getKeyValueListForStream=="function"&&(Ee=Pe.getKeyValueListForStream()),Pe.Rect=Fe,Pe.hasAppearanceStream&&!Pe.appearanceStreamContent){var ke=Q(Pe);Ee.push({key:"AP",value:"<</N "+ke+">>"}),_e.internal.acroformPlugin.xForms.push(ke)}if(Pe.appearanceStreamContent){var Ie="";for(var Oe in Pe.appearanceStreamContent)if(Pe.appearanceStreamContent.hasOwnProperty(Oe)){var Re=Pe.appearanceStreamContent[Oe];if(Ie+="/"+Oe+" ",Ie+="<<",Object.keys(Re).length>=1||Array.isArray(Re)){for(var Ce in Re)if(Re.hasOwnProperty(Ce)){var Be=Re[Ce];typeof Be=="function"&&(Be=Be.call(_e,Pe)),Ie+="/"+Ce+" "+Be+" ",_e.internal.acroformPlugin.xForms.indexOf(Be)>=0||_e.internal.acroformPlugin.xForms.push(Be)}}else typeof(Be=Re)=="function"&&(Be=Be.call(_e,Pe)),Ie+="/"+Ce+" "+Be,_e.internal.acroformPlugin.xForms.indexOf(Be)>=0||_e.internal.acroformPlugin.xForms.push(Be);Ie+=">>"}Ee.push({key:"AP",value:`<<
`+Ie+">>"})}_e.internal.putStream({additionalKeyValues:Ee,objectId:Pe.objId}),_e.internal.out("endobj")}Ae&&it(_e.internal.acroformPlugin.xForms,_e)})(t,xe)}),xe.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(xe,e,t){var Se=function(Ce){return Ce};if(Array.isArray(xe)){for(var _e="[",Ae=0;Ae<xe.length;Ae++)switch(Ae!==0&&(_e+=" "),_typeof(xe[Ae])){case"boolean":case"number":case"object":_e+=xe[Ae].toString();break;case"string":xe[Ae].substr(0,1)!=="/"?(e!==void 0&&t&&(Se=t.internal.getEncryptor(e)),_e+="("+R(Se(xe[Ae].toString()))+")"):_e+=xe[Ae].toString()}return _e+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(xe,e,t){var Se=function(_e){return _e};return e!==void 0&&t&&(Se=t.internal.getEncryptor(e)),(xe=xe||"").toString(),xe="("+R(Se(xe))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(xe){this._objId=xe}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var xe=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:xe,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var xe=[],e=Object.getOwnPropertyNames(this).filter(function(Ae){return Ae!="content"&&Ae!="appearanceStreamContent"&&Ae!="scope"&&Ae!="objId"&&Ae.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var Se=e[t],_e=this[Se];_e&&(Array.isArray(_e)?xe.push({key:Se,value:ot(_e,this.objId,this.scope)}):_e instanceof ct?(_e.scope=this.scope,xe.push({key:Se,value:_e.objId+" 0 R"})):typeof _e!="function"&&xe.push({key:Se,value:_e}))}return xe};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var xe,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){xe=t.trim()},get:function(){return xe||null}})};H(ut,ct);var ht=function(){ct.call(this);var xe,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(xe){var t=function(Se){return Se};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+R(t(xe))+")"}},set:function(t){xe=t}})};H(ht,ct);var lt=function xe(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Ge){if(isNaN(Ge))throw new Error('Invalid value "'+Ge+'" for attribute F supplied.');e=Ge}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(e,3)},set:function(Ge){Ge?this.F=K(e,3):this.F=Z(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Ge){if(isNaN(Ge))throw new Error('Invalid value "'+Ge+'" for attribute Ff supplied.');t=Ge}});var Se=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Se.length!==0)return Se},set:function(Ge){Se=Ge!==void 0?Ge:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Se||isNaN(Se[0])?0:Se[0]},set:function(Ge){Se[0]=Ge}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Se||isNaN(Se[1])?0:Se[1]},set:function(Ge){Se[1]=Ge}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Se||isNaN(Se[2])?0:Se[2]},set:function(Ge){Se[2]=Ge}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Se||isNaN(Se[3])?0:Se[3]},set:function(Ge){Se[3]=Ge}});var _e="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return _e},set:function(Ge){switch(Ge){case"/Btn":case"/Tx":case"/Ch":case"/Sig":_e=Ge;break;default:throw new Error('Invalid value "'+Ge+'" for attribute FT supplied.')}}});var Ae=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Ae||Ae.length<1){if(this instanceof yt)return;Ae="FieldObject"+xe.FieldNum++}var Ge=function(Ve){return Ve};return this.scope&&(Ge=this.scope.internal.getEncryptor(this.objId)),"("+R(Ge(Ae))+")"},set:function(Ge){Ae=Ge.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Ae},set:function(Ge){Ae=Ge}});var Ce="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Ge){Ce=Ge}});var Pe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Pe},set:function(Ge){Pe=Ge}});var Ee=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(Ge){Ee=Ge}});var Fe=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Fe===void 0?50/D:Fe},set:function(Ge){Fe=Ge}});var ke="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ke},set:function(Ge){ke=Ge}});var Ie="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ie||this instanceof yt||this instanceof Nt))return st(Ie,this.objId,this.scope)},set:function(Ge){Ge=Ge.toString(),Ie=Ge}});var Oe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof mt?Oe:st(Oe,this.objId,this.scope)},set:function(Ge){Ge=Ge.toString(),Oe=this instanceof mt?Ge:Ge.substr(0,1)==="("?T(Ge.substr(1,Ge.length-2)):T(Ge)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Oe.substr(1,Oe.length-1)):Oe},set:function(Ge){Ge=Ge.toString(),Oe=this instanceof mt?"/"+Ge:Ge}});var Re=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Re)return Re},set:function(Ge){this.V=Ge}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Re)return this instanceof mt?Re:st(Re,this.objId,this.scope)},set:function(Ge){Ge=Ge.toString(),Re=this instanceof mt?Ge:Ge.substr(0,1)==="("?T(Ge.substr(1,Ge.length-2)):T(Ge)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Re.substr(1,Re.length-1)):Re},set:function(Ge){Ge=Ge.toString(),Re=this instanceof mt?"/"+Ge:Ge}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Be,je=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return je},set:function(Ge){Ge=!!Ge,je=Ge}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Be)return Be},set:function(Ge){Be=Ge}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(Ge){Ge?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(Ge){Ge?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(Ge){Ge?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var He=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(He!==null)return He},set:function(Ge){if([0,1,2].indexOf(Ge)===-1)throw new Error('Invalid value "'+Ge+'" for attribute Q supplied.');He=Ge}}),Object.defineProperty(this,"textAlign",{get:function(){var Ge;switch(He){case 0:default:Ge="left";break;case 1:Ge="center";break;case 2:Ge="right"}return Ge},configurable:!0,enumerable:!0,set:function(Ge){switch(Ge){case"right":case 2:He=2;break;case"center":case 1:He=1;break;case"left":case 0:default:He=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var xe=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return xe},set:function(t){xe=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return xe},set:function(t){xe=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(t){var Se,_e;_e=[],typeof(Se=t)=="string"&&(_e=function(Ae,Ce,Pe){Pe||(Pe=1);for(var Ee,Fe=[];Ee=Ce.exec(Ae);)Fe.push(Ee[Pe]);return Fe}(Se,/\((.*?)\)/g)),e=_e}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,Se){for(Se=Se||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),Se!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(t){t?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(t){t?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(t){t?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(t){t?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(t){t?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(t){t?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(t){t?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(t){t?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(t){t?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var xe,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(Ae){return Ae};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var Se,_e=[];for(Se in _e.push("<<"),e)_e.push("/"+Se+" ("+R(t(e[Se]))+")");return _e.push(">>"),_e.join(`
`)}},set:function(t){_typeof(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return xe},set:function(t){xe=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return xe.substr(1,xe.length-1)},set:function(t){xe="/"+t}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var xe=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return xe},set:function(e){xe=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var xe,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return xe},set:function(_e){xe=_e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(_e){e=_e}});var t,Se={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var _e=function(Pe){return Pe};this.scope&&(_e=this.scope.internal.getEncryptor(this.objId));var Ae,Ce=[];for(Ae in Ce.push("<<"),Se)Ce.push("/"+Ae+" ("+R(_e(Se[Ae]))+")");return Ce.push(">>"),Ce.join(`
`)},set:function(_e){_typeof(_e)==="object"&&(Se=_e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Se.CA||""},set:function(_e){typeof _e=="string"&&(Se.CA=_e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_e){t=_e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(_e){t="/"+_e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(xe){if(!("createAppearanceStream"in xe)||!("getCA"in xe))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=xe.createAppearanceStream(t.optionName),t.caption=xe.getCA()}},bt.prototype.createOption=function(xe){var e=new yt;return e.Parent=this,e.optionName=xe,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(e){e?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(e){e?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(e){e?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(e){e?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(e){e?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(e){e?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var xe=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return xe},set:function(e){xe=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return xe},set:function(e){Number.isInteger(e)&&(xe=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(xe){xe?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(xe){var e=V(xe);e.scope=xe.scope;var t=[],Se=xe.scope.internal.getFont(xe.fontName,xe.fontStyle).id,_e=xe.scope.__private__.encodeColorString(xe.color),Ae=tt(xe,xe.caption);return t.push("0.749023 g"),t.push("0 0 "+U(At.internal.getWidth(xe))+" "+U(At.internal.getHeight(xe))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+Se+" "+U(Ae.fontSize)+" Tf "+_e),t.push("BT"),t.push(Ae.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(xe){var e=V(xe);e.scope=xe.scope;var t=xe.scope.internal.getFont(xe.fontName,xe.fontStyle).id,Se=xe.scope.__private__.encodeColorString(xe.color),_e=[],Ae=At.internal.getHeight(xe),Ce=At.internal.getWidth(xe),Pe=tt(xe,xe.caption);return _e.push("1 g"),_e.push("0 0 "+U(Ce)+" "+U(Ae)+" re"),_e.push("f"),_e.push("q"),_e.push("0 0 1 rg"),_e.push("0 0 "+U(Ce-1)+" "+U(Ae-1)+" re"),_e.push("W"),_e.push("n"),_e.push("0 g"),_e.push("BT"),_e.push("/"+t+" "+U(Pe.fontSize)+" Tf "+Se),_e.push(Pe.text),_e.push("ET"),_e.push("Q"),e.stream=_e.join(`
`),e},OffPushDown:function(xe){var e=V(xe);e.scope=xe.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+U(At.internal.getWidth(xe))+" "+U(At.internal.getHeight(xe))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(xe){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[xe]=At.RadioButton.Circle.YesNormal,e.D[xe]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(xe){var e=V(xe);e.scope=xe.scope;var t=[],Se=At.internal.getWidth(xe)<=At.internal.getHeight(xe)?At.internal.getWidth(xe)/4:At.internal.getHeight(xe)/4;Se=Number((.9*Se).toFixed(5));var _e=At.internal.Bezier_C,Ae=Number((Se*_e).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth(xe)/2)+" "+z(At.internal.getHeight(xe)/2)+" cm"),t.push(Se+" 0 m"),t.push(Se+" "+Ae+" "+Ae+" "+Se+" 0 "+Se+" c"),t.push("-"+Ae+" "+Se+" -"+Se+" "+Ae+" -"+Se+" 0 c"),t.push("-"+Se+" -"+Ae+" -"+Ae+" -"+Se+" 0 -"+Se+" c"),t.push(Ae+" -"+Se+" "+Se+" -"+Ae+" "+Se+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(xe){var e=V(xe);e.scope=xe.scope;var t=[],Se=At.internal.getWidth(xe)<=At.internal.getHeight(xe)?At.internal.getWidth(xe)/4:At.internal.getHeight(xe)/4;Se=Number((.9*Se).toFixed(5));var _e=Number((2*Se).toFixed(5)),Ae=Number((_e*At.internal.Bezier_C).toFixed(5)),Ce=Number((Se*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth(xe)/2)+" "+z(At.internal.getHeight(xe)/2)+" cm"),t.push(_e+" 0 m"),t.push(_e+" "+Ae+" "+Ae+" "+_e+" 0 "+_e+" c"),t.push("-"+Ae+" "+_e+" -"+_e+" "+Ae+" -"+_e+" 0 c"),t.push("-"+_e+" -"+Ae+" -"+Ae+" -"+_e+" 0 -"+_e+" c"),t.push(Ae+" -"+_e+" "+_e+" -"+Ae+" "+_e+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth(xe)/2)+" "+z(At.internal.getHeight(xe)/2)+" cm"),t.push(Se+" 0 m"),t.push(Se+" "+Ce+" "+Ce+" "+Se+" 0 "+Se+" c"),t.push("-"+Ce+" "+Se+" -"+Se+" "+Ce+" -"+Se+" 0 c"),t.push("-"+Se+" -"+Ce+" -"+Ce+" -"+Se+" 0 -"+Se+" c"),t.push(Ce+" -"+Se+" "+Se+" -"+Ce+" "+Se+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(xe){var e=V(xe);e.scope=xe.scope;var t=[],Se=At.internal.getWidth(xe)<=At.internal.getHeight(xe)?At.internal.getWidth(xe)/4:At.internal.getHeight(xe)/4;Se=Number((.9*Se).toFixed(5));var _e=Number((2*Se).toFixed(5)),Ae=Number((_e*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+z(At.internal.getWidth(xe)/2)+" "+z(At.internal.getHeight(xe)/2)+" cm"),t.push(_e+" 0 m"),t.push(_e+" "+Ae+" "+Ae+" "+_e+" 0 "+_e+" c"),t.push("-"+Ae+" "+_e+" -"+_e+" "+Ae+" -"+_e+" 0 c"),t.push("-"+_e+" -"+Ae+" -"+Ae+" -"+_e+" 0 -"+_e+" c"),t.push(Ae+" -"+_e+" "+_e+" -"+Ae+" "+_e+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(xe){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[xe]=At.RadioButton.Cross.YesNormal,e.D[xe]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(xe){var e=V(xe);e.scope=xe.scope;var t=[],Se=At.internal.calculateCross(xe);return t.push("q"),t.push("1 1 "+U(At.internal.getWidth(xe)-2)+" "+U(At.internal.getHeight(xe)-2)+" re"),t.push("W"),t.push("n"),t.push(U(Se.x1.x)+" "+U(Se.x1.y)+" m"),t.push(U(Se.x2.x)+" "+U(Se.x2.y)+" l"),t.push(U(Se.x4.x)+" "+U(Se.x4.y)+" m"),t.push(U(Se.x3.x)+" "+U(Se.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(xe){var e=V(xe);e.scope=xe.scope;var t=At.internal.calculateCross(xe),Se=[];return Se.push("0.749023 g"),Se.push("0 0 "+U(At.internal.getWidth(xe))+" "+U(At.internal.getHeight(xe))+" re"),Se.push("f"),Se.push("q"),Se.push("1 1 "+U(At.internal.getWidth(xe)-2)+" "+U(At.internal.getHeight(xe)-2)+" re"),Se.push("W"),Se.push("n"),Se.push(U(t.x1.x)+" "+U(t.x1.y)+" m"),Se.push(U(t.x2.x)+" "+U(t.x2.y)+" l"),Se.push(U(t.x4.x)+" "+U(t.x4.y)+" m"),Se.push(U(t.x3.x)+" "+U(t.x3.y)+" l"),Se.push("s"),Se.push("Q"),e.stream=Se.join(`
`),e},OffPushDown:function(xe){var e=V(xe);e.scope=xe.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+U(At.internal.getWidth(xe))+" "+U(At.internal.getHeight(xe))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(xe){var e=xe.scope.internal.getFont(xe.fontName,xe.fontStyle).id,t=xe.scope.__private__.encodeColorString(xe.color);return"/"+e+" "+xe.fontSize+" Tf "+t}};At.internal={Bezier_C:.551915024494,calculateCross:function(xe){var e=At.internal.getWidth(xe),t=At.internal.getHeight(xe),Se=Math.min(e,t);return{x1:{x:(e-Se)/2,y:(t-Se)/2+Se},x2:{x:(e-Se)/2+Se,y:(t-Se)/2},x3:{x:(e-Se)/2,y:(t-Se)/2},x4:{x:(e-Se)/2+Se,y:(t-Se)/2+Se}}}},At.internal.getWidth=function(xe){var e=0;return _typeof(xe)==="object"&&(e=W(xe.Rect[2])),e},At.internal.getHeight=function(xe){var e=0;return _typeof(xe)==="object"&&(e=W(xe.Rect[3])),e};var xt=q.addField=function(xe){if(at(this,xe),!(xe instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=xe).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),xe.page=xe.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};function _t(xe){return xe.reduce(function(e,t,Se){return e[t]=Se,e},{})}(function(xe){xe.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Se=xe.__addimage__.getImageFileTypeByImageData=function(rn,fn){var nn,cn,dn,bn,pn,_n=e;if((fn=fn||e)==="RGBA"||rn.data!==void 0&&rn.data instanceof Uint8ClampedArray&&"height"in rn&&"width"in rn)return"RGBA";if(Je(rn))for(pn in t)for(dn=t[pn],nn=0;nn<dn.length;nn+=1){for(bn=!0,cn=0;cn<dn[nn].length;cn+=1)if(dn[nn][cn]!==void 0&&dn[nn][cn]!==rn[cn]){bn=!1;break}if(bn===!0){_n=pn;break}}else for(pn in t)for(dn=t[pn],nn=0;nn<dn.length;nn+=1){for(bn=!0,cn=0;cn<dn[nn].length;cn+=1)if(dn[nn][cn]!==void 0&&dn[nn][cn]!==rn.charCodeAt(cn)){bn=!1;break}if(bn===!0){_n=pn;break}}return _n===e&&fn!==e&&(_n=fn),_n},_e=function rn(fn){for(var nn=this.internal.write,cn=this.internal.putStream,dn=(0,this.internal.getFilters)();dn.indexOf("FlateEncode")!==-1;)dn.splice(dn.indexOf("FlateEncode"),1);fn.objectId=this.internal.newObject();var bn=[];if(bn.push({key:"Type",value:"/XObject"}),bn.push({key:"Subtype",value:"/Image"}),bn.push({key:"Width",value:fn.width}),bn.push({key:"Height",value:fn.height}),fn.colorSpace===He.INDEXED?bn.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(fn.palette.length/3-1)+" "+("sMask"in fn&&fn.sMask!==void 0?fn.objectId+2:fn.objectId+1)+" 0 R]"}):(bn.push({key:"ColorSpace",value:"/"+fn.colorSpace}),fn.colorSpace===He.DEVICE_CMYK&&bn.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),bn.push({key:"BitsPerComponent",value:fn.bitsPerComponent}),"decodeParameters"in fn&&fn.decodeParameters!==void 0&&bn.push({key:"DecodeParms",value:"<<"+fn.decodeParameters+">>"}),"transparency"in fn&&Array.isArray(fn.transparency)){for(var pn="",_n=0,Nn=fn.transparency.length;_n<Nn;_n++)pn+=fn.transparency[_n]+" "+fn.transparency[_n]+" ";bn.push({key:"Mask",value:"["+pn+"]"})}fn.sMask!==void 0&&bn.push({key:"SMask",value:fn.objectId+1+" 0 R"});var Un=fn.filter!==void 0?["/"+fn.filter]:void 0;if(cn({data:fn.data,additionalKeyValues:bn,alreadyAppliedFilters:Un,objectId:fn.objectId}),nn("endobj"),"sMask"in fn&&fn.sMask!==void 0){var xn="/Predictor "+fn.predictor+" /Colors 1 /BitsPerComponent "+fn.bitsPerComponent+" /Columns "+fn.width,St={width:fn.width,height:fn.height,colorSpace:"DeviceGray",bitsPerComponent:fn.bitsPerComponent,decodeParameters:xn,data:fn.sMask};"filter"in fn&&(St.filter=fn.filter),rn.call(this,St)}if(fn.colorSpace===He.INDEXED){var sn=this.internal.newObject();cn({data:Ze(new Uint8Array(fn.palette)),objectId:sn}),nn("endobj")}},Ae=function(){var rn=this.internal.collections.addImage_images;for(var fn in rn)_e.call(this,rn[fn])},Ce=function(){var rn,fn=this.internal.collections.addImage_images,nn=this.internal.write;for(var cn in fn)nn("/I"+(rn=fn[cn]).index,rn.objectId,"0","R")},Pe=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Ae),this.internal.events.subscribe("putXobjectDict",Ce))},Ee=function(){var rn=this.internal.collections.addImage_images;return Pe.call(this),rn},Fe=function(){return Object.keys(this.internal.collections.addImage_images).length},ke=function(rn){return typeof xe["process"+rn.toUpperCase()]=="function"},Ie=function(rn){return _typeof(rn)==="object"&&rn.nodeType===1},Oe=function(rn,fn){if(rn.nodeName==="IMG"&&rn.hasAttribute("src")){var nn=""+rn.getAttribute("src");if(nn.indexOf("data:image/")===0)return u(unescape(nn).split("base64,").pop());var cn=xe.loadFile(nn,!0);if(cn!==void 0)return cn}if(rn.nodeName==="CANVAS"){if(rn.width===0||rn.height===0)throw new Error("Given canvas must have data. Canvas width: "+rn.width+", height: "+rn.height);var dn;switch(fn){case"PNG":dn="image/png";break;case"WEBP":dn="image/webp";break;case"JPEG":case"JPG":default:dn="image/jpeg"}return u(rn.toDataURL(dn,1).split("base64,").pop())}},Re=function(rn){var fn=this.internal.collections.addImage_images;if(fn){for(var nn in fn)if(rn===fn[nn].alias)return fn[nn]}},Be=function(rn,fn,nn){return rn||fn||(rn=-96,fn=-96),rn<0&&(rn=-1*nn.width*72/rn/this.internal.scaleFactor),fn<0&&(fn=-1*nn.height*72/fn/this.internal.scaleFactor),rn===0&&(rn=fn*nn.width/nn.height),fn===0&&(fn=rn*nn.height/nn.width),[rn,fn]},je=function(rn,fn,nn,cn,dn,bn){var pn=Be.call(this,nn,cn,dn),_n=this.internal.getCoordinateString,Nn=this.internal.getVerticalCoordinateString,Un=Ee.call(this);if(nn=pn[0],cn=pn[1],Un[dn.index]=dn,bn){bn*=Math.PI/180;var xn=Math.cos(bn),St=Math.sin(bn),sn=function(Pn){return Pn.toFixed(4)},gn=[sn(xn),sn(St),sn(-1*St),sn(xn),0,0,"cm"]}this.internal.write("q"),bn?(this.internal.write([1,"0","0",1,_n(rn),Nn(fn+cn),"cm"].join(" ")),this.internal.write(gn.join(" ")),this.internal.write([_n(nn),"0","0",_n(cn),"0","0","cm"].join(" "))):this.internal.write([_n(nn),"0","0",_n(cn),_n(rn),Nn(fn+cn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+dn.index+" Do"),this.internal.write("Q")},He=xe.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};xe.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ge=xe.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Ve=xe.__addimage__.sHashCode=function(rn){var fn,nn,cn=0;if(typeof rn=="string")for(nn=rn.length,fn=0;fn<nn;fn++)cn=(cn<<5)-cn+rn.charCodeAt(fn),cn|=0;else if(Je(rn))for(nn=rn.byteLength/2,fn=0;fn<nn;fn++)cn=(cn<<5)-cn+rn[fn],cn|=0;return cn},ze=xe.__addimage__.validateStringAsBase64=function(rn){(rn=rn||"").toString().trim();var fn=!0;return rn.length===0&&(fn=!1),rn.length%4!=0&&(fn=!1),/^[A-Za-z0-9+/]+$/.test(rn.substr(0,rn.length-2))===!1&&(fn=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(rn.substr(-2))===!1&&(fn=!1),fn},Xe=xe.__addimage__.extractImageFromDataUrl=function(rn){var fn=(rn=rn||"").split("base64,"),nn=null;if(fn.length===2){var cn=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(fn[0]);Array.isArray(cn)&&(nn={mimeType:cn[1],charset:cn[2],data:fn[1]})}return nn},We=xe.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};xe.__addimage__.isArrayBuffer=function(rn){return We()&&rn instanceof ArrayBuffer};var Je=xe.__addimage__.isArrayBufferView=function(rn){return We()&&typeof Uint32Array<"u"&&(rn instanceof Int8Array||rn instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&rn instanceof Uint8ClampedArray||rn instanceof Int16Array||rn instanceof Uint16Array||rn instanceof Int32Array||rn instanceof Uint32Array||rn instanceof Float32Array||rn instanceof Float64Array)},Qe=xe.__addimage__.binaryStringToUint8Array=function(rn){for(var fn=rn.length,nn=new Uint8Array(fn),cn=0;cn<fn;cn++)nn[cn]=rn.charCodeAt(cn);return nn},Ze=xe.__addimage__.arrayBufferToBinaryString=function(rn){for(var fn="",nn=Je(rn)?rn:new Uint8Array(rn),cn=0;cn<nn.length;cn+=8192)fn+=String.fromCharCode.apply(null,nn.subarray(cn,cn+8192));return fn};xe.addImage=function(){var rn,fn,nn,cn,dn,bn,pn,_n,Nn;if(typeof arguments[1]=="number"?(fn=e,nn=arguments[1],cn=arguments[2],dn=arguments[3],bn=arguments[4],pn=arguments[5],_n=arguments[6],Nn=arguments[7]):(fn=arguments[1],nn=arguments[2],cn=arguments[3],dn=arguments[4],bn=arguments[5],pn=arguments[6],_n=arguments[7],Nn=arguments[8]),_typeof(rn=arguments[0])==="object"&&!Ie(rn)&&"imageData"in rn){var Un=rn;rn=Un.imageData,fn=Un.format||fn||e,nn=Un.x||nn||0,cn=Un.y||cn||0,dn=Un.w||Un.width||dn,bn=Un.h||Un.height||bn,pn=Un.alias||pn,_n=Un.compression||_n,Nn=Un.rotation||Un.angle||Nn}var xn=this.internal.getFilters();if(_n===void 0&&xn.indexOf("FlateEncode")!==-1&&(_n="SLOW"),isNaN(nn)||isNaN(cn))throw new Error("Invalid coordinates passed to jsPDF.addImage");Pe.call(this);var St=on.call(this,rn,fn,pn,_n);return je.call(this,nn,cn,dn,bn,St,Nn),this};var on=function(rn,fn,nn,cn){var dn,bn,pn;if(typeof rn=="string"&&Se(rn)===e){rn=unescape(rn);var _n=an(rn,!1);(_n!==""||(_n=xe.loadFile(rn,!0))!==void 0)&&(rn=_n)}if(Ie(rn)&&(rn=Oe(rn,fn)),fn=Se(rn,fn),!ke(fn))throw new Error("addImage does not support files of type '"+fn+"', please ensure that a plugin for '"+fn+"' support is added.");if(((pn=nn)==null||pn.length===0)&&(nn=function(Nn){return typeof Nn=="string"||Je(Nn)?Ve(Nn):Je(Nn.data)?Ve(Nn.data):null}(rn)),(dn=Re.call(this,nn))||(We()&&(rn instanceof Uint8Array||fn==="RGBA"||(bn=rn,rn=Qe(rn))),dn=this["process"+fn.toUpperCase()](rn,Fe.call(this),nn,function(Nn){return Nn&&typeof Nn=="string"&&(Nn=Nn.toUpperCase()),Nn in xe.image_compression?Nn:Ge.NONE}(cn),bn)),!dn)throw new Error("An unknown error occurred whilst processing the image.");return dn},an=xe.__addimage__.convertBase64ToBinaryString=function(rn,fn){var nn;fn=typeof fn!="boolean"||fn;var cn,dn="";if(typeof rn=="string"){cn=(nn=Xe(rn))!==null?nn.data:rn;try{dn=u(cn)}catch(bn){if(fn)throw ze(cn)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+bn.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return dn};xe.getImageProperties=function(rn){var fn,nn,cn="";if(Ie(rn)&&(rn=Oe(rn)),typeof rn=="string"&&Se(rn)===e&&((cn=an(rn,!1))===""&&(cn=xe.loadFile(rn)||""),rn=cn),nn=Se(rn),!ke(nn))throw new Error("addImage does not support files of type '"+nn+"', please ensure that a plugin for '"+nn+"' support is added.");if(!We()||rn instanceof Uint8Array||(rn=Qe(rn)),!(fn=this["process"+nn.toUpperCase()](rn)))throw new Error("An unknown error occurred whilst processing the image");return fn.fileType=nn,fn}})(E.API),function(xe){var e=function(t){if(t!==void 0&&t!="")return!0};E.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),xe.events.push(["putPage",function(t){for(var Se,_e,Ae,Ce=this.internal.getCoordinateString,Pe=this.internal.getVerticalCoordinateString,Ee=this.internal.getPageInfoByObjId(t.objId),Fe=t.pageContext.annotations,ke=!1,Ie=0;Ie<Fe.length&&!ke;Ie++)switch((Se=Fe[Ie]).type){case"link":(e(Se.options.url)||e(Se.options.pageNumber))&&(ke=!0);break;case"reference":case"text":case"freetext":ke=!0}if(ke!=0){this.internal.write("/Annots [");for(var Oe=0;Oe<Fe.length;Oe++){Se=Fe[Oe];var Re=this.internal.pdfEscape,Be=this.internal.getEncryptor(t.objId);switch(Se.type){case"reference":this.internal.write(" "+Se.object.objId+" 0 R ");break;case"text":var je=this.internal.newAdditionalObject(),He=this.internal.newAdditionalObject(),Ge=this.internal.getEncryptor(je.objId),Ve=Se.title||"Note";Ae="<</Type /Annot /Subtype /Text "+(_e="/Rect ["+Ce(Se.bounds.x)+" "+Pe(Se.bounds.y+Se.bounds.h)+" "+Ce(Se.bounds.x+Se.bounds.w)+" "+Pe(Se.bounds.y)+"] ")+"/Contents ("+Re(Ge(Se.contents))+")",Ae+=" /Popup "+He.objId+" 0 R",Ae+=" /P "+Ee.objId+" 0 R",Ae+=" /T ("+Re(Ge(Ve))+") >>",je.content=Ae;var ze=je.objId+" 0 R";Ae="<</Type /Annot /Subtype /Popup "+(_e="/Rect ["+Ce(Se.bounds.x+30)+" "+Pe(Se.bounds.y+Se.bounds.h)+" "+Ce(Se.bounds.x+Se.bounds.w+30)+" "+Pe(Se.bounds.y)+"] ")+" /Parent "+ze,Se.open&&(Ae+=" /Open true"),Ae+=" >>",He.content=Ae,this.internal.write(je.objId,"0 R",He.objId,"0 R");break;case"freetext":_e="/Rect ["+Ce(Se.bounds.x)+" "+Pe(Se.bounds.y)+" "+Ce(Se.bounds.x+Se.bounds.w)+" "+Pe(Se.bounds.y+Se.bounds.h)+"] ";var Xe=Se.color||"#000000";Ae="<</Type /Annot /Subtype /FreeText "+_e+"/Contents ("+Re(Be(Se.contents))+")",Ae+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Xe+")",Ae+=" /Border [0 0 0]",Ae+=" >>",this.internal.write(Ae);break;case"link":if(Se.options.name){var We=this.annotations._nameMap[Se.options.name];Se.options.pageNumber=We.page,Se.options.top=We.y}else Se.options.top||(Se.options.top=0);if(_e="/Rect ["+Se.finalBounds.x+" "+Se.finalBounds.y+" "+Se.finalBounds.w+" "+Se.finalBounds.h+"] ",Ae="",Se.options.url)Ae="<</Type /Annot /Subtype /Link "+_e+"/Border [0 0 0] /A <</S /URI /URI ("+Re(Be(Se.options.url))+") >>";else if(Se.options.pageNumber)switch(Ae="<</Type /Annot /Subtype /Link "+_e+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Se.options.pageNumber).objId+" 0 R",Se.options.magFactor=Se.options.magFactor||"XYZ",Se.options.magFactor){case"Fit":Ae+=" /Fit]";break;case"FitH":Ae+=" /FitH "+Se.options.top+"]";break;case"FitV":Se.options.left=Se.options.left||0,Ae+=" /FitV "+Se.options.left+"]";break;case"XYZ":default:var Je=Pe(Se.options.top);Se.options.left=Se.options.left||0,Se.options.zoom===void 0&&(Se.options.zoom=0),Ae+=" /XYZ "+Se.options.left+" "+Je+" "+Se.options.zoom+"]"}Ae!=""&&(Ae+=" >>",this.internal.write(Ae))}}this.internal.write("]")}}]),xe.createAnnotation=function(t){var Se=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":Se.pageContext.annotations.push(t)}},xe.link=function(t,Se,_e,Ae,Ce){var Pe=this.internal.getCurrentPageInfo(),Ee=this.internal.getCoordinateString,Fe=this.internal.getVerticalCoordinateString;Pe.pageContext.annotations.push({finalBounds:{x:Ee(t),y:Fe(Se),w:Ee(t+_e),h:Fe(Se+Ae)},options:Ce,type:"link"})},xe.textWithLink=function(t,Se,_e,Ae){var Ce,Pe,Ee=this.getTextWidth(t),Fe=this.internal.getLineHeight()/this.internal.scaleFactor;if(Ae.maxWidth!==void 0){Pe=Ae.maxWidth;var ke=this.splitTextToSize(t,Pe).length;Ce=Math.ceil(Fe*ke)}else Pe=Ee,Ce=Fe;return this.text(t,Se,_e,Ae),_e+=.2*Fe,Ae.align==="center"&&(Se-=Ee/2),Ae.align==="right"&&(Se-=Ee),this.link(Se,_e-Fe,Pe,Ce,Ae),Ee},xe.getTextWidth=function(t){var Se=this.internal.getFontSize();return this.getStringUnitWidth(t)*Se/this.internal.scaleFactor}}(E.API),function(xe){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Se={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},_e=[1570,1571,1573,1575];xe.__arabicParser__={};var Ae=xe.__arabicParser__.isInArabicSubstitutionA=function(je){return e[je.charCodeAt(0)]!==void 0},Ce=xe.__arabicParser__.isArabicLetter=function(je){return typeof je=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(je)},Pe=xe.__arabicParser__.isArabicEndLetter=function(je){return Ce(je)&&Ae(je)&&e[je.charCodeAt(0)].length<=2},Ee=xe.__arabicParser__.isArabicAlfLetter=function(je){return Ce(je)&&_e.indexOf(je.charCodeAt(0))>=0};xe.__arabicParser__.arabicLetterHasIsolatedForm=function(je){return Ce(je)&&Ae(je)&&e[je.charCodeAt(0)].length>=1};var Fe=xe.__arabicParser__.arabicLetterHasFinalForm=function(je){return Ce(je)&&Ae(je)&&e[je.charCodeAt(0)].length>=2};xe.__arabicParser__.arabicLetterHasInitialForm=function(je){return Ce(je)&&Ae(je)&&e[je.charCodeAt(0)].length>=3};var ke=xe.__arabicParser__.arabicLetterHasMedialForm=function(je){return Ce(je)&&Ae(je)&&e[je.charCodeAt(0)].length==4},Ie=xe.__arabicParser__.resolveLigatures=function(je){var He=0,Ge=t,Ve="",ze=0;for(He=0;He<je.length;He+=1)Ge[je.charCodeAt(He)]!==void 0?(ze++,typeof(Ge=Ge[je.charCodeAt(He)])=="number"&&(Ve+=String.fromCharCode(Ge),Ge=t,ze=0),He===je.length-1&&(Ge=t,Ve+=je.charAt(He-(ze-1)),He-=ze-1,ze=0)):(Ge=t,Ve+=je.charAt(He-ze),He-=ze,ze=0);return Ve};xe.__arabicParser__.isArabicDiacritic=function(je){return je!==void 0&&Se[je.charCodeAt(0)]!==void 0};var Oe=xe.__arabicParser__.getCorrectForm=function(je,He,Ge){return Ce(je)?Ae(je)===!1?-1:!Fe(je)||!Ce(He)&&!Ce(Ge)||!Ce(Ge)&&Pe(He)||Pe(je)&&!Ce(He)||Pe(je)&&Ee(He)||Pe(je)&&Pe(He)?0:ke(je)&&Ce(He)&&!Pe(He)&&Ce(Ge)&&Fe(Ge)?3:Pe(je)||!Ce(Ge)?1:2:-1},Re=function(je){var He=0,Ge=0,Ve=0,ze="",Xe="",We="",Je=(je=je||"").split("\\s+"),Qe=[];for(He=0;He<Je.length;He+=1){for(Qe.push(""),Ge=0;Ge<Je[He].length;Ge+=1)ze=Je[He][Ge],Xe=Je[He][Ge-1],We=Je[He][Ge+1],Ce(ze)?(Ve=Oe(ze,Xe,We),Qe[He]+=Ve!==-1?String.fromCharCode(e[ze.charCodeAt(0)][Ve]):ze):Qe[He]+=ze;Qe[He]=Ie(Qe[He])}return Qe.join(" ")},Be=xe.__arabicParser__.processArabic=xe.processArabic=function(){var je,He=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ge=[];if(Array.isArray(He)){var Ve=0;for(Ge=[],Ve=0;Ve<He.length;Ve+=1)Array.isArray(He[Ve])?Ge.push([Re(He[Ve][0]),He[Ve][1],He[Ve][2]]):Ge.push([Re(He[Ve])]);je=Ge}else je=Re(He);return typeof arguments[0]=="string"?je:(arguments[0].text=je,arguments[0])};xe.events.push(["preProcessText",Be])}(E.API),E.API.autoPrint=function(xe){var e;switch((xe=xe||{}).variant=xe.variant||"non-conform",xe.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(xe){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(Pe){t=Pe}});var Se=150;Object.defineProperty(this,"width",{get:function(){return Se},set:function(Pe){Se=isNaN(Pe)||Number.isInteger(Pe)===!1||Pe<0?150:Pe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Se+1)}});var _e=300;Object.defineProperty(this,"height",{get:function(){return _e},set:function(Pe){_e=isNaN(Pe)||Number.isInteger(Pe)===!1||Pe<0?300:Pe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=_e+1)}});var Ae=[];Object.defineProperty(this,"childNodes",{get:function(){return Ae},set:function(Pe){Ae=Pe}});var Ce={};Object.defineProperty(this,"style",{get:function(){return Ce},set:function(Pe){Ce=Pe}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,Se){var _e;if((t=t||"2d")!=="2d")return null;for(_e in Se)this.pdf.context2d.hasOwnProperty(_e)&&(this.pdf.context2d[_e]=Se[_e]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},xe.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(xe){var e={left:0,top:0,bottom:0,right:0},t=!1,Se=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),_e.call(this))},_e=function(){this.internal.__cell__.lastCell=new Ae,this.internal.__cell__.pages=1},Ae=function(){var Ee=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(je){Ee=je}});var Fe=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(je){Fe=je}});var ke=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ke},set:function(je){ke=je}});var Ie=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ie},set:function(je){Ie=je}});var Oe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Oe},set:function(je){Oe=je}});var Re=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Re},set:function(je){Re=je}});var Be=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Be},set:function(je){Be=je}}),this};Ae.prototype.clone=function(){return new Ae(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Ae.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},xe.setHeaderFunction=function(Ee){return Se.call(this),this.internal.__cell__.headerFunction=typeof Ee=="function"?Ee:void 0,this},xe.getTextDimensions=function(Ee,Fe){Se.call(this);var ke=(Fe=Fe||{}).fontSize||this.getFontSize(),Ie=Fe.font||this.getFont(),Oe=Fe.scaleFactor||this.internal.scaleFactor,Re=0,Be=0,je=0,He=this;if(!Array.isArray(Ee)&&typeof Ee!="string"){if(typeof Ee!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Ee=String(Ee)}var Ge=Fe.maxWidth;Ge>0?typeof Ee=="string"?Ee=this.splitTextToSize(Ee,Ge):Object.prototype.toString.call(Ee)==="[object Array]"&&(Ee=Ee.reduce(function(ze,Xe){return ze.concat(He.splitTextToSize(Xe,Ge))},[])):Ee=Array.isArray(Ee)?Ee:[Ee];for(var Ve=0;Ve<Ee.length;Ve++)Re<(je=this.getStringUnitWidth(Ee[Ve],{font:Ie})*ke)&&(Re=je);return Re!==0&&(Be=Ee.length),{w:Re/=Oe,h:Math.max((Be*ke*this.getLineHeightFactor()-ke*(this.getLineHeightFactor()-1))/Oe,0)}},xe.cellAddPage=function(){Se.call(this),this.addPage();var Ee=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new Ae(Ee.left,Ee.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ce=xe.cell=function(){var Ee;Ee=arguments[0]instanceof Ae?arguments[0]:new Ae(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Se.call(this);var Fe=this.internal.__cell__.lastCell,ke=this.internal.__cell__.padding,Ie=this.internal.__cell__.margins||e,Oe=this.internal.__cell__.tableHeaderRow,Re=this.internal.__cell__.printHeaders;return Fe.lineNumber!==void 0&&(Fe.lineNumber===Ee.lineNumber?(Ee.x=(Fe.x||0)+(Fe.width||0),Ee.y=Fe.y||0):Fe.y+Fe.height+Ee.height+Ie.bottom>this.getPageHeight()?(this.cellAddPage(),Ee.y=Ie.top,Re&&Oe&&(this.printHeaderRow(Ee.lineNumber,!0),Ee.y+=Oe[0].height)):Ee.y=Fe.y+Fe.height||Ee.y),Ee.text[0]!==void 0&&(this.rect(Ee.x,Ee.y,Ee.width,Ee.height,t===!0?"FD":void 0),Ee.align==="right"?this.text(Ee.text,Ee.x+Ee.width-ke,Ee.y+ke,{align:"right",baseline:"top"}):Ee.align==="center"?this.text(Ee.text,Ee.x+Ee.width/2,Ee.y+ke,{align:"center",baseline:"top",maxWidth:Ee.width-ke-ke}):this.text(Ee.text,Ee.x+ke,Ee.y+ke,{align:"left",baseline:"top",maxWidth:Ee.width-ke-ke})),this.internal.__cell__.lastCell=Ee,this};xe.table=function(Ee,Fe,ke,Ie,Oe){if(Se.call(this),!ke)throw new Error("No data for PDF table.");var Re,Be,je,He,Ge=[],Ve=[],ze=[],Xe={},We={},Je=[],Qe=[],Ze=(Oe=Oe||{}).autoSize||!1,on=Oe.printHeaders!==!1,an=Oe.css&&Oe.css["font-size"]!==void 0?16*Oe.css["font-size"]:Oe.fontSize||12,rn=Oe.margins||Object.assign({width:this.getPageWidth()},e),fn=typeof Oe.padding=="number"?Oe.padding:3,nn=Oe.headerBackgroundColor||"#c8c8c8",cn=Oe.headerTextColor||"#000";if(_e.call(this),this.internal.__cell__.printHeaders=on,this.internal.__cell__.margins=rn,this.internal.__cell__.table_font_size=an,this.internal.__cell__.padding=fn,this.internal.__cell__.headerBackgroundColor=nn,this.internal.__cell__.headerTextColor=cn,this.setFontSize(an),Ie==null)Ve=Ge=Object.keys(ke[0]),ze=Ge.map(function(){return"left"});else if(Array.isArray(Ie)&&_typeof(Ie[0])==="object")for(Ge=Ie.map(function(Un){return Un.name}),Ve=Ie.map(function(Un){return Un.prompt||Un.name||""}),ze=Ie.map(function(Un){return Un.align||"left"}),Re=0;Re<Ie.length;Re+=1)We[Ie[Re].name]=Ie[Re].width*(19.049976/25.4);else Array.isArray(Ie)&&typeof Ie[0]=="string"&&(Ve=Ge=Ie,ze=Ge.map(function(){return"left"}));if(Ze||Array.isArray(Ie)&&typeof Ie[0]=="string")for(Re=0;Re<Ge.length;Re+=1){for(Xe[He=Ge[Re]]=ke.map(function(Un){return Un[He]}),this.setFont(void 0,"bold"),Je.push(this.getTextDimensions(Ve[Re],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Be=Xe[He],this.setFont(void 0,"normal"),je=0;je<Be.length;je+=1)Je.push(this.getTextDimensions(Be[je],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);We[He]=Math.max.apply(null,Je)+fn+fn,Je=[]}if(on){var dn={};for(Re=0;Re<Ge.length;Re+=1)dn[Ge[Re]]={},dn[Ge[Re]].text=Ve[Re],dn[Ge[Re]].align=ze[Re];var bn=Pe.call(this,dn,We);Qe=Ge.map(function(Un){return new Ae(Ee,Fe,We[Un],bn,dn[Un].text,void 0,dn[Un].align)}),this.setTableHeaderRow(Qe),this.printHeaderRow(1,!1)}var pn=Ie.reduce(function(Un,xn){return Un[xn.name]=xn.align,Un},{});for(Re=0;Re<ke.length;Re+=1){"rowStart"in Oe&&Oe.rowStart instanceof Function&&Oe.rowStart({row:Re,data:ke[Re]},this);var _n=Pe.call(this,ke[Re],We);for(je=0;je<Ge.length;je+=1){var Nn=ke[Re][Ge[je]];"cellStart"in Oe&&Oe.cellStart instanceof Function&&Oe.cellStart({row:Re,col:je,data:Nn},this),Ce.call(this,new Ae(Ee,Fe,We[Ge[je]],_n,Nn,Re+2,pn[Ge[je]]))}}return this.internal.__cell__.table_x=Ee,this.internal.__cell__.table_y=Fe,this};var Pe=function(Ee,Fe){var ke=this.internal.__cell__.padding,Ie=this.internal.__cell__.table_font_size,Oe=this.internal.scaleFactor;return Object.keys(Ee).map(function(Re){var Be=Ee[Re];return this.splitTextToSize(Be.hasOwnProperty("text")?Be.text:Be,Fe[Re]-ke-ke)},this).map(function(Re){return this.getLineHeightFactor()*Re.length*Ie/Oe+ke+ke},this).reduce(function(Re,Be){return Math.max(Re,Be)},0)};xe.setTableHeaderRow=function(Ee){Se.call(this),this.internal.__cell__.tableHeaderRow=Ee},xe.printHeaderRow=function(Ee,Fe){if(Se.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ke;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ie=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Ae(Ie[0],Ie[1],Ie[2],Ie[3],void 0,-1)}this.setFont(void 0,"bold");for(var Oe=[],Re=0;Re<this.internal.__cell__.tableHeaderRow.length;Re+=1){ke=this.internal.__cell__.tableHeaderRow[Re].clone(),Fe&&(ke.y=this.internal.__cell__.margins.top||0,Oe.push(ke)),ke.lineNumber=Ee;var Be=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ce.call(this,ke),this.setTextColor(Be)}Oe.length>0&&this.setTableHeaderRow(Oe),this.setFont(void 0,"normal"),t=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(xe){var e=xe.family.replace(/"|'/g,"").toLowerCase(),t=function(Ae){return Pt[Ae=Ae||"normal"]?Ae:"normal"}(xe.style),Se=function(Ae){if(!Ae)return 400;if(typeof Ae=="number")return Ae>=100&&Ae<=900&&Ae%100==0?Ae:400;if(/^\d00$/.test(Ae))return parseInt(Ae);switch(Ae){case"bold":return 700;case"normal":default:return 400}}(xe.weight),_e=function(Ae){return typeof It[Ae=Ae||"normal"]=="number"?Ae:"normal"}(xe.stretch);return{family:e,style:t,weight:Se,stretch:_e,src:xe.src||[],ref:xe.ref||{name:e,style:[_e,t,Se].join(" ")}}}function Ot(xe,e,t,Se){var _e;for(_e=t;_e>=0&&_e<e.length;_e+=Se)if(xe[e[_e]])return xe[e[_e]];for(_e=t;_e>=0&&_e<e.length;_e-=Se)if(xe[e[_e]])return xe[e[_e]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(xe){return[xe.stretch,xe.style,xe.weight,xe.family].join(" ")}function qt(xe,e,t){for(var Se=(t=t||{}).defaultFontFamily||"times",_e=Object.assign({},Bt,t.genericFontFamilies||{}),Ae=null,Ce=null,Pe=0;Pe<e.length;++Pe)if(_e[(Ae=jt(e[Pe])).family]&&(Ae.family=_e[Ae.family]),xe.hasOwnProperty(Ae.family)){Ce=xe[Ae.family];break}if(!(Ce=Ce||xe[Se]))throw new Error("Could not find a font-family for the rule '"+Et(Ae)+"' and default family '"+Se+"'.");if(Ce=function(Ee,Fe){if(Fe[Ee])return Fe[Ee];var ke=It[Ee],Ie=ke<=It.normal?-1:1,Oe=Ot(Fe,kt,ke,Ie);if(!Oe)throw new Error("Could not find a matching font-stretch value for "+Ee);return Oe}(Ae.stretch,Ce),Ce=function(Ee,Fe){if(Fe[Ee])return Fe[Ee];for(var ke=Pt[Ee],Ie=0;Ie<ke.length;++Ie)if(Fe[ke[Ie]])return Fe[ke[Ie]];throw new Error("Could not find a matching font-style for "+Ee)}(Ae.style,Ce),!(Ce=function(Ee,Fe){if(Fe[Ee])return Fe[Ee];if(Ee===400&&Fe[500])return Fe[500];if(Ee===500&&Fe[400])return Fe[400];var ke=Ct[Ee],Ie=Ot(Fe,Ft,ke,Ee<400?-1:1);if(!Ie)throw new Error("Could not find a matching font-weight for value "+Ee);return Ie}(Ae.weight,Ce)))throw new Error("Failed to resolve a font for the rule '"+Et(Ae)+"'.");return Ce}function Dt(xe){return xe.trimLeft()}function Rt(xe,e){for(var t=0;t<xe.length;){if(xe.charAt(t)===e)return[xe.substring(0,t),xe.substring(t+1)];t+=1}return null}function Tt(xe){var e=xe.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],xe.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(xe){var e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke=function(St){return St=St||{},this.isStrokeTransparent=St.isStrokeTransparent||!1,this.strokeOpacity=St.strokeOpacity||1,this.strokeStyle=St.strokeStyle||"#000000",this.fillStyle=St.fillStyle||"#000000",this.isFillTransparent=St.isFillTransparent||!1,this.fillOpacity=St.fillOpacity||1,this.font=St.font||"10px sans-serif",this.textBaseline=St.textBaseline||"alphabetic",this.textAlign=St.textAlign||"left",this.lineWidth=St.lineWidth||1,this.lineJoin=St.lineJoin||"miter",this.lineCap=St.lineCap||"butt",this.path=St.path||[],this.transform=St.transform!==void 0?St.transform.clone():new Ee,this.globalCompositeOperation=St.globalCompositeOperation||"normal",this.globalAlpha=St.globalAlpha||1,this.clip_path=St.clip_path||[],this.currentPoint=St.currentPoint||new Ce,this.miterLimit=St.miterLimit||10,this.lastPoint=St.lastPoint||new Ce,this.lineDashOffset=St.lineDashOffset||0,this.lineDash=St.lineDash||[],this.margin=St.margin||[0,0,0,0],this.prevPageLastElemOffset=St.prevPageLastElemOffset||0,this.ignoreClearRect=typeof St.ignoreClearRect!="boolean"||St.ignoreClearRect,this};xe.events.push(["initialized",function(){this.context2d=new Ie(this),e=this.internal.f2,t=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,_e=this.internal.getHorizontalCoordinate,Ae=this.internal.getVerticalCoordinate,Ce=this.internal.Point,Pe=this.internal.Rectangle,Ee=this.internal.Matrix,Fe=new ke}]);var Ie=function(St){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var sn=St;Object.defineProperty(this,"pdf",{get:function(){return sn}});var gn=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return gn},set:function(In){gn=!!In}});var Pn=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Pn},set:function(In){Pn=!!In}});var Fn=0;Object.defineProperty(this,"posX",{get:function(){return Fn},set:function(In){isNaN(In)||(Fn=In)}});var vn=0;Object.defineProperty(this,"posY",{get:function(){return vn},set:function(In){isNaN(In)||(vn=In)}}),Object.defineProperty(this,"margin",{get:function(){return Fe.margin},set:function(In){var wn;typeof In=="number"?wn=[In,In,In,In]:((wn=new Array(4))[0]=In[0],wn[1]=In.length>=2?In[1]:wn[0],wn[2]=In.length>=3?In[2]:wn[0],wn[3]=In.length>=4?In[3]:wn[1]),Fe.margin=wn}});var kn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return kn},set:function(In){kn=In}});var Bn=0;Object.defineProperty(this,"lastBreak",{get:function(){return Bn},set:function(In){Bn=In}});var er=[];Object.defineProperty(this,"pageBreaks",{get:function(){return er},set:function(In){er=In}}),Object.defineProperty(this,"ctx",{get:function(){return Fe},set:function(In){In instanceof ke&&(Fe=In)}}),Object.defineProperty(this,"path",{get:function(){return Fe.path},set:function(In){Fe.path=In}});var Zn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Zn},set:function(In){Zn=In}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(In){var wn;wn=Oe(In),this.ctx.fillStyle=wn.style,this.ctx.isFillTransparent=wn.a===0,this.ctx.fillOpacity=wn.a,this.pdf.setFillColor(wn.r,wn.g,wn.b,{a:wn.a}),this.pdf.setTextColor(wn.r,wn.g,wn.b,{a:wn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(In){var wn=Oe(In);this.ctx.strokeStyle=wn.style,this.ctx.isStrokeTransparent=wn.a===0,this.ctx.strokeOpacity=wn.a,wn.a===0?this.pdf.setDrawColor(255,255,255):(wn.a,this.pdf.setDrawColor(wn.r,wn.g,wn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(In){["butt","round","square"].indexOf(In)!==-1&&(this.ctx.lineCap=In,this.pdf.setLineCap(In))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(In){isNaN(In)||(this.ctx.lineWidth=In,this.pdf.setLineWidth(In))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(In){["bevel","round","miter"].indexOf(In)!==-1&&(this.ctx.lineJoin=In,this.pdf.setLineJoin(In))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(In){isNaN(In)||(this.ctx.miterLimit=In,this.pdf.setMiterLimit(In))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(In){this.ctx.textBaseline=In}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(In){["right","end","center","left","start"].indexOf(In)!==-1&&(this.ctx.textAlign=In)}});var Cn=null;function Tn(In,wn){if(Cn===null){var Vn=function(Yn){var tr=[];return Object.keys(Yn).forEach(function(cr){Yn[cr].forEach(function(Kn){var rr=null;switch(Kn){case"bold":rr={family:cr,weight:"bold"};break;case"italic":rr={family:cr,style:"italic"};break;case"bolditalic":rr={family:cr,weight:"bold",style:"italic"};break;case"":case"normal":rr={family:cr}}rr!==null&&(rr.ref={name:cr,style:Kn},tr.push(rr))})}),tr}(In.getFontList());Cn=function(Yn){for(var tr={},cr=0;cr<Yn.length;++cr){var Kn=jt(Yn[cr]),rr=Kn.family,ir=Kn.stretch,yr=Kn.style,xr=Kn.weight;tr[rr]=tr[rr]||{},tr[rr][ir]=tr[rr][ir]||{},tr[rr][ir][yr]=tr[rr][ir][yr]||{},tr[rr][ir][yr][xr]=Kn}return tr}(Vn.concat(wn))}return Cn}var qn=null;Object.defineProperty(this,"fontFaces",{get:function(){return qn},set:function(In){Cn=null,qn=In}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(In){var wn;if(this.ctx.font=In,(wn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(In))!==null){var Vn=wn[1],Yn=(wn[2],wn[3]),tr=wn[4],cr=(wn[5],wn[6]),Kn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tr)[2];tr=Math.floor(Kn==="px"?parseFloat(tr)*this.pdf.internal.scaleFactor:Kn==="em"?parseFloat(tr)*this.pdf.getFontSize():parseFloat(tr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tr);var rr=function(Yr){var ei,Ln,ar=[],sr=Yr.trim();if(sr==="")return Wt;if(sr in Mt)return[Mt[sr]];for(;sr!=="";){switch(Ln=null,ei=(sr=Dt(sr)).charAt(0)){case'"':case"'":Ln=Rt(sr.substring(1),ei);break;default:Ln=Tt(sr)}if(Ln===null||(ar.push(Ln[0]),(sr=Dt(Ln[1]))!==""&&sr.charAt(0)!==","))return Wt;sr=sr.replace(/^,/,"")}return ar}(cr);if(this.fontFaces){var ir=qt(Tn(this.pdf,this.fontFaces),rr.map(function(Yr){return{family:Yr,stretch:"normal",weight:Yn,style:Vn}}));this.pdf.setFont(ir.ref.name,ir.ref.style)}else{var yr="";(Yn==="bold"||parseInt(Yn,10)>=700||Vn==="bold")&&(yr="bold"),Vn==="italic"&&(yr+="italic"),yr.length===0&&(yr="normal");for(var xr="",Nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},jr=0;jr<rr.length;jr++){if(this.pdf.internal.getFont(rr[jr],yr,{noFallback:!0,disableWarning:!0})!==void 0){xr=rr[jr];break}if(yr==="bolditalic"&&this.pdf.internal.getFont(rr[jr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xr=rr[jr],yr="bold";else if(this.pdf.internal.getFont(rr[jr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xr=rr[jr],yr="normal";break}}if(xr===""){for(var Vr=0;Vr<rr.length;Vr++)if(Nr[rr[Vr]]){xr=Nr[rr[Vr]];break}}xr=xr===""?"Times":xr,this.pdf.setFont(xr,yr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(In){this.ctx.globalCompositeOperation=In}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(In){this.ctx.globalAlpha=In}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(In){this.ctx.lineDashOffset=In,xn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(In){this.ctx.lineDash=In,xn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(In){this.ctx.ignoreClearRect=!!In}})};Ie.prototype.setLineDash=function(St){this.lineDash=St},Ie.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ie.prototype.fill=function(){Xe.call(this,"fill",!1)},Ie.prototype.stroke=function(){Xe.call(this,"stroke",!1)},Ie.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ie.prototype.moveTo=function(St,sn){if(isNaN(St)||isNaN(sn))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var gn=this.ctx.transform.applyToPoint(new Ce(St,sn));this.path.push({type:"mt",x:gn.x,y:gn.y}),this.ctx.lastPoint=new Ce(St,sn)},Ie.prototype.closePath=function(){var St=new Ce(0,0),sn=0;for(sn=this.path.length-1;sn!==-1;sn--)if(this.path[sn].type==="begin"&&_typeof(this.path[sn+1])==="object"&&typeof this.path[sn+1].x=="number"){St=new Ce(this.path[sn+1].x,this.path[sn+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ce(St.x,St.y)},Ie.prototype.lineTo=function(St,sn){if(isNaN(St)||isNaN(sn))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var gn=this.ctx.transform.applyToPoint(new Ce(St,sn));this.path.push({type:"lt",x:gn.x,y:gn.y}),this.ctx.lastPoint=new Ce(gn.x,gn.y)},Ie.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Xe.call(this,null,!0)},Ie.prototype.quadraticCurveTo=function(St,sn,gn,Pn){if(isNaN(gn)||isNaN(Pn)||isNaN(St)||isNaN(sn))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Fn=this.ctx.transform.applyToPoint(new Ce(gn,Pn)),vn=this.ctx.transform.applyToPoint(new Ce(St,sn));this.path.push({type:"qct",x1:vn.x,y1:vn.y,x:Fn.x,y:Fn.y}),this.ctx.lastPoint=new Ce(Fn.x,Fn.y)},Ie.prototype.bezierCurveTo=function(St,sn,gn,Pn,Fn,vn){if(isNaN(Fn)||isNaN(vn)||isNaN(St)||isNaN(sn)||isNaN(gn)||isNaN(Pn))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var kn=this.ctx.transform.applyToPoint(new Ce(Fn,vn)),Bn=this.ctx.transform.applyToPoint(new Ce(St,sn)),er=this.ctx.transform.applyToPoint(new Ce(gn,Pn));this.path.push({type:"bct",x1:Bn.x,y1:Bn.y,x2:er.x,y2:er.y,x:kn.x,y:kn.y}),this.ctx.lastPoint=new Ce(kn.x,kn.y)},Ie.prototype.arc=function(St,sn,gn,Pn,Fn,vn){if(isNaN(St)||isNaN(sn)||isNaN(gn)||isNaN(Pn)||isNaN(Fn))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(vn=!!vn,!this.ctx.transform.isIdentity){var kn=this.ctx.transform.applyToPoint(new Ce(St,sn));St=kn.x,sn=kn.y;var Bn=this.ctx.transform.applyToPoint(new Ce(0,gn)),er=this.ctx.transform.applyToPoint(new Ce(0,0));gn=Math.sqrt(Math.pow(Bn.x-er.x,2)+Math.pow(Bn.y-er.y,2))}Math.abs(Fn-Pn)>=2*Math.PI&&(Pn=0,Fn=2*Math.PI),this.path.push({type:"arc",x:St,y:sn,radius:gn,startAngle:Pn,endAngle:Fn,counterclockwise:vn})},Ie.prototype.arcTo=function(St,sn,gn,Pn,Fn){throw new Error("arcTo not implemented.")},Ie.prototype.rect=function(St,sn,gn,Pn){if(isNaN(St)||isNaN(sn)||isNaN(gn)||isNaN(Pn))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(St,sn),this.lineTo(St+gn,sn),this.lineTo(St+gn,sn+Pn),this.lineTo(St,sn+Pn),this.lineTo(St,sn),this.lineTo(St+gn,sn),this.lineTo(St,sn)},Ie.prototype.fillRect=function(St,sn,gn,Pn){if(isNaN(St)||isNaN(sn)||isNaN(gn)||isNaN(Pn))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Re.call(this)){var Fn={};this.lineCap!=="butt"&&(Fn.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Fn.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(St,sn,gn,Pn),this.fill(),Fn.hasOwnProperty("lineCap")&&(this.lineCap=Fn.lineCap),Fn.hasOwnProperty("lineJoin")&&(this.lineJoin=Fn.lineJoin)}},Ie.prototype.strokeRect=function(St,sn,gn,Pn){if(isNaN(St)||isNaN(sn)||isNaN(gn)||isNaN(Pn))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Be.call(this)||(this.beginPath(),this.rect(St,sn,gn,Pn),this.stroke())},Ie.prototype.clearRect=function(St,sn,gn,Pn){if(isNaN(St)||isNaN(sn)||isNaN(gn)||isNaN(Pn))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(St,sn,gn,Pn))},Ie.prototype.save=function(St){St=typeof St!="boolean"||St;for(var sn=this.pdf.internal.getCurrentPageInfo().pageNumber,gn=0;gn<this.pdf.internal.getNumberOfPages();gn++)this.pdf.setPage(gn+1),this.pdf.internal.out("q");if(this.pdf.setPage(sn),St){this.ctx.fontSize=this.pdf.internal.getFontSize();var Pn=new ke(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Pn}},Ie.prototype.restore=function(St){St=typeof St!="boolean"||St;for(var sn=this.pdf.internal.getCurrentPageInfo().pageNumber,gn=0;gn<this.pdf.internal.getNumberOfPages();gn++)this.pdf.setPage(gn+1),this.pdf.internal.out("Q");this.pdf.setPage(sn),St&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ie.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Oe=function(St){var sn,gn,Pn,Fn;if(St.isCanvasGradient===!0&&(St=St.getColor()),!St)return{r:0,g:0,b:0,a:0,style:St};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(St))sn=0,gn=0,Pn=0,Fn=0;else{var vn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(St);if(vn!==null)sn=parseInt(vn[1]),gn=parseInt(vn[2]),Pn=parseInt(vn[3]),Fn=1;else if((vn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(St))!==null)sn=parseInt(vn[1]),gn=parseInt(vn[2]),Pn=parseInt(vn[3]),Fn=parseFloat(vn[4]);else{if(Fn=1,typeof St=="string"&&St.charAt(0)!=="#"){var kn=new f(St);St=kn.ok?kn.toHex():"#000000"}St.length===4?(sn=St.substring(1,2),sn+=sn,gn=St.substring(2,3),gn+=gn,Pn=St.substring(3,4),Pn+=Pn):(sn=St.substring(1,3),gn=St.substring(3,5),Pn=St.substring(5,7)),sn=parseInt(sn,16),gn=parseInt(gn,16),Pn=parseInt(Pn,16)}}return{r:sn,g:gn,b:Pn,a:Fn,style:St}},Re=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Be=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ie.prototype.fillText=function(St,sn,gn,Pn){if(isNaN(sn)||isNaN(gn)||typeof St!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Pn=isNaN(Pn)?void 0:Pn,!Re.call(this)){var Fn=_n(this.ctx.transform.rotation),vn=this.ctx.transform.scaleX;fn.call(this,{text:St,x:sn,y:gn,scale:vn,angle:Fn,align:this.textAlign,maxWidth:Pn})}},Ie.prototype.strokeText=function(St,sn,gn,Pn){if(isNaN(sn)||isNaN(gn)||typeof St!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Be.call(this)){Pn=isNaN(Pn)?void 0:Pn;var Fn=_n(this.ctx.transform.rotation),vn=this.ctx.transform.scaleX;fn.call(this,{text:St,x:sn,y:gn,scale:vn,renderingMode:"stroke",angle:Fn,align:this.textAlign,maxWidth:Pn})}},Ie.prototype.measureText=function(St){if(typeof St!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var sn=this.pdf,gn=this.pdf.internal.scaleFactor,Pn=sn.internal.getFontSize(),Fn=sn.getStringUnitWidth(St)*Pn/sn.internal.scaleFactor,vn=function(kn){var Bn=(kn=kn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Bn}}),this};return new vn({width:Fn*=Math.round(96*gn/72*1e4)/1e4})},Ie.prototype.scale=function(St,sn){if(isNaN(St)||isNaN(sn))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var gn=new Ee(St,0,0,sn,0,0);this.ctx.transform=this.ctx.transform.multiply(gn)},Ie.prototype.rotate=function(St){if(isNaN(St))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var sn=new Ee(Math.cos(St),Math.sin(St),-Math.sin(St),Math.cos(St),0,0);this.ctx.transform=this.ctx.transform.multiply(sn)},Ie.prototype.translate=function(St,sn){if(isNaN(St)||isNaN(sn))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var gn=new Ee(1,0,0,1,St,sn);this.ctx.transform=this.ctx.transform.multiply(gn)},Ie.prototype.transform=function(St,sn,gn,Pn,Fn,vn){if(isNaN(St)||isNaN(sn)||isNaN(gn)||isNaN(Pn)||isNaN(Fn)||isNaN(vn))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var kn=new Ee(St,sn,gn,Pn,Fn,vn);this.ctx.transform=this.ctx.transform.multiply(kn)},Ie.prototype.setTransform=function(St,sn,gn,Pn,Fn,vn){St=isNaN(St)?1:St,sn=isNaN(sn)?0:sn,gn=isNaN(gn)?0:gn,Pn=isNaN(Pn)?1:Pn,Fn=isNaN(Fn)?0:Fn,vn=isNaN(vn)?0:vn,this.ctx.transform=new Ee(St,sn,gn,Pn,Fn,vn)};var je=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ie.prototype.drawImage=function(St,sn,gn,Pn,Fn,vn,kn,Bn,er){var Zn=this.pdf.getImageProperties(St),Cn=1,Tn=1,qn=1,In=1;Pn!==void 0&&Bn!==void 0&&(qn=Bn/Pn,In=er/Fn,Cn=Zn.width/Pn*Bn/Pn,Tn=Zn.height/Fn*er/Fn),vn===void 0&&(vn=sn,kn=gn,sn=0,gn=0),Pn!==void 0&&Bn===void 0&&(Bn=Pn,er=Fn),Pn===void 0&&Bn===void 0&&(Bn=Zn.width,er=Zn.height);for(var wn,Vn=this.ctx.transform.decompose(),Yn=_n(Vn.rotate.shx),tr=new Ee,cr=(tr=(tr=(tr=tr.multiply(Vn.translate)).multiply(Vn.skew)).multiply(Vn.scale)).applyToRectangle(new Pe(vn-sn*qn,kn-gn*In,Pn*Cn,Fn*Tn)),Kn=He.call(this,cr),rr=[],ir=0;ir<Kn.length;ir+=1)rr.indexOf(Kn[ir])===-1&&rr.push(Kn[ir]);if(ze(rr),this.autoPaging)for(var yr=rr[0],xr=rr[rr.length-1],Nr=yr;Nr<xr+1;Nr++){this.pdf.setPage(Nr);var jr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vr=Nr===1?this.posY+this.margin[0]:this.margin[0],Yr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ei=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ln=Nr===1?0:Yr+(Nr-2)*ei;if(this.ctx.clip_path.length!==0){var ar=this.path;wn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ve(wn,this.posX+this.margin[3],-Ln+Vr+this.ctx.prevPageLastElemOffset),We.call(this,"fill",!0),this.path=ar}var sr=JSON.parse(JSON.stringify(cr));sr=Ve([sr],this.posX+this.margin[3],-Ln+Vr+this.ctx.prevPageLastElemOffset)[0];var Tr=(Nr>yr||Nr<xr)&&je.call(this);Tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jr,ei,null).clip().discardPath()),this.pdf.addImage(St,"JPEG",sr.x,sr.y,sr.w,sr.h,null,null,Yn),Tr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(St,"JPEG",cr.x,cr.y,cr.w,cr.h,null,null,Yn)};var He=function(St,sn,gn){var Pn=[];sn=sn||this.pdf.internal.pageSize.width,gn=gn||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Fn=this.posY+this.ctx.prevPageLastElemOffset;switch(St.type){default:case"mt":case"lt":Pn.push(Math.floor((St.y+Fn)/gn)+1);break;case"arc":Pn.push(Math.floor((St.y+Fn-St.radius)/gn)+1),Pn.push(Math.floor((St.y+Fn+St.radius)/gn)+1);break;case"qct":var vn=Nn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,St.x1,St.y1,St.x,St.y);Pn.push(Math.floor((vn.y+Fn)/gn)+1),Pn.push(Math.floor((vn.y+vn.h+Fn)/gn)+1);break;case"bct":var kn=Un(this.ctx.lastPoint.x,this.ctx.lastPoint.y,St.x1,St.y1,St.x2,St.y2,St.x,St.y);Pn.push(Math.floor((kn.y+Fn)/gn)+1),Pn.push(Math.floor((kn.y+kn.h+Fn)/gn)+1);break;case"rect":Pn.push(Math.floor((St.y+Fn)/gn)+1),Pn.push(Math.floor((St.y+St.h+Fn)/gn)+1)}for(var Bn=0;Bn<Pn.length;Bn+=1)for(;this.pdf.internal.getNumberOfPages()<Pn[Bn];)Ge.call(this);return Pn},Ge=function(){var St=this.fillStyle,sn=this.strokeStyle,gn=this.font,Pn=this.lineCap,Fn=this.lineWidth,vn=this.lineJoin;this.pdf.addPage(),this.fillStyle=St,this.strokeStyle=sn,this.font=gn,this.lineCap=Pn,this.lineWidth=Fn,this.lineJoin=vn},Ve=function(St,sn,gn){for(var Pn=0;Pn<St.length;Pn++)switch(St[Pn].type){case"bct":St[Pn].x2+=sn,St[Pn].y2+=gn;case"qct":St[Pn].x1+=sn,St[Pn].y1+=gn;case"mt":case"lt":case"arc":default:St[Pn].x+=sn,St[Pn].y+=gn}return St},ze=function(St){return St.sort(function(sn,gn){return sn-gn})},Xe=function(St,sn){for(var gn,Pn,Fn=this.fillStyle,vn=this.strokeStyle,kn=this.lineCap,Bn=this.lineWidth,er=Math.abs(Bn*this.ctx.transform.scaleX),Zn=this.lineJoin,Cn=JSON.parse(JSON.stringify(this.path)),Tn=JSON.parse(JSON.stringify(this.path)),qn=[],In=0;In<Tn.length;In++)if(Tn[In].x!==void 0)for(var wn=He.call(this,Tn[In]),Vn=0;Vn<wn.length;Vn+=1)qn.indexOf(wn[Vn])===-1&&qn.push(wn[Vn]);for(var Yn=0;Yn<qn.length;Yn++)for(;this.pdf.internal.getNumberOfPages()<qn[Yn];)Ge.call(this);if(ze(qn),this.autoPaging)for(var tr=qn[0],cr=qn[qn.length-1],Kn=tr;Kn<cr+1;Kn++){this.pdf.setPage(Kn),this.fillStyle=Fn,this.strokeStyle=vn,this.lineCap=kn,this.lineWidth=er,this.lineJoin=Zn;var rr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ir=Kn===1?this.posY+this.margin[0]:this.margin[0],yr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nr=Kn===1?0:yr+(Kn-2)*xr;if(this.ctx.clip_path.length!==0){var jr=this.path;gn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ve(gn,this.posX+this.margin[3],-Nr+ir+this.ctx.prevPageLastElemOffset),We.call(this,St,!0),this.path=jr}if(Pn=JSON.parse(JSON.stringify(Cn)),this.path=Ve(Pn,this.posX+this.margin[3],-Nr+ir+this.ctx.prevPageLastElemOffset),sn===!1||Kn===0){var Vr=(Kn>tr||Kn<cr)&&je.call(this);Vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rr,xr,null).clip().discardPath()),We.call(this,St,sn),Vr&&this.pdf.restoreGraphicsState()}this.lineWidth=Bn}else this.lineWidth=er,We.call(this,St,sn),this.lineWidth=Bn;this.path=Cn},We=function(St,sn){if((St!=="stroke"||sn||!Be.call(this))&&(St==="stroke"||sn||!Re.call(this))){for(var gn,Pn,Fn=[],vn=this.path,kn=0;kn<vn.length;kn++){var Bn=vn[kn];switch(Bn.type){case"begin":Fn.push({begin:!0});break;case"close":Fn.push({close:!0});break;case"mt":Fn.push({start:Bn,deltas:[],abs:[]});break;case"lt":var er=Fn.length;if(vn[kn-1]&&!isNaN(vn[kn-1].x)&&(gn=[Bn.x-vn[kn-1].x,Bn.y-vn[kn-1].y],er>0)){for(;er>=0;er--)if(Fn[er-1].close!==!0&&Fn[er-1].begin!==!0){Fn[er-1].deltas.push(gn),Fn[er-1].abs.push(Bn);break}}break;case"bct":gn=[Bn.x1-vn[kn-1].x,Bn.y1-vn[kn-1].y,Bn.x2-vn[kn-1].x,Bn.y2-vn[kn-1].y,Bn.x-vn[kn-1].x,Bn.y-vn[kn-1].y],Fn[Fn.length-1].deltas.push(gn);break;case"qct":var Zn=vn[kn-1].x+2/3*(Bn.x1-vn[kn-1].x),Cn=vn[kn-1].y+2/3*(Bn.y1-vn[kn-1].y),Tn=Bn.x+2/3*(Bn.x1-Bn.x),qn=Bn.y+2/3*(Bn.y1-Bn.y),In=Bn.x,wn=Bn.y;gn=[Zn-vn[kn-1].x,Cn-vn[kn-1].y,Tn-vn[kn-1].x,qn-vn[kn-1].y,In-vn[kn-1].x,wn-vn[kn-1].y],Fn[Fn.length-1].deltas.push(gn);break;case"arc":Fn.push({deltas:[],abs:[],arc:!0}),Array.isArray(Fn[Fn.length-1].abs)&&Fn[Fn.length-1].abs.push(Bn)}}Pn=sn?null:St==="stroke"?"stroke":"fill";for(var Vn=!1,Yn=0;Yn<Fn.length;Yn++)if(Fn[Yn].arc)for(var tr=Fn[Yn].abs,cr=0;cr<tr.length;cr++){var Kn=tr[cr];Kn.type==="arc"?Ze.call(this,Kn.x,Kn.y,Kn.radius,Kn.startAngle,Kn.endAngle,Kn.counterclockwise,void 0,sn,!Vn):nn.call(this,Kn.x,Kn.y),Vn=!0}else if(Fn[Yn].close===!0)this.pdf.internal.out("h"),Vn=!1;else if(Fn[Yn].begin!==!0){var rr=Fn[Yn].start.x,ir=Fn[Yn].start.y;cn.call(this,Fn[Yn].deltas,rr,ir),Vn=!0}Pn&&on.call(this,Pn),sn&&an.call(this)}},Je=function(St){var sn=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,gn=sn*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return St-gn;case"top":return St+sn-gn;case"hanging":return St+sn-2*gn;case"middle":return St+sn/2-gn;case"ideographic":return St;case"alphabetic":default:return St}},Qe=function(St){return St+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ie.prototype.createLinearGradient=function(){var St=function(){};return St.colorStops=[],St.addColorStop=function(sn,gn){this.colorStops.push([sn,gn])},St.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},St.isCanvasGradient=!0,St},Ie.prototype.createPattern=function(){return this.createLinearGradient()},Ie.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ze=function(St,sn,gn,Pn,Fn,vn,kn,Bn,er){for(var Zn=bn.call(this,gn,Pn,Fn,vn),Cn=0;Cn<Zn.length;Cn++){var Tn=Zn[Cn];Cn===0&&(er?rn.call(this,Tn.x1+St,Tn.y1+sn):nn.call(this,Tn.x1+St,Tn.y1+sn)),dn.call(this,St,sn,Tn.x2,Tn.y2,Tn.x3,Tn.y3,Tn.x4,Tn.y4)}Bn?an.call(this):on.call(this,kn)},on=function(St){switch(St){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},an=function(){this.pdf.clip(),this.pdf.discardPath()},rn=function(St,sn){this.pdf.internal.out(t(St)+" "+Se(sn)+" m")},fn=function(St){var sn;switch(St.align){case"right":case"end":sn="right";break;case"center":sn="center";break;case"left":case"start":default:sn="left"}var gn=this.pdf.getTextDimensions(St.text),Pn=Je.call(this,St.y),Fn=Qe.call(this,Pn)-gn.h,vn=this.ctx.transform.applyToPoint(new Ce(St.x,Pn)),kn=this.ctx.transform.decompose(),Bn=new Ee;Bn=(Bn=(Bn=Bn.multiply(kn.translate)).multiply(kn.skew)).multiply(kn.scale);for(var er,Zn,Cn,Tn=this.ctx.transform.applyToRectangle(new Pe(St.x,Pn,gn.w,gn.h)),qn=Bn.applyToRectangle(new Pe(St.x,Fn,gn.w,gn.h)),In=He.call(this,qn),wn=[],Vn=0;Vn<In.length;Vn+=1)wn.indexOf(In[Vn])===-1&&wn.push(In[Vn]);if(ze(wn),this.autoPaging)for(var Yn=wn[0],tr=wn[wn.length-1],cr=Yn;cr<tr+1;cr++){this.pdf.setPage(cr);var Kn=cr===1?this.posY+this.margin[0]:this.margin[0],rr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ir=this.pdf.internal.pageSize.height-this.margin[2],yr=ir-this.margin[0],xr=this.pdf.internal.pageSize.width-this.margin[1],Nr=xr-this.margin[3],jr=cr===1?0:rr+(cr-2)*yr;if(this.ctx.clip_path.length!==0){var Vr=this.path;er=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ve(er,this.posX+this.margin[3],-1*jr+Kn),We.call(this,"fill",!0),this.path=Vr}var Yr=Ve([JSON.parse(JSON.stringify(qn))],this.posX+this.margin[3],-jr+Kn+this.ctx.prevPageLastElemOffset)[0];St.scale>=.01&&(Zn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zn*St.scale),Cn=this.lineWidth,this.lineWidth=Cn*St.scale);var ei=this.autoPaging!=="text";if(ei||Yr.y+Yr.h<=ir){if(ei||Yr.y>=Kn&&Yr.x<=xr){var Ln=ei?St.text:this.pdf.splitTextToSize(St.text,St.maxWidth||xr-Yr.x)[0],ar=Ve([JSON.parse(JSON.stringify(Tn))],this.posX+this.margin[3],-jr+Kn+this.ctx.prevPageLastElemOffset)[0],sr=ei&&(cr>Yn||cr<tr)&&je.call(this);sr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nr,yr,null).clip().discardPath()),this.pdf.text(Ln,ar.x,ar.y,{angle:St.angle,align:sn,renderingMode:St.renderingMode}),sr&&this.pdf.restoreGraphicsState()}}else Yr.y<ir&&(this.ctx.prevPageLastElemOffset+=ir-Yr.y);St.scale>=.01&&(this.pdf.setFontSize(Zn),this.lineWidth=Cn)}else St.scale>=.01&&(Zn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zn*St.scale),Cn=this.lineWidth,this.lineWidth=Cn*St.scale),this.pdf.text(St.text,vn.x+this.posX,vn.y+this.posY,{angle:St.angle,align:sn,renderingMode:St.renderingMode,maxWidth:St.maxWidth}),St.scale>=.01&&(this.pdf.setFontSize(Zn),this.lineWidth=Cn)},nn=function(St,sn,gn,Pn){gn=gn||0,Pn=Pn||0,this.pdf.internal.out(t(St+gn)+" "+Se(sn+Pn)+" l")},cn=function(St,sn,gn){return this.pdf.lines(St,sn,gn,null,null)},dn=function(St,sn,gn,Pn,Fn,vn,kn,Bn){this.pdf.internal.out([e(_e(gn+St)),e(Ae(Pn+sn)),e(_e(Fn+St)),e(Ae(vn+sn)),e(_e(kn+St)),e(Ae(Bn+sn)),"c"].join(" "))},bn=function(St,sn,gn,Pn){for(var Fn=2*Math.PI,vn=Math.PI/2;sn>gn;)sn-=Fn;var kn=Math.abs(gn-sn);kn<Fn&&Pn&&(kn=Fn-kn);for(var Bn=[],er=Pn?-1:1,Zn=sn;kn>1e-5;){var Cn=Zn+er*Math.min(kn,vn);Bn.push(pn.call(this,St,Zn,Cn)),kn-=Math.abs(Cn-Zn),Zn=Cn}return Bn},pn=function(St,sn,gn){var Pn=(gn-sn)/2,Fn=St*Math.cos(Pn),vn=St*Math.sin(Pn),kn=Fn,Bn=-vn,er=kn*kn+Bn*Bn,Zn=er+kn*Fn+Bn*vn,Cn=4/3*(Math.sqrt(2*er*Zn)-Zn)/(kn*vn-Bn*Fn),Tn=kn-Cn*Bn,qn=Bn+Cn*kn,In=Tn,wn=-qn,Vn=Pn+sn,Yn=Math.cos(Vn),tr=Math.sin(Vn);return{x1:St*Math.cos(sn),y1:St*Math.sin(sn),x2:Tn*Yn-qn*tr,y2:Tn*tr+qn*Yn,x3:In*Yn-wn*tr,y3:In*tr+wn*Yn,x4:St*Math.cos(gn),y4:St*Math.sin(gn)}},_n=function(St){return 180*St/Math.PI},Nn=function(St,sn,gn,Pn,Fn,vn){var kn=St+.5*(gn-St),Bn=sn+.5*(Pn-sn),er=Fn+.5*(gn-Fn),Zn=vn+.5*(Pn-vn),Cn=Math.min(St,Fn,kn,er),Tn=Math.max(St,Fn,kn,er),qn=Math.min(sn,vn,Bn,Zn),In=Math.max(sn,vn,Bn,Zn);return new Pe(Cn,qn,Tn-Cn,In-qn)},Un=function(St,sn,gn,Pn,Fn,vn,kn,Bn){var er,Zn,Cn,Tn,qn,In,wn,Vn,Yn,tr,cr,Kn,rr,ir,yr=gn-St,xr=Pn-sn,Nr=Fn-gn,jr=vn-Pn,Vr=kn-Fn,Yr=Bn-vn;for(Zn=0;Zn<41;Zn++)Yn=(wn=(Cn=St+(er=Zn/40)*yr)+er*((qn=gn+er*Nr)-Cn))+er*(qn+er*(Fn+er*Vr-qn)-wn),tr=(Vn=(Tn=sn+er*xr)+er*((In=Pn+er*jr)-Tn))+er*(In+er*(vn+er*Yr-In)-Vn),Zn==0?(cr=Yn,Kn=tr,rr=Yn,ir=tr):(cr=Math.min(cr,Yn),Kn=Math.min(Kn,tr),rr=Math.max(rr,Yn),ir=Math.max(ir,tr));return new Pe(Math.round(cr),Math.round(Kn),Math.round(rr-cr),Math.round(ir-Kn))},xn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var St,sn,gn=(St=this.ctx.lineDash,sn=this.ctx.lineDashOffset,JSON.stringify({lineDash:St,lineDashOffset:sn}));this.prevLineDash!==gn&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=gn)}}})(E.API),function(xe){var e=function(Ae){var Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je;for(Pe=[],Ee=0,Fe=(Ae+=Ce="\0\0\0\0".slice(Ae.length%4||4)).length;Fe>Ee;Ee+=4)(ke=(Ae.charCodeAt(Ee)<<24)+(Ae.charCodeAt(Ee+1)<<16)+(Ae.charCodeAt(Ee+2)<<8)+Ae.charCodeAt(Ee+3))!==0?(Ie=(ke=((ke=((ke=((ke=(ke-(je=ke%85))/85)-(Be=ke%85))/85)-(Re=ke%85))/85)-(Oe=ke%85))/85)%85,Pe.push(Ie+33,Oe+33,Re+33,Be+33,je+33)):Pe.push(122);return function(He,Ge){for(var Ve=Ge;Ve>0;Ve--)He.pop()}(Pe,Ce.length),String.fromCharCode.apply(String,Pe)+"~>"},t=function(Ae){var Ce,Pe,Ee,Fe,ke,Ie=String,Oe="length",Re=255,Be="charCodeAt",je="slice",He="replace";for(Ae[je](-2),Ae=Ae[je](0,-2)[He](/\s/g,"")[He]("z","!!!!!"),Ee=[],Fe=0,ke=(Ae+=Ce="uuuuu"[je](Ae[Oe]%5||5))[Oe];ke>Fe;Fe+=5)Pe=52200625*(Ae[Be](Fe)-33)+614125*(Ae[Be](Fe+1)-33)+7225*(Ae[Be](Fe+2)-33)+85*(Ae[Be](Fe+3)-33)+(Ae[Be](Fe+4)-33),Ee.push(Re&Pe>>24,Re&Pe>>16,Re&Pe>>8,Re&Pe);return function(Ge,Ve){for(var ze=Ve;ze>0;ze--)Ge.pop()}(Ee,Ce[Oe]),Ie.fromCharCode.apply(Ie,Ee)},Se=function(Ae){var Ce=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ae=Ae.replace(/\s/g,"")).indexOf(">")!==-1&&(Ae=Ae.substr(0,Ae.indexOf(">"))),Ae.length%2&&(Ae+="0"),Ce.test(Ae)===!1)return"";for(var Pe="",Ee=0;Ee<Ae.length;Ee+=2)Pe+=String.fromCharCode("0x"+(Ae[Ee]+Ae[Ee+1]));return Pe},_e=function(Ae){for(var Ce=new Uint8Array(Ae.length),Pe=Ae.length;Pe--;)Ce[Pe]=Ae.charCodeAt(Pe);return Ae=(Ce=zlibSync(Ce)).reduce(function(Ee,Fe){return Ee+String.fromCharCode(Fe)},"")};xe.processDataByFilters=function(Ae,Ce){var Pe=0,Ee=Ae||"",Fe=[];for(typeof(Ce=Ce||[])=="string"&&(Ce=[Ce]),Pe=0;Pe<Ce.length;Pe+=1)switch(Ce[Pe]){case"ASCII85Decode":case"/ASCII85Decode":Ee=t(Ee),Fe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Ee=e(Ee),Fe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Ee=Se(Ee),Fe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Ee=Ee.split("").map(function(ke){return("0"+ke.charCodeAt().toString(16)).slice(-2)}).join("")+">",Fe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Ee=_e(Ee),Fe.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ce[Pe]+'" is not implemented')}return{data:Ee,reverseChain:Fe.reverse().join(" ")}}}(E.API),function(xe){xe.loadFile=function(e,t,Se){return function(_e,Ae,Ce){Ae=Ae!==!1,Ce=typeof Ce=="function"?Ce:function(){};var Pe=void 0;try{Pe=function(Ee,Fe,ke){var Ie=new XMLHttpRequest,Oe=0,Re=function(Be){var je=Be.length,He=[],Ge=String.fromCharCode;for(Oe=0;Oe<je;Oe+=1)He.push(Ge(255&Be.charCodeAt(Oe)));return He.join("")};if(Ie.open("GET",Ee,!Fe),Ie.overrideMimeType("text/plain; charset=x-user-defined"),Fe===!1&&(Ie.onload=function(){Ie.status===200?ke(Re(this.responseText)):ke(void 0)}),Ie.send(null),Fe&&Ie.status===200)return Re(Ie.responseText)}(_e,Ae,Ce)}catch{}return Pe}(e,t,Se)},xe.loadImageFile=xe.loadFile}(E.API),function(xe){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(Ce){return Promise.reject(new Error("Could not load html2canvas: "+Ce))}).then(function(Ce){return Ce.default?Ce.default:Ce})}function t(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(Ce){return Promise.reject(new Error("Could not load dompurify: "+Ce))}).then(function(Ce){return Ce.default?Ce.default:Ce})}var Se=function(Ce){var Pe=_typeof(Ce);return Pe==="undefined"?"undefined":Pe==="string"||Ce instanceof String?"string":Pe==="number"||Ce instanceof Number?"number":Pe==="function"||Ce instanceof Function?"function":Ce&&Ce.constructor===Array?"array":Ce&&Ce.nodeType===1?"element":Pe==="object"?"object":"unknown"},_e=function(Ce,Pe){var Ee=document.createElement(Ce);for(var Fe in Pe.className&&(Ee.className=Pe.className),Pe.innerHTML&&Pe.dompurify&&(Ee.innerHTML=Pe.dompurify.sanitize(Pe.innerHTML)),Pe.style)Ee.style[Fe]=Pe.style[Fe];return Ee},Ae=function Ce(Pe){var Ee=Object.assign(Ce.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ce.template))),Fe=Ce.convert(Promise.resolve(),Ee);return Fe=(Fe=Fe.setProgress(1,Ce,1,[Ce])).set(Pe)};(Ae.prototype=Object.create(Promise.prototype)).constructor=Ae,Ae.convert=function(Ce,Pe){return Ce.__proto__=Pe||Ae.prototype,Ce},Ae.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ae.prototype.from=function(Ce,Pe){return this.then(function(){switch(Pe=Pe||function(Ee){switch(Se(Ee)){case"string":return"string";case"element":return Ee.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Ce)){case"string":return this.then(t).then(function(Ee){return this.set({src:_e("div",{innerHTML:Ce,dompurify:Ee})})});case"element":return this.set({src:Ce});case"canvas":return this.set({canvas:Ce});case"img":return this.set({img:Ce});default:return this.error("Unknown source type.")}})},Ae.prototype.to=function(Ce){switch(Ce){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ae.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ce={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Pe=function Ee(Fe,ke){for(var Ie=Fe.nodeType===3?document.createTextNode(Fe.nodeValue):Fe.cloneNode(!1),Oe=Fe.firstChild;Oe;Oe=Oe.nextSibling)ke!==!0&&Oe.nodeType===1&&Oe.nodeName==="SCRIPT"||Ie.appendChild(Ee(Oe,ke));return Fe.nodeType===1&&(Fe.nodeName==="CANVAS"?(Ie.width=Fe.width,Ie.height=Fe.height,Ie.getContext("2d").drawImage(Fe,0,0)):Fe.nodeName!=="TEXTAREA"&&Fe.nodeName!=="SELECT"||(Ie.value=Fe.value),Ie.addEventListener("load",function(){Ie.scrollTop=Fe.scrollTop,Ie.scrollLeft=Fe.scrollLeft},!0)),Ie}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Pe.tagName==="BODY"&&(Ce.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=_e("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=_e("div",{className:"html2pdf__container",style:Ce}),this.prop.container.appendChild(Pe),this.prop.container.firstChild.appendChild(_e("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ae.prototype.toCanvas=function(){var Ce=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ce).then(e).then(function(Pe){var Ee=Object.assign({},this.opt.html2canvas);return delete Ee.onrendered,Pe(this.prop.container,Ee)}).then(function(Pe){(this.opt.html2canvas.onrendered||function(){})(Pe),this.prop.canvas=Pe,document.body.removeChild(this.prop.overlay)})},Ae.prototype.toContext2d=function(){var Ce=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ce).then(e).then(function(Pe){var Ee=this.opt.jsPDF,Fe=this.opt.fontFaces,ke=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ie=Object.assign({async:!0,allowTaint:!0,scale:ke,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ie.onrendered,Ee.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Ee.context2d.posX=this.opt.x,Ee.context2d.posY=this.opt.y,Ee.context2d.margin=this.opt.margin,Ee.context2d.fontFaces=Fe,Fe)for(var Oe=0;Oe<Fe.length;++Oe){var Re=Fe[Oe],Be=Re.src.find(function(je){return je.format==="truetype"});Be&&Ee.addFont(Be.url,Re.ref.name,Re.ref.style)}return Ie.windowHeight=Ie.windowHeight||0,Ie.windowHeight=Ie.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ie.windowHeight,Ee.context2d.save(!0),Pe(this.prop.container,Ie)}).then(function(Pe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Pe),this.prop.canvas=Pe,document.body.removeChild(this.prop.overlay)})},Ae.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ce=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ce})},Ae.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ae.prototype.output=function(Ce,Pe,Ee){return(Ee=Ee||"pdf").toLowerCase()==="img"||Ee.toLowerCase()==="image"?this.outputImg(Ce,Pe):this.outputPdf(Ce,Pe)},Ae.prototype.outputPdf=function(Ce,Pe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ce,Pe)})},Ae.prototype.outputImg=function(Ce){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ce){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ce+'" is not supported.'}})},Ae.prototype.save=function(Ce){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ce?{filename:Ce}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ae.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ae.prototype.set=function(Ce){if(Se(Ce)!=="object")return this;var Pe=Object.keys(Ce||{}).map(function(Ee){if(Ee in Ae.template.prop)return function(){this.prop[Ee]=Ce[Ee]};switch(Ee){case"margin":return this.setMargin.bind(this,Ce.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ce.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ce.pageSize);default:return function(){this.opt[Ee]=Ce[Ee]}}},this);return this.then(function(){return this.thenList(Pe)})},Ae.prototype.get=function(Ce,Pe){return this.then(function(){var Ee=Ce in Ae.template.prop?this.prop[Ce]:this.opt[Ce];return Pe?Pe(Ee):Ee})},Ae.prototype.setMargin=function(Ce){return this.then(function(){switch(Se(Ce)){case"number":Ce=[Ce,Ce,Ce,Ce];case"array":if(Ce.length===2&&(Ce=[Ce[0],Ce[1],Ce[0],Ce[1]]),Ce.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ce}).then(this.setPageSize)},Ae.prototype.setPageSize=function(Ce){function Pe(Ee,Fe){return Math.floor(Ee*Fe/72*96)}return this.then(function(){(Ce=Ce||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ce.inner={width:Ce.width-this.opt.margin[1]-this.opt.margin[3],height:Ce.height-this.opt.margin[0]-this.opt.margin[2]},Ce.inner.px={width:Pe(Ce.inner.width,Ce.k),height:Pe(Ce.inner.height,Ce.k)},Ce.inner.ratio=Ce.inner.height/Ce.inner.width),this.prop.pageSize=Ce})},Ae.prototype.setProgress=function(Ce,Pe,Ee,Fe){return Ce!=null&&(this.progress.val=Ce),Pe!=null&&(this.progress.state=Pe),Ee!=null&&(this.progress.n=Ee),Fe!=null&&(this.progress.stack=Fe),this.progress.ratio=this.progress.val/this.progress.state,this},Ae.prototype.updateProgress=function(Ce,Pe,Ee,Fe){return this.setProgress(Ce?this.progress.val+Ce:null,Pe||null,Ee?this.progress.n+Ee:null,Fe?this.progress.stack.concat(Fe):null)},Ae.prototype.then=function(Ce,Pe){var Ee=this;return this.thenCore(Ce,Pe,function(Fe,ke){return Ee.updateProgress(null,null,1,[Fe]),Promise.prototype.then.call(this,function(Ie){return Ee.updateProgress(null,Fe),Ie}).then(Fe,ke).then(function(Ie){return Ee.updateProgress(1),Ie})})},Ae.prototype.thenCore=function(Ce,Pe,Ee){Ee=Ee||Promise.prototype.then,Ce&&(Ce=Ce.bind(this)),Pe&&(Pe=Pe.bind(this));var Fe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Ae.convert(Object.assign({},this),Promise.prototype),ke=Ee.call(Fe,Ce,Pe);return Ae.convert(ke,this.__proto__)},Ae.prototype.thenExternal=function(Ce,Pe){return Promise.prototype.then.call(this,Ce,Pe)},Ae.prototype.thenList=function(Ce){var Pe=this;return Ce.forEach(function(Ee){Pe=Pe.thenCore(Ee)}),Pe},Ae.prototype.catch=function(Ce){Ce&&(Ce=Ce.bind(this));var Pe=Promise.prototype.catch.call(this,Ce);return Ae.convert(Pe,this)},Ae.prototype.catchExternal=function(Ce){return Promise.prototype.catch.call(this,Ce)},Ae.prototype.error=function(Ce){return this.then(function(){throw new Error(Ce)})},Ae.prototype.using=Ae.prototype.set,Ae.prototype.saveAs=Ae.prototype.save,Ae.prototype.export=Ae.prototype.output,Ae.prototype.run=Ae.prototype.then,E.getPageSize=function(Ce,Pe,Ee){if(_typeof(Ce)==="object"){var Fe=Ce;Ce=Fe.orientation,Pe=Fe.unit||Pe,Ee=Fe.format||Ee}Pe=Pe||"mm",Ee=Ee||"a4",Ce=(""+(Ce||"P")).toLowerCase();var ke,Ie=(""+Ee).toLowerCase(),Oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Pe){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=.75;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:throw"Invalid unit: "+Pe}var Re,Be=0,je=0;if(Oe.hasOwnProperty(Ie))Be=Oe[Ie][1]/ke,je=Oe[Ie][0]/ke;else try{Be=Ee[1],je=Ee[0]}catch{throw new Error("Invalid format: "+Ee)}if(Ce==="p"||Ce==="portrait")Ce="p",je>Be&&(Re=je,je=Be,Be=Re);else{if(Ce!=="l"&&Ce!=="landscape")throw"Invalid orientation: "+Ce;Ce="l",Be>je&&(Re=je,je=Be,Be=Re)}return{width:je,height:Be,unit:Pe,k:ke,orientation:Ce}},xe.html=function(Ce,Pe){(Pe=Pe||{}).callback=Pe.callback||function(){},Pe.html2canvas=Pe.html2canvas||{},Pe.html2canvas.canvas=Pe.html2canvas.canvas||this.canvas,Pe.jsPDF=Pe.jsPDF||this,Pe.fontFaces=Pe.fontFaces?Pe.fontFaces.map(jt):null;var Ee=new Ae(Pe);return Pe.worker?Ee:Ee.from(Ce).doCallback()}}(E.API),E.API.addJS=function(xe){return Ht=xe,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(xe){var e;xe.events.push(["postPutResources",function(){var t=this,Se=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var _e=t.outline.render().split(/\r\n/),Ae=0;Ae<_e.length;Ae++){var Ce=_e[Ae],Pe=Se.exec(Ce);if(Pe!=null){var Ee=Pe[1];t.internal.newObjectDeferredBegin(Ee,!1)}t.internal.write(Ce)}if(this.outline.createNamedDestinations){var Fe=this.internal.pages.length,ke=[];for(Ae=0;Ae<Fe;Ae++){var Ie=t.internal.newObject();ke.push(Ie);var Oe=t.internal.getPageInfo(Ae+1);t.internal.write("<< /D["+Oe.objId+" 0 R /XYZ null null null]>> endobj")}var Re=t.internal.newObject();for(t.internal.write("<< /Names [ "),Ae=0;Ae<ke.length;Ae++)t.internal.write("(page_"+(Ae+1)+")"+ke[Ae]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+Re+" 0 R"),t.internal.write(">>","endobj")}}]),xe.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),xe.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(Se,_e,Ae){var Ce={title:_e,options:Ae,children:[]};return Se==null&&(Se=this.root),Se.children.push(Ce),Ce},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(Se){Se.id=t.internal.newObjectDeferred();for(var _e=0;_e<Se.children.length;_e++)this.genIds_r(Se.children[_e])},t.outline.renderRoot=function(Se){this.objStart(Se),this.line("/Type /Outlines"),Se.children.length>0&&(this.line("/First "+this.makeRef(Se.children[0])),this.line("/Last "+this.makeRef(Se.children[Se.children.length-1]))),this.line("/Count "+this.count_r({count:0},Se)),this.objEnd()},t.outline.renderItems=function(Se){for(var _e=this.ctx.pdf.internal.getVerticalCoordinateString,Ae=0;Ae<Se.children.length;Ae++){var Ce=Se.children[Ae];this.objStart(Ce),this.line("/Title "+this.makeString(Ce.title)),this.line("/Parent "+this.makeRef(Se)),Ae>0&&this.line("/Prev "+this.makeRef(Se.children[Ae-1])),Ae<Se.children.length-1&&this.line("/Next "+this.makeRef(Se.children[Ae+1])),Ce.children.length>0&&(this.line("/First "+this.makeRef(Ce.children[0])),this.line("/Last "+this.makeRef(Ce.children[Ce.children.length-1])));var Pe=this.count=this.count_r({count:0},Ce);if(Pe>0&&this.line("/Count "+Pe),Ce.options&&Ce.options.pageNumber){var Ee=t.internal.getPageInfo(Ce.options.pageNumber);this.line("/Dest ["+Ee.objId+" 0 R /XYZ 0 "+_e(0)+" 0]")}this.objEnd()}for(var Fe=0;Fe<Se.children.length;Fe++)this.renderItems(Se.children[Fe])},t.outline.line=function(Se){this.ctx.val+=Se+`\r
`},t.outline.makeRef=function(Se){return Se.id+" 0 R"},t.outline.makeString=function(Se){return"("+t.internal.pdfEscape(Se)+")"},t.outline.objStart=function(Se){this.ctx.val+=`\r
`+Se.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(Se,_e){for(var Ae=0;Ae<_e.children.length;Ae++)Se.count++,this.count_r(Se,_e.children[Ae]);return Se.count}}])}(E.API),function(xe){var e=[192,193,194,195,196,197,198,199];xe.processJPEG=function(t,Se,_e,Ae,Ce,Pe){var Ee,Fe=this.decode.DCT_DECODE,ke=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=Ce||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(Ee=function(Ie){for(var Oe,Re=256*Ie.charCodeAt(4)+Ie.charCodeAt(5),Be=Ie.length,je={width:0,height:0,numcomponents:1},He=4;He<Be;He+=2){if(He+=Re,e.indexOf(Ie.charCodeAt(He+1))!==-1){Oe=256*Ie.charCodeAt(He+5)+Ie.charCodeAt(He+6),je={width:256*Ie.charCodeAt(He+7)+Ie.charCodeAt(He+8),height:Oe,numcomponents:Ie.charCodeAt(He+9)};break}Re=256*Ie.charCodeAt(He+2)+Ie.charCodeAt(He+3)}return je}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:Pe=this.color_spaces.DEVICE_GRAY;break;case 4:Pe=this.color_spaces.DEVICE_CMYK;break;case 3:Pe=this.color_spaces.DEVICE_RGB}ke={data:t,width:Ee.width,height:Ee.height,colorSpace:Pe,bitsPerComponent:8,filter:Fe,index:Se,alias:_e}}return ke}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var xe,e,t;function Se(Ae){var Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,Ge,Ve,ze;for(this.data=Ae,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Ie=null;;){switch(Ce=this.readUInt32(),Be=(function(){var Xe,We;for(We=[],Xe=0;Xe<4;++Xe)We.push(String.fromCharCode(this.data[this.pos++]));return We}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Ce);break;case"fcTL":Ie&&this.animation.frames.push(Ie),this.pos+=4,Ie={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},ke=this.readUInt16(),Fe=this.readUInt16()||100,Ie.delay=1e3*ke/Fe,Ie.disposeOp=this.data[this.pos++],Ie.blendOp=this.data[this.pos++],Ie.data=[];break;case"IDAT":case"fdAT":for(Be==="fdAT"&&(this.pos+=4,Ce-=4),Ae=(Ie!=null?Ie.data:void 0)||this.imgData,Ge=0;0<=Ce?Ge<Ce:Ge>Ce;0<=Ce?++Ge:--Ge)Ae.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Ee=this.palette.length/3,this.transparency.indexed=this.read(Ce),this.transparency.indexed.length>Ee)throw new Error("More transparent colors than palette size");if((je=Ee-this.transparency.indexed.length)>0)for(Ve=0;0<=je?Ve<je:Ve>je;0<=je?++Ve:--Ve)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Ce)[0];break;case 2:this.transparency.rgb=this.read(Ce)}break;case"tEXt":Oe=(He=this.read(Ce)).indexOf(0),Re=String.fromCharCode.apply(String,He.slice(0,Oe)),this.text[Re]=String.fromCharCode.apply(String,He.slice(Oe+1));break;case"IEND":return Ie&&this.animation.frames.push(Ie),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(ze=this.colorType)===4||ze===6,Pe=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Pe,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Ce}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Se.prototype.read=function(Ae){var Ce,Pe;for(Pe=[],Ce=0;0<=Ae?Ce<Ae:Ce>Ae;0<=Ae?++Ce:--Ce)Pe.push(this.data[this.pos++]);return Pe},Se.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Se.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Se.prototype.decodePixels=function(Ae){var Ce=this.pixelBitlength/8,Pe=new Uint8Array(this.width*this.height*Ce),Ee=0,Fe=this;if(Ae==null&&(Ae=this.imgData),Ae.length===0)return new Uint8Array(0);function ke(Ie,Oe,Re,Be){var je,He,Ge,Ve,ze,Xe,We,Je,Qe,Ze,on,an,rn,fn,nn,cn,dn,bn,pn,_n,Nn,Un=Math.ceil((Fe.width-Ie)/Re),xn=Math.ceil((Fe.height-Oe)/Be),St=Fe.width==Un&&Fe.height==xn;for(fn=Ce*Un,an=St?Pe:new Uint8Array(fn*xn),Xe=Ae.length,rn=0,He=0;rn<xn&&Ee<Xe;){switch(Ae[Ee++]){case 0:for(Ve=dn=0;dn<fn;Ve=dn+=1)an[He++]=Ae[Ee++];break;case 1:for(Ve=bn=0;bn<fn;Ve=bn+=1)je=Ae[Ee++],ze=Ve<Ce?0:an[He-Ce],an[He++]=(je+ze)%256;break;case 2:for(Ve=pn=0;pn<fn;Ve=pn+=1)je=Ae[Ee++],Ge=(Ve-Ve%Ce)/Ce,nn=rn&&an[(rn-1)*fn+Ge*Ce+Ve%Ce],an[He++]=(nn+je)%256;break;case 3:for(Ve=_n=0;_n<fn;Ve=_n+=1)je=Ae[Ee++],Ge=(Ve-Ve%Ce)/Ce,ze=Ve<Ce?0:an[He-Ce],nn=rn&&an[(rn-1)*fn+Ge*Ce+Ve%Ce],an[He++]=(je+Math.floor((ze+nn)/2))%256;break;case 4:for(Ve=Nn=0;Nn<fn;Ve=Nn+=1)je=Ae[Ee++],Ge=(Ve-Ve%Ce)/Ce,ze=Ve<Ce?0:an[He-Ce],rn===0?nn=cn=0:(nn=an[(rn-1)*fn+Ge*Ce+Ve%Ce],cn=Ge&&an[(rn-1)*fn+(Ge-1)*Ce+Ve%Ce]),We=ze+nn-cn,Je=Math.abs(We-ze),Ze=Math.abs(We-nn),on=Math.abs(We-cn),Qe=Je<=Ze&&Je<=on?ze:Ze<=on?nn:cn,an[He++]=(je+Qe)%256;break;default:throw new Error("Invalid filter algorithm: "+Ae[Ee-1])}if(!St){var sn=((Oe+rn*Be)*Fe.width+Ie)*Ce,gn=rn*fn;for(Ve=0;Ve<Un;Ve+=1){for(var Pn=0;Pn<Ce;Pn+=1)Pe[sn++]=an[gn++];sn+=(Re-1)*Ce}}rn++}}return Ae=unzlibSync(Ae),Fe.interlaceMethod==1?(ke(0,0,8,8),ke(4,0,8,8),ke(0,4,4,8),ke(2,0,4,4),ke(0,2,2,4),ke(1,0,2,2),ke(0,1,1,2)):ke(0,0,1,1),Pe},Se.prototype.decodePalette=function(){var Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re;for(Pe=this.palette,ke=this.transparency.indexed||[],Fe=new Uint8Array((ke.length||0)+Pe.length),Ee=0,Ae=0,Ce=Ie=0,Oe=Pe.length;Ie<Oe;Ce=Ie+=3)Fe[Ee++]=Pe[Ce],Fe[Ee++]=Pe[Ce+1],Fe[Ee++]=Pe[Ce+2],Fe[Ee++]=(Re=ke[Ae++])!=null?Re:255;return Fe},Se.prototype.copyToImageData=function(Ae,Ce){var Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,Ge;if(Ee=this.colors,je=null,Pe=this.hasAlphaChannel,this.palette.length&&(je=(Ge=this._decodedPalette)!=null?Ge:this._decodedPalette=this.decodePalette(),Ee=4,Pe=!0),Be=(Fe=Ae.data||Ae).length,Ie=je||Ce,ke=Oe=0,Ee===1)for(;ke<Be;)Re=je?4*Ce[ke/4]:Oe,He=Ie[Re++],Fe[ke++]=He,Fe[ke++]=He,Fe[ke++]=He,Fe[ke++]=Pe?Ie[Re++]:255,Oe=Re;else for(;ke<Be;)Re=je?4*Ce[ke/4]:Oe,Fe[ke++]=Ie[Re++],Fe[ke++]=Ie[Re++],Fe[ke++]=Ie[Re++],Fe[ke++]=Pe?Ie[Re++]:255,Oe=Re},Se.prototype.decode=function(){var Ae;return Ae=new Uint8Array(this.width*this.height*4),this.copyToImageData(Ae,this.decodePixels()),Ae};var _e=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return _e(),xe=function(Ae){var Ce;if(_e()===!0)return t.width=Ae.width,t.height=Ae.height,t.clearRect(0,0,Ae.width,Ae.height),t.putImageData(Ae,0,0),(Ce=new Image).src=e.toDataURL(),Ce;throw new Error("This method requires a Browser with Canvas-capability.")},Se.prototype.decodeFrames=function(Ae){var Ce,Pe,Ee,Fe,ke,Ie,Oe,Re;if(this.animation){for(Re=[],Pe=ke=0,Ie=(Oe=this.animation.frames).length;ke<Ie;Pe=++ke)Ce=Oe[Pe],Ee=Ae.createImageData(Ce.width,Ce.height),Fe=this.decodePixels(new Uint8Array(Ce.data)),this.copyToImageData(Ee,Fe),Ce.imageData=Ee,Re.push(Ce.image=xe(Ee));return Re}},Se.prototype.renderFrame=function(Ae,Ce){var Pe,Ee,Fe;return Pe=(Ee=this.animation.frames)[Ce],Fe=Ee[Ce-1],Ce===0&&Ae.clearRect(0,0,this.width,this.height),(Fe!=null?Fe.disposeOp:void 0)===1?Ae.clearRect(Fe.xOffset,Fe.yOffset,Fe.width,Fe.height):(Fe!=null?Fe.disposeOp:void 0)===2&&Ae.putImageData(Fe.imageData,Fe.xOffset,Fe.yOffset),Pe.blendOp===0&&Ae.clearRect(Pe.xOffset,Pe.yOffset,Pe.width,Pe.height),Ae.drawImage(Pe.image,Pe.xOffset,Pe.yOffset)},Se.prototype.animate=function(Ae){var Ce,Pe,Ee,Fe,ke,Ie,Oe=this;return Pe=0,Ie=this.animation,Fe=Ie.numFrames,Ee=Ie.frames,ke=Ie.numPlays,(Ce=function(){var Re,Be;if(Re=Pe++%Fe,Be=Ee[Re],Oe.renderFrame(Ae,Re),Fe>1&&Pe/Fe<ke)return Oe.animation._timeout=setTimeout(Ce,Be.delay)})()},Se.prototype.stopAnimation=function(){var Ae;return clearTimeout((Ae=this.animation)!=null?Ae._timeout:void 0)},Se.prototype.render=function(Ae){var Ce,Pe;return Ae._png&&Ae._png.stopAnimation(),Ae._png=this,Ae.width=this.width,Ae.height=this.height,Ce=Ae.getContext("2d"),this.animation?(this.decodeFrames(Ce),this.animate(Ce)):(Pe=Ce.createImageData(this.width,this.height),this.copyToImageData(Pe,this.decodePixels()),Ce.putImageData(Pe,0,0))},Se}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(xe){var e=0;if(xe[e++]!==71||xe[e++]!==73||xe[e++]!==70||xe[e++]!==56||(xe[e++]+1&253)!=56||xe[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=xe[e++]|xe[e++]<<8,Se=xe[e++]|xe[e++]<<8,_e=xe[e++],Ae=_e>>7,Ce=1<<(7&_e)+1;xe[e++],xe[e++];var Pe=null,Ee=null;Ae&&(Pe=e,Ee=Ce,e+=3*Ce);var Fe=!0,ke=[],Ie=0,Oe=null,Re=0,Be=null;for(this.width=t,this.height=Se;Fe&&e<xe.length;)switch(xe[e++]){case 33:switch(xe[e++]){case 255:if(xe[e]!==11||xe[e+1]==78&&xe[e+2]==69&&xe[e+3]==84&&xe[e+4]==83&&xe[e+5]==67&&xe[e+6]==65&&xe[e+7]==80&&xe[e+8]==69&&xe[e+9]==50&&xe[e+10]==46&&xe[e+11]==48&&xe[e+12]==3&&xe[e+13]==1&&xe[e+16]==0)e+=14,Be=xe[e++]|xe[e++]<<8,e++;else for(e+=12;;){if(!((rn=xe[e++])>=0))throw Error("Invalid block size");if(rn===0)break;e+=rn}break;case 249:if(xe[e++]!==4||xe[e+4]!==0)throw new Error("Invalid graphics extension block.");var je=xe[e++];Ie=xe[e++]|xe[e++]<<8,Oe=xe[e++],!(1&je)&&(Oe=null),Re=je>>2&7,e++;break;case 254:for(;;){if(!((rn=xe[e++])>=0))throw Error("Invalid block size");if(rn===0)break;e+=rn}break;default:throw new Error("Unknown graphic control label: 0x"+xe[e-1].toString(16))}break;case 44:var He=xe[e++]|xe[e++]<<8,Ge=xe[e++]|xe[e++]<<8,Ve=xe[e++]|xe[e++]<<8,ze=xe[e++]|xe[e++]<<8,Xe=xe[e++],We=Xe>>6&1,Je=1<<(7&Xe)+1,Qe=Pe,Ze=Ee,on=!1;Xe>>7&&(on=!0,Qe=e,Ze=Je,e+=3*Je);var an=e;for(e++;;){var rn;if(!((rn=xe[e++])>=0))throw Error("Invalid block size");if(rn===0)break;e+=rn}ke.push({x:He,y:Ge,width:Ve,height:ze,has_local_palette:on,palette_offset:Qe,palette_size:Ze,data_offset:an,data_length:e-an,transparent_index:Oe,interlaced:!!We,delay:Ie,disposal:Re});break;case 59:Fe=!1;break;default:throw new Error("Unknown gif block: 0x"+xe[e-1].toString(16))}this.numFrames=function(){return ke.length},this.loopCount=function(){return Be},this.frameInfo=function(fn){if(fn<0||fn>=ke.length)throw new Error("Frame index out of range.");return ke[fn]},this.decodeAndBlitFrameBGRA=function(fn,nn){var cn=this.frameInfo(fn),dn=cn.width*cn.height,bn=new Uint8Array(dn);$t(xe,cn.data_offset,bn,dn);var pn=cn.palette_offset,_n=cn.transparent_index;_n===null&&(_n=256);var Nn=cn.width,Un=t-Nn,xn=Nn,St=4*(cn.y*t+cn.x),sn=4*((cn.y+cn.height)*t+cn.x),gn=St,Pn=4*Un;cn.interlaced===!0&&(Pn+=4*t*7);for(var Fn=8,vn=0,kn=bn.length;vn<kn;++vn){var Bn=bn[vn];if(xn===0&&(xn=Nn,(gn+=Pn)>=sn&&(Pn=4*Un+4*t*(Fn-1),gn=St+(Nn+Un)*(Fn<<1),Fn>>=1)),Bn===_n)gn+=4;else{var er=xe[pn+3*Bn],Zn=xe[pn+3*Bn+1],Cn=xe[pn+3*Bn+2];nn[gn++]=Cn,nn[gn++]=Zn,nn[gn++]=er,nn[gn++]=255}--xn}},this.decodeAndBlitFrameRGBA=function(fn,nn){var cn=this.frameInfo(fn),dn=cn.width*cn.height,bn=new Uint8Array(dn);$t(xe,cn.data_offset,bn,dn);var pn=cn.palette_offset,_n=cn.transparent_index;_n===null&&(_n=256);var Nn=cn.width,Un=t-Nn,xn=Nn,St=4*(cn.y*t+cn.x),sn=4*((cn.y+cn.height)*t+cn.x),gn=St,Pn=4*Un;cn.interlaced===!0&&(Pn+=4*t*7);for(var Fn=8,vn=0,kn=bn.length;vn<kn;++vn){var Bn=bn[vn];if(xn===0&&(xn=Nn,(gn+=Pn)>=sn&&(Pn=4*Un+4*t*(Fn-1),gn=St+(Nn+Un)*(Fn<<1),Fn>>=1)),Bn===_n)gn+=4;else{var er=xe[pn+3*Bn],Zn=xe[pn+3*Bn+1],Cn=xe[pn+3*Bn+2];nn[gn++]=er,nn[gn++]=Zn,nn[gn++]=Cn,nn[gn++]=255}--xn}}}function $t(xe,e,t,Se){for(var _e=xe[e++],Ae=1<<_e,Ce=Ae+1,Pe=Ce+1,Ee=_e+1,Fe=(1<<Ee)-1,ke=0,Ie=0,Oe=0,Re=xe[e++],Be=new Int32Array(4096),je=null;;){for(;ke<16&&Re!==0;)Ie|=xe[e++]<<ke,ke+=8,Re===1?Re=xe[e++]:--Re;if(ke<Ee)break;var He=Ie&Fe;if(Ie>>=Ee,ke-=Ee,He!==Ae){if(He===Ce)break;for(var Ge=He<Pe?He:je,Ve=0,ze=Ge;ze>Ae;)ze=Be[ze]>>8,++Ve;var Xe=ze;if(Oe+Ve+(Ge!==He?1:0)>Se)return void a.log("Warning, gif stream longer than expected.");t[Oe++]=Xe;var We=Oe+=Ve;for(Ge!==He&&(t[Oe++]=Xe),ze=Ge;Ve--;)ze=Be[ze],t[--We]=255&ze,ze>>=8;je!==null&&Pe<4096&&(Be[Pe++]=je<<8|Xe,Pe>=Fe+1&&Ee<12&&(++Ee,Fe=Fe<<1|1)),je=He}else Pe=Ce+1,Fe=(1<<(Ee=_e+1))-1,je=null}return Oe!==Se&&a.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(xe){var e,t,Se,_e,Ae,Ce=Math.floor,Pe=new Array(64),Ee=new Array(64),Fe=new Array(64),ke=new Array(64),Ie=new Array(65535),Oe=new Array(65535),Re=new Array(64),Be=new Array(64),je=[],He=0,Ge=7,Ve=new Array(64),ze=new Array(64),Xe=new Array(64),We=new Array(256),Je=new Array(2048),Qe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ze=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],on=[0,1,2,3,4,5,6,7,8,9,10,11],an=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],rn=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],fn=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],nn=[0,1,2,3,4,5,6,7,8,9,10,11],cn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],dn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function bn(St,sn){for(var gn=0,Pn=0,Fn=new Array,vn=1;vn<=16;vn++){for(var kn=1;kn<=St[vn];kn++)Fn[sn[Pn]]=[],Fn[sn[Pn]][0]=gn,Fn[sn[Pn]][1]=vn,Pn++,gn++;gn*=2}return Fn}function pn(St){for(var sn=St[0],gn=St[1]-1;gn>=0;)sn&1<<gn&&(He|=1<<Ge),gn--,--Ge<0&&(He==255?(_n(255),_n(0)):_n(He),Ge=7,He=0)}function _n(St){je.push(St)}function Nn(St){_n(St>>8&255),_n(255&St)}function Un(St,sn,gn,Pn,Fn){for(var vn,kn=Fn[0],Bn=Fn[240],er=function(tr,cr){var Kn,rr,ir,yr,xr,Nr,jr,Vr,Yr,ei,Ln=0;for(Yr=0;Yr<8;++Yr){Kn=tr[Ln],rr=tr[Ln+1],ir=tr[Ln+2],yr=tr[Ln+3],xr=tr[Ln+4],Nr=tr[Ln+5],jr=tr[Ln+6];var ar=Kn+(Vr=tr[Ln+7]),sr=Kn-Vr,Tr=rr+jr,dr=rr-jr,Pr=ir+Nr,Hn=ir-Nr,Br=yr+xr,di=yr-xr,An=ar+Br,Er=ar-Br,Lr=Tr+Pr,Qn=Tr-Pr;tr[Ln]=An+Lr,tr[Ln+4]=An-Lr;var fr=.707106781*(Qn+Er);tr[Ln+2]=Er+fr,tr[Ln+6]=Er-fr;var wr=.382683433*((An=di+Hn)-(Qn=dr+sr)),ui=.5411961*An+wr,Qr=1.306562965*Qn+wr,ri=.707106781*(Lr=Hn+dr),ki=sr+ri,gi=sr-ri;tr[Ln+5]=gi+ui,tr[Ln+3]=gi-ui,tr[Ln+1]=ki+Qr,tr[Ln+7]=ki-Qr,Ln+=8}for(Ln=0,Yr=0;Yr<8;++Yr){Kn=tr[Ln],rr=tr[Ln+8],ir=tr[Ln+16],yr=tr[Ln+24],xr=tr[Ln+32],Nr=tr[Ln+40],jr=tr[Ln+48];var Ri=Kn+(Vr=tr[Ln+56]),Fi=Kn-Vr,Vi=rr+jr,ji=rr-jr,Ki=ir+Nr,fa=ir-Nr,mo=yr+xr,ps=yr-xr,Xs=Ri+mo,ys=Ri-mo,ks=Vi+Ki,aa=Vi-Ki;tr[Ln]=Xs+ks,tr[Ln+32]=Xs-ks;var vo=.707106781*(aa+ys);tr[Ln+16]=ys+vo,tr[Ln+48]=ys-vo;var fc=.382683433*((Xs=ps+fa)-(aa=ji+Fi)),hu=.5411961*Xs+fc,Ku=1.306562965*aa+fc,Xu=.707106781*(ks=fa+ji),Yu=Fi+Xu,Dh=Fi-Xu;tr[Ln+40]=Dh+hu,tr[Ln+24]=Dh-hu,tr[Ln+8]=Yu+Ku,tr[Ln+56]=Yu-Ku,Ln++}for(Yr=0;Yr<64;++Yr)ei=tr[Yr]*cr[Yr],Re[Yr]=ei>0?ei+.5|0:ei-.5|0;return Re}(St,sn),Zn=0;Zn<64;++Zn)Be[Qe[Zn]]=er[Zn];var Cn=Be[0]-gn;gn=Be[0],Cn==0?pn(Pn[0]):(pn(Pn[Oe[vn=32767+Cn]]),pn(Ie[vn]));for(var Tn=63;Tn>0&&Be[Tn]==0;)Tn--;if(Tn==0)return pn(kn),gn;for(var qn,In=1;In<=Tn;){for(var wn=In;Be[In]==0&&In<=Tn;)++In;var Vn=In-wn;if(Vn>=16){qn=Vn>>4;for(var Yn=1;Yn<=qn;++Yn)pn(Bn);Vn&=15}vn=32767+Be[In],pn(Fn[(Vn<<4)+Oe[vn]]),pn(Ie[vn]),In++}return Tn!=63&&pn(kn),gn}function xn(St){St=Math.min(Math.max(St,1),100),Ae!=St&&(function(sn){for(var gn=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Pn=0;Pn<64;Pn++){var Fn=Ce((gn[Pn]*sn+50)/100);Fn=Math.min(Math.max(Fn,1),255),Pe[Qe[Pn]]=Fn}for(var vn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],kn=0;kn<64;kn++){var Bn=Ce((vn[kn]*sn+50)/100);Bn=Math.min(Math.max(Bn,1),255),Ee[Qe[kn]]=Bn}for(var er=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Zn=0,Cn=0;Cn<8;Cn++)for(var Tn=0;Tn<8;Tn++)Fe[Zn]=1/(Pe[Qe[Zn]]*er[Cn]*er[Tn]*8),ke[Zn]=1/(Ee[Qe[Zn]]*er[Cn]*er[Tn]*8),Zn++}(St<50?Math.floor(5e3/St):Math.floor(200-2*St)),Ae=St)}this.encode=function(St,sn){sn&&xn(sn),je=new Array,He=0,Ge=7,Nn(65496),Nn(65504),Nn(16),_n(74),_n(70),_n(73),_n(70),_n(0),_n(1),_n(1),_n(0),Nn(1),Nn(1),_n(0),_n(0),function(){Nn(65499),Nn(132),_n(0);for(var rr=0;rr<64;rr++)_n(Pe[rr]);_n(1);for(var ir=0;ir<64;ir++)_n(Ee[ir])}(),function(rr,ir){Nn(65472),Nn(17),_n(8),Nn(ir),Nn(rr),_n(3),_n(1),_n(17),_n(0),_n(2),_n(17),_n(1),_n(3),_n(17),_n(1)}(St.width,St.height),function(){Nn(65476),Nn(418),_n(0);for(var rr=0;rr<16;rr++)_n(Ze[rr+1]);for(var ir=0;ir<=11;ir++)_n(on[ir]);_n(16);for(var yr=0;yr<16;yr++)_n(an[yr+1]);for(var xr=0;xr<=161;xr++)_n(rn[xr]);_n(1);for(var Nr=0;Nr<16;Nr++)_n(fn[Nr+1]);for(var jr=0;jr<=11;jr++)_n(nn[jr]);_n(17);for(var Vr=0;Vr<16;Vr++)_n(cn[Vr+1]);for(var Yr=0;Yr<=161;Yr++)_n(dn[Yr])}(),Nn(65498),Nn(12),_n(3),_n(1),_n(0),_n(2),_n(17),_n(3),_n(17),_n(0),_n(63),_n(0);var gn=0,Pn=0,Fn=0;He=0,Ge=7,this.encode.displayName="_encode_";for(var vn,kn,Bn,er,Zn,Cn,Tn,qn,In,wn=St.data,Vn=St.width,Yn=St.height,tr=4*Vn,cr=0;cr<Yn;){for(vn=0;vn<tr;){for(Zn=tr*cr+vn,Tn=-1,qn=0,In=0;In<64;In++)Cn=Zn+(qn=In>>3)*tr+(Tn=4*(7&In)),cr+qn>=Yn&&(Cn-=tr*(cr+1+qn-Yn)),vn+Tn>=tr&&(Cn-=vn+Tn-tr+4),kn=wn[Cn++],Bn=wn[Cn++],er=wn[Cn++],Ve[In]=(Je[kn]+Je[Bn+256>>0]+Je[er+512>>0]>>16)-128,ze[In]=(Je[kn+768>>0]+Je[Bn+1024>>0]+Je[er+1280>>0]>>16)-128,Xe[In]=(Je[kn+1280>>0]+Je[Bn+1536>>0]+Je[er+1792>>0]>>16)-128;gn=Un(Ve,Fe,gn,e,Se),Pn=Un(ze,ke,Pn,t,_e),Fn=Un(Xe,ke,Fn,t,_e),vn+=32}cr+=8}if(Ge>=0){var Kn=[];Kn[1]=Ge+1,Kn[0]=(1<<Ge+1)-1,pn(Kn)}return Nn(65497),new Uint8Array(je)},xe=xe||50,function(){for(var St=String.fromCharCode,sn=0;sn<256;sn++)We[sn]=St(sn)}(),e=bn(Ze,on),t=bn(fn,nn),Se=bn(an,rn),_e=bn(cn,dn),function(){for(var St=1,sn=2,gn=1;gn<=15;gn++){for(var Pn=St;Pn<sn;Pn++)Oe[32767+Pn]=gn,Ie[32767+Pn]=[],Ie[32767+Pn][1]=gn,Ie[32767+Pn][0]=Pn;for(var Fn=-(sn-1);Fn<=-St;Fn++)Oe[32767+Fn]=gn,Ie[32767+Fn]=[],Ie[32767+Fn][1]=gn,Ie[32767+Fn][0]=sn-1+Fn;St<<=1,sn<<=1}}(),function(){for(var St=0;St<256;St++)Je[St]=19595*St,Je[St+256>>0]=38470*St,Je[St+512>>0]=7471*St+32768,Je[St+768>>0]=-11059*St,Je[St+1024>>0]=-21709*St,Je[St+1280>>0]=32768*St+8421375,Je[St+1536>>0]=-27439*St,Je[St+1792>>0]=-5329*St}(),xn(xe)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(xe,e){if(this.pos=0,this.buffer=xe,this.datav=new DataView(xe.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(xe){function e(Ze){if(!Ze)throw Error("assert :P")}function t(Ze,on,an){for(var rn=0;4>rn;rn++)if(Ze[on+rn]!=an.charCodeAt(rn))return!0;return!1}function Se(Ze,on,an,rn,fn){for(var nn=0;nn<fn;nn++)Ze[on+nn]=an[rn+nn]}function _e(Ze,on,an,rn){for(var fn=0;fn<rn;fn++)Ze[on+fn]=an}function Ae(Ze){return new Int32Array(Ze)}function Ce(Ze,on){for(var an=[],rn=0;rn<Ze;rn++)an.push(new on);return an}function Pe(Ze,on){var an=[];return function rn(fn,nn,cn){for(var dn=cn[nn],bn=0;bn<dn&&(fn.push(cn.length>nn+1?[]:new on),!(cn.length<nn+1));bn++)rn(fn[bn],nn+1,cn)}(an,0,Ze),an}var Ee=function(){var Ze=this;function on(Ye,tn){for(var yn=1<<tn-1>>>0;Ye&yn;)yn>>>=1;return yn?(Ye&yn-1)+yn:Ye}function an(Ye,tn,yn,Rn,zn){e(!(Rn%yn));do Ye[tn+(Rn-=yn)]=zn;while(0<Rn)}function rn(Ye,tn,yn,Rn,zn){if(e(2328>=zn),512>=zn)var Wn=Ae(512);else if((Wn=Ae(zn))==null)return 0;return function(Jn,$n,nr,lr,gr,_r){var Rr,Ar,Wr=$n,Ir=1<<nr,mr=Ae(16),hr=Ae(16);for(e(gr!=0),e(lr!=null),e(Jn!=null),e(0<nr),Ar=0;Ar<gr;++Ar){if(15<lr[Ar])return 0;++mr[lr[Ar]]}if(mr[0]==gr)return 0;for(hr[1]=0,Rr=1;15>Rr;++Rr){if(mr[Rr]>1<<Rr)return 0;hr[Rr+1]=hr[Rr]+mr[Rr]}for(Ar=0;Ar<gr;++Ar)Rr=lr[Ar],0<lr[Ar]&&(_r[hr[Rr]++]=Ar);if(hr[15]==1)return(lr=new fn).g=0,lr.value=_r[0],an(Jn,Wr,1,Ir,lr),Ir;var Ur,Kr=-1,Xr=Ir-1,fi=0,ii=1,Ci=1,oi=1<<nr;for(Ar=0,Rr=1,gr=2;Rr<=nr;++Rr,gr<<=1){if(ii+=Ci<<=1,0>(Ci-=mr[Rr]))return 0;for(;0<mr[Rr];--mr[Rr])(lr=new fn).g=Rr,lr.value=_r[Ar++],an(Jn,Wr+fi,gr,oi,lr),fi=on(fi,Rr)}for(Rr=nr+1,gr=2;15>=Rr;++Rr,gr<<=1){if(ii+=Ci<<=1,0>(Ci-=mr[Rr]))return 0;for(;0<mr[Rr];--mr[Rr]){if(lr=new fn,(fi&Xr)!=Kr){for(Wr+=oi,Ur=1<<(Kr=Rr)-nr;15>Kr&&!(0>=(Ur-=mr[Kr]));)++Kr,Ur<<=1;Ir+=oi=1<<(Ur=Kr-nr),Jn[$n+(Kr=fi&Xr)].g=Ur+nr,Jn[$n+Kr].value=Wr-$n-Kr}lr.g=Rr-nr,lr.value=_r[Ar++],an(Jn,Wr+(fi>>nr),gr,oi,lr),fi=on(fi,Rr)}}return ii!=2*hr[15]-1?0:Ir}(Ye,tn,yn,Rn,zn,Wn)}function fn(){this.value=this.g=0}function nn(){this.value=this.g=0}function cn(){this.G=Ce(5,fn),this.H=Ae(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ce(ws,nn)}function dn(Ye,tn,yn,Rn){e(Ye!=null),e(tn!=null),e(2147483648>Rn),Ye.Ca=254,Ye.I=0,Ye.b=-8,Ye.Ka=0,Ye.oa=tn,Ye.pa=yn,Ye.Jd=tn,Ye.Yc=yn+Rn,Ye.Zc=4<=Rn?yn+Rn-4+1:yn,vn(Ye)}function bn(Ye,tn){for(var yn=0;0<tn--;)yn|=Bn(Ye,128)<<tn;return yn}function pn(Ye,tn){var yn=bn(Ye,tn);return kn(Ye)?-yn:yn}function _n(Ye,tn,yn,Rn){var zn,Wn=0;for(e(Ye!=null),e(tn!=null),e(4294967288>Rn),Ye.Sb=Rn,Ye.Ra=0,Ye.u=0,Ye.h=0,4<Rn&&(Rn=4),zn=0;zn<Rn;++zn)Wn+=tn[yn+zn]<<8*zn;Ye.Ra=Wn,Ye.bb=Rn,Ye.oa=tn,Ye.pa=yn}function Nn(Ye){for(;8<=Ye.u&&Ye.bb<Ye.Sb;)Ye.Ra>>>=8,Ye.Ra+=Ye.oa[Ye.pa+Ye.bb]<<Ho-8>>>0,++Ye.bb,Ye.u-=8;gn(Ye)&&(Ye.h=1,Ye.u=0)}function Un(Ye,tn){if(e(0<=tn),!Ye.h&&tn<=rh){var yn=sn(Ye)&xu[tn];return Ye.u+=tn,Nn(Ye),yn}return Ye.h=1,Ye.u=0}function xn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function St(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function sn(Ye){return Ye.Ra>>>(Ye.u&Ho-1)>>>0}function gn(Ye){return e(Ye.bb<=Ye.Sb),Ye.h||Ye.bb==Ye.Sb&&Ye.u>Ho}function Pn(Ye,tn){Ye.u=tn,Ye.h=gn(Ye)}function Fn(Ye){Ye.u>=hl&&(e(Ye.u>=hl),Nn(Ye))}function vn(Ye){e(Ye!=null&&Ye.oa!=null),Ye.pa<Ye.Zc?(Ye.I=(Ye.oa[Ye.pa++]|Ye.I<<8)>>>0,Ye.b+=8):(e(Ye!=null&&Ye.oa!=null),Ye.pa<Ye.Yc?(Ye.b+=8,Ye.I=Ye.oa[Ye.pa++]|Ye.I<<8):Ye.Ka?Ye.b=0:(Ye.I<<=8,Ye.b+=8,Ye.Ka=1))}function kn(Ye){return bn(Ye,1)}function Bn(Ye,tn){var yn=Ye.Ca;0>Ye.b&&vn(Ye);var Rn=Ye.b,zn=yn*tn>>>8,Wn=(Ye.I>>>Rn>zn)+0;for(Wn?(yn-=zn,Ye.I-=zn+1<<Rn>>>0):yn=zn+1,Rn=yn,zn=0;256<=Rn;)zn+=8,Rn>>=8;return Rn=7^zn+ja[Rn],Ye.b-=Rn,Ye.Ca=(yn<<Rn)-1,Wn}function er(Ye,tn,yn){Ye[tn+0]=yn>>24&255,Ye[tn+1]=yn>>16&255,Ye[tn+2]=yn>>8&255,Ye[tn+3]=yn>>0&255}function Zn(Ye,tn){return Ye[tn+0]<<0|Ye[tn+1]<<8}function Cn(Ye,tn){return Zn(Ye,tn)|Ye[tn+2]<<16}function Tn(Ye,tn){return Zn(Ye,tn)|Zn(Ye,tn+2)<<16}function qn(Ye,tn){var yn=1<<tn;return e(Ye!=null),e(0<tn),Ye.X=Ae(yn),Ye.X==null?0:(Ye.Mb=32-tn,Ye.Xa=tn,1)}function In(Ye,tn){e(Ye!=null),e(tn!=null),e(Ye.Xa==tn.Xa),Se(tn.X,0,Ye.X,0,1<<tn.Xa)}function wn(){this.X=[],this.Xa=this.Mb=0}function Vn(Ye,tn,yn,Rn){e(yn!=null),e(Rn!=null);var zn=yn[0],Wn=Rn[0];return zn==0&&(zn=(Ye*Wn+tn/2)/tn),Wn==0&&(Wn=(tn*zn+Ye/2)/Ye),0>=zn||0>=Wn?0:(yn[0]=zn,Rn[0]=Wn,1)}function Yn(Ye,tn){return Ye+(1<<tn)-1>>>tn}function tr(Ye,tn){return((4278255360&Ye)+(4278255360&tn)>>>0&4278255360)+((16711935&Ye)+(16711935&tn)>>>0&16711935)>>>0}function cr(Ye,tn){Ze[tn]=function(yn,Rn,zn,Wn,Jn,$n,nr){var lr;for(lr=0;lr<Jn;++lr){var gr=Ze[Ye]($n[nr+lr-1],zn,Wn+lr);$n[nr+lr]=tr(yn[Rn+lr],gr)}}}function Kn(){this.ud=this.hd=this.jd=0}function rr(Ye,tn){return((4278124286&(Ye^tn))>>>1)+(Ye&tn)>>>0}function ir(Ye){return 0<=Ye&&256>Ye?Ye:0>Ye?0:255<Ye?255:void 0}function yr(Ye,tn){return ir(Ye+(Ye-tn+.5>>1))}function xr(Ye,tn,yn){return Math.abs(tn-yn)-Math.abs(Ye-yn)}function Nr(Ye,tn,yn,Rn,zn,Wn,Jn){for(Rn=Wn[Jn-1],yn=0;yn<zn;++yn)Wn[Jn+yn]=Rn=tr(Ye[tn+yn],Rn)}function jr(Ye,tn,yn,Rn,zn){var Wn;for(Wn=0;Wn<yn;++Wn){var Jn=Ye[tn+Wn],$n=Jn>>8&255,nr=16711935&(nr=(nr=16711935&Jn)+(($n<<16)+$n));Rn[zn+Wn]=(4278255360&Jn)+nr>>>0}}function Vr(Ye,tn){tn.jd=Ye>>0&255,tn.hd=Ye>>8&255,tn.ud=Ye>>16&255}function Yr(Ye,tn,yn,Rn,zn,Wn){var Jn;for(Jn=0;Jn<Rn;++Jn){var $n=tn[yn+Jn],nr=$n>>>8,lr=$n,gr=255&(gr=(gr=$n>>>16)+((Ye.jd<<24>>24)*(nr<<24>>24)>>>5));lr=255&(lr=(lr=lr+((Ye.hd<<24>>24)*(nr<<24>>24)>>>5))+((Ye.ud<<24>>24)*(gr<<24>>24)>>>5)),zn[Wn+Jn]=(4278255360&$n)+(gr<<16)+lr}}function ei(Ye,tn,yn,Rn,zn){Ze[tn]=function(Wn,Jn,$n,nr,lr,gr,_r,Rr,Ar){for(nr=_r;nr<Rr;++nr)for(_r=0;_r<Ar;++_r)lr[gr++]=zn($n[Rn(Wn[Jn++])])},Ze[Ye]=function(Wn,Jn,$n,nr,lr,gr,_r){var Rr=8>>Wn.b,Ar=Wn.Ea,Wr=Wn.K[0],Ir=Wn.w;if(8>Rr)for(Wn=(1<<Wn.b)-1,Ir=(1<<Rr)-1;Jn<$n;++Jn){var mr,hr=0;for(mr=0;mr<Ar;++mr)mr&Wn||(hr=Rn(nr[lr++])),gr[_r++]=zn(Wr[hr&Ir]),hr>>=Rr}else Ze["VP8LMapColor"+yn](nr,lr,Wr,Ir,gr,_r,Jn,$n,Ar)}}function Ln(Ye,tn,yn,Rn,zn){for(yn=tn+yn;tn<yn;){var Wn=Ye[tn++];Rn[zn++]=Wn>>16&255,Rn[zn++]=Wn>>8&255,Rn[zn++]=Wn>>0&255}}function ar(Ye,tn,yn,Rn,zn){for(yn=tn+yn;tn<yn;){var Wn=Ye[tn++];Rn[zn++]=Wn>>16&255,Rn[zn++]=Wn>>8&255,Rn[zn++]=Wn>>0&255,Rn[zn++]=Wn>>24&255}}function sr(Ye,tn,yn,Rn,zn){for(yn=tn+yn;tn<yn;){var Wn=(Jn=Ye[tn++])>>16&240|Jn>>12&15,Jn=Jn>>0&240|Jn>>28&15;Rn[zn++]=Wn,Rn[zn++]=Jn}}function Tr(Ye,tn,yn,Rn,zn){for(yn=tn+yn;tn<yn;){var Wn=(Jn=Ye[tn++])>>16&248|Jn>>13&7,Jn=Jn>>5&224|Jn>>3&31;Rn[zn++]=Wn,Rn[zn++]=Jn}}function dr(Ye,tn,yn,Rn,zn){for(yn=tn+yn;tn<yn;){var Wn=Ye[tn++];Rn[zn++]=Wn>>0&255,Rn[zn++]=Wn>>8&255,Rn[zn++]=Wn>>16&255}}function Pr(Ye,tn,yn,Rn,zn,Wn){if(Wn==0)for(yn=tn+yn;tn<yn;)er(Rn,((Wn=Ye[tn++])[0]>>24|Wn[1]>>8&65280|Wn[2]<<8&16711680|Wn[3]<<24)>>>0),zn+=32;else Se(Rn,zn,Ye,tn,yn)}function Hn(Ye,tn){Ze[tn][0]=Ze[Ye+"0"],Ze[tn][1]=Ze[Ye+"1"],Ze[tn][2]=Ze[Ye+"2"],Ze[tn][3]=Ze[Ye+"3"],Ze[tn][4]=Ze[Ye+"4"],Ze[tn][5]=Ze[Ye+"5"],Ze[tn][6]=Ze[Ye+"6"],Ze[tn][7]=Ze[Ye+"7"],Ze[tn][8]=Ze[Ye+"8"],Ze[tn][9]=Ze[Ye+"9"],Ze[tn][10]=Ze[Ye+"10"],Ze[tn][11]=Ze[Ye+"11"],Ze[tn][12]=Ze[Ye+"12"],Ze[tn][13]=Ze[Ye+"13"],Ze[tn][14]=Ze[Ye+"0"],Ze[tn][15]=Ze[Ye+"0"]}function Br(Ye){return Ye==lh||Ye==Kc||Ye==Gh||Ye==Hh}function di(){this.eb=[],this.size=this.A=this.fb=0}function An(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new di,this.f.kb=new An,this.sd=null}function Lr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fr(Ye){return alert("todo:WebPSamplerProcessPlane"),Ye.T}function wr(Ye,tn){var yn=Ye.T,Rn=tn.ba.f.RGBA,zn=Rn.eb,Wn=Rn.fb+Ye.ka*Rn.A,Jn=No[tn.ba.S],$n=Ye.y,nr=Ye.O,lr=Ye.f,gr=Ye.N,_r=Ye.ea,Rr=Ye.W,Ar=tn.cc,Wr=tn.dc,Ir=tn.Mc,mr=tn.Nc,hr=Ye.ka,Ur=Ye.ka+Ye.T,Kr=Ye.U,Xr=Kr+1>>1;for(hr==0?Jn($n,nr,null,null,lr,gr,_r,Rr,lr,gr,_r,Rr,zn,Wn,null,null,Kr):(Jn(tn.ec,tn.fc,$n,nr,Ar,Wr,Ir,mr,lr,gr,_r,Rr,zn,Wn-Rn.A,zn,Wn,Kr),++yn);hr+2<Ur;hr+=2)Ar=lr,Wr=gr,Ir=_r,mr=Rr,gr+=Ye.Rc,Rr+=Ye.Rc,Wn+=2*Rn.A,Jn($n,(nr+=2*Ye.fa)-Ye.fa,$n,nr,Ar,Wr,Ir,mr,lr,gr,_r,Rr,zn,Wn-Rn.A,zn,Wn,Kr);return nr+=Ye.fa,Ye.j+Ur<Ye.o?(Se(tn.ec,tn.fc,$n,nr,Kr),Se(tn.cc,tn.dc,lr,gr,Xr),Se(tn.Mc,tn.Nc,_r,Rr,Xr),yn--):1&Ur||Jn($n,nr,null,null,lr,gr,_r,Rr,lr,gr,_r,Rr,zn,Wn+Rn.A,null,null,Kr),yn}function ui(Ye,tn,yn){var Rn=Ye.F,zn=[Ye.J];if(Rn!=null){var Wn=Ye.U,Jn=tn.ba.S,$n=Jn==zh||Jn==Gh;tn=tn.ba.f.RGBA;var nr=[0],lr=Ye.ka;nr[0]=Ye.T,Ye.Kb&&(lr==0?--nr[0]:(--lr,zn[0]-=Ye.width),Ye.j+Ye.ka+Ye.T==Ye.o&&(nr[0]=Ye.o-Ye.j-lr));var gr=tn.eb;lr=tn.fb+lr*tn.A,Ye=us(Rn,zn[0],Ye.width,Wn,nr,gr,lr+($n?0:3),tn.A),e(yn==nr),Ye&&Br(Jn)&&qa(gr,lr,$n,Wn,nr,tn.A)}return 0}function Qr(Ye){var tn=Ye.ma,yn=tn.ba.S,Rn=11>yn,zn=yn==nc||yn==oh||yn==zh||yn==Es||yn==12||Br(yn);if(tn.memory=null,tn.Ib=null,tn.Jb=null,tn.Nd=null,!Su(tn.Oa,Ye,zn?11:12))return 0;if(zn&&Br(yn)&&Zr(),Ye.da)alert("todo:use_scaling");else{if(Rn){if(tn.Ib=fr,Ye.Kb){if(yn=Ye.U+1>>1,tn.memory=Ae(Ye.U+2*yn),tn.memory==null)return 0;tn.ec=tn.memory,tn.fc=0,tn.cc=tn.ec,tn.dc=tn.fc+Ye.U,tn.Mc=tn.cc,tn.Nc=tn.dc+yn,tn.Ib=wr,Zr()}}else alert("todo:EmitYUV");zn&&(tn.Jb=ui,Rn&&kr())}if(Rn&&!co){for(Ye=0;256>Ye;++Ye)Eu[Ye]=89858*(Ye-128)+Il>>Ac,Xh[Ye]=-22014*(Ye-128)+Il,xo[Ye]=-45773*(Ye-128),uh[Ye]=113618*(Ye-128)+Il>>Ac;for(Ye=ms;Ye<xs;++Ye)tn=76283*(Ye-16)+Il>>Ac,wp[Ye-ms]=zo(tn,255),xf[Ye-ms]=zo(tn+8>>4,15);co=1}return 1}function ri(Ye){var tn=Ye.ma,yn=Ye.U,Rn=Ye.T;return e(!(1&Ye.ka)),0>=yn||0>=Rn?0:(yn=tn.Ib(Ye,tn),tn.Jb!=null&&tn.Jb(Ye,tn,yn),tn.Dc+=yn,1)}function ki(Ye){Ye.ma.memory=null}function gi(Ye,tn,yn,Rn){return Un(Ye,8)!=47?0:(tn[0]=Un(Ye,14)+1,yn[0]=Un(Ye,14)+1,Rn[0]=Un(Ye,1),Un(Ye,3)!=0?0:!Ye.h)}function Ri(Ye,tn){if(4>Ye)return Ye+1;var yn=Ye-2>>1;return(2+(1&Ye)<<yn)+Un(tn,yn)+1}function Fi(Ye,tn){return 120<tn?tn-120:1<=(yn=((yn=I0[tn-1])>>4)*Ye+(8-(15&yn)))?yn:1;var yn}function Vi(Ye,tn,yn){var Rn=sn(yn),zn=Ye[tn+=255&Rn].g-8;return 0<zn&&(Pn(yn,yn.u+8),Rn=sn(yn),tn+=Ye[tn].value,tn+=Rn&(1<<zn)-1),Pn(yn,yn.u+Ye[tn].g),Ye[tn].value}function ji(Ye,tn,yn){return yn.g+=Ye.g,yn.value+=Ye.value<<tn>>>0,e(8>=yn.g),Ye.g}function Ki(Ye,tn,yn){var Rn=Ye.xc;return e((tn=Rn==0?0:Ye.vc[Ye.md*(yn>>Rn)+(tn>>Rn)])<Ye.Wb),Ye.Ya[tn]}function fa(Ye,tn,yn,Rn){var zn=Ye.ab,Wn=Ye.c*tn,Jn=Ye.C;tn=Jn+tn;var $n=yn,nr=Rn;for(Rn=Ye.Ta,yn=Ye.Ua;0<zn--;){var lr=Ye.gc[zn],gr=Jn,_r=tn,Rr=$n,Ar=nr,Wr=(nr=Rn,$n=yn,lr.Ea);switch(e(gr<_r),e(_r<=lr.nc),lr.hc){case 2:Ad(Rr,Ar,(_r-gr)*Wr,nr,$n);break;case 0:var Ir=gr,mr=_r,hr=nr,Ur=$n,Kr=(oi=lr).Ea;Ir==0&&(_u(Rr,Ar,null,null,1,hr,Ur),Nr(Rr,Ar+1,0,0,Kr-1,hr,Ur+1),Ar+=Kr,Ur+=Kr,++Ir);for(var Xr=1<<oi.b,fi=Xr-1,ii=Yn(Kr,oi.b),Ci=oi.K,oi=oi.w+(Ir>>oi.b)*ii;Ir<mr;){var $i=Ci,hs=oi,Wi=1;for(Rl(Rr,Ar,hr,Ur-Kr,1,hr,Ur);Wi<Kr;){var Hi=(Wi&~fi)+Xr;Hi>Kr&&(Hi=Kr),(0,La[$i[hs++]>>8&15])(Rr,Ar+ +Wi,hr,Ur+Wi-Kr,Hi-Wi,hr,Ur+Wi),Wi=Hi}Ar+=Kr,Ur+=Kr,++Ir&fi||(oi+=ii)}_r!=lr.nc&&Se(nr,$n-Wr,nr,$n+(_r-gr-1)*Wr,Wr);break;case 1:for(Wr=Rr,mr=Ar,Kr=(Rr=lr.Ea)-(Ur=Rr&~(hr=(Ar=1<<lr.b)-1)),Ir=Yn(Rr,lr.b),Xr=lr.K,lr=lr.w+(gr>>lr.b)*Ir;gr<_r;){for(fi=Xr,ii=lr,Ci=new Kn,oi=mr+Ur,$i=mr+Rr;mr<oi;)Vr(fi[ii++],Ci),Sc(Ci,Wr,mr,Ar,nr,$n),mr+=Ar,$n+=Ar;mr<$i&&(Vr(fi[ii++],Ci),Sc(Ci,Wr,mr,Kr,nr,$n),mr+=Kr,$n+=Kr),++gr&hr||(lr+=Ir)}break;case 3:if(Rr==nr&&Ar==$n&&0<lr.b){for(mr=nr,Rr=Wr=$n+(_r-gr)*Wr-(Ur=(_r-gr)*Yn(lr.Ea,lr.b)),Ar=nr,hr=$n,Ir=[],Ur=(Kr=Ur)-1;0<=Ur;--Ur)Ir[Ur]=Ar[hr+Ur];for(Ur=Kr-1;0<=Ur;--Ur)mr[Rr+Ur]=Ir[Ur];Na(lr,gr,_r,nr,Wr,nr,$n)}else Na(lr,gr,_r,Rr,Ar,nr,$n)}$n=Rn,nr=yn}nr!=yn&&Se(Rn,yn,$n,nr,Wn)}function mo(Ye,tn){var yn=Ye.V,Rn=Ye.Ba+Ye.c*Ye.C,zn=tn-Ye.C;if(e(tn<=Ye.l.o),e(16>=zn),0<zn){var Wn=Ye.l,Jn=Ye.Ta,$n=Ye.Ua,nr=Wn.width;if(fa(Ye,zn,yn,Rn),zn=$n=[$n],e((yn=Ye.C)<(Rn=tn)),e(Wn.v<Wn.va),Rn>Wn.o&&(Rn=Wn.o),yn<Wn.j){var lr=Wn.j-yn;yn=Wn.j,zn[0]+=lr*nr}if(yn>=Rn?yn=0:(zn[0]+=4*Wn.v,Wn.ka=yn-Wn.j,Wn.U=Wn.va-Wn.v,Wn.T=Rn-yn,yn=1),yn){if($n=$n[0],11>(yn=Ye.ca).S){var gr=yn.f.RGBA,_r=(Rn=yn.S,zn=Wn.U,Wn=Wn.T,lr=gr.eb,gr.A),Rr=Wn;for(gr=gr.fb+Ye.Ma*gr.A;0<Rr--;){var Ar=Jn,Wr=$n,Ir=zn,mr=lr,hr=gr;switch(Rn){case ah:xa(Ar,Wr,Ir,mr,hr);break;case nc:ro(Ar,Wr,Ir,mr,hr);break;case lh:ro(Ar,Wr,Ir,mr,hr),qa(mr,hr,0,Ir,1,0);break;case vp:Dl(Ar,Wr,Ir,mr,hr);break;case oh:Pr(Ar,Wr,Ir,mr,hr,1);break;case Kc:Pr(Ar,Wr,Ir,mr,hr,1),qa(mr,hr,0,Ir,1,0);break;case zh:Pr(Ar,Wr,Ir,mr,hr,0);break;case Gh:Pr(Ar,Wr,Ir,mr,hr,0),qa(mr,hr,1,Ir,1,0);break;case Es:xc(Ar,Wr,Ir,mr,hr);break;case Hh:xc(Ar,Wr,Ir,mr,hr),Ss(mr,hr,Ir,1,0);break;case Cd:cs(Ar,Wr,Ir,mr,hr);break;default:e(0)}$n+=nr,gr+=_r}Ye.Ma+=Wn}else alert("todo:EmitRescaledRowsYUVA");e(Ye.Ma<=yn.height)}}Ye.C=tn,e(Ye.C<=Ye.i)}function ps(Ye){var tn;if(0<Ye.ua)return 0;for(tn=0;tn<Ye.Wb;++tn){var yn=Ye.Ya[tn].G,Rn=Ye.Ya[tn].H;if(0<yn[1][Rn[1]+0].g||0<yn[2][Rn[2]+0].g||0<yn[3][Rn[3]+0].g)return 0}return 1}function Xs(Ye,tn,yn,Rn,zn,Wn){if(Ye.Z!=0){var Jn=Ye.qd,$n=Ye.rd;for(e(oo[Ye.Z]!=null);tn<yn;++tn)oo[Ye.Z](Jn,$n,Rn,zn,Rn,zn,Wn),Jn=Rn,$n=zn,zn+=Wn;Ye.qd=Jn,Ye.rd=$n}}function ys(Ye,tn){var yn=Ye.l.ma,Rn=yn.Z==0||yn.Z==1?Ye.l.j:Ye.C;if(Rn=Ye.C<Rn?Rn:Ye.C,e(tn<=Ye.l.o),tn>Rn){var zn=Ye.l.width,Wn=yn.ca,Jn=yn.tb+zn*Rn,$n=Ye.V,nr=Ye.Ba+Ye.c*Rn,lr=Ye.gc;e(Ye.ab==1),e(lr[0].hc==3),Wc(lr[0],Rn,tn,$n,nr,Wn,Jn),Xs(yn,Rn,tn,Wn,Jn,zn)}Ye.C=Ye.Ma=tn}function ks(Ye,tn,yn,Rn,zn,Wn,Jn){var $n=Ye.$/Rn,nr=Ye.$%Rn,lr=Ye.m,gr=Ye.s,_r=yn+Ye.$,Rr=_r;zn=yn+Rn*zn;var Ar=yn+Rn*Wn,Wr=280+gr.ua,Ir=Ye.Pb?$n:16777216,mr=0<gr.ua?gr.Wa:null,hr=gr.wc,Ur=_r<Ar?Ki(gr,nr,$n):null;e(Ye.C<Wn),e(Ar<=zn);var Kr=!1;e:for(;;){for(;Kr||_r<Ar;){var Xr=0;if($n>=Ir){var fi=_r-yn;e((Ir=Ye).Pb),Ir.wd=Ir.m,Ir.xd=fi,0<Ir.s.ua&&In(Ir.s.Wa,Ir.s.vb),Ir=$n+Pd}if(nr&hr||(Ur=Ki(gr,nr,$n)),e(Ur!=null),Ur.Qb&&(tn[_r]=Ur.qb,Kr=!0),!Kr)if(Fn(lr),Ur.jc){Xr=lr,fi=tn;var ii=_r,Ci=Ur.pd[sn(Xr)&ws-1];e(Ur.jc),256>Ci.g?(Pn(Xr,Xr.u+Ci.g),fi[ii]=Ci.value,Xr=0):(Pn(Xr,Xr.u+Ci.g-256),e(256<=Ci.value),Xr=Ci.value),Xr==0&&(Kr=!0)}else Xr=Vi(Ur.G[0],Ur.H[0],lr);if(lr.h)break;if(Kr||256>Xr){if(!Kr)if(Ur.nd)tn[_r]=(Ur.qb|Xr<<8)>>>0;else{if(Fn(lr),Kr=Vi(Ur.G[1],Ur.H[1],lr),Fn(lr),fi=Vi(Ur.G[2],Ur.H[2],lr),ii=Vi(Ur.G[3],Ur.H[3],lr),lr.h)break;tn[_r]=(ii<<24|Kr<<16|Xr<<8|fi)>>>0}if(Kr=!1,++_r,++nr>=Rn&&(nr=0,++$n,Jn!=null&&$n<=Wn&&!($n%16)&&Jn(Ye,$n),mr!=null))for(;Rr<_r;)Xr=tn[Rr++],mr.X[(506832829*Xr&4294967295)>>>mr.Mb]=Xr}else if(280>Xr){if(Xr=Ri(Xr-256,lr),fi=Vi(Ur.G[4],Ur.H[4],lr),Fn(lr),fi=Fi(Rn,fi=Ri(fi,lr)),lr.h)break;if(_r-yn<fi||zn-_r<Xr)break e;for(ii=0;ii<Xr;++ii)tn[_r+ii]=tn[_r+ii-fi];for(_r+=Xr,nr+=Xr;nr>=Rn;)nr-=Rn,++$n,Jn!=null&&$n<=Wn&&!($n%16)&&Jn(Ye,$n);if(e(_r<=zn),nr&hr&&(Ur=Ki(gr,nr,$n)),mr!=null)for(;Rr<_r;)Xr=tn[Rr++],mr.X[(506832829*Xr&4294967295)>>>mr.Mb]=Xr}else{if(!(Xr<Wr))break e;for(Kr=Xr-280,e(mr!=null);Rr<_r;)Xr=tn[Rr++],mr.X[(506832829*Xr&4294967295)>>>mr.Mb]=Xr;Xr=_r,e(!(Kr>>>(fi=mr).Xa)),tn[Xr]=fi.X[Kr],Kr=!0}Kr||e(lr.h==gn(lr))}if(Ye.Pb&&lr.h&&_r<zn)e(Ye.m.h),Ye.a=5,Ye.m=Ye.wd,Ye.$=Ye.xd,0<Ye.s.ua&&In(Ye.s.vb,Ye.s.Wa);else{if(lr.h)break e;Jn!=null&&Jn(Ye,$n>Wn?Wn:$n),Ye.a=0,Ye.$=_r-yn}return 1}return Ye.a=3,0}function aa(Ye){e(Ye!=null),Ye.vc=null,Ye.yc=null,Ye.Ya=null;var tn=Ye.Wa;tn!=null&&(tn.X=null),Ye.vb=null,e(Ye!=null)}function vo(){var Ye=new ll;return Ye==null?null:(Ye.a=0,Ye.xb=Wh,Hn("Predictor","VP8LPredictors"),Hn("Predictor","VP8LPredictors_C"),Hn("PredictorAdd","VP8LPredictorsAdd"),Hn("PredictorAdd","VP8LPredictorsAdd_C"),Ad=jr,Sc=Yr,xa=Ln,ro=ar,xc=sr,cs=Tr,Dl=dr,Ze.VP8LMapColor32b=no,Ze.VP8LMapColor8b=Wl,Ye)}function fc(Ye,tn,yn,Rn,zn){var Wn=1,Jn=[Ye],$n=[tn],nr=Rn.m,lr=Rn.s,gr=null,_r=0;e:for(;;){if(yn)for(;Wn&&Un(nr,1);){var Rr=Jn,Ar=$n,Wr=Rn,Ir=1,mr=Wr.m,hr=Wr.gc[Wr.ab],Ur=Un(mr,2);if(Wr.Oc&1<<Ur)Wn=0;else{switch(Wr.Oc|=1<<Ur,hr.hc=Ur,hr.Ea=Rr[0],hr.nc=Ar[0],hr.K=[null],++Wr.ab,e(4>=Wr.ab),Ur){case 0:case 1:hr.b=Un(mr,3)+2,Ir=fc(Yn(hr.Ea,hr.b),Yn(hr.nc,hr.b),0,Wr,hr.K),hr.K=hr.K[0];break;case 3:var Kr,Xr=Un(mr,8)+1,fi=16<Xr?0:4<Xr?1:2<Xr?2:3;if(Rr[0]=Yn(hr.Ea,fi),hr.b=fi,Kr=Ir=fc(Xr,1,0,Wr,hr.K)){var ii,Ci=Xr,oi=hr,$i=1<<(8>>oi.b),hs=Ae($i);if(hs==null)Kr=0;else{var Wi=oi.K[0],Hi=oi.w;for(hs[0]=oi.K[0][0],ii=1;ii<1*Ci;++ii)hs[ii]=tr(Wi[Hi+ii],hs[ii-1]);for(;ii<4*$i;++ii)hs[ii]=0;oi.K[0]=null,oi.K[0]=hs,Kr=1}}Ir=Kr;break;case 2:break;default:e(0)}Wn=Ir}}if(Jn=Jn[0],$n=$n[0],Wn&&Un(nr,1)&&!(Wn=1<=(_r=Un(nr,4))&&11>=_r)){Rn.a=3;break e}var _s;if(_s=Wn)t:{var Ni,Ei,vs,uo=Rn,Ms=Jn,Hs=$n,rs=_r,Vs=yn,za=uo.m,ma=uo.s,Ca=[null],Ga=1,Lo=0,Ha=yp[rs];n:for(;;){if(Vs&&Un(za,1)){var ss=Un(za,3)+2,Va=Yn(Ms,ss),Ol=Yn(Hs,ss),Pc=Va*Ol;if(!fc(Va,Ol,0,uo,Ca))break n;for(Ca=Ca[0],ma.xc=ss,Ni=0;Ni<Pc;++Ni){var Pa=Ca[Ni]>>8&65535;Ca[Ni]=Pa,Pa>=Ga&&(Ga=Pa+1)}}if(za.h)break n;for(Ei=0;5>Ei;++Ei){var ds=Pu[Ei];!Ei&&0<rs&&(ds+=1<<rs),Lo<ds&&(Lo=ds)}var hh=Ce(Ga*Ha,fn),Rd=Ga,ic=Ce(Rd,cn);if(ic==null)var ml=null;else e(65536>=Rd),ml=ic;var Tu=Ae(Lo);if(ml==null||Tu==null||hh==null){uo.a=1;break n}var ku=hh;for(Ni=vs=0;Ni<Ga;++Ni){var _o=ml[Ni],Ds=_o.G,Oi=_o.H,Fs=0,Ns=1,ua=0;for(Ei=0;5>Ei;++Ei){ds=Pu[Ei],Ds[Ei]=ku,Oi[Ei]=vs,!Ei&&0<rs&&(ds+=1<<rs);i:{var ha,Ec=ds,Ls=uo,Fc=Tu,Zc=ku,Bs=vs,Ru=0,Vo=Ls.m,Ao=Un(Vo,1);if(_e(Fc,0,0,Ec),Ao){var Zh=Un(Vo,1)+1,Dd=Un(Vo,1),Co=Un(Vo,Dd==0?1:8);Fc[Co]=1,Zh==2&&(Fc[Co=Un(Vo,8)]=1);var fs=1}else{var ia=Ae(19),va=Un(Vo,4)+4;if(19<va){Ls.a=3;var Wo=0;break i}for(ha=0;ha<va;++ha)ia[r1[ha]]=Un(Vo,3);var Tc=void 0,Po=void 0,Nd=Ls,Ea=ia,Du=Ec,dh=Fc,Nu=0,as=Nd.m,Fa=8,ho=Ce(128,fn);r:for(;rn(ho,0,7,Ea,19);){if(Un(as,1)){var Eo=2+2*Un(as,3);if((Tc=2+Un(as,Eo))>Du)break r}else Tc=Du;for(Po=0;Po<Du&&Tc--;){Fn(as);var Ld=ho[0+(127&sn(as))];Pn(as,as.u+Ld.g);var Jc=Ld.value;if(16>Jc)dh[Po++]=Jc,Jc!=0&&(Fa=Jc);else{var _f=Jc==16,Sp=Jc-16,Qc=yf[Sp],Af=Un(as,Vh[Sp])+Qc;if(Po+Af>Du)break r;for(var xp=_f?Fa:0;0<Af--;)dh[Po++]=xp}}Nu=1;break r}Nu||(Nd.a=3),fs=Nu}(fs=fs&&!Vo.h)&&(Ru=rn(Zc,Bs,8,Fc,Ec)),fs&&Ru!=0?Wo=Ru:(Ls.a=3,Wo=0)}if(Wo==0)break n;if(Ns&&L0[Ei]==1&&(Ns=ku[vs].g==0),Fs+=ku[vs].g,vs+=Wo,3>=Ei){var Lu,kc=Tu[0];for(Lu=1;Lu<ds;++Lu)Tu[Lu]>kc&&(kc=Tu[Lu]);ua+=kc}}if(_o.nd=Ns,_o.Qb=0,Ns&&(_o.qb=(Ds[3][Oi[3]+0].value<<24|Ds[1][Oi[1]+0].value<<16|Ds[2][Oi[2]+0].value)>>>0,Fs==0&&256>Ds[0][Oi[0]+0].value&&(_o.Qb=1,_o.qb+=Ds[0][Oi[0]+0].value<<8)),_o.jc=!_o.Qb&&6>ua,_o.jc){var $c,sc=_o;for($c=0;$c<ws;++$c){var vl=$c,Ko=sc.pd[vl],Id=sc.G[0][sc.H[0]+vl];256<=Id.value?(Ko.g=Id.g+256,Ko.value=Id.value):(Ko.g=0,Ko.value=0,vl>>=ji(Id,8,Ko),vl>>=ji(sc.G[1][sc.H[1]+vl],16,Ko),vl>>=ji(sc.G[2][sc.H[2]+vl],0,Ko),ji(sc.G[3][sc.H[3]+vl],24,Ko))}}}ma.vc=Ca,ma.Wb=Ga,ma.Ya=ml,ma.yc=hh,_s=1;break t}_s=0}if(!(Wn=_s)){Rn.a=3;break e}if(0<_r){if(lr.ua=1<<_r,!qn(lr.Wa,_r)){Rn.a=1,Wn=0;break e}}else lr.ua=0;var Od=Rn,Cf=Jn,_p=$n,Rc=Od.s,Pf=Rc.xc;if(Od.c=Cf,Od.i=_p,Rc.md=Yn(Cf,Pf),Rc.wc=Pf==0?-1:(1<<Pf)-1,yn){Rn.xb=Ll;break e}if((gr=Ae(Jn*$n))==null){Rn.a=1,Wn=0;break e}Wn=(Wn=ks(Rn,gr,0,Jn,$n,$n,null))&&!nr.h;break e}return Wn?(zn!=null?zn[0]=gr:(e(gr==null),e(yn)),Rn.$=0,yn||aa(lr)):aa(lr),Wn}function hu(Ye,tn){var yn=Ye.c*Ye.i,Rn=yn+tn+16*tn;return e(Ye.c<=tn),Ye.V=Ae(Rn),Ye.V==null?(Ye.Ta=null,Ye.Ua=0,Ye.a=1,0):(Ye.Ta=Ye.V,Ye.Ua=Ye.Ba+yn+tn,1)}function Ku(Ye,tn){var yn=Ye.C,Rn=tn-yn,zn=Ye.V,Wn=Ye.Ba+Ye.c*yn;for(e(tn<=Ye.l.o);0<Rn;){var Jn=16<Rn?16:Rn,$n=Ye.l.ma,nr=Ye.l.width,lr=nr*Jn,gr=$n.ca,_r=$n.tb+nr*yn,Rr=Ye.Ta,Ar=Ye.Ua;fa(Ye,Jn,zn,Wn),ra(Rr,Ar,gr,_r,lr),Xs($n,yn,yn+Jn,gr,_r,nr),Rn-=Jn,zn+=Jn*Ye.c,yn+=Jn}e(yn==tn),Ye.C=Ye.Ma=tn}function Xu(){this.ub=this.yd=this.td=this.Rb=0}function Yu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dh(){this.Fb=this.Bb=this.Cb=0,this.Zb=Ae(4),this.Lb=Ae(4)}function mf(){this.Yb=function(){var Ye=[];return function tn(yn,Rn,zn){for(var Wn=zn[Rn],Jn=0;Jn<Wn&&(yn.push(zn.length>Rn+1?[]:0),!(zn.length<Rn+1));Jn++)tn(yn[Jn],Rn+1,zn)}(Ye,0,[3,11]),Ye}()}function ea(){this.jb=Ae(3),this.Wc=Pe([4,8],mf),this.Xc=Pe([4,17],mf)}function wd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Ae(4),this.od=new Ae(4)}function El(){this.ld=this.La=this.dd=this.tc=0}function Zu(){this.Na=this.la=0}function du(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sd(){this.ad=Ae(384),this.Za=0,this.Ob=Ae(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nh(){this.uc=this.M=this.Nb=0,this.wa=Array(new El),this.Y=0,this.ya=Array(new Sd),this.aa=0,this.l=new gs}function Fl(){this.y=Ae(16),this.f=Ae(8),this.ea=Ae(8)}function ka(){this.cb=this.a=0,this.sc="",this.m=new xn,this.Od=new Xu,this.Kc=new Yu,this.ed=new wd,this.Qa=new Dh,this.Ic=this.$c=this.Aa=0,this.D=new Nh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ce(8,xn),this.ia=0,this.pb=Ce(4,du),this.Pa=new ea,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fl),this.Hd=0,this.rb=Array(new Zu),this.sb=0,this.wa=Array(new El),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sd),this.L=this.aa=0,this.gd=Pe([4,2],El),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function gs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xi(){var Ye=new ka;return Ye!=null&&(Ye.a=0,Ye.sc="OK",Ye.cb=0,Ye.Xb=0,ch||(ch=nl)),Ye}function Cs(Ye,tn,yn){return Ye.a==0&&(Ye.a=tn,Ye.sc=yn,Ye.cb=0),0}function Ra(Ye,tn,yn){return 3<=yn&&Ye[tn+0]==157&&Ye[tn+1]==1&&Ye[tn+2]==42}function Ya(Ye,tn){if(Ye==null)return 0;if(Ye.a=0,Ye.sc="OK",tn==null)return Cs(Ye,2,"null VP8Io passed to VP8GetHeaders()");var yn=tn.data,Rn=tn.w,zn=tn.ha;if(4>zn)return Cs(Ye,7,"Truncated header.");var Wn=yn[Rn+0]|yn[Rn+1]<<8|yn[Rn+2]<<16,Jn=Ye.Od;if(Jn.Rb=!(1&Wn),Jn.td=Wn>>1&7,Jn.yd=Wn>>4&1,Jn.ub=Wn>>5,3<Jn.td)return Cs(Ye,3,"Incorrect keyframe parameters.");if(!Jn.yd)return Cs(Ye,4,"Frame not displayable.");Rn+=3,zn-=3;var $n=Ye.Kc;if(Jn.Rb){if(7>zn)return Cs(Ye,7,"cannot parse picture header");if(!Ra(yn,Rn,zn))return Cs(Ye,3,"Bad code word");$n.c=16383&(yn[Rn+4]<<8|yn[Rn+3]),$n.Td=yn[Rn+4]>>6,$n.i=16383&(yn[Rn+6]<<8|yn[Rn+5]),$n.Ud=yn[Rn+6]>>6,Rn+=7,zn-=7,Ye.za=$n.c+15>>4,Ye.Ub=$n.i+15>>4,tn.width=$n.c,tn.height=$n.i,tn.Da=0,tn.j=0,tn.v=0,tn.va=tn.width,tn.o=tn.height,tn.da=0,tn.ib=tn.width,tn.hb=tn.height,tn.U=tn.width,tn.T=tn.height,_e((Wn=Ye.Pa).jb,0,255,Wn.jb.length),e((Wn=Ye.Qa)!=null),Wn.Cb=0,Wn.Bb=0,Wn.Fb=1,_e(Wn.Zb,0,0,Wn.Zb.length),_e(Wn.Lb,0,0,Wn.Lb)}if(Jn.ub>zn)return Cs(Ye,7,"bad partition length");dn(Wn=Ye.m,yn,Rn,Jn.ub),Rn+=Jn.ub,zn-=Jn.ub,Jn.Rb&&($n.Ld=kn(Wn),$n.Kd=kn(Wn)),$n=Ye.Qa;var nr,lr=Ye.Pa;if(e(Wn!=null),e($n!=null),$n.Cb=kn(Wn),$n.Cb){if($n.Bb=kn(Wn),kn(Wn)){for($n.Fb=kn(Wn),nr=0;4>nr;++nr)$n.Zb[nr]=kn(Wn)?pn(Wn,7):0;for(nr=0;4>nr;++nr)$n.Lb[nr]=kn(Wn)?pn(Wn,6):0}if($n.Bb)for(nr=0;3>nr;++nr)lr.jb[nr]=kn(Wn)?bn(Wn,8):255}else $n.Bb=0;if(Wn.Ka)return Cs(Ye,3,"cannot parse segment header");if(($n=Ye.ed).zd=kn(Wn),$n.Tb=bn(Wn,6),$n.wb=bn(Wn,3),$n.Pc=kn(Wn),$n.Pc&&kn(Wn)){for(lr=0;4>lr;++lr)kn(Wn)&&($n.vd[lr]=pn(Wn,6));for(lr=0;4>lr;++lr)kn(Wn)&&($n.od[lr]=pn(Wn,6))}if(Ye.L=$n.Tb==0?0:$n.zd?1:2,Wn.Ka)return Cs(Ye,3,"cannot parse filter header");var gr=zn;if(zn=nr=Rn,Rn=nr+gr,$n=gr,Ye.Xb=(1<<bn(Ye.m,2))-1,gr<3*(lr=Ye.Xb))yn=7;else{for(nr+=3*lr,$n-=3*lr,gr=0;gr<lr;++gr){var _r=yn[zn+0]|yn[zn+1]<<8|yn[zn+2]<<16;_r>$n&&(_r=$n),dn(Ye.Jc[+gr],yn,nr,_r),nr+=_r,$n-=_r,zn+=3}dn(Ye.Jc[+lr],yn,nr,$n),yn=nr<Rn?0:5}if(yn!=0)return Cs(Ye,yn,"cannot parse partitions");for(yn=bn(nr=Ye.m,7),zn=kn(nr)?pn(nr,4):0,Rn=kn(nr)?pn(nr,4):0,$n=kn(nr)?pn(nr,4):0,lr=kn(nr)?pn(nr,4):0,nr=kn(nr)?pn(nr,4):0,gr=Ye.Qa,_r=0;4>_r;++_r){if(gr.Cb){var Rr=gr.Zb[_r];gr.Fb||(Rr+=yn)}else{if(0<_r){Ye.pb[_r]=Ye.pb[0];continue}Rr=yn}var Ar=Ye.pb[_r];Ar.Sc[0]=Xc[zo(Rr+zn,127)],Ar.Sc[1]=Ed[zo(Rr+0,127)],Ar.Eb[0]=2*Xc[zo(Rr+Rn,127)],Ar.Eb[1]=101581*Ed[zo(Rr+$n,127)]>>16,8>Ar.Eb[1]&&(Ar.Eb[1]=8),Ar.Qc[0]=Xc[zo(Rr+lr,117)],Ar.Qc[1]=Ed[zo(Rr+nr,127)],Ar.lc=Rr+nr}if(!Jn.Rb)return Cs(Ye,4,"Not a key frame.");for(kn(Wn),Jn=Ye.Pa,yn=0;4>yn;++yn){for(zn=0;8>zn;++zn)for(Rn=0;3>Rn;++Rn)for($n=0;11>$n;++$n)lr=Bn(Wn,M0[yn][zn][Rn][$n])?bn(Wn,8):Fd[yn][zn][Rn][$n],Jn.Wc[yn][zn].Yb[Rn][$n]=lr;for(zn=0;17>zn;++zn)Jn.Xc[yn][zn]=Jn.Wc[yn][wf[zn]]}return Ye.kc=kn(Wn),Ye.kc&&(Ye.Bd=bn(Wn,8)),Ye.cb=1}function nl(Ye,tn,yn,Rn,zn,Wn,Jn){var $n=tn[zn].Yb[yn];for(yn=0;16>zn;++zn){if(!Bn(Ye,$n[yn+0]))return zn;for(;!Bn(Ye,$n[yn+1]);)if($n=tn[++zn].Yb[0],yn=0,zn==16)return 16;var nr=tn[zn+1].Yb;if(Bn(Ye,$n[yn+2])){var lr=Ye,gr=0;if(Bn(lr,(Rr=$n)[(_r=yn)+3]))if(Bn(lr,Rr[_r+6])){for($n=0,_r=2*(gr=Bn(lr,Rr[_r+8]))+(Rr=Bn(lr,Rr[_r+9+gr])),gr=0,Rr=bp[_r];Rr[$n];++$n)gr+=gr+Bn(lr,Rr[$n]);gr+=3+(8<<_r)}else Bn(lr,Rr[_r+7])?(gr=7+2*Bn(lr,165),gr+=Bn(lr,145)):gr=5+Bn(lr,159);else gr=Bn(lr,Rr[_r+4])?3+Bn(lr,Rr[_r+5]):2;$n=nr[2]}else gr=1,$n=nr[1];nr=Jn+gl[zn],0>(lr=Ye).b&&vn(lr);var _r,Rr=lr.b,Ar=(_r=lr.Ca>>1)-(lr.I>>Rr)>>31;--lr.b,lr.Ca+=Ar,lr.Ca|=1,lr.I-=(_r+1&Ar)<<Rr,Wn[nr]=((gr^Ar)-Ar)*Rn[(0<zn)+0]}return 16}function rl(Ye){var tn=Ye.rb[Ye.sb-1];tn.la=0,tn.Na=0,_e(Ye.zc,0,0,Ye.zc.length),Ye.ja=0}function ya(Ye,tn){if(Ye==null)return 0;if(tn==null)return Cs(Ye,2,"NULL VP8Io parameter in VP8Decode().");if(!Ye.cb&&!Ya(Ye,tn))return 0;if(e(Ye.cb),tn.ac==null||tn.ac(tn)){tn.ob&&(Ye.L=0);var yn=Td[Ye.L];if(Ye.L==2?(Ye.yb=0,Ye.zb=0):(Ye.yb=tn.v-yn>>4,Ye.zb=tn.j-yn>>4,0>Ye.yb&&(Ye.yb=0),0>Ye.zb&&(Ye.zb=0)),Ye.Va=tn.o+15+yn>>4,Ye.Hb=tn.va+15+yn>>4,Ye.Hb>Ye.za&&(Ye.Hb=Ye.za),Ye.Va>Ye.Ub&&(Ye.Va=Ye.Ub),0<Ye.L){var Rn=Ye.ed;for(yn=0;4>yn;++yn){var zn;if(Ye.Qa.Cb){var Wn=Ye.Qa.Lb[yn];Ye.Qa.Fb||(Wn+=Rn.Tb)}else Wn=Rn.Tb;for(zn=0;1>=zn;++zn){var Jn=Ye.gd[yn][zn],$n=Wn;if(Rn.Pc&&($n+=Rn.vd[0],zn&&($n+=Rn.od[0])),0<($n=0>$n?0:63<$n?63:$n)){var nr=$n;0<Rn.wb&&(nr=4<Rn.wb?nr>>2:nr>>1)>9-Rn.wb&&(nr=9-Rn.wb),1>nr&&(nr=1),Jn.dd=nr,Jn.tc=2*$n+nr,Jn.ld=40<=$n?2:15<=$n?1:0}else Jn.tc=0;Jn.La=zn}}}yn=0}else Cs(Ye,6,"Frame setup failed"),yn=Ye.a;if(yn=yn==0){if(yn){Ye.$c=0,0<Ye.Aa||(Ye.Ic=Yh);e:{yn=Ye.Ic,Rn=4*(nr=Ye.za);var lr=32*nr,gr=nr+1,_r=0<Ye.L?nr*(0<Ye.Aa?2:1):0,Rr=(Ye.Aa==2?2:1)*nr;if((Jn=Rn+832+(zn=3*(16*yn+Td[Ye.L])/2*lr)+(Wn=Ye.Fa!=null&&0<Ye.Fa.length?Ye.Kc.c*Ye.Kc.i:0))!=Jn)yn=0;else{if(Jn>Ye.Vb){if(Ye.Vb=0,Ye.Ec=Ae(Jn),Ye.Fc=0,Ye.Ec==null){yn=Cs(Ye,1,"no memory during frame initialization.");break e}Ye.Vb=Jn}Jn=Ye.Ec,$n=Ye.Fc,Ye.Ac=Jn,Ye.Bc=$n,$n+=Rn,Ye.Gd=Ce(lr,Fl),Ye.Hd=0,Ye.rb=Ce(gr+1,Zu),Ye.sb=1,Ye.wa=_r?Ce(_r,El):null,Ye.Y=0,Ye.D.Nb=0,Ye.D.wa=Ye.wa,Ye.D.Y=Ye.Y,0<Ye.Aa&&(Ye.D.Y+=nr),e(!0),Ye.oc=Jn,Ye.pc=$n,$n+=832,Ye.ya=Ce(Rr,Sd),Ye.aa=0,Ye.D.ya=Ye.ya,Ye.D.aa=Ye.aa,Ye.Aa==2&&(Ye.D.aa+=nr),Ye.R=16*nr,Ye.B=8*nr,nr=(lr=Td[Ye.L])*Ye.R,lr=lr/2*Ye.B,Ye.sa=Jn,Ye.ta=$n+nr,Ye.qa=Ye.sa,Ye.ra=Ye.ta+16*yn*Ye.R+lr,Ye.Ha=Ye.qa,Ye.Ia=Ye.ra+8*yn*Ye.B+lr,Ye.$c=0,$n+=zn,Ye.mb=Wn?Jn:null,Ye.nb=Wn?$n:null,e($n+Wn<=Ye.Fc+Ye.Vb),rl(Ye),_e(Ye.Ac,Ye.Bc,0,Rn),yn=1}}if(yn){if(tn.ka=0,tn.y=Ye.sa,tn.O=Ye.ta,tn.f=Ye.qa,tn.N=Ye.ra,tn.ea=Ye.Ha,tn.Vd=Ye.Ia,tn.fa=Ye.R,tn.Rc=Ye.B,tn.F=null,tn.J=0,!qh){for(yn=-255;255>=yn;++yn)ga[255+yn]=0>yn?-yn:yn;for(yn=-1020;1020>=yn;++yn)$l[1020+yn]=-128>yn?-128:127<yn?127:yn;for(yn=-112;112>=yn;++yn)ih[112+yn]=-16>yn?-16:15<yn?15:yn;for(yn=-255;510>=yn;++yn)Cu[255+yn]=0>yn?0:255<yn?255:yn;qh=1}Au=es,Kl=Do,Xl=fu,la=gp,Qi=Ih,ts=Lh,Gs=eo,ca=qs,_c=ol,Yl=Uh,Zl=yo,dl=bo,Zs=Vc,Nl=bu,Jl=wa,Ql=Qa,io=$a,Ps=$u,ao[0]=Hl,ao[1]=pu,ao[2]=mu,ao[3]=Tl,ao[4]=xd,ao[5]=ta,ao[6]=vu,ao[7]=yu,ao[8]=Mh,ao[9]=Oh,so[0]=Gc,so[1]=vf,so[2]=gc,so[3]=qc,so[4]=Rs,so[5]=mc,so[6]=il,So[0]=sl,So[1]=gu,So[2]=mp,So[3]=kl,So[4]=Ja,So[5]=Bh,So[6]=al,yn=1}else yn=0}yn&&(yn=function(Ar,Wr){for(Ar.M=0;Ar.M<Ar.Va;++Ar.M){var Ir,mr=Ar.Jc[Ar.M&Ar.Xb],hr=Ar.m,Ur=Ar;for(Ir=0;Ir<Ur.za;++Ir){var Kr=hr,Xr=Ur,fi=Xr.Ac,ii=Xr.Bc+4*Ir,Ci=Xr.zc,oi=Xr.ya[Xr.aa+Ir];if(Xr.Qa.Bb?oi.$b=Bn(Kr,Xr.Pa.jb[0])?2+Bn(Kr,Xr.Pa.jb[2]):Bn(Kr,Xr.Pa.jb[1]):oi.$b=0,Xr.kc&&(oi.Ad=Bn(Kr,Xr.Bd)),oi.Za=!Bn(Kr,145)+0,oi.Za){var $i=oi.Ob,hs=0;for(Xr=0;4>Xr;++Xr){var Wi,Hi=Ci[0+Xr];for(Wi=0;4>Wi;++Wi){Hi=O0[fi[ii+Wi]][Hi];for(var _s=bf[Bn(Kr,Hi[0])];0<_s;)_s=bf[2*_s+Bn(Kr,Hi[_s])];Hi=-_s,fi[ii+Wi]=Hi}Se($i,hs,fi,ii,4),hs+=4,Ci[0+Xr]=Hi}}else Hi=Bn(Kr,156)?Bn(Kr,128)?1:3:Bn(Kr,163)?2:0,oi.Ob[0]=Hi,_e(fi,ii,Hi,4),_e(Ci,0,Hi,4);oi.Dd=Bn(Kr,142)?Bn(Kr,114)?Bn(Kr,183)?1:3:2:0}if(Ur.m.Ka)return Cs(Ar,7,"Premature end-of-partition0 encountered.");for(;Ar.ja<Ar.za;++Ar.ja){if(Ur=mr,Kr=(hr=Ar).rb[hr.sb-1],fi=hr.rb[hr.sb+hr.ja],Ir=hr.ya[hr.aa+hr.ja],ii=hr.kc?Ir.Ad:0)Kr.la=fi.la=0,Ir.Za||(Kr.Na=fi.Na=0),Ir.Hc=0,Ir.Gc=0,Ir.ia=0;else{var Ni,Ei;if(Kr=fi,fi=Ur,ii=hr.Pa.Xc,Ci=hr.ya[hr.aa+hr.ja],oi=hr.pb[Ci.$b],Xr=Ci.ad,$i=0,hs=hr.rb[hr.sb-1],Hi=Wi=0,_e(Xr,$i,0,384),Ci.Za)var vs=0,uo=ii[3];else{_s=Ae(16);var Ms=Kr.Na+hs.Na;if(Ms=ch(fi,ii[1],Ms,oi.Eb,0,_s,0),Kr.Na=hs.Na=(0<Ms)+0,1<Ms)Au(_s,0,Xr,$i);else{var Hs=_s[0]+3>>3;for(_s=0;256>_s;_s+=16)Xr[$i+_s]=Hs}vs=1,uo=ii[0]}var rs=15&Kr.la,Vs=15&hs.la;for(_s=0;4>_s;++_s){var za=1&Vs;for(Hs=Ei=0;4>Hs;++Hs)rs=rs>>1|(za=(Ms=ch(fi,uo,Ms=za+(1&rs),oi.Sc,vs,Xr,$i))>vs)<<7,Ei=Ei<<2|(3<Ms?3:1<Ms?2:Xr[$i+0]!=0),$i+=16;rs>>=4,Vs=Vs>>1|za<<7,Wi=(Wi<<8|Ei)>>>0}for(uo=rs,vs=Vs>>4,Ni=0;4>Ni;Ni+=2){for(Ei=0,rs=Kr.la>>4+Ni,Vs=hs.la>>4+Ni,_s=0;2>_s;++_s){for(za=1&Vs,Hs=0;2>Hs;++Hs)Ms=za+(1&rs),rs=rs>>1|(za=0<(Ms=ch(fi,ii[2],Ms,oi.Qc,0,Xr,$i)))<<3,Ei=Ei<<2|(3<Ms?3:1<Ms?2:Xr[$i+0]!=0),$i+=16;rs>>=2,Vs=Vs>>1|za<<5}Hi|=Ei<<4*Ni,uo|=rs<<4<<Ni,vs|=(240&Vs)<<Ni}Kr.la=uo,hs.la=vs,Ci.Hc=Wi,Ci.Gc=Hi,Ci.ia=43690&Hi?0:oi.ia,ii=!(Wi|Hi)}if(0<hr.L&&(hr.wa[hr.Y+hr.ja]=hr.gd[Ir.$b][Ir.Za],hr.wa[hr.Y+hr.ja].La|=!ii),Ur.Ka)return Cs(Ar,7,"Premature end-of-file encountered.")}if(rl(Ar),hr=Wr,Ur=1,Ir=(mr=Ar).D,Kr=0<mr.L&&mr.M>=mr.zb&&mr.M<=mr.Va,mr.Aa==0)e:{if(Ir.M=mr.M,Ir.uc=Kr,to(mr,Ir),Ur=1,Ir=(Ei=mr.D).Nb,Kr=(Hi=Td[mr.L])*mr.R,fi=Hi/2*mr.B,_s=16*Ir*mr.R,Hs=8*Ir*mr.B,ii=mr.sa,Ci=mr.ta-Kr+_s,oi=mr.qa,Xr=mr.ra-fi+Hs,$i=mr.Ha,hs=mr.Ia-fi+Hs,Vs=(rs=Ei.M)==0,Wi=rs>=mr.Va-1,mr.Aa==2&&to(mr,Ei),Ei.uc)for(za=(Ms=mr).D.M,e(Ms.D.uc),Ei=Ms.yb;Ei<Ms.Hb;++Ei){vs=Ei,uo=za;var ma=(Ca=(ds=Ms).D).Nb;Ni=ds.R;var Ca=Ca.wa[Ca.Y+vs],Ga=ds.sa,Lo=ds.ta+16*ma*Ni+16*vs,Ha=Ca.dd,ss=Ca.tc;if(ss!=0)if(e(3<=ss),ds.L==1)0<vs&&Ql(Ga,Lo,Ni,ss+4),Ca.La&&Ps(Ga,Lo,Ni,ss),0<uo&&Jl(Ga,Lo,Ni,ss+4),Ca.La&&io(Ga,Lo,Ni,ss);else{var Va=ds.B,Ol=ds.qa,Pc=ds.ra+8*ma*Va+8*vs,Pa=ds.Ha,ds=ds.Ia+8*ma*Va+8*vs;ma=Ca.ld,0<vs&&(ca(Ga,Lo,Ni,ss+4,Ha,ma),Yl(Ol,Pc,Pa,ds,Va,ss+4,Ha,ma)),Ca.La&&(dl(Ga,Lo,Ni,ss,Ha,ma),Nl(Ol,Pc,Pa,ds,Va,ss,Ha,ma)),0<uo&&(Gs(Ga,Lo,Ni,ss+4,Ha,ma),_c(Ol,Pc,Pa,ds,Va,ss+4,Ha,ma)),Ca.La&&(Zl(Ga,Lo,Ni,ss,Ha,ma),Zs(Ol,Pc,Pa,ds,Va,ss,Ha,ma))}}if(mr.ia&&alert("todo:DitherRow"),hr.put!=null){if(Ei=16*rs,rs=16*(rs+1),Vs?(hr.y=mr.sa,hr.O=mr.ta+_s,hr.f=mr.qa,hr.N=mr.ra+Hs,hr.ea=mr.Ha,hr.W=mr.Ia+Hs):(Ei-=Hi,hr.y=ii,hr.O=Ci,hr.f=oi,hr.N=Xr,hr.ea=$i,hr.W=hs),Wi||(rs-=Hi),rs>hr.o&&(rs=hr.o),hr.F=null,hr.J=null,mr.Fa!=null&&0<mr.Fa.length&&Ei<rs&&(hr.J=jh(mr,hr,Ei,rs-Ei),hr.F=mr.mb,hr.F==null&&hr.F.length==0)){Ur=Cs(mr,3,"Could not decode alpha data.");break e}Ei<hr.j&&(Hi=hr.j-Ei,Ei=hr.j,e(!(1&Hi)),hr.O+=mr.R*Hi,hr.N+=mr.B*(Hi>>1),hr.W+=mr.B*(Hi>>1),hr.F!=null&&(hr.J+=hr.width*Hi)),Ei<rs&&(hr.O+=hr.v,hr.N+=hr.v>>1,hr.W+=hr.v>>1,hr.F!=null&&(hr.J+=hr.v),hr.ka=Ei-hr.j,hr.U=hr.va-hr.v,hr.T=rs-Ei,Ur=hr.put(hr))}Ir+1!=mr.Ic||Wi||(Se(mr.sa,mr.ta-Kr,ii,Ci+16*mr.R,Kr),Se(mr.qa,mr.ra-fi,oi,Xr+8*mr.B,fi),Se(mr.Ha,mr.Ia-fi,$i,hs+8*mr.B,fi))}if(!Ur)return Cs(Ar,6,"Output aborted.")}return 1}(Ye,tn)),tn.bc!=null&&tn.bc(tn),yn&=1}return yn?(Ye.cb=0,yn):0}function Za(Ye,tn,yn,Rn,zn){zn=Ye[tn+yn+32*Rn]+(zn>>3),Ye[tn+yn+32*Rn]=-256&zn?0>zn?0:255:zn}function Ju(Ye,tn,yn,Rn,zn,Wn){Za(Ye,tn,0,yn,Rn+zn),Za(Ye,tn,1,yn,Rn+Wn),Za(Ye,tn,2,yn,Rn-Wn),Za(Ye,tn,3,yn,Rn-zn)}function Ro(Ye){return(20091*Ye>>16)+Ye}function pc(Ye,tn,yn,Rn){var zn,Wn=0,Jn=Ae(16);for(zn=0;4>zn;++zn){var $n=Ye[tn+0]+Ye[tn+8],nr=Ye[tn+0]-Ye[tn+8],lr=(35468*Ye[tn+4]>>16)-Ro(Ye[tn+12]),gr=Ro(Ye[tn+4])+(35468*Ye[tn+12]>>16);Jn[Wn+0]=$n+gr,Jn[Wn+1]=nr+lr,Jn[Wn+2]=nr-lr,Jn[Wn+3]=$n-gr,Wn+=4,tn++}for(zn=Wn=0;4>zn;++zn)$n=(Ye=Jn[Wn+0]+4)+Jn[Wn+8],nr=Ye-Jn[Wn+8],lr=(35468*Jn[Wn+4]>>16)-Ro(Jn[Wn+12]),Za(yn,Rn,0,0,$n+(gr=Ro(Jn[Wn+4])+(35468*Jn[Wn+12]>>16))),Za(yn,Rn,1,0,nr+lr),Za(yn,Rn,2,0,nr-lr),Za(yn,Rn,3,0,$n-gr),Wn++,Rn+=32}function Lh(Ye,tn,yn,Rn){var zn=Ye[tn+0]+4,Wn=35468*Ye[tn+4]>>16,Jn=Ro(Ye[tn+4]),$n=35468*Ye[tn+1]>>16;Ju(yn,Rn,0,zn+Jn,Ye=Ro(Ye[tn+1]),$n),Ju(yn,Rn,1,zn+Wn,Ye,$n),Ju(yn,Rn,2,zn-Wn,Ye,$n),Ju(yn,Rn,3,zn-Jn,Ye,$n)}function Do(Ye,tn,yn,Rn,zn){pc(Ye,tn,yn,Rn),zn&&pc(Ye,tn+16,yn,Rn+4)}function fu(Ye,tn,yn,Rn){Kl(Ye,tn+0,yn,Rn,1),Kl(Ye,tn+32,yn,Rn+128,1)}function gp(Ye,tn,yn,Rn){var zn;for(Ye=Ye[tn+0]+4,zn=0;4>zn;++zn)for(tn=0;4>tn;++tn)Za(yn,Rn,tn,zn,Ye)}function Ih(Ye,tn,yn,Rn){Ye[tn+0]&&la(Ye,tn+0,yn,Rn),Ye[tn+16]&&la(Ye,tn+16,yn,Rn+4),Ye[tn+32]&&la(Ye,tn+32,yn,Rn+128),Ye[tn+48]&&la(Ye,tn+48,yn,Rn+128+4)}function es(Ye,tn,yn,Rn){var zn,Wn=Ae(16);for(zn=0;4>zn;++zn){var Jn=Ye[tn+0+zn]+Ye[tn+12+zn],$n=Ye[tn+4+zn]+Ye[tn+8+zn],nr=Ye[tn+4+zn]-Ye[tn+8+zn],lr=Ye[tn+0+zn]-Ye[tn+12+zn];Wn[0+zn]=Jn+$n,Wn[8+zn]=Jn-$n,Wn[4+zn]=lr+nr,Wn[12+zn]=lr-nr}for(zn=0;4>zn;++zn)Jn=(Ye=Wn[0+4*zn]+3)+Wn[3+4*zn],$n=Wn[1+4*zn]+Wn[2+4*zn],nr=Wn[1+4*zn]-Wn[2+4*zn],lr=Ye-Wn[3+4*zn],yn[Rn+0]=Jn+$n>>3,yn[Rn+16]=lr+nr>>3,yn[Rn+32]=Jn-$n>>3,yn[Rn+48]=lr-nr>>3,Rn+=64}function jc(Ye,tn,yn){var Rn,zn=tn-32,Wn=Ia,Jn=255-Ye[zn-1];for(Rn=0;Rn<yn;++Rn){var $n,nr=Wn,lr=Jn+Ye[tn-1];for($n=0;$n<yn;++$n)Ye[tn+$n]=nr[lr+Ye[zn+$n]];tn+=32}}function pu(Ye,tn){jc(Ye,tn,4)}function gu(Ye,tn){jc(Ye,tn,8)}function vf(Ye,tn){jc(Ye,tn,16)}function gc(Ye,tn){var yn;for(yn=0;16>yn;++yn)Se(Ye,tn+32*yn,Ye,tn-32,16)}function qc(Ye,tn){var yn;for(yn=16;0<yn;--yn)_e(Ye,tn,Ye[tn-1],16),tn+=32}function zc(Ye,tn,yn){var Rn;for(Rn=0;16>Rn;++Rn)_e(tn,yn+32*Rn,Ye,16)}function Gc(Ye,tn){var yn,Rn=16;for(yn=0;16>yn;++yn)Rn+=Ye[tn-1+32*yn]+Ye[tn+yn-32];zc(Rn>>5,Ye,tn)}function Rs(Ye,tn){var yn,Rn=8;for(yn=0;16>yn;++yn)Rn+=Ye[tn-1+32*yn];zc(Rn>>4,Ye,tn)}function mc(Ye,tn){var yn,Rn=8;for(yn=0;16>yn;++yn)Rn+=Ye[tn+yn-32];zc(Rn>>4,Ye,tn)}function il(Ye,tn){zc(128,Ye,tn)}function ai(Ye,tn,yn){return Ye+2*tn+yn+2>>2}function mu(Ye,tn){var yn,Rn=tn-32;for(Rn=new Uint8Array([ai(Ye[Rn-1],Ye[Rn+0],Ye[Rn+1]),ai(Ye[Rn+0],Ye[Rn+1],Ye[Rn+2]),ai(Ye[Rn+1],Ye[Rn+2],Ye[Rn+3]),ai(Ye[Rn+2],Ye[Rn+3],Ye[Rn+4])]),yn=0;4>yn;++yn)Se(Ye,tn+32*yn,Rn,0,Rn.length)}function Tl(Ye,tn){var yn=Ye[tn-1],Rn=Ye[tn-1+32],zn=Ye[tn-1+64],Wn=Ye[tn-1+96];er(Ye,tn+0,16843009*ai(Ye[tn-1-32],yn,Rn)),er(Ye,tn+32,16843009*ai(yn,Rn,zn)),er(Ye,tn+64,16843009*ai(Rn,zn,Wn)),er(Ye,tn+96,16843009*ai(zn,Wn,Wn))}function Hl(Ye,tn){var yn,Rn=4;for(yn=0;4>yn;++yn)Rn+=Ye[tn+yn-32]+Ye[tn-1+32*yn];for(Rn>>=3,yn=0;4>yn;++yn)_e(Ye,tn+32*yn,Rn,4)}function xd(Ye,tn){var yn=Ye[tn-1+0],Rn=Ye[tn-1+32],zn=Ye[tn-1+64],Wn=Ye[tn-1-32],Jn=Ye[tn+0-32],$n=Ye[tn+1-32],nr=Ye[tn+2-32],lr=Ye[tn+3-32];Ye[tn+0+96]=ai(Rn,zn,Ye[tn-1+96]),Ye[tn+1+96]=Ye[tn+0+64]=ai(yn,Rn,zn),Ye[tn+2+96]=Ye[tn+1+64]=Ye[tn+0+32]=ai(Wn,yn,Rn),Ye[tn+3+96]=Ye[tn+2+64]=Ye[tn+1+32]=Ye[tn+0+0]=ai(Jn,Wn,yn),Ye[tn+3+64]=Ye[tn+2+32]=Ye[tn+1+0]=ai($n,Jn,Wn),Ye[tn+3+32]=Ye[tn+2+0]=ai(nr,$n,Jn),Ye[tn+3+0]=ai(lr,nr,$n)}function vu(Ye,tn){var yn=Ye[tn+1-32],Rn=Ye[tn+2-32],zn=Ye[tn+3-32],Wn=Ye[tn+4-32],Jn=Ye[tn+5-32],$n=Ye[tn+6-32],nr=Ye[tn+7-32];Ye[tn+0+0]=ai(Ye[tn+0-32],yn,Rn),Ye[tn+1+0]=Ye[tn+0+32]=ai(yn,Rn,zn),Ye[tn+2+0]=Ye[tn+1+32]=Ye[tn+0+64]=ai(Rn,zn,Wn),Ye[tn+3+0]=Ye[tn+2+32]=Ye[tn+1+64]=Ye[tn+0+96]=ai(zn,Wn,Jn),Ye[tn+3+32]=Ye[tn+2+64]=Ye[tn+1+96]=ai(Wn,Jn,$n),Ye[tn+3+64]=Ye[tn+2+96]=ai(Jn,$n,nr),Ye[tn+3+96]=ai($n,nr,nr)}function ta(Ye,tn){var yn=Ye[tn-1+0],Rn=Ye[tn-1+32],zn=Ye[tn-1+64],Wn=Ye[tn-1-32],Jn=Ye[tn+0-32],$n=Ye[tn+1-32],nr=Ye[tn+2-32],lr=Ye[tn+3-32];Ye[tn+0+0]=Ye[tn+1+64]=Wn+Jn+1>>1,Ye[tn+1+0]=Ye[tn+2+64]=Jn+$n+1>>1,Ye[tn+2+0]=Ye[tn+3+64]=$n+nr+1>>1,Ye[tn+3+0]=nr+lr+1>>1,Ye[tn+0+96]=ai(zn,Rn,yn),Ye[tn+0+64]=ai(Rn,yn,Wn),Ye[tn+0+32]=Ye[tn+1+96]=ai(yn,Wn,Jn),Ye[tn+1+32]=Ye[tn+2+96]=ai(Wn,Jn,$n),Ye[tn+2+32]=Ye[tn+3+96]=ai(Jn,$n,nr),Ye[tn+3+32]=ai($n,nr,lr)}function yu(Ye,tn){var yn=Ye[tn+0-32],Rn=Ye[tn+1-32],zn=Ye[tn+2-32],Wn=Ye[tn+3-32],Jn=Ye[tn+4-32],$n=Ye[tn+5-32],nr=Ye[tn+6-32],lr=Ye[tn+7-32];Ye[tn+0+0]=yn+Rn+1>>1,Ye[tn+1+0]=Ye[tn+0+64]=Rn+zn+1>>1,Ye[tn+2+0]=Ye[tn+1+64]=zn+Wn+1>>1,Ye[tn+3+0]=Ye[tn+2+64]=Wn+Jn+1>>1,Ye[tn+0+32]=ai(yn,Rn,zn),Ye[tn+1+32]=Ye[tn+0+96]=ai(Rn,zn,Wn),Ye[tn+2+32]=Ye[tn+1+96]=ai(zn,Wn,Jn),Ye[tn+3+32]=Ye[tn+2+96]=ai(Wn,Jn,$n),Ye[tn+3+64]=ai(Jn,$n,nr),Ye[tn+3+96]=ai($n,nr,lr)}function Oh(Ye,tn){var yn=Ye[tn-1+0],Rn=Ye[tn-1+32],zn=Ye[tn-1+64],Wn=Ye[tn-1+96];Ye[tn+0+0]=yn+Rn+1>>1,Ye[tn+2+0]=Ye[tn+0+32]=Rn+zn+1>>1,Ye[tn+2+32]=Ye[tn+0+64]=zn+Wn+1>>1,Ye[tn+1+0]=ai(yn,Rn,zn),Ye[tn+3+0]=Ye[tn+1+32]=ai(Rn,zn,Wn),Ye[tn+3+32]=Ye[tn+1+64]=ai(zn,Wn,Wn),Ye[tn+3+64]=Ye[tn+2+64]=Ye[tn+0+96]=Ye[tn+1+96]=Ye[tn+2+96]=Ye[tn+3+96]=Wn}function Mh(Ye,tn){var yn=Ye[tn-1+0],Rn=Ye[tn-1+32],zn=Ye[tn-1+64],Wn=Ye[tn-1+96],Jn=Ye[tn-1-32],$n=Ye[tn+0-32],nr=Ye[tn+1-32],lr=Ye[tn+2-32];Ye[tn+0+0]=Ye[tn+2+32]=yn+Jn+1>>1,Ye[tn+0+32]=Ye[tn+2+64]=Rn+yn+1>>1,Ye[tn+0+64]=Ye[tn+2+96]=zn+Rn+1>>1,Ye[tn+0+96]=Wn+zn+1>>1,Ye[tn+3+0]=ai($n,nr,lr),Ye[tn+2+0]=ai(Jn,$n,nr),Ye[tn+1+0]=Ye[tn+3+32]=ai(yn,Jn,$n),Ye[tn+1+32]=Ye[tn+3+64]=ai(Rn,yn,Jn),Ye[tn+1+64]=Ye[tn+3+96]=ai(zn,Rn,yn),Ye[tn+1+96]=ai(Wn,zn,Rn)}function mp(Ye,tn){var yn;for(yn=0;8>yn;++yn)Se(Ye,tn+32*yn,Ye,tn-32,8)}function kl(Ye,tn){var yn;for(yn=0;8>yn;++yn)_e(Ye,tn,Ye[tn-1],8),tn+=32}function ba(Ye,tn,yn){var Rn;for(Rn=0;8>Rn;++Rn)_e(tn,yn+32*Rn,Ye,8)}function sl(Ye,tn){var yn,Rn=8;for(yn=0;8>yn;++yn)Rn+=Ye[tn+yn-32]+Ye[tn-1+32*yn];ba(Rn>>4,Ye,tn)}function Bh(Ye,tn){var yn,Rn=4;for(yn=0;8>yn;++yn)Rn+=Ye[tn+yn-32];ba(Rn>>3,Ye,tn)}function Ja(Ye,tn){var yn,Rn=4;for(yn=0;8>yn;++yn)Rn+=Ye[tn-1+32*yn];ba(Rn>>3,Ye,tn)}function al(Ye,tn){ba(128,Ye,tn)}function Vl(Ye,tn,yn){var Rn=Ye[tn-yn],zn=Ye[tn+0],Wn=3*(zn-Rn)+tc[1020+Ye[tn-2*yn]-Ye[tn+yn]],Jn=sh[112+(Wn+4>>3)];Ye[tn-yn]=Ia[255+Rn+sh[112+(Wn+3>>3)]],Ye[tn+0]=Ia[255+zn-Jn]}function Hc(Ye,tn,yn,Rn){var zn=Ye[tn+0],Wn=Ye[tn+yn];return pl[255+Ye[tn-2*yn]-Ye[tn-yn]]>Rn||pl[255+Wn-zn]>Rn}function Qu(Ye,tn,yn,Rn){return 4*pl[255+Ye[tn-yn]-Ye[tn+0]]+pl[255+Ye[tn-2*yn]-Ye[tn+yn]]<=Rn}function _d(Ye,tn,yn,Rn,zn){var Wn=Ye[tn-3*yn],Jn=Ye[tn-2*yn],$n=Ye[tn-yn],nr=Ye[tn+0],lr=Ye[tn+yn],gr=Ye[tn+2*yn],_r=Ye[tn+3*yn];return 4*pl[255+$n-nr]+pl[255+Jn-lr]>Rn?0:pl[255+Ye[tn-4*yn]-Wn]<=zn&&pl[255+Wn-Jn]<=zn&&pl[255+Jn-$n]<=zn&&pl[255+_r-gr]<=zn&&pl[255+gr-lr]<=zn&&pl[255+lr-nr]<=zn}function wa(Ye,tn,yn,Rn){var zn=2*Rn+1;for(Rn=0;16>Rn;++Rn)Qu(Ye,tn+Rn,yn,zn)&&Vl(Ye,tn+Rn,yn)}function Qa(Ye,tn,yn,Rn){var zn=2*Rn+1;for(Rn=0;16>Rn;++Rn)Qu(Ye,tn+Rn*yn,1,zn)&&Vl(Ye,tn+Rn*yn,1)}function $a(Ye,tn,yn,Rn){var zn;for(zn=3;0<zn;--zn)wa(Ye,tn+=4*yn,yn,Rn)}function $u(Ye,tn,yn,Rn){var zn;for(zn=3;0<zn;--zn)Qa(Ye,tn+=4,yn,Rn)}function qo(Ye,tn,yn,Rn,zn,Wn,Jn,$n){for(Wn=2*Wn+1;0<zn--;){if(_d(Ye,tn,yn,Wn,Jn))if(Hc(Ye,tn,yn,$n))Vl(Ye,tn,yn);else{var nr=Ye,lr=tn,gr=yn,_r=nr[lr-2*gr],Rr=nr[lr-gr],Ar=nr[lr+0],Wr=nr[lr+gr],Ir=nr[lr+2*gr],mr=27*(Ur=tc[1020+3*(Ar-Rr)+tc[1020+_r-Wr]])+63>>7,hr=18*Ur+63>>7,Ur=9*Ur+63>>7;nr[lr-3*gr]=Ia[255+nr[lr-3*gr]+Ur],nr[lr-2*gr]=Ia[255+_r+hr],nr[lr-gr]=Ia[255+Rr+mr],nr[lr+0]=Ia[255+Ar-mr],nr[lr+gr]=Ia[255+Wr-hr],nr[lr+2*gr]=Ia[255+Ir-Ur]}tn+=Rn}}function js(Ye,tn,yn,Rn,zn,Wn,Jn,$n){for(Wn=2*Wn+1;0<zn--;){if(_d(Ye,tn,yn,Wn,Jn))if(Hc(Ye,tn,yn,$n))Vl(Ye,tn,yn);else{var nr=Ye,lr=tn,gr=yn,_r=nr[lr-gr],Rr=nr[lr+0],Ar=nr[lr+gr],Wr=sh[112+((Ir=3*(Rr-_r))+4>>3)],Ir=sh[112+(Ir+3>>3)],mr=Wr+1>>1;nr[lr-2*gr]=Ia[255+nr[lr-2*gr]+mr],nr[lr-gr]=Ia[255+_r+Ir],nr[lr+0]=Ia[255+Rr-Wr],nr[lr+gr]=Ia[255+Ar-mr]}tn+=Rn}}function eo(Ye,tn,yn,Rn,zn,Wn){qo(Ye,tn,yn,1,16,Rn,zn,Wn)}function qs(Ye,tn,yn,Rn,zn,Wn){qo(Ye,tn,1,yn,16,Rn,zn,Wn)}function yo(Ye,tn,yn,Rn,zn,Wn){var Jn;for(Jn=3;0<Jn;--Jn)js(Ye,tn+=4*yn,yn,1,16,Rn,zn,Wn)}function bo(Ye,tn,yn,Rn,zn,Wn){var Jn;for(Jn=3;0<Jn;--Jn)js(Ye,tn+=4,1,yn,16,Rn,zn,Wn)}function ol(Ye,tn,yn,Rn,zn,Wn,Jn,$n){qo(Ye,tn,zn,1,8,Wn,Jn,$n),qo(yn,Rn,zn,1,8,Wn,Jn,$n)}function Uh(Ye,tn,yn,Rn,zn,Wn,Jn,$n){qo(Ye,tn,1,zn,8,Wn,Jn,$n),qo(yn,Rn,1,zn,8,Wn,Jn,$n)}function Vc(Ye,tn,yn,Rn,zn,Wn,Jn,$n){js(Ye,tn+4*zn,zn,1,8,Wn,Jn,$n),js(yn,Rn+4*zn,zn,1,8,Wn,Jn,$n)}function bu(Ye,tn,yn,Rn,zn,Wn,Jn,$n){js(Ye,tn+4,1,zn,8,Wn,Jn,$n),js(yn,Rn+4,1,zn,8,Wn,Jn,$n)}function oa(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Da(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wu(){this.ua=0,this.Wa=new wn,this.vb=new wn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new cn,this.yc=new fn}function ll(){this.xb=this.a=0,this.l=new gs,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new St,this.Pb=0,this.wd=new St,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wu,this.ab=0,this.gc=Ce(4,bs),this.Oc=0}function eh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vc(Ye,tn,yn,Rn,zn,Wn,Jn){for(Ye=Ye==null?0:Ye[tn+0],tn=0;tn<Jn;++tn)zn[Wn+tn]=Ye+yn[Rn+tn]&255,Ye=zn[Wn+tn]}function th(Ye,tn,yn,Rn,zn,Wn,Jn){var $n;if(Ye==null)vc(null,null,yn,Rn,zn,Wn,Jn);else for($n=0;$n<Jn;++$n)zn[Wn+$n]=Ye[tn+$n]+yn[Rn+$n]&255}function yc(Ye,tn,yn,Rn,zn,Wn,Jn){if(Ye==null)vc(null,null,yn,Rn,zn,Wn,Jn);else{var $n,nr=Ye[tn+0],lr=nr,gr=nr;for($n=0;$n<Jn;++$n)lr=gr+(nr=Ye[tn+$n])-lr,gr=yn[Rn+$n]+(-256&lr?0>lr?0:255:lr)&255,lr=nr,zn[Wn+$n]=gr}}function jh(Ye,tn,yn,Rn){var zn=tn.width,Wn=tn.o;if(e(Ye!=null&&tn!=null),0>yn||0>=Rn||yn+Rn>Wn)return null;if(!Ye.Cc){if(Ye.ga==null){var Jn;if(Ye.ga=new eh,(Jn=Ye.ga==null)||(Jn=tn.width*tn.o,e(Ye.Gb.length==0),Ye.Gb=Ae(Jn),Ye.Uc=0,Ye.Gb==null?Jn=0:(Ye.mb=Ye.Gb,Ye.nb=Ye.Uc,Ye.rc=null,Jn=1),Jn=!Jn),!Jn){Jn=Ye.ga;var $n=Ye.Fa,nr=Ye.P,lr=Ye.qc,gr=Ye.mb,_r=Ye.nb,Rr=nr+1,Ar=lr-1,Wr=Jn.l;if(e($n!=null&&gr!=null&&tn!=null),oo[0]=null,oo[1]=vc,oo[2]=th,oo[3]=yc,Jn.ca=gr,Jn.tb=_r,Jn.c=tn.width,Jn.i=tn.height,e(0<Jn.c&&0<Jn.i),1>=lr)tn=0;else if(Jn.$a=$n[nr+0]>>0&3,Jn.Z=$n[nr+0]>>2&3,Jn.Lc=$n[nr+0]>>4&3,nr=$n[nr+0]>>6&3,0>Jn.$a||1<Jn.$a||4<=Jn.Z||1<Jn.Lc||nr)tn=0;else if(Wr.put=ri,Wr.ac=Qr,Wr.bc=ki,Wr.ma=Jn,Wr.width=tn.width,Wr.height=tn.height,Wr.Da=tn.Da,Wr.v=tn.v,Wr.va=tn.va,Wr.j=tn.j,Wr.o=tn.o,Jn.$a)e:{e(Jn.$a==1),tn=vo();t:for(;;){if(tn==null){tn=0;break e}if(e(Jn!=null),Jn.mc=tn,tn.c=Jn.c,tn.i=Jn.i,tn.l=Jn.l,tn.l.ma=Jn,tn.l.width=Jn.c,tn.l.height=Jn.i,tn.a=0,_n(tn.m,$n,Rr,Ar),!fc(Jn.c,Jn.i,1,tn,null)||(tn.ab==1&&tn.gc[0].hc==3&&ps(tn.s)?(Jn.ic=1,$n=tn.c*tn.i,tn.Ta=null,tn.Ua=0,tn.V=Ae($n),tn.Ba=0,tn.V==null?(tn.a=1,tn=0):tn=1):(Jn.ic=0,tn=hu(tn,Jn.c)),!tn))break t;tn=1;break e}Jn.mc=null,tn=0}else tn=Ar>=Jn.c*Jn.i;Jn=!tn}if(Jn)return null;Ye.ga.Lc!=1?Ye.Ga=0:Rn=Wn-yn}e(Ye.ga!=null),e(yn+Rn<=Wn);e:{if(tn=($n=Ye.ga).c,Wn=$n.l.o,$n.$a==0){if(Rr=Ye.rc,Ar=Ye.Vc,Wr=Ye.Fa,nr=Ye.P+1+yn*tn,lr=Ye.mb,gr=Ye.nb+yn*tn,e(nr<=Ye.P+Ye.qc),$n.Z!=0)for(e(oo[$n.Z]!=null),Jn=0;Jn<Rn;++Jn)oo[$n.Z](Rr,Ar,Wr,nr,lr,gr,tn),Rr=lr,Ar=gr,gr+=tn,nr+=tn;else for(Jn=0;Jn<Rn;++Jn)Se(lr,gr,Wr,nr,tn),Rr=lr,Ar=gr,gr+=tn,nr+=tn;Ye.rc=Rr,Ye.Vc=Ar}else{if(e($n.mc!=null),tn=yn+Rn,e((Jn=$n.mc)!=null),e(tn<=Jn.i),Jn.C>=tn)tn=1;else if($n.ic||kr(),$n.ic){$n=Jn.V,Rr=Jn.Ba,Ar=Jn.c;var Ir=Jn.i,mr=(Wr=1,nr=Jn.$/Ar,lr=Jn.$%Ar,gr=Jn.m,_r=Jn.s,Jn.$),hr=Ar*Ir,Ur=Ar*tn,Kr=_r.wc,Xr=mr<Ur?Ki(_r,lr,nr):null;e(mr<=hr),e(tn<=Ir),e(ps(_r));t:for(;;){for(;!gr.h&&mr<Ur;){if(lr&Kr||(Xr=Ki(_r,lr,nr)),e(Xr!=null),Fn(gr),256>(Ir=Vi(Xr.G[0],Xr.H[0],gr)))$n[Rr+mr]=Ir,++mr,++lr>=Ar&&(lr=0,++nr<=tn&&!(nr%16)&&ys(Jn,nr));else{if(!(280>Ir)){Wr=0;break t}Ir=Ri(Ir-256,gr);var fi,ii=Vi(Xr.G[4],Xr.H[4],gr);if(Fn(gr),!(mr>=(ii=Fi(Ar,ii=Ri(ii,gr)))&&hr-mr>=Ir)){Wr=0;break t}for(fi=0;fi<Ir;++fi)$n[Rr+mr+fi]=$n[Rr+mr+fi-ii];for(mr+=Ir,lr+=Ir;lr>=Ar;)lr-=Ar,++nr<=tn&&!(nr%16)&&ys(Jn,nr);mr<Ur&&lr&Kr&&(Xr=Ki(_r,lr,nr))}e(gr.h==gn(gr))}ys(Jn,nr>tn?tn:nr);break t}!Wr||gr.h&&mr<hr?(Wr=0,Jn.a=gr.h?5:3):Jn.$=mr,tn=Wr}else tn=ks(Jn,Jn.V,Jn.Ba,Jn.c,Jn.i,tn,Ku);if(!tn){Rn=0;break e}}yn+Rn>=Wn&&(Ye.Cc=1),Rn=1}if(!Rn)return null;if(Ye.Cc&&((Rn=Ye.ga)!=null&&(Rn.mc=null),Ye.ga=null,0<Ye.Ga))return alert("todo:WebPDequantizeLevels"),null}return Ye.nb+yn*zn}function un(Ye,tn,yn,Rn,zn,Wn){for(;0<zn--;){var Jn,$n=Ye,nr=tn+(yn?1:0),lr=Ye,gr=tn+(yn?0:3);for(Jn=0;Jn<Rn;++Jn){var _r=lr[gr+4*Jn];_r!=255&&(_r*=32897,$n[nr+4*Jn+0]=$n[nr+4*Jn+0]*_r>>23,$n[nr+4*Jn+1]=$n[nr+4*Jn+1]*_r>>23,$n[nr+4*Jn+2]=$n[nr+4*Jn+2]*_r>>23)}tn+=Wn}}function Gn(Ye,tn,yn,Rn,zn){for(;0<Rn--;){var Wn;for(Wn=0;Wn<yn;++Wn){var Jn=Ye[tn+2*Wn+0],$n=15&(lr=Ye[tn+2*Wn+1]),nr=4369*$n,lr=(240&lr|lr>>4)*nr>>16;Ye[tn+2*Wn+0]=(240&Jn|Jn>>4)*nr>>16&240|(15&Jn|Jn<<4)*nr>>16>>4&15,Ye[tn+2*Wn+1]=240&lr|$n}tn+=zn}}function ur(Ye,tn,yn,Rn,zn,Wn,Jn,$n){var nr,lr,gr=255;for(lr=0;lr<zn;++lr){for(nr=0;nr<Rn;++nr){var _r=Ye[tn+nr];Wn[Jn+4*nr]=_r,gr&=_r}tn+=yn,Jn+=$n}return gr!=255}function vr(Ye,tn,yn,Rn,zn){var Wn;for(Wn=0;Wn<zn;++Wn)yn[Rn+Wn]=Ye[tn+Wn]>>8}function kr(){qa=un,Ss=Gn,us=ur,ra=vr}function Gr(Ye,tn,yn){Ze[Ye]=function(Rn,zn,Wn,Jn,$n,nr,lr,gr,_r,Rr,Ar,Wr,Ir,mr,hr,Ur,Kr){var Xr,fi=Kr-1>>1,ii=$n[nr+0]|lr[gr+0]<<16,Ci=_r[Rr+0]|Ar[Wr+0]<<16;e(Rn!=null);var oi=3*ii+Ci+131074>>2;for(tn(Rn[zn+0],255&oi,oi>>16,Ir,mr),Wn!=null&&(oi=3*Ci+ii+131074>>2,tn(Wn[Jn+0],255&oi,oi>>16,hr,Ur)),Xr=1;Xr<=fi;++Xr){var $i=$n[nr+Xr]|lr[gr+Xr]<<16,hs=_r[Rr+Xr]|Ar[Wr+Xr]<<16,Wi=ii+$i+Ci+hs+524296,Hi=Wi+2*($i+Ci)>>3;oi=Hi+ii>>1,ii=(Wi=Wi+2*(ii+hs)>>3)+$i>>1,tn(Rn[zn+2*Xr-1],255&oi,oi>>16,Ir,mr+(2*Xr-1)*yn),tn(Rn[zn+2*Xr-0],255&ii,ii>>16,Ir,mr+(2*Xr-0)*yn),Wn!=null&&(oi=Wi+Ci>>1,ii=Hi+hs>>1,tn(Wn[Jn+2*Xr-1],255&oi,oi>>16,hr,Ur+(2*Xr-1)*yn),tn(Wn[Jn+2*Xr+0],255&ii,ii>>16,hr,Ur+(2*Xr+0)*yn)),ii=$i,Ci=hs}1&Kr||(oi=3*ii+Ci+131074>>2,tn(Rn[zn+Kr-1],255&oi,oi>>16,Ir,mr+(Kr-1)*yn),Wn!=null&&(oi=3*Ci+ii+131074>>2,tn(Wn[Jn+Kr-1],255&oi,oi>>16,hr,Ur+(Kr-1)*yn)))}}function Zr(){No[ah]=B0,No[nc]=Yc,No[vp]=U0,No[oh]=Kh,No[zh]=Aa,No[Es]=Oa,No[Cd]=Sf,No[lh]=Yc,No[Kc]=Kh,No[Gh]=Aa,No[Hh]=Oa}function li(Ye){return Ye&~lo?0>Ye?0:255:Ye>>rc}function _i(Ye,tn){return li((19077*Ye>>8)+(26149*tn>>8)-14234)}function Bi(Ye,tn,yn){return li((19077*Ye>>8)-(6419*tn>>8)-(13320*yn>>8)+8708)}function Mi(Ye,tn){return li((19077*Ye>>8)+(33050*tn>>8)-17685)}function Gi(Ye,tn,yn,Rn,zn){Rn[zn+0]=_i(Ye,yn),Rn[zn+1]=Bi(Ye,tn,yn),Rn[zn+2]=Mi(Ye,tn)}function Ys(Ye,tn,yn,Rn,zn){Rn[zn+0]=Mi(Ye,tn),Rn[zn+1]=Bi(Ye,tn,yn),Rn[zn+2]=_i(Ye,yn)}function zs(Ye,tn,yn,Rn,zn){var Wn=Bi(Ye,tn,yn);tn=Wn<<3&224|Mi(Ye,tn)>>3,Rn[zn+0]=248&_i(Ye,yn)|Wn>>5,Rn[zn+1]=tn}function na(Ye,tn,yn,Rn,zn){var Wn=240&Mi(Ye,tn)|15;Rn[zn+0]=240&_i(Ye,yn)|Bi(Ye,tn,yn)>>4,Rn[zn+1]=Wn}function pa(Ye,tn,yn,Rn,zn){Rn[zn+0]=255,Gi(Ye,tn,yn,Rn,zn+1)}function Sa(Ye,tn,yn,Rn,zn){Ys(Ye,tn,yn,Rn,zn),Rn[zn+3]=255}function cl(Ye,tn,yn,Rn,zn){Gi(Ye,tn,yn,Rn,zn),Rn[zn+3]=255}function zo(Ye,tn){return 0>Ye?0:Ye>tn?tn:Ye}function Go(Ye,tn,yn){Ze[Ye]=function(Rn,zn,Wn,Jn,$n,nr,lr,gr,_r){for(var Rr=gr+(-2&_r)*yn;gr!=Rr;)tn(Rn[zn+0],Wn[Jn+0],$n[nr+0],lr,gr),tn(Rn[zn+1],Wn[Jn+0],$n[nr+0],lr,gr+yn),zn+=2,++Jn,++nr,gr+=2*yn;1&_r&&tn(Rn[zn+0],Wn[Jn+0],$n[nr+0],lr,gr)}}function bc(Ye,tn,yn){return yn==0?Ye==0?tn==0?6:5:tn==0?4:0:yn}function wc(Ye,tn,yn,Rn,zn){switch(Ye>>>30){case 3:Kl(tn,yn,Rn,zn,0);break;case 2:ts(tn,yn,Rn,zn);break;case 1:la(tn,yn,Rn,zn)}}function to(Ye,tn){var yn,Rn,zn=tn.M,Wn=tn.Nb,Jn=Ye.oc,$n=Ye.pc+40,nr=Ye.oc,lr=Ye.pc+584,gr=Ye.oc,_r=Ye.pc+600;for(yn=0;16>yn;++yn)Jn[$n+32*yn-1]=129;for(yn=0;8>yn;++yn)nr[lr+32*yn-1]=129,gr[_r+32*yn-1]=129;for(0<zn?Jn[$n-1-32]=nr[lr-1-32]=gr[_r-1-32]=129:(_e(Jn,$n-32-1,127,21),_e(nr,lr-32-1,127,9),_e(gr,_r-32-1,127,9)),Rn=0;Rn<Ye.za;++Rn){var Rr=tn.ya[tn.aa+Rn];if(0<Rn){for(yn=-1;16>yn;++yn)Se(Jn,$n+32*yn-4,Jn,$n+32*yn+12,4);for(yn=-1;8>yn;++yn)Se(nr,lr+32*yn-4,nr,lr+32*yn+4,4),Se(gr,_r+32*yn-4,gr,_r+32*yn+4,4)}var Ar=Ye.Gd,Wr=Ye.Hd+Rn,Ir=Rr.ad,mr=Rr.Hc;if(0<zn&&(Se(Jn,$n-32,Ar[Wr].y,0,16),Se(nr,lr-32,Ar[Wr].f,0,8),Se(gr,_r-32,Ar[Wr].ea,0,8)),Rr.Za){var hr=Jn,Ur=$n-32+16;for(0<zn&&(Rn>=Ye.za-1?_e(hr,Ur,Ar[Wr].y[15],4):Se(hr,Ur,Ar[Wr+1].y,0,4)),yn=0;4>yn;yn++)hr[Ur+128+yn]=hr[Ur+256+yn]=hr[Ur+384+yn]=hr[Ur+0+yn];for(yn=0;16>yn;++yn,mr<<=2)hr=Jn,Ur=$n+Fu[yn],ao[Rr.Ob[yn]](hr,Ur),wc(mr,Ir,16*+yn,hr,Ur)}else if(hr=bc(Rn,zn,Rr.Ob[0]),so[hr](Jn,$n),mr!=0)for(yn=0;16>yn;++yn,mr<<=2)wc(mr,Ir,16*+yn,Jn,$n+Fu[yn]);for(yn=Rr.Gc,hr=bc(Rn,zn,Rr.Dd),So[hr](nr,lr),So[hr](gr,_r),mr=Ir,hr=nr,Ur=lr,255&(Rr=yn>>0)&&(170&Rr?Xl(mr,256,hr,Ur):Qi(mr,256,hr,Ur)),Rr=gr,mr=_r,255&(yn>>=8)&&(170&yn?Xl(Ir,320,Rr,mr):Qi(Ir,320,Rr,mr)),zn<Ye.Ub-1&&(Se(Ar[Wr].y,0,Jn,$n+480,16),Se(Ar[Wr].f,0,nr,lr+224,8),Se(Ar[Wr].ea,0,gr,_r+224,8)),yn=8*Wn*Ye.B,Ar=Ye.sa,Wr=Ye.ta+16*Rn+16*Wn*Ye.R,Ir=Ye.qa,Rr=Ye.ra+8*Rn+yn,mr=Ye.Ha,hr=Ye.Ia+8*Rn+yn,yn=0;16>yn;++yn)Se(Ar,Wr+yn*Ye.R,Jn,$n+32*yn,16);for(yn=0;8>yn;++yn)Se(Ir,Rr+yn*Ye.B,nr,lr+32*yn,8),Se(mr,hr+yn*Ye.B,gr,_r+32*yn,8)}}function ul(Ye,tn,yn,Rn,zn,Wn,Jn,$n,nr){var lr=[0],gr=[0],_r=0,Rr=nr!=null?nr.kd:0,Ar=nr??new Da;if(Ye==null||12>yn)return 7;Ar.data=Ye,Ar.w=tn,Ar.ha=yn,tn=[tn],yn=[yn],Ar.gb=[Ar.gb];e:{var Wr=tn,Ir=yn,mr=Ar.gb;if(e(Ye!=null),e(Ir!=null),e(mr!=null),mr[0]=0,12<=Ir[0]&&!t(Ye,Wr[0],"RIFF")){if(t(Ye,Wr[0]+8,"WEBP")){mr=3;break e}var hr=Tn(Ye,Wr[0]+4);if(12>hr||4294967286<hr){mr=3;break e}if(Rr&&hr>Ir[0]-8){mr=7;break e}mr[0]=hr,Wr[0]+=12,Ir[0]-=12}mr=0}if(mr!=0)return mr;for(hr=0<Ar.gb[0],yn=yn[0];;){e:{var Ur=Ye;Ir=tn,mr=yn;var Kr=lr,Xr=gr,fi=Wr=[0];if((oi=_r=[_r])[0]=0,8>mr[0])mr=7;else{if(!t(Ur,Ir[0],"VP8X")){if(Tn(Ur,Ir[0]+4)!=10){mr=3;break e}if(18>mr[0]){mr=7;break e}var ii=Tn(Ur,Ir[0]+8),Ci=1+Cn(Ur,Ir[0]+12);if(2147483648<=Ci*(Ur=1+Cn(Ur,Ir[0]+15))){mr=3;break e}fi!=null&&(fi[0]=ii),Kr!=null&&(Kr[0]=Ci),Xr!=null&&(Xr[0]=Ur),Ir[0]+=18,mr[0]-=18,oi[0]=1}mr=0}}if(_r=_r[0],Wr=Wr[0],mr!=0)return mr;if(Ir=!!(2&Wr),!hr&&_r)return 3;if(Wn!=null&&(Wn[0]=!!(16&Wr)),Jn!=null&&(Jn[0]=Ir),$n!=null&&($n[0]=0),Jn=lr[0],Wr=gr[0],_r&&Ir&&nr==null){mr=0;break}if(4>yn){mr=7;break}if(hr&&_r||!hr&&!_r&&!t(Ye,tn[0],"ALPH")){yn=[yn],Ar.na=[Ar.na],Ar.P=[Ar.P],Ar.Sa=[Ar.Sa];e:{ii=Ye,mr=tn,hr=yn;var oi=Ar.gb;Kr=Ar.na,Xr=Ar.P,fi=Ar.Sa,Ci=22,e(ii!=null),e(hr!=null),Ur=mr[0];var $i=hr[0];for(e(Kr!=null),e(fi!=null),Kr[0]=null,Xr[0]=null,fi[0]=0;;){if(mr[0]=Ur,hr[0]=$i,8>$i){mr=7;break e}var hs=Tn(ii,Ur+4);if(4294967286<hs){mr=3;break e}var Wi=8+hs+1&-2;if(Ci+=Wi,0<oi&&Ci>oi){mr=3;break e}if(!t(ii,Ur,"VP8 ")||!t(ii,Ur,"VP8L")){mr=0;break e}if($i[0]<Wi){mr=7;break e}t(ii,Ur,"ALPH")||(Kr[0]=ii,Xr[0]=Ur+8,fi[0]=hs),Ur+=Wi,$i-=Wi}}if(yn=yn[0],Ar.na=Ar.na[0],Ar.P=Ar.P[0],Ar.Sa=Ar.Sa[0],mr!=0)break}yn=[yn],Ar.Ja=[Ar.Ja],Ar.xa=[Ar.xa];e:if(oi=Ye,mr=tn,hr=yn,Kr=Ar.gb[0],Xr=Ar.Ja,fi=Ar.xa,ii=mr[0],Ur=!t(oi,ii,"VP8 "),Ci=!t(oi,ii,"VP8L"),e(oi!=null),e(hr!=null),e(Xr!=null),e(fi!=null),8>hr[0])mr=7;else{if(Ur||Ci){if(oi=Tn(oi,ii+4),12<=Kr&&oi>Kr-12){mr=3;break e}if(Rr&&oi>hr[0]-8){mr=7;break e}Xr[0]=oi,mr[0]+=8,hr[0]-=8,fi[0]=Ci}else fi[0]=5<=hr[0]&&oi[ii+0]==47&&!(oi[ii+4]>>5),Xr[0]=hr[0];mr=0}if(yn=yn[0],Ar.Ja=Ar.Ja[0],Ar.xa=Ar.xa[0],tn=tn[0],mr!=0)break;if(4294967286<Ar.Ja)return 3;if($n==null||Ir||($n[0]=Ar.xa?2:1),Jn=[Jn],Wr=[Wr],Ar.xa){if(5>yn){mr=7;break}$n=Jn,Rr=Wr,Ir=Wn,Ye==null||5>yn?Ye=0:5<=yn&&Ye[tn+0]==47&&!(Ye[tn+4]>>5)?(hr=[0],oi=[0],Kr=[0],_n(Xr=new St,Ye,tn,yn),gi(Xr,hr,oi,Kr)?($n!=null&&($n[0]=hr[0]),Rr!=null&&(Rr[0]=oi[0]),Ir!=null&&(Ir[0]=Kr[0]),Ye=1):Ye=0):Ye=0}else{if(10>yn){mr=7;break}$n=Wr,Ye==null||10>yn||!Ra(Ye,tn+3,yn-3)?Ye=0:(Rr=Ye[tn+0]|Ye[tn+1]<<8|Ye[tn+2]<<16,Ir=16383&(Ye[tn+7]<<8|Ye[tn+6]),Ye=16383&(Ye[tn+9]<<8|Ye[tn+8]),1&Rr||3<(Rr>>1&7)||!(Rr>>4&1)||Rr>>5>=Ar.Ja||!Ir||!Ye?Ye=0:(Jn&&(Jn[0]=Ir),$n&&($n[0]=Ye),Ye=1))}if(!Ye||(Jn=Jn[0],Wr=Wr[0],_r&&(lr[0]!=Jn||gr[0]!=Wr)))return 3;nr!=null&&(nr[0]=Ar,nr.offset=tn-nr.w,e(4294967286>tn-nr.w),e(nr.offset==nr.ha-yn));break}return mr==0||mr==7&&_r&&nr==null?(Wn!=null&&(Wn[0]|=Ar.na!=null&&0<Ar.na.length),Rn!=null&&(Rn[0]=Jn),zn!=null&&(zn[0]=Wr),0):mr}function Su(Ye,tn,yn){var Rn=tn.width,zn=tn.height,Wn=0,Jn=0,$n=Rn,nr=zn;if(tn.Da=Ye!=null&&0<Ye.Da,tn.Da&&($n=Ye.cd,nr=Ye.bd,Wn=Ye.v,Jn=Ye.j,11>yn||(Wn&=-2,Jn&=-2),0>Wn||0>Jn||0>=$n||0>=nr||Wn+$n>Rn||Jn+nr>zn))return 0;if(tn.v=Wn,tn.j=Jn,tn.va=Wn+$n,tn.o=Jn+nr,tn.U=$n,tn.T=nr,tn.da=Ye!=null&&0<Ye.da,tn.da){if(!Vn($n,nr,yn=[Ye.ib],Wn=[Ye.hb]))return 0;tn.ib=yn[0],tn.hb=Wn[0]}return tn.ob=Ye!=null&&Ye.ob,tn.Kb=Ye==null||!Ye.Sd,tn.da&&(tn.ob=tn.ib<3*Rn/4&&tn.hb<3*zn/4,tn.Kb=0),1}function nh(Ye){if(Ye==null)return 2;if(11>Ye.S){var tn=Ye.f.RGBA;tn.fb+=(Ye.height-1)*tn.A,tn.A=-tn.A}else tn=Ye.f.kb,Ye=Ye.height,tn.O+=(Ye-1)*tn.fa,tn.fa=-tn.fa,tn.N+=(Ye-1>>1)*tn.Ab,tn.Ab=-tn.Ab,tn.W+=(Ye-1>>1)*tn.Db,tn.Db=-tn.Db,tn.F!=null&&(tn.J+=(Ye-1)*tn.lb,tn.lb=-tn.lb);return 0}function wo(Ye,tn,yn,Rn){if(Rn==null||0>=Ye||0>=tn)return 2;if(yn!=null){if(yn.Da){var zn=yn.cd,Wn=yn.bd,Jn=-2&yn.v,$n=-2&yn.j;if(0>Jn||0>$n||0>=zn||0>=Wn||Jn+zn>Ye||$n+Wn>tn)return 2;Ye=zn,tn=Wn}if(yn.da){if(!Vn(Ye,tn,zn=[yn.ib],Wn=[yn.hb]))return 2;Ye=zn[0],tn=Wn[0]}}Rn.width=Ye,Rn.height=tn;e:{var nr=Rn.width,lr=Rn.height;if(Ye=Rn.S,0>=nr||0>=lr||!(Ye>=ah&&13>Ye))Ye=2;else{if(0>=Rn.Rd&&Rn.sd==null){Jn=Wn=zn=tn=0;var gr=($n=nr*kd[Ye])*lr;if(11>Ye||(Wn=(lr+1)/2*(tn=(nr+1)/2),Ye==12&&(Jn=(zn=nr)*lr)),(lr=Ae(gr+2*Wn+Jn))==null){Ye=1;break e}Rn.sd=lr,11>Ye?((nr=Rn.f.RGBA).eb=lr,nr.fb=0,nr.A=$n,nr.size=gr):((nr=Rn.f.kb).y=lr,nr.O=0,nr.fa=$n,nr.Fd=gr,nr.f=lr,nr.N=0+gr,nr.Ab=tn,nr.Cd=Wn,nr.ea=lr,nr.W=0+gr+Wn,nr.Db=tn,nr.Ed=Wn,Ye==12&&(nr.F=lr,nr.J=0+gr+2*Wn),nr.Tc=Jn,nr.lb=zn)}if(tn=1,zn=Rn.S,Wn=Rn.width,Jn=Rn.height,zn>=ah&&13>zn)if(11>zn)Ye=Rn.f.RGBA,tn&=($n=Math.abs(Ye.A))*(Jn-1)+Wn<=Ye.size,tn&=$n>=Wn*kd[zn],tn&=Ye.eb!=null;else{Ye=Rn.f.kb,$n=(Wn+1)/2,gr=(Jn+1)/2,nr=Math.abs(Ye.fa),lr=Math.abs(Ye.Ab);var _r=Math.abs(Ye.Db),Rr=Math.abs(Ye.lb),Ar=Rr*(Jn-1)+Wn;tn&=nr*(Jn-1)+Wn<=Ye.Fd,tn&=lr*(gr-1)+$n<=Ye.Cd,tn=(tn&=_r*(gr-1)+$n<=Ye.Ed)&nr>=Wn&lr>=$n&_r>=$n,tn&=Ye.y!=null,tn&=Ye.f!=null,tn&=Ye.ea!=null,zn==12&&(tn&=Rr>=Wn,tn&=Ar<=Ye.Tc,tn&=Ye.F!=null)}else tn=0;Ye=tn?0:2}}return Ye!=0||yn!=null&&yn.fd&&(Ye=nh(Rn)),Ye}var ws=64,xu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rh=24,Ho=32,hl=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];cr("Predictor0","PredictorAdd0"),Ze.Predictor0=function(){return 4278190080},Ze.Predictor1=function(Ye){return Ye},Ze.Predictor2=function(Ye,tn,yn){return tn[yn+0]},Ze.Predictor3=function(Ye,tn,yn){return tn[yn+1]},Ze.Predictor4=function(Ye,tn,yn){return tn[yn-1]},Ze.Predictor5=function(Ye,tn,yn){return rr(rr(Ye,tn[yn+1]),tn[yn+0])},Ze.Predictor6=function(Ye,tn,yn){return rr(Ye,tn[yn-1])},Ze.Predictor7=function(Ye,tn,yn){return rr(Ye,tn[yn+0])},Ze.Predictor8=function(Ye,tn,yn){return rr(tn[yn-1],tn[yn+0])},Ze.Predictor9=function(Ye,tn,yn){return rr(tn[yn+0],tn[yn+1])},Ze.Predictor10=function(Ye,tn,yn){return rr(rr(Ye,tn[yn-1]),rr(tn[yn+0],tn[yn+1]))},Ze.Predictor11=function(Ye,tn,yn){var Rn=tn[yn+0];return 0>=xr(Rn>>24&255,Ye>>24&255,(tn=tn[yn-1])>>24&255)+xr(Rn>>16&255,Ye>>16&255,tn>>16&255)+xr(Rn>>8&255,Ye>>8&255,tn>>8&255)+xr(255&Rn,255&Ye,255&tn)?Rn:Ye},Ze.Predictor12=function(Ye,tn,yn){var Rn=tn[yn+0];return(ir((Ye>>24&255)+(Rn>>24&255)-((tn=tn[yn-1])>>24&255))<<24|ir((Ye>>16&255)+(Rn>>16&255)-(tn>>16&255))<<16|ir((Ye>>8&255)+(Rn>>8&255)-(tn>>8&255))<<8|ir((255&Ye)+(255&Rn)-(255&tn)))>>>0},Ze.Predictor13=function(Ye,tn,yn){var Rn=tn[yn-1];return(yr((Ye=rr(Ye,tn[yn+0]))>>24&255,Rn>>24&255)<<24|yr(Ye>>16&255,Rn>>16&255)<<16|yr(Ye>>8&255,Rn>>8&255)<<8|yr(Ye>>0&255,Rn>>0&255))>>>0};var _u=Ze.PredictorAdd0;Ze.PredictorAdd1=Nr,cr("Predictor2","PredictorAdd2"),cr("Predictor3","PredictorAdd3"),cr("Predictor4","PredictorAdd4"),cr("Predictor5","PredictorAdd5"),cr("Predictor6","PredictorAdd6"),cr("Predictor7","PredictorAdd7"),cr("Predictor8","PredictorAdd8"),cr("Predictor9","PredictorAdd9"),cr("Predictor10","PredictorAdd10"),cr("Predictor11","PredictorAdd11"),cr("Predictor12","PredictorAdd12"),cr("Predictor13","PredictorAdd13");var Rl=Ze.PredictorAdd2;ei("ColorIndexInverseTransform","MapARGB","32b",function(Ye){return Ye>>8&255},function(Ye){return Ye}),ei("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Ye){return Ye},function(Ye){return Ye>>8&255});var Ad,Na=Ze.ColorIndexInverseTransform,no=Ze.MapARGB,Wc=Ze.VP8LColorIndexInverseTransformAlpha,Wl=Ze.MapAlpha,La=Ze.VP8LPredictorsAdd=[];La.length=16,(Ze.VP8LPredictors=[]).length=16,(Ze.VP8LPredictorsAdd_C=[]).length=16,(Ze.VP8LPredictors_C=[]).length=16;var Sc,xa,ro,xc,cs,Dl,Au,Kl,ts,Xl,la,Qi,Gs,ca,_c,Yl,Zl,dl,Zs,Nl,Jl,Ql,io,Ps,qa,Ss,us,ra,ga=Ae(511),$l=Ae(2041),ih=Ae(225),Cu=Ae(767),qh=0,tc=$l,sh=ih,Ia=Cu,pl=ga,ah=0,nc=1,vp=2,oh=3,zh=4,Es=5,Cd=6,lh=7,Kc=8,Gh=9,Hh=10,Vh=[2,3,7],yf=[3,3,11],Pu=[280,256,256,256,40],L0=[0,1,1,1,0],r1=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],I0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pd=8,Xc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ed=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ch=null,bp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gl=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],O0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],M0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],so=[],ao=[],So=[],Ll=1,Wh=2,oo=[],No=[];Gr("UpsampleRgbLinePair",Gi,3),Gr("UpsampleBgrLinePair",Ys,3),Gr("UpsampleRgbaLinePair",cl,4),Gr("UpsampleBgraLinePair",Sa,4),Gr("UpsampleArgbLinePair",pa,4),Gr("UpsampleRgba4444LinePair",na,2),Gr("UpsampleRgb565LinePair",zs,2);var B0=Ze.UpsampleRgbLinePair,U0=Ze.UpsampleBgrLinePair,Yc=Ze.UpsampleRgbaLinePair,Kh=Ze.UpsampleBgraLinePair,Aa=Ze.UpsampleArgbLinePair,Oa=Ze.UpsampleRgba4444LinePair,Sf=Ze.UpsampleRgb565LinePair,Ac=16,Il=1<<Ac-1,ms=-227,xs=482,rc=6,lo=(256<<rc)-1,co=0,Eu=Ae(256),uh=Ae(256),xo=Ae(256),Xh=Ae(256),wp=Ae(xs-ms),xf=Ae(xs-ms);Go("YuvToRgbRow",Gi,3),Go("YuvToBgrRow",Ys,3),Go("YuvToRgbaRow",cl,4),Go("YuvToBgraRow",Sa,4),Go("YuvToArgbRow",pa,4),Go("YuvToRgba4444Row",na,2),Go("YuvToRgb565Row",zs,2);var Fu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Td=[0,2,8],Cc=[8,7,6,4,4,2,2,2,1,1,1,1],Yh=1;this.WebPDecodeRGBA=function(Ye,tn,yn,Rn,zn){var Wn=nc,Jn=new oa,$n=new Er;Jn.ba=$n,$n.S=Wn,$n.width=[$n.width],$n.height=[$n.height];var nr=$n.width,lr=$n.height,gr=new Lr;if(gr==null||Ye==null)var _r=2;else e(gr!=null),_r=ul(Ye,tn,yn,gr.width,gr.height,gr.Pd,gr.Qd,gr.format,null);if(_r!=0?nr=0:(nr!=null&&(nr[0]=gr.width[0]),lr!=null&&(lr[0]=gr.height[0]),nr=1),nr){$n.width=$n.width[0],$n.height=$n.height[0],Rn!=null&&(Rn[0]=$n.width),zn!=null&&(zn[0]=$n.height);e:{if(Rn=new gs,(zn=new Da).data=Ye,zn.w=tn,zn.ha=yn,zn.kd=1,tn=[0],e(zn!=null),((Ye=ul(zn.data,zn.w,zn.ha,null,null,null,tn,null,zn))==0||Ye==7)&&tn[0]&&(Ye=4),(tn=Ye)==0){if(e(Jn!=null),Rn.data=zn.data,Rn.w=zn.w+zn.offset,Rn.ha=zn.ha-zn.offset,Rn.put=ri,Rn.ac=Qr,Rn.bc=ki,Rn.ma=Jn,zn.xa){if((Ye=vo())==null){Jn=1;break e}if(function(Rr,Ar){var Wr=[0],Ir=[0],mr=[0];t:for(;;){if(Rr==null)return 0;if(Ar==null)return Rr.a=2,0;if(Rr.l=Ar,Rr.a=0,_n(Rr.m,Ar.data,Ar.w,Ar.ha),!gi(Rr.m,Wr,Ir,mr)){Rr.a=3;break t}if(Rr.xb=Wh,Ar.width=Wr[0],Ar.height=Ir[0],!fc(Wr[0],Ir[0],1,Rr,null))break t;return 1}return e(Rr.a!=0),0}(Ye,Rn)){if(Rn=(tn=wo(Rn.width,Rn.height,Jn.Oa,Jn.ba))==0){t:{Rn=Ye;n:for(;;){if(Rn==null){Rn=0;break t}if(e(Rn.s.yc!=null),e(Rn.s.Ya!=null),e(0<Rn.s.Wb),e((yn=Rn.l)!=null),e((zn=yn.ma)!=null),Rn.xb!=0){if(Rn.ca=zn.ba,Rn.tb=zn.tb,e(Rn.ca!=null),!Su(zn.Oa,yn,oh)){Rn.a=2;break n}if(!hu(Rn,yn.width)||yn.da)break n;if((yn.da||Br(Rn.ca.S))&&kr(),11>Rn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Rn.ca.f.kb.F!=null&&kr()),Rn.Pb&&0<Rn.s.ua&&Rn.s.vb.X==null&&!qn(Rn.s.vb,Rn.s.Wa.Xa)){Rn.a=1;break n}Rn.xb=0}if(!ks(Rn,Rn.V,Rn.Ba,Rn.c,Rn.i,yn.o,mo))break n;zn.Dc=Rn.Ma,Rn=1;break t}e(Rn.a!=0),Rn=0}Rn=!Rn}Rn&&(tn=Ye.a)}else tn=Ye.a}else{if((Ye=new Xi)==null){Jn=1;break e}if(Ye.Fa=zn.na,Ye.P=zn.P,Ye.qc=zn.Sa,Ya(Ye,Rn)){if((tn=wo(Rn.width,Rn.height,Jn.Oa,Jn.ba))==0){if(Ye.Aa=0,yn=Jn.Oa,e((zn=Ye)!=null),yn!=null){if(0<(nr=0>(nr=yn.Md)?0:100<nr?255:255*nr/100)){for(lr=gr=0;4>lr;++lr)12>(_r=zn.pb[lr]).lc&&(_r.ia=nr*Cc[0>_r.lc?0:_r.lc]>>3),gr|=_r.ia;gr&&(alert("todo:VP8InitRandom"),zn.ia=1)}zn.Ga=yn.Id,100<zn.Ga?zn.Ga=100:0>zn.Ga&&(zn.Ga=0)}ya(Ye,Rn)||(tn=Ye.a)}}else tn=Ye.a}tn==0&&Jn.Oa!=null&&Jn.Oa.fd&&(tn=nh(Jn.ba))}Jn=tn}Wn=Jn!=0?null:11>Wn?$n.f.RGBA.eb:$n.f.kb.y}else Wn=null;return Wn};var kd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Fe(Ze,on){for(var an="",rn=0;rn<4;rn++)an+=String.fromCharCode(Ze[on++]);return an}function ke(Ze,on){return(Ze[on+0]<<0|Ze[on+1]<<8|Ze[on+2]<<16)>>>0}function Ie(Ze,on){return(Ze[on+0]<<0|Ze[on+1]<<8|Ze[on+2]<<16|Ze[on+3]<<24)>>>0}new Ee;var Oe=[0],Re=[0],Be=[],je=new Ee,He=xe,Ge=function(Ze,on){var an={},rn=0,fn=!1,nn=0,cn=0;if(an.frames=[],!function(sn,gn,Pn,Fn){for(var vn=0;vn<Fn;vn++)if(sn[gn+vn]!=Pn.charCodeAt(vn))return!0;return!1}(Ze,on,"RIFF",4)){var dn,bn;for(Ie(Ze,on+=4),on+=8;on<Ze.length;){var pn=Fe(Ze,on),_n=Ie(Ze,on+=4);on+=4;var Nn=_n+(1&_n);switch(pn){case"VP8 ":case"VP8L":an.frames[rn]===void 0&&(an.frames[rn]={}),(St=an.frames[rn]).src_off=fn?cn:on-8,St.src_size=nn+_n+8,rn++,fn&&(fn=!1,nn=0,cn=0);break;case"VP8X":(St=an.header={}).feature_flags=Ze[on];var Un=on+4;St.canvas_width=1+ke(Ze,Un),Un+=3,St.canvas_height=1+ke(Ze,Un),Un+=3;break;case"ALPH":fn=!0,nn=Nn+8,cn=on-8;break;case"ANIM":(St=an.header).bgcolor=Ie(Ze,on),Un=on+4,St.loop_count=(dn=Ze)[(bn=Un)+0]<<0|dn[bn+1]<<8,Un+=2;break;case"ANMF":var xn,St;(St=an.frames[rn]={}).offset_x=2*ke(Ze,on),on+=3,St.offset_y=2*ke(Ze,on),on+=3,St.width=1+ke(Ze,on),on+=3,St.height=1+ke(Ze,on),on+=3,St.duration=ke(Ze,on),on+=3,xn=Ze[on++],St.dispose=1&xn,St.blend=xn>>1&1}pn!="ANMF"&&(on+=Nn)}return an}}(He,0);Ge.response=He,Ge.rgbaoutput=!0,Ge.dataurl=!1;var Ve=Ge.header?Ge.header:null,ze=Ge.frames?Ge.frames:null;if(Ve){Ve.loop_counter=Ve.loop_count,Oe=[Ve.canvas_height],Re=[Ve.canvas_width];for(var Xe=0;Xe<ze.length&&ze[Xe].blend!=0;Xe++);}var We=ze[0],Je=je.WebPDecodeRGBA(He,We.src_off,We.src_size,Re,Oe);We.rgba=Je,We.imgwidth=Re[0],We.imgheight=Oe[0];for(var Qe=0;Qe<Re[0]*Oe[0]*4;Qe++)Be[Qe]=Je[Qe];return this.width=Re,this.height=Oe,this.data=Be,this}(function(xe){var e=function(){return typeof zlibSync=="function"},t=function(Oe,Re,Be,je){var He=4,Ge=Ce;switch(je){case xe.image_compression.FAST:He=1,Ge=Ae;break;case xe.image_compression.MEDIUM:He=6,Ge=Pe;break;case xe.image_compression.SLOW:He=9,Ge=Ee}Oe=Se(Oe,Re,Be,Ge);var Ve=zlibSync(Oe,{level:He});return xe.__addimage__.arrayBufferToBinaryString(Ve)},Se=function(Oe,Re,Be,je){for(var He,Ge,Ve,ze=Oe.length/Re,Xe=new Uint8Array(Oe.length+ze),We=ke(),Je=0;Je<ze;Je+=1){if(Ve=Je*Re,He=Oe.subarray(Ve,Ve+Re),je)Xe.set(je(He,Be,Ge),Ve+Je);else{for(var Qe,Ze=We.length,on=[];Qe<Ze;Qe+=1)on[Qe]=We[Qe](He,Be,Ge);var an=Ie(on.concat());Xe.set(on[an],Ve+Je)}Ge=He}return Xe},_e=function(Oe){var Re=Array.apply([],Oe);return Re.unshift(0),Re},Ae=function(Oe,Re){var Be,je=[],He=Oe.length;je[0]=1;for(var Ge=0;Ge<He;Ge+=1)Be=Oe[Ge-Re]||0,je[Ge+1]=Oe[Ge]-Be+256&255;return je},Ce=function(Oe,Re,Be){var je,He=[],Ge=Oe.length;He[0]=2;for(var Ve=0;Ve<Ge;Ve+=1)je=Be&&Be[Ve]||0,He[Ve+1]=Oe[Ve]-je+256&255;return He},Pe=function(Oe,Re,Be){var je,He,Ge=[],Ve=Oe.length;Ge[0]=3;for(var ze=0;ze<Ve;ze+=1)je=Oe[ze-Re]||0,He=Be&&Be[ze]||0,Ge[ze+1]=Oe[ze]+256-(je+He>>>1)&255;return Ge},Ee=function(Oe,Re,Be){var je,He,Ge,Ve,ze=[],Xe=Oe.length;ze[0]=4;for(var We=0;We<Xe;We+=1)je=Oe[We-Re]||0,He=Be&&Be[We]||0,Ge=Be&&Be[We-Re]||0,Ve=Fe(je,He,Ge),ze[We+1]=Oe[We]-Ve+256&255;return ze},Fe=function(Oe,Re,Be){if(Oe===Re&&Re===Be)return Oe;var je=Math.abs(Re-Be),He=Math.abs(Oe-Be),Ge=Math.abs(Oe+Re-Be-Be);return je<=He&&je<=Ge?Oe:He<=Ge?Re:Be},ke=function(){return[_e,Ae,Ce,Pe,Ee]},Ie=function(Oe){var Re=Oe.map(function(Be){return Be.reduce(function(je,He){return je+Math.abs(He)},0)});return Re.indexOf(Math.min.apply(null,Re))};xe.processPNG=function(Oe,Re,Be,je){var He,Ge,Ve,ze,Xe,We,Je,Qe,Ze,on,an,rn,fn,nn,cn,dn=this.decode.FLATE_DECODE,bn="";if(this.__addimage__.isArrayBuffer(Oe)&&(Oe=new Uint8Array(Oe)),this.__addimage__.isArrayBufferView(Oe)){if(Oe=(Ve=new Kt(Oe)).imgData,Ge=Ve.bits,He=Ve.colorSpace,Xe=Ve.colors,[4,6].indexOf(Ve.colorType)!==-1){if(Ve.bits===8){Ze=(Qe=Ve.pixelBitlength==32?new Uint32Array(Ve.decodePixels().buffer):Ve.pixelBitlength==16?new Uint16Array(Ve.decodePixels().buffer):new Uint8Array(Ve.decodePixels().buffer)).length,an=new Uint8Array(Ze*Ve.colors),on=new Uint8Array(Ze);var pn,_n=Ve.pixelBitlength-Ve.bits;for(nn=0,cn=0;nn<Ze;nn++){for(fn=Qe[nn],pn=0;pn<_n;)an[cn++]=fn>>>pn&255,pn+=Ve.bits;on[nn]=fn>>>pn&255}}if(Ve.bits===16){Ze=(Qe=new Uint32Array(Ve.decodePixels().buffer)).length,an=new Uint8Array(Ze*(32/Ve.pixelBitlength)*Ve.colors),on=new Uint8Array(Ze*(32/Ve.pixelBitlength)),rn=Ve.colors>1,nn=0,cn=0;for(var Nn=0;nn<Ze;)fn=Qe[nn++],an[cn++]=fn>>>0&255,rn&&(an[cn++]=fn>>>16&255,fn=Qe[nn++],an[cn++]=fn>>>0&255),on[Nn++]=fn>>>16&255;Ge=8}je!==xe.image_compression.NONE&&e()?(Oe=t(an,Ve.width*Ve.colors,Ve.colors,je),Je=t(on,Ve.width,1,je)):(Oe=an,Je=on,dn=void 0)}if(Ve.colorType===3&&(He=this.color_spaces.INDEXED,We=Ve.palette,Ve.transparency.indexed)){var Un=Ve.transparency.indexed,xn=0;for(nn=0,Ze=Un.length;nn<Ze;++nn)xn+=Un[nn];if((xn/=255)===Ze-1&&Un.indexOf(0)!==-1)ze=[Un.indexOf(0)];else if(xn!==Ze){for(Qe=Ve.decodePixels(),on=new Uint8Array(Qe.length),nn=0,Ze=Qe.length;nn<Ze;nn++)on[nn]=Un[Qe[nn]];Je=t(on,Ve.width,1)}}var St=function(sn){var gn;switch(sn){case xe.image_compression.FAST:gn=11;break;case xe.image_compression.MEDIUM:gn=13;break;case xe.image_compression.SLOW:gn=14;break;default:gn=12}return gn}(je);return dn===this.decode.FLATE_DECODE&&(bn="/Predictor "+St+" "),bn+="/Colors "+Xe+" /BitsPerComponent "+Ge+" /Columns "+Ve.width,(this.__addimage__.isArrayBuffer(Oe)||this.__addimage__.isArrayBufferView(Oe))&&(Oe=this.__addimage__.arrayBufferToBinaryString(Oe)),(Je&&this.__addimage__.isArrayBuffer(Je)||this.__addimage__.isArrayBufferView(Je))&&(Je=this.__addimage__.arrayBufferToBinaryString(Je)),{alias:Be,data:Oe,index:Re,filter:dn,decodeParameters:bn,transparency:ze,palette:We,sMask:Je,predictor:St,width:Ve.width,height:Ve.height,bitsPerComponent:Ge,colorSpace:He}}}})(E.API),function(xe){xe.processGIF89A=function(e,t,Se,_e){var Ae=new Zt(e),Ce=Ae.width,Pe=Ae.height,Ee=[];Ae.decodeAndBlitFrameRGBA(0,Ee);var Fe={data:Ee,width:Ce,height:Pe},ke=new Qt(100).encode(Fe,100);return xe.processJPEG.call(this,ke,t,Se,_e)},xe.processGIF87A=xe.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var xe=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(xe);for(var e=0;e<xe;e++){var t=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:_e,green:Se,blue:t,quad:Ae}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var xe="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[xe]()}catch(t){a.log("bit decode error:"+t)}},te.prototype.bit1=function(){var xe,e=Math.ceil(this.width/8),t=e%4;for(xe=this.height-1;xe>=0;xe--){for(var Se=this.bottom_up?xe:this.height-1-xe,_e=0;_e<e;_e++)for(var Ae=this.datav.getUint8(this.pos++,!0),Ce=Se*this.width*4+8*_e*4,Pe=0;Pe<8&&8*_e+Pe<this.width;Pe++){var Ee=this.palette[Ae>>7-Pe&1];this.data[Ce+4*Pe]=Ee.blue,this.data[Ce+4*Pe+1]=Ee.green,this.data[Ce+4*Pe+2]=Ee.red,this.data[Ce+4*Pe+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit4=function(){for(var xe=Math.ceil(this.width/2),e=xe%4,t=this.height-1;t>=0;t--){for(var Se=this.bottom_up?t:this.height-1-t,_e=0;_e<xe;_e++){var Ae=this.datav.getUint8(this.pos++,!0),Ce=Se*this.width*4+2*_e*4,Pe=Ae>>4,Ee=15&Ae,Fe=this.palette[Pe];if(this.data[Ce]=Fe.blue,this.data[Ce+1]=Fe.green,this.data[Ce+2]=Fe.red,this.data[Ce+3]=255,2*_e+1>=this.width)break;Fe=this.palette[Ee],this.data[Ce+4]=Fe.blue,this.data[Ce+4+1]=Fe.green,this.data[Ce+4+2]=Fe.red,this.data[Ce+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var xe=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,Se=0;Se<this.width;Se++){var _e=this.datav.getUint8(this.pos++,!0),Ae=t*this.width*4+4*Se;if(_e<this.palette.length){var Ce=this.palette[_e];this.data[Ae]=Ce.red,this.data[Ae+1]=Ce.green,this.data[Ae+2]=Ce.blue,this.data[Ae+3]=255}else this.data[Ae]=255,this.data[Ae+1]=255,this.data[Ae+2]=255,this.data[Ae+3]=255}xe!==0&&(this.pos+=4-xe)}},te.prototype.bit15=function(){for(var xe=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var Se=this.bottom_up?t:this.height-1-t,_e=0;_e<this.width;_e++){var Ae=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ce=(Ae&e)/e*255|0,Pe=(Ae>>5&e)/e*255|0,Ee=(Ae>>10&e)/e*255|0,Fe=Ae>>15?255:0,ke=Se*this.width*4+4*_e;this.data[ke]=Ee,this.data[ke+1]=Pe,this.data[ke+2]=Ce,this.data[ke+3]=Fe}this.pos+=xe}},te.prototype.bit16=function(){for(var xe=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),Se=this.height-1;Se>=0;Se--){for(var _e=this.bottom_up?Se:this.height-1-Se,Ae=0;Ae<this.width;Ae++){var Ce=this.datav.getUint16(this.pos,!0);this.pos+=2;var Pe=(Ce&e)/e*255|0,Ee=(Ce>>5&t)/t*255|0,Fe=(Ce>>11)/e*255|0,ke=_e*this.width*4+4*Ae;this.data[ke]=Fe,this.data[ke+1]=Ee,this.data[ke+2]=Pe,this.data[ke+3]=255}this.pos+=xe}},te.prototype.bit24=function(){for(var xe=this.height-1;xe>=0;xe--){for(var e=this.bottom_up?xe:this.height-1-xe,t=0;t<this.width;t++){var Se=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Ce=e*this.width*4+4*t;this.data[Ce]=Ae,this.data[Ce+1]=_e,this.data[Ce+2]=Se,this.data[Ce+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var xe=this.height-1;xe>=0;xe--)for(var e=this.bottom_up?xe:this.height-1-xe,t=0;t<this.width;t++){var Se=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Pe=e*this.width*4+4*t;this.data[Pe]=Ae,this.data[Pe+1]=_e,this.data[Pe+2]=Se,this.data[Pe+3]=Ce}},te.prototype.getData=function(){return this.data},function(xe){xe.processBMP=function(e,t,Se,_e){var Ae=new te(e,!1),Ce=Ae.width,Pe=Ae.height,Ee={data:Ae.getData(),width:Ce,height:Pe},Fe=new Qt(100).encode(Ee,100);return xe.processJPEG.call(this,Fe,t,Se,_e)}}(E.API),ee.prototype.getData=function(){return this.data},function(xe){xe.processWEBP=function(e,t,Se,_e){var Ae=new ee(e),Ce=Ae.width,Pe=Ae.height,Ee={data:Ae.getData(),width:Ce,height:Pe},Fe=new Qt(100).encode(Ee,100);return xe.processJPEG.call(this,Fe,t,Se,_e)}}(E.API),E.API.processRGBA=function(xe,e,t){for(var Se=xe.data,_e=Se.length,Ae=new Uint8Array(_e/4*3),Ce=new Uint8Array(_e/4),Pe=0,Ee=0,Fe=0;Fe<_e;Fe+=4){var ke=Se[Fe],Ie=Se[Fe+1],Oe=Se[Fe+2],Re=Se[Fe+3];Ae[Pe++]=ke,Ae[Pe++]=Ie,Ae[Pe++]=Oe,Ce[Ee++]=Re}var Be=this.__addimage__.arrayBufferToBinaryString(Ae);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ce),data:Be,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:xe.width,height:xe.height}},E.API.setLanguage=function(xe){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[xe]!==void 0&&(this.internal.languageSettings.languageCode=xe,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(xe,e){var t,Se,_e=(e=e||{}).font||this.internal.getFont(),Ae=e.fontSize||this.internal.getFontSize(),Ce=e.charSpace||this.internal.getCharSpace(),Pe=e.widths?e.widths:_e.metadata.Unicode.widths,Ee=Pe.fof?Pe.fof:1,Fe=e.kerning?e.kerning:_e.metadata.Unicode.kerning,ke=Fe.fof?Fe.fof:1,Ie=e.doKerning!==!1,Oe=0,Re=xe.length,Be=0,je=Pe[0]||Ee,He=[];for(t=0;t<Re;t++)Se=xe.charCodeAt(t),typeof _e.metadata.widthOfString=="function"?He.push((_e.metadata.widthOfGlyph(_e.metadata.characterToGlyph(Se))+Ce*(1e3/Ae)||0)/1e3):(Oe=Ie&&_typeof(Fe[Se])==="object"&&!isNaN(parseInt(Fe[Se][Be],10))?Fe[Se][Be]/ke:0,He.push((Pe[Se]||je)/Ee+Oe)),Be=Se;return He},Yt=Vt.getStringUnitWidth=function(xe,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),Se=e.font||this.internal.getFont(),_e=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(xe=Vt.processArabic(xe)),typeof Se.metadata.widthOfString=="function"?Se.metadata.widthOfString(xe,t,_e)/t:Gt.apply(this,arguments).reduce(function(Ae,Ce){return Ae+Ce},0)},Jt=function(xe,e,t,Se){for(var _e=[],Ae=0,Ce=xe.length,Pe=0;Ae!==Ce&&Pe+e[Ae]<t;)Pe+=e[Ae],Ae++;_e.push(xe.slice(0,Ae));var Ee=Ae;for(Pe=0;Ae!==Ce;)Pe+e[Ae]>Se&&(_e.push(xe.slice(Ee,Ae)),Pe=0,Ee=Ae),Pe+=e[Ae],Ae++;return Ee!==Ae&&_e.push(xe.slice(Ee,Ae)),_e},Xt=function(xe,e,t){t||(t={});var Se,_e,Ae,Ce,Pe,Ee,Fe,ke=[],Ie=[ke],Oe=t.textIndent||0,Re=0,Be=0,je=xe.split(" "),He=Gt.apply(this,[" ",t])[0];if(Ee=t.lineIndent===-1?je[0].length+2:t.lineIndent||0){var Ge=Array(Ee).join(" "),Ve=[];je.map(function(Xe){(Xe=Xe.split(/\s*\n/)).length>1?Ve=Ve.concat(Xe.map(function(We,Je){return(Je&&We.length?`
`:"")+We})):Ve.push(Xe[0])}),je=Ve,Ee=Yt.apply(this,[Ge,t])}for(Ae=0,Ce=je.length;Ae<Ce;Ae++){var ze=0;if(Se=je[Ae],Ee&&Se[0]==`
`&&(Se=Se.substr(1),ze=1),Oe+Re+(Be=(_e=Gt.apply(this,[Se,t])).reduce(function(Xe,We){return Xe+We},0))>e||ze){if(Be>e){for(Pe=Jt.apply(this,[Se,_e,e-(Oe+Re),e]),ke.push(Pe.shift()),ke=[Pe.pop()];Pe.length;)Ie.push([Pe.shift()]);Be=_e.slice(Se.length-(ke[0]?ke[0].length:0)).reduce(function(Xe,We){return Xe+We},0)}else ke=[Se];Ie.push(ke),Oe=Be+Ee,Re=He}else ke.push(Se),Oe+=Re+Be,Re=He}return Fe=Ee?function(Xe,We){return(We?Ge:"")+Xe.join(" ")}:function(Xe){return Xe.join(" ")},Ie.map(Fe)},Vt.splitTextToSize=function(xe,e,t){var Se,_e=(t=t||{}).fontSize||this.internal.getFontSize(),Ae=(function(ke){if(ke.widths&&ke.kerning)return{widths:ke.widths,kerning:ke.kerning};var Ie=this.internal.getFont(ke.fontName,ke.fontStyle);return Ie.metadata.Unicode?{widths:Ie.metadata.Unicode.widths||{0:1},kerning:Ie.metadata.Unicode.kerning||{}}:{font:Ie.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);Se=Array.isArray(xe)?xe:String(xe).split(/\r?\n/);var Ce=1*this.internal.scaleFactor*e/_e;Ae.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/_e:0,Ae.lineIndent=t.lineIndent;var Pe,Ee,Fe=[];for(Pe=0,Ee=Se.length;Pe<Ee;Pe++)Fe=Fe.concat(Xt.apply(this,[Se[Pe],Ce,Ae]));return Fe},function(xe){xe.__fontmetrics__=xe.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},Se={},_e=0;_e<e.length;_e++)t[e[_e]]="0123456789abcdef"[_e],Se["0123456789abcdef"[_e]]=e[_e];var Ae=function(Ie){return"0x"+parseInt(Ie,10).toString(16)},Ce=xe.__fontmetrics__.compress=function(Ie){var Oe,Re,Be,je,He=["{"];for(var Ge in Ie){if(Oe=Ie[Ge],isNaN(parseInt(Ge,10))?Re="'"+Ge+"'":(Ge=parseInt(Ge,10),Re=(Re=Ae(Ge).slice(2)).slice(0,-1)+Se[Re.slice(-1)]),typeof Oe=="number")Oe<0?(Be=Ae(Oe).slice(3),je="-"):(Be=Ae(Oe).slice(2),je=""),Be=je+Be.slice(0,-1)+Se[Be.slice(-1)];else{if(_typeof(Oe)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Oe)+".");Be=Ce(Oe)}He.push(Re+Be)}return He.push("}"),He.join("")},Pe=xe.__fontmetrics__.uncompress=function(Ie){if(typeof Ie!="string")throw new Error("Invalid argument passed to uncompress.");for(var Oe,Re,Be,je,He={},Ge=1,Ve=He,ze=[],Xe="",We="",Je=Ie.length-1,Qe=1;Qe<Je;Qe+=1)(je=Ie[Qe])=="'"?Oe?(Be=Oe.join(""),Oe=void 0):Oe=[]:Oe?Oe.push(je):je=="{"?(ze.push([Ve,Be]),Ve={},Be=void 0):je=="}"?((Re=ze.pop())[0][Re[1]]=Ve,Be=void 0,Ve=Re[0]):je=="-"?Ge=-1:Be===void 0?t.hasOwnProperty(je)?(Xe+=t[je],Be=parseInt(Xe,16)*Ge,Ge=1,Xe=""):Xe+=je:t.hasOwnProperty(je)?(We+=t[je],Ve[Be]=parseInt(We,16)*Ge,Ge=1,Be=void 0,We=""):We+=je;return He},Ee={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Pe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Fe={Unicode:{Courier:Ee,"Courier-Bold":Ee,"Courier-BoldOblique":Ee,"Courier-Oblique":Ee,Helvetica:Ee,"Helvetica-Bold":Ee,"Helvetica-BoldOblique":Ee,"Helvetica-Oblique":Ee,"Times-Roman":Ee,"Times-Bold":Ee,"Times-BoldItalic":Ee,"Times-Italic":Ee}},ke={Unicode:{"Courier-Oblique":Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Pe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Pe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Pe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Pe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Pe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Pe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Pe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Pe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Pe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Pe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};xe.events.push(["addFont",function(Ie){var Oe=Ie.font,Re=ke.Unicode[Oe.postScriptName];Re&&(Oe.metadata.Unicode={},Oe.metadata.Unicode.widths=Re.widths,Oe.metadata.Unicode.kerning=Re.kerning);var Be=Fe.Unicode[Oe.postScriptName];Be&&(Oe.metadata.Unicode.encoding=Be,Oe.encoding=Be.codePages[0])}])}(E.API),function(xe){var e=function(t){for(var Se=t.length,_e=new Uint8Array(Se),Ae=0;Ae<Se;Ae++)_e[Ae]=t.charCodeAt(Ae);return _e};xe.API.events.push(["addFont",function(t){var Se=void 0,_e=t.font,Ae=t.instance;if(!_e.isStandardFont){if(Ae===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+_e.postScriptName+"').");if(typeof(Se=Ae.existsFileInVFS(_e.postScriptName)===!1?Ae.loadFile(_e.postScriptName):Ae.getFileFromVFS(_e.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+_e.postScriptName+"').");(function(Ce,Pe){Pe=/^\x00\x01\x00\x00/.test(Pe)?e(Pe):e(u(Pe)),Ce.metadata=xe.API.TTFFont.open(Pe),Ce.metadata.Unicode=Ce.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ce.metadata.glyIdsUsed=[0]})(_e,Se)}}])}(E),function(xe){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-BbVxAwkz.js"),[],import.meta.url)).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}E.API.addSvgAsImage=function(t,Se,_e,Ae,Ce,Pe,Ee,Fe){if(isNaN(Se)||isNaN(_e))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ae)||isNaN(Ce))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ke=document.createElement("canvas");ke.width=Ae,ke.height=Ce;var Ie=ke.getContext("2d");Ie.fillStyle="#fff",Ie.fillRect(0,0,ke.width,ke.height);var Oe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Re=this;return e().then(function(Be){return Be.fromString(Ie,t,Oe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Be){return Be.render(Oe)}).then(function(){Re.addImage(ke.toDataURL("image/jpeg",1),Se,_e,Ae,Ce,Ee,Fe)})}}(),E.API.putTotalPages=function(xe){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(xe,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(xe,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Se=1;Se<=this.internal.getNumberOfPages();Se++)for(var _e=0;_e<this.internal.pages[Se].length;_e++)this.internal.pages[Se][_e]=this.internal.pages[Se][_e].replace(e,t);return this},E.API.viewerPreferences=function(xe,e){var t;xe=xe||{},e=e||!1;var Se,_e,Ae,Ce={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Pe=Object.keys(Ce),Ee=[],Fe=0,ke=0,Ie=0;function Oe(Be,je){var He,Ge=!1;for(He=0;He<Be.length;He+=1)Be[He]===je&&(Ge=!0);return Ge}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ce)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,xe==="reset"||e===!0){var Re=Pe.length;for(Ie=0;Ie<Re;Ie+=1)t[Pe[Ie]].value=t[Pe[Ie]].defaultValue,t[Pe[Ie]].explicitSet=!1}if(_typeof(xe)==="object"){for(_e in xe)if(Ae=xe[_e],Oe(Pe,_e)&&Ae!==void 0){if(t[_e].type==="boolean"&&typeof Ae=="boolean")t[_e].value=Ae;else if(t[_e].type==="name"&&Oe(t[_e].valueSet,Ae))t[_e].value=Ae;else if(t[_e].type==="integer"&&Number.isInteger(Ae))t[_e].value=Ae;else if(t[_e].type==="array"){for(Fe=0;Fe<Ae.length;Fe+=1)if(Se=!0,Ae[Fe].length===1&&typeof Ae[Fe][0]=="number")Ee.push(String(Ae[Fe]-1));else if(Ae[Fe].length>1){for(ke=0;ke<Ae[Fe].length;ke+=1)typeof Ae[Fe][ke]!="number"&&(Se=!1);Se===!0&&Ee.push([Ae[Fe][0]-1,Ae[Fe][1]-1].join(" "))}t[_e].value="["+Ee.join(" ")+"]"}else t[_e].value=t[_e].defaultValue;t[_e].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Be,je=[];for(Be in t)t[Be].explicitSet===!0&&(t[Be].type==="name"?je.push("/"+Be+" /"+t[Be].value):je.push("/"+Be+" "+t[Be].value));je.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+je.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(xe){var e=function(){var Se='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',_e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Ae=unescape(encodeURIComponent(Se)),Ce=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Pe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Ee=unescape(encodeURIComponent("</x:xmpmeta>")),Fe=Ae.length+Ce.length+Pe.length+_e.length+Ee.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Fe+" >>"),this.internal.write("stream"),this.internal.write(_e+Ae+Ce+Pe+Ee),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};xe.addMetadata=function(Se,_e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Se,namespaceuri:_e||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(xe){var e=xe.API,t=e.pdfEscape16=function(Ae,Ce){for(var Pe,Ee=Ce.metadata.Unicode.widths,Fe=["","0","00","000","0000"],ke=[""],Ie=0,Oe=Ae.length;Ie<Oe;++Ie){if(Pe=Ce.metadata.characterToGlyph(Ae.charCodeAt(Ie)),Ce.metadata.glyIdsUsed.push(Pe),Ce.metadata.toUnicode[Pe]=Ae.charCodeAt(Ie),Ee.indexOf(Pe)==-1&&(Ee.push(Pe),Ee.push([parseInt(Ce.metadata.widthOfGlyph(Pe),10)])),Pe=="0")return ke.join("");Pe=Pe.toString(16),ke.push(Fe[4-Pe.length],Pe)}return ke.join("")},Se=function(Ae){var Ce,Pe,Ee,Fe,ke,Ie,Oe;for(ke=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Ee=[],Ie=0,Oe=(Pe=Object.keys(Ae).sort(function(Re,Be){return Re-Be})).length;Ie<Oe;Ie++)Ce=Pe[Ie],Ee.length>=100&&(ke+=`
`+Ee.length+` beginbfchar
`+Ee.join(`
`)+`
endbfchar`,Ee=[]),Ae[Ce]!==void 0&&Ae[Ce]!==null&&typeof Ae[Ce].toString=="function"&&(Fe=("0000"+Ae[Ce].toString(16)).slice(-4),Ce=("0000"+(+Ce).toString(16)).slice(-4),Ee.push("<"+Ce+"><"+Fe+">"));return Ee.length&&(ke+=`
`+Ee.length+` beginbfchar
`+Ee.join(`
`)+`
endbfchar
`),ke+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(Ae){(function(Ce){var Pe=Ce.font,Ee=Ce.out,Fe=Ce.newObject,ke=Ce.putStream;if(Pe.metadata instanceof xe.API.TTFFont&&Pe.encoding==="Identity-H"){for(var Ie=Pe.metadata.Unicode.widths,Oe=Pe.metadata.subset.encode(Pe.metadata.glyIdsUsed,1),Re="",Be=0;Be<Oe.length;Be++)Re+=String.fromCharCode(Oe[Be]);var je=Fe();ke({data:Re,addLength1:!0,objectId:je}),Ee("endobj");var He=Fe();ke({data:Se(Pe.metadata.toUnicode),addLength1:!0,objectId:He}),Ee("endobj");var Ge=Fe();Ee("<<"),Ee("/Type /FontDescriptor"),Ee("/FontName /"+F(Pe.fontName)),Ee("/FontFile2 "+je+" 0 R"),Ee("/FontBBox "+xe.API.PDFObject.convert(Pe.metadata.bbox)),Ee("/Flags "+Pe.metadata.flags),Ee("/StemV "+Pe.metadata.stemV),Ee("/ItalicAngle "+Pe.metadata.italicAngle),Ee("/Ascent "+Pe.metadata.ascender),Ee("/Descent "+Pe.metadata.decender),Ee("/CapHeight "+Pe.metadata.capHeight),Ee(">>"),Ee("endobj");var Ve=Fe();Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+F(Pe.fontName)),Ee("/FontDescriptor "+Ge+" 0 R"),Ee("/W "+xe.API.PDFObject.convert(Ie)),Ee("/CIDToGIDMap /Identity"),Ee("/DW 1000"),Ee("/Subtype /CIDFontType2"),Ee("/CIDSystemInfo"),Ee("<<"),Ee("/Supplement 0"),Ee("/Registry (Adobe)"),Ee("/Ordering ("+Pe.encoding+")"),Ee(">>"),Ee(">>"),Ee("endobj"),Pe.objectNumber=Fe(),Ee("<<"),Ee("/Type /Font"),Ee("/Subtype /Type0"),Ee("/ToUnicode "+He+" 0 R"),Ee("/BaseFont /"+F(Pe.fontName)),Ee("/Encoding /"+Pe.encoding),Ee("/DescendantFonts ["+Ve+" 0 R]"),Ee(">>"),Ee("endobj"),Pe.isAlreadyPutted=!0}})(Ae)}]),e.events.push(["putFont",function(Ae){(function(Ce){var Pe=Ce.font,Ee=Ce.out,Fe=Ce.newObject,ke=Ce.putStream;if(Pe.metadata instanceof xe.API.TTFFont&&Pe.encoding==="WinAnsiEncoding"){for(var Ie=Pe.metadata.rawData,Oe="",Re=0;Re<Ie.length;Re++)Oe+=String.fromCharCode(Ie[Re]);var Be=Fe();ke({data:Oe,addLength1:!0,objectId:Be}),Ee("endobj");var je=Fe();ke({data:Se(Pe.metadata.toUnicode),addLength1:!0,objectId:je}),Ee("endobj");var He=Fe();Ee("<<"),Ee("/Descent "+Pe.metadata.decender),Ee("/CapHeight "+Pe.metadata.capHeight),Ee("/StemV "+Pe.metadata.stemV),Ee("/Type /FontDescriptor"),Ee("/FontFile2 "+Be+" 0 R"),Ee("/Flags 96"),Ee("/FontBBox "+xe.API.PDFObject.convert(Pe.metadata.bbox)),Ee("/FontName /"+F(Pe.fontName)),Ee("/ItalicAngle "+Pe.metadata.italicAngle),Ee("/Ascent "+Pe.metadata.ascender),Ee(">>"),Ee("endobj"),Pe.objectNumber=Fe();for(var Ge=0;Ge<Pe.metadata.hmtx.widths.length;Ge++)Pe.metadata.hmtx.widths[Ge]=parseInt(Pe.metadata.hmtx.widths[Ge]*(1e3/Pe.metadata.head.unitsPerEm));Ee("<</Subtype/TrueType/Type/Font/ToUnicode "+je+" 0 R/BaseFont/"+F(Pe.fontName)+"/FontDescriptor "+He+" 0 R/Encoding/"+Pe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+xe.API.PDFObject.convert(Pe.metadata.hmtx.widths)+">>"),Ee("endobj"),Pe.isAlreadyPutted=!0}})(Ae)}]);var _e=function(Ae){var Ce,Pe=Ae.text||"",Ee=Ae.x,Fe=Ae.y,ke=Ae.options||{},Ie=Ae.mutex||{},Oe=Ie.pdfEscape,Re=Ie.activeFontKey,Be=Ie.fonts,je=Re,He="",Ge=0,Ve="",ze=Be[je].encoding;if(Be[je].encoding!=="Identity-H")return{text:Pe,x:Ee,y:Fe,options:ke,mutex:Ie};for(Ve=Pe,je=Re,Array.isArray(Pe)&&(Ve=Pe[0]),Ge=0;Ge<Ve.length;Ge+=1)Be[je].metadata.hasOwnProperty("cmap")&&(Ce=Be[je].metadata.cmap.unicode.codeMap[Ve[Ge].charCodeAt(0)]),Ce||Ve[Ge].charCodeAt(0)<256&&Be[je].metadata.hasOwnProperty("Unicode")?He+=Ve[Ge]:He+="";var Xe="";return parseInt(je.slice(1))<14||ze==="WinAnsiEncoding"?Xe=Oe(He,je).split("").map(function(We){return We.charCodeAt(0).toString(16)}).join(""):ze==="Identity-H"&&(Xe=t(He,Be[je])),Ie.isHex=!0,{text:Xe,x:Ee,y:Fe,options:ke,mutex:Ie}};e.events.push(["postProcessText",function(Ae){var Ce=Ae.text||"",Pe=[],Ee={text:Ce,x:Ae.x,y:Ae.y,options:Ae.options,mutex:Ae.mutex};if(Array.isArray(Ce)){var Fe=0;for(Fe=0;Fe<Ce.length;Fe+=1)Array.isArray(Ce[Fe])&&Ce[Fe].length===3?Pe.push([_e(Object.assign({},Ee,{text:Ce[Fe][0]})).text,Ce[Fe][1],Ce[Fe][2]]):Pe.push(_e(Object.assign({},Ee,{text:Ce[Fe]})).text);Ae.text=Pe}else Ae.text=_e(Object.assign({},Ee,{text:Ce})).text}])}(E),function(xe){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};xe.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},xe.addFileToVFS=function(t,Se){return e.call(this),this.internal.vFS[t]=Se,this},xe.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(E.API),function(xe){xe.__bidiEngine__=xe.prototype.__bidiEngine__=function(Se){var _e,Ae,Ce,Pe,Ee,Fe,ke,Ie=e,Oe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Re=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Be={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},je={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},He=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ge=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ve=!1,ze=0;this.__bidiEngine__={};var Xe=function(rn){var fn=rn.charCodeAt(),nn=fn>>8,cn=je[nn];return cn!==void 0?Ie[256*cn+(255&fn)]:nn===252||nn===253?"AL":Ge.test(nn)?"L":nn===8?"R":"N"},We=function(rn){for(var fn,nn=0;nn<rn.length;nn++){if((fn=Xe(rn.charAt(nn)))==="L")return!1;if(fn==="R")return!0}return!1},Je=function(rn,fn,nn,cn){var dn,bn,pn,_n,Nn=fn[cn];switch(Nn){case"L":case"R":Ve=!1;break;case"N":case"AN":break;case"EN":Ve&&(Nn="AN");break;case"AL":Ve=!0,Nn="R";break;case"WS":Nn="N";break;case"CS":cn<1||cn+1>=fn.length||(dn=nn[cn-1])!=="EN"&&dn!=="AN"||(bn=fn[cn+1])!=="EN"&&bn!=="AN"?Nn="N":Ve&&(bn="AN"),Nn=bn===dn?bn:"N";break;case"ES":Nn=(dn=cn>0?nn[cn-1]:"B")==="EN"&&cn+1<fn.length&&fn[cn+1]==="EN"?"EN":"N";break;case"ET":if(cn>0&&nn[cn-1]==="EN"){Nn="EN";break}if(Ve){Nn="N";break}for(pn=cn+1,_n=fn.length;pn<_n&&fn[pn]==="ET";)pn++;Nn=pn<_n&&fn[pn]==="EN"?"EN":"N";break;case"NSM":if(Ce&&!Pe){for(_n=fn.length,pn=cn+1;pn<_n&&fn[pn]==="NSM";)pn++;if(pn<_n){var Un=rn[cn],xn=Un>=1425&&Un<=2303||Un===64286;if(dn=fn[pn],xn&&(dn==="R"||dn==="AL")){Nn="R";break}}}Nn=cn<1||(dn=fn[cn-1])==="B"?"N":nn[cn-1];break;case"B":Ve=!1,_e=!0,Nn=ze;break;case"S":Ae=!0,Nn="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ve=!1;break;case"BN":Nn="N"}return Nn},Qe=function(rn,fn,nn){var cn=rn.split("");return nn&&Ze(cn,nn,{hiLevel:ze}),cn.reverse(),fn&&fn.reverse(),cn.join("")},Ze=function(rn,fn,nn){var cn,dn,bn,pn,_n,Nn=-1,Un=rn.length,xn=0,St=[],sn=ze?Re:Oe,gn=[];for(Ve=!1,_e=!1,Ae=!1,dn=0;dn<Un;dn++)gn[dn]=Xe(rn[dn]);for(bn=0;bn<Un;bn++){if(_n=xn,St[bn]=Je(rn,gn,St,bn),cn=240&(xn=sn[_n][Be[St[bn]]]),xn&=15,fn[bn]=pn=sn[xn][5],cn>0)if(cn===16){for(dn=Nn;dn<bn;dn++)fn[dn]=1;Nn=-1}else Nn=-1;if(sn[xn][6])Nn===-1&&(Nn=bn);else if(Nn>-1){for(dn=Nn;dn<bn;dn++)fn[dn]=pn;Nn=-1}gn[bn]==="B"&&(fn[bn]=0),nn.hiLevel|=pn}Ae&&function(Pn,Fn,vn){for(var kn=0;kn<vn;kn++)if(Pn[kn]==="S"){Fn[kn]=ze;for(var Bn=kn-1;Bn>=0&&Pn[Bn]==="WS";Bn--)Fn[Bn]=ze}}(gn,fn,Un)},on=function(rn,fn,nn,cn,dn){if(!(dn.hiLevel<rn)){if(rn===1&&ze===1&&!_e)return fn.reverse(),void(nn&&nn.reverse());for(var bn,pn,_n,Nn,Un=fn.length,xn=0;xn<Un;){if(cn[xn]>=rn){for(_n=xn+1;_n<Un&&cn[_n]>=rn;)_n++;for(Nn=xn,pn=_n-1;Nn<pn;Nn++,pn--)bn=fn[Nn],fn[Nn]=fn[pn],fn[pn]=bn,nn&&(bn=nn[Nn],nn[Nn]=nn[pn],nn[pn]=bn);xn=_n}xn++}}},an=function(rn,fn,nn){var cn=rn.split(""),dn={hiLevel:ze};return nn||(nn=[]),Ze(cn,nn,dn),function(bn,pn,_n){if(_n.hiLevel!==0&&ke)for(var Nn,Un=0;Un<bn.length;Un++)pn[Un]===1&&(Nn=He.indexOf(bn[Un]))>=0&&(bn[Un]=He[Nn+1])}(cn,nn,dn),on(2,cn,fn,nn,dn),on(1,cn,fn,nn,dn),cn.join("")};return this.__bidiEngine__.doBidiReorder=function(rn,fn,nn){if(function(dn,bn){if(bn)for(var pn=0;pn<dn.length;pn++)bn[pn]=pn;Pe===void 0&&(Pe=We(dn)),Fe===void 0&&(Fe=We(dn))}(rn,fn),Ce||!Ee||Fe)if(Ce&&Ee&&Pe^Fe)ze=Pe?1:0,rn=Qe(rn,fn,nn);else if(!Ce&&Ee&&Fe)ze=Pe?1:0,rn=an(rn,fn,nn),rn=Qe(rn,fn);else if(!Ce||Pe||Ee||Fe){if(Ce&&!Ee&&Pe^Fe)rn=Qe(rn,fn),Pe?(ze=0,rn=an(rn,fn,nn)):(ze=1,rn=an(rn,fn,nn),rn=Qe(rn,fn));else if(Ce&&Pe&&!Ee&&Fe)ze=1,rn=an(rn,fn,nn),rn=Qe(rn,fn);else if(!Ce&&!Ee&&Pe^Fe){var cn=ke;Pe?(ze=1,rn=an(rn,fn,nn),ze=0,ke=!1,rn=an(rn,fn,nn),ke=cn):(ze=0,rn=an(rn,fn,nn),rn=Qe(rn,fn),ze=1,ke=!1,rn=an(rn,fn,nn),ke=cn,rn=Qe(rn,fn))}}else ze=0,rn=an(rn,fn,nn);else ze=Pe?1:0,rn=an(rn,fn,nn);return rn},this.__bidiEngine__.setOptions=function(rn){rn&&(Ce=rn.isInputVisual,Ee=rn.isOutputVisual,Pe=rn.isInputRtl,Fe=rn.isOutputRtl,ke=rn.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Se),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new xe.__bidiEngine__({isInputVisual:!0});xe.API.events.push(["postProcessText",function(Se){var _e=Se.text,Ae=(Se.x,Se.y,Se.options||{}),Ce=(Se.mutex,Ae.lang,[]);if(Ae.isInputVisual=typeof Ae.isInputVisual!="boolean"||Ae.isInputVisual,t.setOptions(Ae),Object.prototype.toString.call(_e)==="[object Array]"){var Pe=0;for(Ce=[],Pe=0;Pe<_e.length;Pe+=1)Object.prototype.toString.call(_e[Pe])==="[object Array]"?Ce.push([t.doBidiReorder(_e[Pe][0]),_e[Pe][1],_e[Pe][2]]):Ce.push([t.doBidiReorder(_e[Pe])]);Se.text=Ce}else Se.text=t.doBidiReorder(_e);t.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function xe(e){var t;if(this.rawData=e,t=this.contents=new ne(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return xe.open=function(e){return new xe(e)},xe.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},xe.prototype.registerTTF=function(){var e,t,Se,_e,Ae;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ce,Pe,Ee,Fe;for(Fe=[],Ce=0,Pe=(Ee=this.bbox).length;Ce<Pe;Ce++)e=Ee[Ce],Fe.push(Math.round(e*this.scaleFactor));return Fe}).call(this),this.stemV=0,this.post.exists?(Se=255&(_e=this.post.italic_angle),32768&(t=_e>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+Se)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Ae=this.familyClass)===1||Ae===2||Ae===3||Ae===4||Ae===5||Ae===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},xe.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},xe.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},xe.prototype.widthOfString=function(e,t,Se){var _e,Ae,Ce,Pe;for(Ce=0,Ae=0,Pe=(e=""+e).length;0<=Pe?Ae<Pe:Ae>Pe;Ae=0<=Pe?++Ae:--Ae)_e=e.charCodeAt(Ae),Ce+=this.widthOfGlyph(this.characterToGlyph(_e))+Se*(1e3/t)||0;return Ce*(t/1e3)},xe.prototype.lineHeight=function(e,t){var Se;return t==null&&(t=!1),Se=t?this.lineGap:0,(this.ascender+Se-this.decender)/1e3*e},xe}();var re,ne=function(){function xe(e){this.data=e??[],this.pos=0,this.length=this.data.length}return xe.prototype.readByte=function(){return this.data[this.pos++]},xe.prototype.writeByte=function(e){return this.data[this.pos++]=e},xe.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},xe.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},xe.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},xe.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},xe.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},xe.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},xe.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},xe.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},xe.prototype.readString=function(e){var t,Se;for(Se=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)Se[t]=String.fromCharCode(this.readByte());return Se.join("")},xe.prototype.writeString=function(e){var t,Se,_e;for(_e=[],t=0,Se=e.length;0<=Se?t<Se:t>Se;t=0<=Se?++t:--t)_e.push(this.writeByte(e.charCodeAt(t)));return _e},xe.prototype.readShort=function(){return this.readInt16()},xe.prototype.writeShort=function(e){return this.writeInt16(e)},xe.prototype.readLongLong=function(){var e,t,Se,_e,Ae,Ce,Pe,Ee;return e=this.readByte(),t=this.readByte(),Se=this.readByte(),_e=this.readByte(),Ae=this.readByte(),Ce=this.readByte(),Pe=this.readByte(),Ee=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^Se)+4294967296*(255^_e)+16777216*(255^Ae)+65536*(255^Ce)+256*(255^Pe)+(255^Ee)+1):72057594037927940*e+281474976710656*t+1099511627776*Se+4294967296*_e+16777216*Ae+65536*Ce+256*Pe+Ee},xe.prototype.writeLongLong=function(e){var t,Se;return t=Math.floor(e/4294967296),Se=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(Se>>24&255),this.writeByte(Se>>16&255),this.writeByte(Se>>8&255),this.writeByte(255&Se)},xe.prototype.readInt=function(){return this.readInt32()},xe.prototype.writeInt=function(e){return this.writeInt32(e)},xe.prototype.read=function(e){var t,Se;for(t=[],Se=0;0<=e?Se<e:Se>e;Se=0<=e?++Se:--Se)t.push(this.readByte());return t},xe.prototype.write=function(e){var t,Se,_e,Ae;for(Ae=[],Se=0,_e=e.length;Se<_e;Se++)t=e[Se],Ae.push(this.writeByte(t));return Ae},xe}(),ie=function(){var xe;function e(t){var Se,_e,Ae;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},_e=0,Ae=this.tableCount;0<=Ae?_e<Ae:_e>Ae;_e=0<=Ae?++_e:--_e)Se={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[Se.tag]=Se}return e.prototype.encode=function(t){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je;for(je in Re=Object.keys(t).length,Ee=Math.log(2),Ie=16*Math.floor(Math.log(Re)/Ee),Ce=Math.floor(Ie/Ee),ke=16*Re-Ie,(_e=new ne).writeInt(this.scalarType),_e.writeShort(Re),_e.writeShort(Ie),_e.writeShort(Ce),_e.writeShort(ke),Ae=16*Re,Fe=_e.pos+Ae,Pe=null,Be=[],t)for(Oe=t[je],_e.writeString(je),_e.writeInt(xe(Oe)),_e.writeInt(Fe),_e.writeInt(Oe.length),Be=Be.concat(Oe),je==="head"&&(Pe=Fe),Fe+=Oe.length;Fe%4;)Be.push(0),Fe++;return _e.write(Be),Se=2981146554-xe(_e.data),_e.pos=Pe+8,_e.writeUInt32(Se),_e.data},xe=function(t){var Se,_e,Ae,Ce;for(t=ve.call(t);t.length%4;)t.push(0);for(Ae=new ne(t),_e=0,Se=0,Ce=t.length;Se<Ce;Se=Se+=4)_e+=Ae.readUInt32();return 4294967295&_e},e}(),ae={}.hasOwnProperty,oe=function(xe,e){for(var t in e)ae.call(e,t)&&(xe[t]=e[t]);function Se(){this.constructor=xe}return Se.prototype=e.prototype,xe.prototype=new Se,xe.__super__=e.prototype,xe};re=function(){function xe(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return xe.prototype.parse=function(){},xe.prototype.encode=function(){},xe.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},xe}();var se=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var Se;return(Se=new ne).writeInt(this.version),Se.writeInt(this.revision),Se.writeInt(this.checkSumAdjustment),Se.writeInt(this.magicNumber),Se.writeShort(this.flags),Se.writeShort(this.unitsPerEm),Se.writeLongLong(this.created),Se.writeLongLong(this.modified),Se.writeShort(this.xMin),Se.writeShort(this.yMin),Se.writeShort(this.xMax),Se.writeShort(this.yMax),Se.writeShort(this.macStyle),Se.writeShort(this.lowestRecPPEM),Se.writeShort(this.fontDirectionHint),Se.writeShort(t),Se.writeShort(this.glyphDataFormat),Se.data},e}(),ce=function(){function xe(e,t){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,Ge,Ve,ze;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),Ie=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Ee=0;Ee<256;++Ee)this.codeMap[Ee]=e.readByte();break;case 4:for(Re=e.readUInt16(),Oe=Re/2,e.pos+=6,Ae=function(){var Xe,We;for(We=[],Ee=Xe=0;0<=Oe?Xe<Oe:Xe>Oe;Ee=0<=Oe?++Xe:--Xe)We.push(e.readUInt16());return We}(),e.pos+=2,je=function(){var Xe,We;for(We=[],Ee=Xe=0;0<=Oe?Xe<Oe:Xe>Oe;Ee=0<=Oe?++Xe:--Xe)We.push(e.readUInt16());return We}(),Fe=function(){var Xe,We;for(We=[],Ee=Xe=0;0<=Oe?Xe<Oe:Xe>Oe;Ee=0<=Oe?++Xe:--Xe)We.push(e.readUInt16());return We}(),ke=function(){var Xe,We;for(We=[],Ee=Xe=0;0<=Oe?Xe<Oe:Xe>Oe;Ee=0<=Oe?++Xe:--Xe)We.push(e.readUInt16());return We}(),_e=(this.length-e.pos+this.offset)/2,Pe=function(){var Xe,We;for(We=[],Ee=Xe=0;0<=_e?Xe<_e:Xe>_e;Ee=0<=_e?++Xe:--Xe)We.push(e.readUInt16());return We}(),Ee=Ge=0,ze=Ae.length;Ge<ze;Ee=++Ge)for(He=Ae[Ee],Se=Ve=Be=je[Ee];Be<=He?Ve<=He:Ve>=He;Se=Be<=He?++Ve:--Ve)ke[Ee]===0?Ce=Se+Fe[Ee]:(Ce=Pe[ke[Ee]/2+(Se-Be)-(Oe-Ee)]||0)!==0&&(Ce+=Fe[Ee]),this.codeMap[Se]=65535&Ce}e.pos=Ie}return xe.encode=function(e,t){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,Ge,Ve,ze,Xe,We,Je,Qe,Ze,on,an,rn,fn,nn,cn,dn,bn,pn,_n,Nn,Un,xn,St,sn,gn,Pn,Fn,vn,kn,Bn,er,Zn,Cn;switch(cn=new ne,Ce=Object.keys(e).sort(function(Tn,qn){return Tn-qn}),t){case"macroman":for(je=0,He=function(){var Tn=[];for(Be=0;Be<256;++Be)Tn.push(0);return Tn}(),Ve={0:0},Ae={},dn=0,Nn=Ce.length;dn<Nn;dn++)Ve[Bn=e[_e=Ce[dn]]]==null&&(Ve[Bn]=++je),Ae[_e]={old:e[_e],new:Ve[e[_e]]},He[_e]=Ve[e[_e]];return cn.writeUInt16(1),cn.writeUInt16(0),cn.writeUInt32(12),cn.writeUInt16(0),cn.writeUInt16(262),cn.writeUInt16(0),cn.write(He),{charMap:Ae,subtable:cn.data,maxGlyphID:je+1};case"unicode":for(fn=[],Ie=[],ze=0,Ve={},Se={},Ge=Fe=null,bn=0,Un=Ce.length;bn<Un;bn++)Ve[We=e[_e=Ce[bn]]]==null&&(Ve[We]=++ze),Se[_e]={old:We,new:Ve[We]},Pe=Ve[We]-_e,Ge!=null&&Pe===Fe||(Ge&&Ie.push(Ge),fn.push(_e),Fe=Pe),Ge=_e;for(Ge&&Ie.push(Ge),Ie.push(65535),fn.push(65535),an=2*(on=fn.length),Ze=2*Math.pow(Math.log(on)/Math.LN2,2),Oe=Math.log(Ze/2)/Math.LN2,Qe=2*on-Ze,Ee=[],Je=[],Re=[],Be=pn=0,xn=fn.length;pn<xn;Be=++pn){if(rn=fn[Be],ke=Ie[Be],rn===65535){Ee.push(0),Je.push(0);break}if(rn-(nn=Se[rn].new)>=32768)for(Ee.push(0),Je.push(2*(Re.length+on-Be)),_e=_n=rn;rn<=ke?_n<=ke:_n>=ke;_e=rn<=ke?++_n:--_n)Re.push(Se[_e].new);else Ee.push(nn-rn),Je.push(0)}for(cn.writeUInt16(3),cn.writeUInt16(1),cn.writeUInt32(12),cn.writeUInt16(4),cn.writeUInt16(16+8*on+2*Re.length),cn.writeUInt16(0),cn.writeUInt16(an),cn.writeUInt16(Ze),cn.writeUInt16(Oe),cn.writeUInt16(Qe),vn=0,St=Ie.length;vn<St;vn++)_e=Ie[vn],cn.writeUInt16(_e);for(cn.writeUInt16(0),kn=0,sn=fn.length;kn<sn;kn++)_e=fn[kn],cn.writeUInt16(_e);for(er=0,gn=Ee.length;er<gn;er++)Pe=Ee[er],cn.writeUInt16(Pe);for(Zn=0,Pn=Je.length;Zn<Pn;Zn++)Xe=Je[Zn],cn.writeUInt16(Xe);for(Cn=0,Fn=Re.length;Cn<Fn;Cn++)je=Re[Cn],cn.writeUInt16(je);return{charMap:Se,subtable:cn.data,maxGlyphID:ze+1}}},xe}(),ue=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(t){var Se,_e,Ae;for(t.pos=this.offset,this.version=t.readUInt16(),Ae=t.readUInt16(),this.tables=[],this.unicode=null,_e=0;0<=Ae?_e<Ae:_e>Ae;_e=0<=Ae?++_e:--_e)Se=new ce(t,this.offset),this.tables.push(Se),Se.isUnicode&&this.unicode==null&&(this.unicode=Se);return!0},e.encode=function(t,Se){var _e,Ae;return Se==null&&(Se="macroman"),_e=ce.encode(t,Se),(Ae=new ne).writeUInt16(0),Ae.writeUInt16(1),_e.table=Ae.data.concat(_e.subtable),_e},e}(),he=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),le=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var Se,_e;for(_e=[],Se=0;Se<10;++Se)_e.push(t.readByte());return _e}(),this.charRange=function(){var Se,_e;for(_e=[],Se=0;Se<4;++Se)_e.push(t.readInt());return _e}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var Se,_e;for(_e=[],Se=0;Se<2;Se=++Se)_e.push(t.readInt());return _e}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),fe=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(t){var Se,_e,Ae;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var Ce;for(_e=t.readUInt16(),this.glyphNameIndex=[],Ce=0;0<=_e?Ce<_e:Ce>_e;Ce=0<=_e?++Ce:--Ce)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],Ae=[];t.pos<this.offset+this.length;)Se=t.readByte(),Ae.push(this.names.push(t.readString(Se)));return Ae;case 151552:return _e=t.readUInt16(),this.offsets=t.read(_e);case 196608:break;case 262144:return this.map=(function(){var Pe,Ee,Fe;for(Fe=[],Ce=Pe=0,Ee=this.file.maxp.numGlyphs;0<=Ee?Pe<Ee:Pe>Ee;Ce=0<=Ee?++Pe:--Pe)Fe.push(t.readUInt32());return Fe}).call(this)}},e}(),de=function(xe,e){this.raw=xe,this.length=xe.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(t){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re;for(t.pos=this.offset,t.readShort(),Se=t.readShort(),Ee=t.readShort(),_e=[],Ce=0;0<=Se?Ce<Se:Ce>Se;Ce=0<=Se?++Ce:--Ce)_e.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+Ee+t.readShort()});for(Fe={},Ce=Ie=0,Oe=_e.length;Ie<Oe;Ce=++Ie)Ae=_e[Ce],t.pos=Ae.offset,ke=t.readString(Ae.length),Pe=new de(ke,Ae),Fe[Re=Ae.nameID]==null&&(Fe[Re]=[]),Fe[Ae.nameID].push(Pe);this.strings=Fe,this.copyright=Fe[0],this.fontFamily=Fe[1],this.fontSubfamily=Fe[2],this.uniqueSubfamily=Fe[3],this.fontName=Fe[4],this.version=Fe[5];try{this.postscriptName=Fe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Fe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Fe[7],this.manufacturer=Fe[8],this.designer=Fe[9],this.description=Fe[10],this.vendorUrl=Fe[11],this.designerUrl=Fe[12],this.license=Fe[13],this.licenseUrl=Fe[14],this.preferredFamily=Fe[15],this.preferredSubfamily=Fe[17],this.compatibleFull=Fe[18],this.sampleText=Fe[19]},e}(),ge=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),me=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(t){var Se,_e,Ae,Ce,Pe,Ee,Fe;for(t.pos=this.offset,this.metrics=[],Se=0,Ee=this.file.hhea.numberOfMetrics;0<=Ee?Se<Ee:Se>Ee;Se=0<=Ee?++Se:--Se)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(Ae=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var ke,Ie;for(Ie=[],Se=ke=0;0<=Ae?ke<Ae:ke>Ae;Se=0<=Ae?++ke:--ke)Ie.push(t.readInt16());return Ie}(),this.widths=(function(){var ke,Ie,Oe,Re;for(Re=[],ke=0,Ie=(Oe=this.metrics).length;ke<Ie;ke++)Ce=Oe[ke],Re.push(Ce.advance);return Re}).call(this),_e=this.widths[this.widths.length-1],Fe=[],Se=Pe=0;0<=Ae?Pe<Ae:Pe>Ae;Se=0<=Ae?++Pe:--Pe)Fe.push(this.widths.push(_e));return Fe},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),ve=[].slice,be=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe;return t in this.cache?this.cache[t]:(Ce=this.file.loca,Se=this.file.contents,_e=Ce.indexOf(t),(Ae=Ce.lengthOf(t))===0?this.cache[t]=null:(Se.pos=this.offset+_e,Pe=(Ee=new ne(Se.read(Ae))).readShort(),ke=Ee.readShort(),Oe=Ee.readShort(),Fe=Ee.readShort(),Ie=Ee.readShort(),this.cache[t]=Pe===-1?new we(Ee,ke,Oe,Fe,Ie):new ye(Ee,Pe,ke,Oe,Fe,Ie),this.cache[t]))},e.prototype.encode=function(t,Se,_e){var Ae,Ce,Pe,Ee,Fe;for(Pe=[],Ce=[],Ee=0,Fe=Se.length;Ee<Fe;Ee++)Ae=t[Se[Ee]],Ce.push(Pe.length),Ae&&(Pe=Pe.concat(Ae.encode(_e)));return Ce.push(Pe.length),{table:Pe,offsets:Ce}},e}(),ye=function(){function xe(e,t,Se,_e,Ae,Ce){this.raw=e,this.numberOfContours=t,this.xMin=Se,this.yMin=_e,this.xMax=Ae,this.yMax=Ce,this.compound=!1}return xe.prototype.encode=function(){return this.raw.data},xe}(),we=function(){function xe(e,t,Se,_e,Ae){var Ce,Pe;for(this.raw=e,this.xMin=t,this.yMin=Se,this.xMax=_e,this.yMax=Ae,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ce=this.raw;Pe=Ce.readShort(),this.glyphOffsets.push(Ce.pos),this.glyphIDs.push(Ce.readUInt16()),32&Pe;)Ce.pos+=1&Pe?4:2,128&Pe?Ce.pos+=8:64&Pe?Ce.pos+=4:8&Pe&&(Ce.pos+=2)}return xe.prototype.encode=function(){var e,t,Se;for(t=new ne(ve.call(this.raw.data)),e=0,Se=this.glyphIDs.length;e<Se;++e)t.pos=this.glyphOffsets[e];return t.data},xe}(),Ne=function(xe){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(t){var Se,_e;return t.pos=this.offset,Se=this.file.head.indexToLocFormat,this.offsets=Se===0?(function(){var Ae,Ce;for(Ce=[],_e=0,Ae=this.length;_e<Ae;_e+=2)Ce.push(2*t.readUInt16());return Ce}).call(this):(function(){var Ae,Ce;for(Ce=[],_e=0,Ae=this.length;_e<Ae;_e+=4)Ce.push(t.readUInt32());return Ce}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,Se){for(var _e=new Uint32Array(this.offsets.length),Ae=0,Ce=0,Pe=0;Pe<_e.length;++Pe)if(_e[Pe]=Ae,Ce<Se.length&&Se[Ce]==Pe){++Ce,_e[Pe]=Ae;var Ee=this.offsets[Pe],Fe=this.offsets[Pe+1]-Ee;Fe>0&&(Ae+=Fe)}for(var ke=new Array(4*_e.length),Ie=0;Ie<_e.length;++Ie)ke[4*Ie+3]=255&_e[Ie],ke[4*Ie+2]=(65280&_e[Ie])>>8,ke[4*Ie+1]=(16711680&_e[Ie])>>16,ke[4*Ie]=(4278190080&_e[Ie])>>24;return ke},e}(),Le=function(){function xe(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return xe.prototype.generateCmap=function(){var e,t,Se,_e,Ae;for(t in _e=this.font.cmap.tables[0].codeMap,e={},Ae=this.subset)Se=Ae[t],e[t]=_e[Se];return e},xe.prototype.glyphsFor=function(e){var t,Se,_e,Ae,Ce,Pe,Ee;for(_e={},Ce=0,Pe=e.length;Ce<Pe;Ce++)_e[Ae=e[Ce]]=this.font.glyf.glyphFor(Ae);for(Ae in t=[],_e)(Se=_e[Ae])!=null&&Se.compound&&t.push.apply(t,Se.glyphIDs);if(t.length>0)for(Ae in Ee=this.glyphsFor(t))Se=Ee[Ae],_e[Ae]=Se;return _e},xe.prototype.encode=function(e,t){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,Ge;for(_e in Se=ue.encode(this.generateCmap(),"unicode"),Ce=this.glyphsFor(e),Re={0:0},Ge=Se.charMap)Re[(Ee=Ge[_e]).old]=Ee.new;for(Be in Oe=Se.maxGlyphID,Ce)Be in Re||(Re[Be]=Oe++);return ke=function(Ve){var ze,Xe;for(ze in Xe={},Ve)Xe[Ve[ze]]=ze;return Xe}(Re),Ie=Object.keys(ke).sort(function(Ve,ze){return Ve-ze}),je=function(){var Ve,ze,Xe;for(Xe=[],Ve=0,ze=Ie.length;Ve<ze;Ve++)Pe=Ie[Ve],Xe.push(ke[Pe]);return Xe}(),Ae=this.font.glyf.encode(Ce,je,Re),Fe=this.font.loca.encode(Ae.offsets,je),He={cmap:this.font.cmap.raw(),glyf:Ae.table,loca:Fe,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(He["OS/2"]=this.font.os2.raw()),this.font.directory.encode(He)},xe}();E.API.PDFObject=function(){var xe;function e(){}return xe=function(t,Se){return(Array(Se+1).join("0")+t).slice(-Se)},e.convert=function(t){var Se,_e,Ae,Ce;if(Array.isArray(t))return"["+function(){var Pe,Ee,Fe;for(Fe=[],Pe=0,Ee=t.length;Pe<Ee;Pe++)Se=t[Pe],Fe.push(e.convert(Se));return Fe}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+xe(t.getUTCFullYear(),4)+xe(t.getUTCMonth(),2)+xe(t.getUTCDate(),2)+xe(t.getUTCHours(),2)+xe(t.getUTCMinutes(),2)+xe(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(_e in Ae=["<<"],t)Ce=t[_e],Ae.push("/"+_e+" "+e.convert(Ce));return Ae.push(">>"),Ae.join(`
`)}return""+t},e}();pdfExports.GlobalWorkerOptions.workerSrc="../../public/pdf.worker.min.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(xe,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,Se){t.__proto__=Se}||function(t,Se){for(var _e in Se)Se.hasOwnProperty(_e)&&(t[_e]=Se[_e])},extendStatics(xe,e)};function __extends(xe,e){extendStatics(xe,e);function t(){this.constructor=xe}xe.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var __assign=function(){return __assign=Object.assign||function(e){for(var t,Se=1,_e=arguments.length;Se<_e;Se++){t=arguments[Se];for(var Ae in t)Object.prototype.hasOwnProperty.call(t,Ae)&&(e[Ae]=t[Ae])}return e},__assign.apply(this,arguments)};function __rest$2(xe,e){var t={};for(var Se in xe)Object.prototype.hasOwnProperty.call(xe,Se)&&e.indexOf(Se)<0&&(t[Se]=xe[Se]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,Se=Object.getOwnPropertySymbols(xe);_e<Se.length;_e++)e.indexOf(Se[_e])<0&&Object.prototype.propertyIsEnumerable.call(xe,Se[_e])&&(t[Se[_e]]=xe[Se[_e]]);return t}function __awaiter$1(xe,e,t,Se){function _e(Ae){return Ae instanceof t?Ae:new t(function(Ce){Ce(Ae)})}return new(t||(t=Promise))(function(Ae,Ce){function Pe(ke){try{Fe(Se.next(ke))}catch(Ie){Ce(Ie)}}function Ee(ke){try{Fe(Se.throw(ke))}catch(Ie){Ce(Ie)}}function Fe(ke){ke.done?Ae(ke.value):_e(ke.value).then(Pe,Ee)}Fe((Se=Se.apply(xe,[])).next())})}function __generator(xe,e){var t={label:0,sent:function(){if(Ae[0]&1)throw Ae[1];return Ae[1]},trys:[],ops:[]},Se,_e,Ae,Ce;return Ce={next:Pe(0),throw:Pe(1),return:Pe(2)},typeof Symbol=="function"&&(Ce[Symbol.iterator]=function(){return this}),Ce;function Pe(Fe){return function(ke){return Ee([Fe,ke])}}function Ee(Fe){if(Se)throw new TypeError("Generator is already executing.");for(;t;)try{if(Se=1,_e&&(Ae=Fe[0]&2?_e.return:Fe[0]?_e.throw||((Ae=_e.return)&&Ae.call(_e),0):_e.next)&&!(Ae=Ae.call(_e,Fe[1])).done)return Ae;switch(_e=0,Ae&&(Fe=[Fe[0]&2,Ae.value]),Fe[0]){case 0:case 1:Ae=Fe;break;case 4:return t.label++,{value:Fe[1],done:!1};case 5:t.label++,_e=Fe[1],Fe=[0];continue;case 7:Fe=t.ops.pop(),t.trys.pop();continue;default:if(Ae=t.trys,!(Ae=Ae.length>0&&Ae[Ae.length-1])&&(Fe[0]===6||Fe[0]===2)){t=0;continue}if(Fe[0]===3&&(!Ae||Fe[1]>Ae[0]&&Fe[1]<Ae[3])){t.label=Fe[1];break}if(Fe[0]===6&&t.label<Ae[1]){t.label=Ae[1],Ae=Fe;break}if(Ae&&t.label<Ae[2]){t.label=Ae[2],t.ops.push(Fe);break}Ae[2]&&t.ops.pop(),t.trys.pop();continue}Fe=e.call(xe,t)}catch(ke){Fe=[6,ke],_e=0}finally{Se=Ae=0}if(Fe[0]&5)throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}}function __spreadArrays(){for(var xe=0,e=0,t=arguments.length;e<t;e++)xe+=arguments[e].length;for(var Se=Array(xe),_e=0,e=0;e<t;e++)for(var Ae=arguments[e],Ce=0,Pe=Ae.length;Ce<Pe;Ce++,_e++)Se[_e]=Ae[Ce];return Se}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var encodeToBase64=function(xe){for(var e="",t=xe.length,Se=0;Se<t;Se+=3)e+=chars$1[xe[Se]>>2],e+=chars$1[(xe[Se]&3)<<4|xe[Se+1]>>4],e+=chars$1[(xe[Se+1]&15)<<2|xe[Se+2]>>6],e+=chars$1[xe[Se+2]&63];return t%3===2?e=e.substring(0,e.length-1)+"=":t%3===1&&(e=e.substring(0,e.length-2)+"=="),e},decodeFromBase64$1=function(xe){var e=xe.length*.75,t=xe.length,Se,_e=0,Ae,Ce,Pe,Ee;xe[xe.length-1]==="="&&(e--,xe[xe.length-2]==="="&&e--);var Fe=new Uint8Array(e);for(Se=0;Se<t;Se+=4)Ae=lookup$1[xe.charCodeAt(Se)],Ce=lookup$1[xe.charCodeAt(Se+1)],Pe=lookup$1[xe.charCodeAt(Se+2)],Ee=lookup$1[xe.charCodeAt(Se+3)],Fe[_e++]=Ae<<2|Ce>>4,Fe[_e++]=(Ce&15)<<4|Pe>>2,Fe[_e++]=(Pe&3)<<6|Ee&63;return Fe},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(xe){var e=xe.trim(),t=e.substring(0,100),Se=t.match(DATA_URI_PREFIX_REGEX);if(!Se)return decodeFromBase64$1(e);var _e=Se[0],Ae=e.substring(_e.length);return decodeFromBase64$1(Ae)},toCharCode=function(xe){return xe.charCodeAt(0)},toCodePoint=function(xe){return xe.codePointAt(0)},toHexStringOfMinLength=function(xe,e){return padStart$1(xe.toString(16),e,"0").toUpperCase()},toHexString=function(xe){return toHexStringOfMinLength(xe,2)},charFromCode=function(xe){return String.fromCharCode(xe)},charFromHexCode=function(xe){return charFromCode(parseInt(xe,16))},padStart$1=function(xe,e,t){for(var Se="",_e=0,Ae=e-xe.length;_e<Ae;_e++)Se+=t;return Se+xe},copyStringIntoBuffer=function(xe,e,t){for(var Se=xe.length,_e=0;_e<Se;_e++)e[t++]=xe.charCodeAt(_e);return Se},escapeRegExp=function(xe){return xe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(xe){return xe.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(xe){return/^[\n\f\r\u000B]$/.test(xe)},lineSplit=function(xe){return xe.split(/[\n\f\r\u000B]/)},mergeLines=function(xe){return xe.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(xe,e){var t=xe.charCodeAt(e),Se,_e=e+1,Ae=1;return t>=55296&&t<=56319&&xe.length>_e&&(Se=xe.charCodeAt(_e),Se>=56320&&Se<=57343&&(Ae=2)),[xe.slice(e,e+Ae),Ae]},charSplit=function(xe){for(var e=[],t=0,Se=xe.length;t<Se;){var _e=charAtIndex(xe,t),Ae=_e[0],Ce=_e[1];e.push(Ae),t+=Ce}return e},buildWordBreakRegex=function(xe){for(var e=escapedNewlineChars.join("|"),t=["$"],Se=0,_e=xe.length;Se<_e;Se++){var Ae=xe[Se];if(isNewlineChar(Ae))throw new TypeError("`wordBreak` must not include "+e);t.push(Ae===""?".":escapeRegExp(Ae))}var Ce=t.join("|");return new RegExp("("+e+")|((.*?)("+Ce+"))","gm")},breakTextIntoLines=function(xe,e,t,Se){for(var _e=buildWordBreakRegex(e),Ae=cleanText(xe).match(_e),Ce="",Pe=0,Ee=[],Fe=function(){Ce!==""&&Ee.push(Ce),Ce="",Pe=0},ke=0,Ie=Ae.length;ke<Ie;ke++){var Oe=Ae[ke];if(isNewlineChar(Oe))Fe();else{var Re=Se(Oe);Pe+Re>t&&Fe(),Ce+=Oe,Pe+=Re}}return Fe(),Ee},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(xe){var e=xe.match(dateRegex);if(e){var t=e[1],Se=e[2],_e=Se===void 0?"01":Se,Ae=e[3],Ce=Ae===void 0?"01":Ae,Pe=e[4],Ee=Pe===void 0?"00":Pe,Fe=e[5],ke=Fe===void 0?"00":Fe,Ie=e[6],Oe=Ie===void 0?"00":Ie,Re=e[7],Be=Re===void 0?"Z":Re,je=e[8],He=je===void 0?"00":je,Ge=e[9],Ve=Ge===void 0?"00":Ge,ze=Be==="Z"?"Z":""+Be+He+":"+Ve,Xe=new Date(t+"-"+_e+"-"+Ce+"T"+Ee+":"+ke+":"+Oe+ze);return Xe}},findLastMatch=function(xe,e){for(var t,Se=0,_e;Se<xe.length;){var Ae=xe.substring(Se).match(e);if(!Ae)return{match:_e,pos:Se};_e=Ae,Se+=((t=Ae.index)!==null&&t!==void 0?t:0)+Ae[0].length}return{match:_e,pos:Se}},last=function(xe){return xe[xe.length-1]},typedArrayFor=function(xe){if(xe instanceof Uint8Array)return xe;for(var e=xe.length,t=new Uint8Array(e),Se=0;Se<e;Se++)t[Se]=xe.charCodeAt(Se);return t},mergeIntoTypedArray=function(){for(var xe=[],e=0;e<arguments.length;e++)xe[e]=arguments[e];for(var t=xe.length,Se=[],_e=0;_e<t;_e++){var Ae=xe[_e];Se[_e]=Ae instanceof Uint8Array?Ae:typedArrayFor(Ae)}for(var Ce=0,_e=0;_e<t;_e++)Ce+=xe[_e].length;for(var Pe=new Uint8Array(Ce),Ee=0,Fe=0;Fe<t;Fe++)for(var ke=Se[Fe],Ie=0,Oe=ke.length;Ie<Oe;Ie++)Pe[Ee++]=ke[Ie];return Pe},mergeUint8Arrays=function(xe){for(var e=0,t=0,Se=xe.length;t<Se;t++)e+=xe[t].length;for(var _e=new Uint8Array(e),Ae=0,t=0,Se=xe.length;t<Se;t++){var Ce=xe[t];_e.set(Ce,Ae),Ae+=Ce.length}return _e},arrayAsString=function(xe){for(var e="",t=0,Se=xe.length;t<Se;t++)e+=charFromCode(xe[t]);return e},byAscendingId=function(xe,e){return xe.id-e.id},sortedUniq=function(xe,e){for(var t=[],Se=0,_e=xe.length;Se<_e;Se++){var Ae=xe[Se],Ce=xe[Se-1];(Se===0||e(Ae)!==e(Ce))&&t.push(Ae)}return t},reverseArray=function(xe){for(var e=xe.length,t=0,Se=Math.floor(e/2);t<Se;t++){var _e=t,Ae=e-t-1,Ce=xe[t];xe[_e]=xe[Ae],xe[Ae]=Ce}return xe},sum=function(xe){for(var e=0,t=0,Se=xe.length;t<Se;t++)e+=xe[t];return e},range=function(xe,e){for(var t=new Array(e-xe),Se=0,_e=t.length;Se<_e;Se++)t[Se]=xe+Se;return t},pluckIndices=function(xe,e){for(var t=new Array(e.length),Se=0,_e=e.length;Se<_e;Se++)t[Se]=xe[e[Se]];return t},canBeConvertedToUint8Array=function(xe){return xe instanceof Uint8Array||xe instanceof ArrayBuffer||typeof xe=="string"},toUint8Array=function(xe){if(typeof xe=="string")return decodeFromBase64DataUri(xe);if(xe instanceof ArrayBuffer)return new Uint8Array(xe);if(xe instanceof Uint8Array)return xe;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(xe){setTimeout(function(){return xe()},0)})},utf16Encode=function(xe,e){e===void 0&&(e=!0);var t=[];e&&t.push(65279);for(var Se=0,_e=xe.length;Se<_e;){var Ae=xe.codePointAt(Se);if(Ae<65536)t.push(Ae),Se+=1;else if(Ae<1114112)t.push(highSurrogate(Ae),lowSurrogate(Ae)),Se+=2;else throw new Error("Invalid code point: 0x"+toHexString(Ae))}return new Uint16Array(t)},isWithinBMP=function(xe){return xe>=0&&xe<=65535},hasSurrogates=function(xe){return xe>=65536&&xe<=1114111},highSurrogate=function(xe){return Math.floor((xe-65536)/1024)+55296},lowSurrogate=function(xe){return(xe-65536)%1024+56320},ByteOrder;(function(xe){xe.BigEndian="BigEndian",xe.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="".codePointAt(0),utf16Decode=function(xe,e){if(e===void 0&&(e=!0),xe.length<=1)return String.fromCodePoint(REPLACEMENT);for(var t=e?readBOM(xe):ByteOrder.BigEndian,Se=e?2:0,_e=[];xe.length-Se>=2;){var Ae=decodeValues(xe[Se++],xe[Se++],t);if(isHighSurrogate(Ae))if(xe.length-Se<2)_e.push(REPLACEMENT);else{var Ce=decodeValues(xe[Se++],xe[Se++],t);isLowSurrogate(Ce)?_e.push(Ae,Ce):_e.push(REPLACEMENT)}else isLowSurrogate(Ae)?(Se+=2,_e.push(REPLACEMENT)):_e.push(Ae)}return Se<xe.length&&_e.push(REPLACEMENT),String.fromCodePoint.apply(String,_e)},isHighSurrogate=function(xe){return xe>=55296&&xe<=56319},isLowSurrogate=function(xe){return xe>=56320&&xe<=57343},decodeValues=function(xe,e,t){if(t===ByteOrder.LittleEndian)return e<<8|xe;if(t===ByteOrder.BigEndian)return xe<<8|e;throw new Error("Invalid byteOrder: "+t)},readBOM=function(xe){return hasUtf16BigEndianBOM(xe)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(xe)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(xe){return xe[0]===254&&xe[1]===255},hasUtf16LittleEndianBOM=function(xe){return xe[0]===255&&xe[1]===254},hasUtf16BOM=function(xe){return hasUtf16BigEndianBOM(xe)||hasUtf16LittleEndianBOM(xe)},numberToString=function(xe){var e=String(xe);if(Math.abs(xe)<1){var t=parseInt(xe.toString().split("e-")[1]);if(t){var Se=xe<0;Se&&(xe*=-1),xe*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+xe.toString().substring(2),Se&&(e="-"+e)}}else{var t=parseInt(xe.toString().split("+")[1]);t>20&&(t-=20,xe/=Math.pow(10,t),e=xe.toString()+new Array(t+1).join("0"))}return e},sizeInBytes=function(xe){return Math.ceil(xe.toString(2).length/8)},bytesFor=function(xe){for(var e=new Uint8Array(sizeInBytes(xe)),t=1;t<=e.length;t++)e[t-1]=xe>>(e.length-t)*8;return e},error$1=function(xe){throw new Error(xe)},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(xe){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function t(Ae,Ce){return Object.prototype.hasOwnProperty.call(Ae,Ce)}xe.assign=function(Ae){for(var Ce=Array.prototype.slice.call(arguments,1);Ce.length;){var Pe=Ce.shift();if(Pe){if(typeof Pe!="object")throw new TypeError(Pe+"must be non-object");for(var Ee in Pe)t(Pe,Ee)&&(Ae[Ee]=Pe[Ee])}}return Ae},xe.shrinkBuf=function(Ae,Ce){return Ae.length===Ce?Ae:Ae.subarray?Ae.subarray(0,Ce):(Ae.length=Ce,Ae)};var Se={arraySet:function(Ae,Ce,Pe,Ee,Fe){if(Ce.subarray&&Ae.subarray){Ae.set(Ce.subarray(Pe,Pe+Ee),Fe);return}for(var ke=0;ke<Ee;ke++)Ae[Fe+ke]=Ce[Pe+ke]},flattenChunks:function(Ae){var Ce,Pe,Ee,Fe,ke,Ie;for(Ee=0,Ce=0,Pe=Ae.length;Ce<Pe;Ce++)Ee+=Ae[Ce].length;for(Ie=new Uint8Array(Ee),Fe=0,Ce=0,Pe=Ae.length;Ce<Pe;Ce++)ke=Ae[Ce],Ie.set(ke,Fe),Fe+=ke.length;return Ie}},_e={arraySet:function(Ae,Ce,Pe,Ee,Fe){for(var ke=0;ke<Ee;ke++)Ae[Fe+ke]=Ce[Pe+ke]},flattenChunks:function(Ae){return[].concat.apply([],Ae)}};xe.setTyped=function(Ae){Ae?(xe.Buf8=Uint8Array,xe.Buf16=Uint16Array,xe.Buf32=Int32Array,xe.assign(xe,Se)):(xe.Buf8=Array,xe.Buf16=Array,xe.Buf32=Array,xe.assign(xe,_e))},xe.setTyped(e)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var xe=requireCommon(),e=4,t=0,Se=1,_e=2;function Ae(Ln){for(var ar=Ln.length;--ar>=0;)Ln[ar]=0}var Ce=0,Pe=1,Ee=2,Fe=3,ke=258,Ie=29,Oe=256,Re=Oe+1+Ie,Be=30,je=19,He=2*Re+1,Ge=15,Ve=16,ze=7,Xe=256,We=16,Je=17,Qe=18,Ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],on=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],an=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fn=512,nn=new Array((Re+2)*2);Ae(nn);var cn=new Array(Be*2);Ae(cn);var dn=new Array(fn);Ae(dn);var bn=new Array(ke-Fe+1);Ae(bn);var pn=new Array(Ie);Ae(pn);var _n=new Array(Be);Ae(_n);function Nn(Ln,ar,sr,Tr,dr){this.static_tree=Ln,this.extra_bits=ar,this.extra_base=sr,this.elems=Tr,this.max_length=dr,this.has_stree=Ln&&Ln.length}var Un,xn,St;function sn(Ln,ar){this.dyn_tree=Ln,this.max_code=0,this.stat_desc=ar}function gn(Ln){return Ln<256?dn[Ln]:dn[256+(Ln>>>7)]}function Pn(Ln,ar){Ln.pending_buf[Ln.pending++]=ar&255,Ln.pending_buf[Ln.pending++]=ar>>>8&255}function Fn(Ln,ar,sr){Ln.bi_valid>Ve-sr?(Ln.bi_buf|=ar<<Ln.bi_valid&65535,Pn(Ln,Ln.bi_buf),Ln.bi_buf=ar>>Ve-Ln.bi_valid,Ln.bi_valid+=sr-Ve):(Ln.bi_buf|=ar<<Ln.bi_valid&65535,Ln.bi_valid+=sr)}function vn(Ln,ar,sr){Fn(Ln,sr[ar*2],sr[ar*2+1])}function kn(Ln,ar){var sr=0;do sr|=Ln&1,Ln>>>=1,sr<<=1;while(--ar>0);return sr>>>1}function Bn(Ln){Ln.bi_valid===16?(Pn(Ln,Ln.bi_buf),Ln.bi_buf=0,Ln.bi_valid=0):Ln.bi_valid>=8&&(Ln.pending_buf[Ln.pending++]=Ln.bi_buf&255,Ln.bi_buf>>=8,Ln.bi_valid-=8)}function er(Ln,ar){var sr=ar.dyn_tree,Tr=ar.max_code,dr=ar.stat_desc.static_tree,Pr=ar.stat_desc.has_stree,Hn=ar.stat_desc.extra_bits,Br=ar.stat_desc.extra_base,di=ar.stat_desc.max_length,An,Er,Lr,Qn,fr,wr,ui=0;for(Qn=0;Qn<=Ge;Qn++)Ln.bl_count[Qn]=0;for(sr[Ln.heap[Ln.heap_max]*2+1]=0,An=Ln.heap_max+1;An<He;An++)Er=Ln.heap[An],Qn=sr[sr[Er*2+1]*2+1]+1,Qn>di&&(Qn=di,ui++),sr[Er*2+1]=Qn,!(Er>Tr)&&(Ln.bl_count[Qn]++,fr=0,Er>=Br&&(fr=Hn[Er-Br]),wr=sr[Er*2],Ln.opt_len+=wr*(Qn+fr),Pr&&(Ln.static_len+=wr*(dr[Er*2+1]+fr)));if(ui!==0){do{for(Qn=di-1;Ln.bl_count[Qn]===0;)Qn--;Ln.bl_count[Qn]--,Ln.bl_count[Qn+1]+=2,Ln.bl_count[di]--,ui-=2}while(ui>0);for(Qn=di;Qn!==0;Qn--)for(Er=Ln.bl_count[Qn];Er!==0;)Lr=Ln.heap[--An],!(Lr>Tr)&&(sr[Lr*2+1]!==Qn&&(Ln.opt_len+=(Qn-sr[Lr*2+1])*sr[Lr*2],sr[Lr*2+1]=Qn),Er--)}}function Zn(Ln,ar,sr){var Tr=new Array(Ge+1),dr=0,Pr,Hn;for(Pr=1;Pr<=Ge;Pr++)Tr[Pr]=dr=dr+sr[Pr-1]<<1;for(Hn=0;Hn<=ar;Hn++){var Br=Ln[Hn*2+1];Br!==0&&(Ln[Hn*2]=kn(Tr[Br]++,Br))}}function Cn(){var Ln,ar,sr,Tr,dr,Pr=new Array(Ge+1);for(sr=0,Tr=0;Tr<Ie-1;Tr++)for(pn[Tr]=sr,Ln=0;Ln<1<<Ze[Tr];Ln++)bn[sr++]=Tr;for(bn[sr-1]=Tr,dr=0,Tr=0;Tr<16;Tr++)for(_n[Tr]=dr,Ln=0;Ln<1<<on[Tr];Ln++)dn[dr++]=Tr;for(dr>>=7;Tr<Be;Tr++)for(_n[Tr]=dr<<7,Ln=0;Ln<1<<on[Tr]-7;Ln++)dn[256+dr++]=Tr;for(ar=0;ar<=Ge;ar++)Pr[ar]=0;for(Ln=0;Ln<=143;)nn[Ln*2+1]=8,Ln++,Pr[8]++;for(;Ln<=255;)nn[Ln*2+1]=9,Ln++,Pr[9]++;for(;Ln<=279;)nn[Ln*2+1]=7,Ln++,Pr[7]++;for(;Ln<=287;)nn[Ln*2+1]=8,Ln++,Pr[8]++;for(Zn(nn,Re+1,Pr),Ln=0;Ln<Be;Ln++)cn[Ln*2+1]=5,cn[Ln*2]=kn(Ln,5);Un=new Nn(nn,Ze,Oe+1,Re,Ge),xn=new Nn(cn,on,0,Be,Ge),St=new Nn(new Array(0),an,0,je,ze)}function Tn(Ln){var ar;for(ar=0;ar<Re;ar++)Ln.dyn_ltree[ar*2]=0;for(ar=0;ar<Be;ar++)Ln.dyn_dtree[ar*2]=0;for(ar=0;ar<je;ar++)Ln.bl_tree[ar*2]=0;Ln.dyn_ltree[Xe*2]=1,Ln.opt_len=Ln.static_len=0,Ln.last_lit=Ln.matches=0}function qn(Ln){Ln.bi_valid>8?Pn(Ln,Ln.bi_buf):Ln.bi_valid>0&&(Ln.pending_buf[Ln.pending++]=Ln.bi_buf),Ln.bi_buf=0,Ln.bi_valid=0}function In(Ln,ar,sr,Tr){qn(Ln),Pn(Ln,sr),Pn(Ln,~sr),xe.arraySet(Ln.pending_buf,Ln.window,ar,sr,Ln.pending),Ln.pending+=sr}function wn(Ln,ar,sr,Tr){var dr=ar*2,Pr=sr*2;return Ln[dr]<Ln[Pr]||Ln[dr]===Ln[Pr]&&Tr[ar]<=Tr[sr]}function Vn(Ln,ar,sr){for(var Tr=Ln.heap[sr],dr=sr<<1;dr<=Ln.heap_len&&(dr<Ln.heap_len&&wn(ar,Ln.heap[dr+1],Ln.heap[dr],Ln.depth)&&dr++,!wn(ar,Tr,Ln.heap[dr],Ln.depth));)Ln.heap[sr]=Ln.heap[dr],sr=dr,dr<<=1;Ln.heap[sr]=Tr}function Yn(Ln,ar,sr){var Tr,dr,Pr=0,Hn,Br;if(Ln.last_lit!==0)do Tr=Ln.pending_buf[Ln.d_buf+Pr*2]<<8|Ln.pending_buf[Ln.d_buf+Pr*2+1],dr=Ln.pending_buf[Ln.l_buf+Pr],Pr++,Tr===0?vn(Ln,dr,ar):(Hn=bn[dr],vn(Ln,Hn+Oe+1,ar),Br=Ze[Hn],Br!==0&&(dr-=pn[Hn],Fn(Ln,dr,Br)),Tr--,Hn=gn(Tr),vn(Ln,Hn,sr),Br=on[Hn],Br!==0&&(Tr-=_n[Hn],Fn(Ln,Tr,Br)));while(Pr<Ln.last_lit);vn(Ln,Xe,ar)}function tr(Ln,ar){var sr=ar.dyn_tree,Tr=ar.stat_desc.static_tree,dr=ar.stat_desc.has_stree,Pr=ar.stat_desc.elems,Hn,Br,di=-1,An;for(Ln.heap_len=0,Ln.heap_max=He,Hn=0;Hn<Pr;Hn++)sr[Hn*2]!==0?(Ln.heap[++Ln.heap_len]=di=Hn,Ln.depth[Hn]=0):sr[Hn*2+1]=0;for(;Ln.heap_len<2;)An=Ln.heap[++Ln.heap_len]=di<2?++di:0,sr[An*2]=1,Ln.depth[An]=0,Ln.opt_len--,dr&&(Ln.static_len-=Tr[An*2+1]);for(ar.max_code=di,Hn=Ln.heap_len>>1;Hn>=1;Hn--)Vn(Ln,sr,Hn);An=Pr;do Hn=Ln.heap[1],Ln.heap[1]=Ln.heap[Ln.heap_len--],Vn(Ln,sr,1),Br=Ln.heap[1],Ln.heap[--Ln.heap_max]=Hn,Ln.heap[--Ln.heap_max]=Br,sr[An*2]=sr[Hn*2]+sr[Br*2],Ln.depth[An]=(Ln.depth[Hn]>=Ln.depth[Br]?Ln.depth[Hn]:Ln.depth[Br])+1,sr[Hn*2+1]=sr[Br*2+1]=An,Ln.heap[1]=An++,Vn(Ln,sr,1);while(Ln.heap_len>=2);Ln.heap[--Ln.heap_max]=Ln.heap[1],er(Ln,ar),Zn(sr,di,Ln.bl_count)}function cr(Ln,ar,sr){var Tr,dr=-1,Pr,Hn=ar[0*2+1],Br=0,di=7,An=4;for(Hn===0&&(di=138,An=3),ar[(sr+1)*2+1]=65535,Tr=0;Tr<=sr;Tr++)Pr=Hn,Hn=ar[(Tr+1)*2+1],!(++Br<di&&Pr===Hn)&&(Br<An?Ln.bl_tree[Pr*2]+=Br:Pr!==0?(Pr!==dr&&Ln.bl_tree[Pr*2]++,Ln.bl_tree[We*2]++):Br<=10?Ln.bl_tree[Je*2]++:Ln.bl_tree[Qe*2]++,Br=0,dr=Pr,Hn===0?(di=138,An=3):Pr===Hn?(di=6,An=3):(di=7,An=4))}function Kn(Ln,ar,sr){var Tr,dr=-1,Pr,Hn=ar[0*2+1],Br=0,di=7,An=4;for(Hn===0&&(di=138,An=3),Tr=0;Tr<=sr;Tr++)if(Pr=Hn,Hn=ar[(Tr+1)*2+1],!(++Br<di&&Pr===Hn)){if(Br<An)do vn(Ln,Pr,Ln.bl_tree);while(--Br!==0);else Pr!==0?(Pr!==dr&&(vn(Ln,Pr,Ln.bl_tree),Br--),vn(Ln,We,Ln.bl_tree),Fn(Ln,Br-3,2)):Br<=10?(vn(Ln,Je,Ln.bl_tree),Fn(Ln,Br-3,3)):(vn(Ln,Qe,Ln.bl_tree),Fn(Ln,Br-11,7));Br=0,dr=Pr,Hn===0?(di=138,An=3):Pr===Hn?(di=6,An=3):(di=7,An=4)}}function rr(Ln){var ar;for(cr(Ln,Ln.dyn_ltree,Ln.l_desc.max_code),cr(Ln,Ln.dyn_dtree,Ln.d_desc.max_code),tr(Ln,Ln.bl_desc),ar=je-1;ar>=3&&Ln.bl_tree[rn[ar]*2+1]===0;ar--);return Ln.opt_len+=3*(ar+1)+5+5+4,ar}function ir(Ln,ar,sr,Tr){var dr;for(Fn(Ln,ar-257,5),Fn(Ln,sr-1,5),Fn(Ln,Tr-4,4),dr=0;dr<Tr;dr++)Fn(Ln,Ln.bl_tree[rn[dr]*2+1],3);Kn(Ln,Ln.dyn_ltree,ar-1),Kn(Ln,Ln.dyn_dtree,sr-1)}function yr(Ln){var ar=4093624447,sr;for(sr=0;sr<=31;sr++,ar>>>=1)if(ar&1&&Ln.dyn_ltree[sr*2]!==0)return t;if(Ln.dyn_ltree[9*2]!==0||Ln.dyn_ltree[10*2]!==0||Ln.dyn_ltree[13*2]!==0)return Se;for(sr=32;sr<Oe;sr++)if(Ln.dyn_ltree[sr*2]!==0)return Se;return t}var xr=!1;function Nr(Ln){xr||(Cn(),xr=!0),Ln.l_desc=new sn(Ln.dyn_ltree,Un),Ln.d_desc=new sn(Ln.dyn_dtree,xn),Ln.bl_desc=new sn(Ln.bl_tree,St),Ln.bi_buf=0,Ln.bi_valid=0,Tn(Ln)}function jr(Ln,ar,sr,Tr){Fn(Ln,(Ce<<1)+(Tr?1:0),3),In(Ln,ar,sr)}function Vr(Ln){Fn(Ln,Pe<<1,3),vn(Ln,Xe,nn),Bn(Ln)}function Yr(Ln,ar,sr,Tr){var dr,Pr,Hn=0;Ln.level>0?(Ln.strm.data_type===_e&&(Ln.strm.data_type=yr(Ln)),tr(Ln,Ln.l_desc),tr(Ln,Ln.d_desc),Hn=rr(Ln),dr=Ln.opt_len+3+7>>>3,Pr=Ln.static_len+3+7>>>3,Pr<=dr&&(dr=Pr)):dr=Pr=sr+5,sr+4<=dr&&ar!==-1?jr(Ln,ar,sr,Tr):Ln.strategy===e||Pr===dr?(Fn(Ln,(Pe<<1)+(Tr?1:0),3),Yn(Ln,nn,cn)):(Fn(Ln,(Ee<<1)+(Tr?1:0),3),ir(Ln,Ln.l_desc.max_code+1,Ln.d_desc.max_code+1,Hn+1),Yn(Ln,Ln.dyn_ltree,Ln.dyn_dtree)),Tn(Ln),Tr&&qn(Ln)}function ei(Ln,ar,sr){return Ln.pending_buf[Ln.d_buf+Ln.last_lit*2]=ar>>>8&255,Ln.pending_buf[Ln.d_buf+Ln.last_lit*2+1]=ar&255,Ln.pending_buf[Ln.l_buf+Ln.last_lit]=sr&255,Ln.last_lit++,ar===0?Ln.dyn_ltree[sr*2]++:(Ln.matches++,ar--,Ln.dyn_ltree[(bn[sr]+Oe+1)*2]++,Ln.dyn_dtree[gn(ar)*2]++),Ln.last_lit===Ln.lit_bufsize-1}return trees._tr_init=Nr,trees._tr_stored_block=jr,trees._tr_flush_block=Yr,trees._tr_tally=ei,trees._tr_align=Vr,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){if(hasRequiredAdler32)return adler32_1;hasRequiredAdler32=1;function xe(e,t,Se,_e){for(var Ae=e&65535|0,Ce=e>>>16&65535|0,Pe=0;Se!==0;){Pe=Se>2e3?2e3:Se,Se-=Pe;do Ae=Ae+t[_e++]|0,Ce=Ce+Ae|0;while(--Pe);Ae%=65521,Ce%=65521}return Ae|Ce<<16|0}return adler32_1=xe,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function xe(){for(var Se,_e=[],Ae=0;Ae<256;Ae++){Se=Ae;for(var Ce=0;Ce<8;Ce++)Se=Se&1?3988292384^Se>>>1:Se>>>1;_e[Ae]=Se}return _e}var e=xe();function t(Se,_e,Ae,Ce){var Pe=e,Ee=Ce+Ae;Se^=-1;for(var Fe=Ce;Fe<Ee;Fe++)Se=Se>>>8^Pe[(Se^_e[Fe])&255];return Se^-1}return crc32_1=t,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var xe=requireCommon(),e=requireTrees(),t=requireAdler32(),Se=requireCrc32(),_e=requireMessages(),Ae=0,Ce=1,Pe=3,Ee=4,Fe=5,ke=0,Ie=1,Oe=-2,Re=-3,Be=-5,je=-1,He=1,Ge=2,Ve=3,ze=4,Xe=0,We=2,Je=8,Qe=9,Ze=15,on=8,an=29,rn=256,fn=rn+1+an,nn=30,cn=19,dn=2*fn+1,bn=15,pn=3,_n=258,Nn=_n+pn+1,Un=32,xn=42,St=69,sn=73,gn=91,Pn=103,Fn=113,vn=666,kn=1,Bn=2,er=3,Zn=4,Cn=3;function Tn(An,Er){return An.msg=_e[Er],Er}function qn(An){return(An<<1)-(An>4?9:0)}function In(An){for(var Er=An.length;--Er>=0;)An[Er]=0}function wn(An){var Er=An.state,Lr=Er.pending;Lr>An.avail_out&&(Lr=An.avail_out),Lr!==0&&(xe.arraySet(An.output,Er.pending_buf,Er.pending_out,Lr,An.next_out),An.next_out+=Lr,Er.pending_out+=Lr,An.total_out+=Lr,An.avail_out-=Lr,Er.pending-=Lr,Er.pending===0&&(Er.pending_out=0))}function Vn(An,Er){e._tr_flush_block(An,An.block_start>=0?An.block_start:-1,An.strstart-An.block_start,Er),An.block_start=An.strstart,wn(An.strm)}function Yn(An,Er){An.pending_buf[An.pending++]=Er}function tr(An,Er){An.pending_buf[An.pending++]=Er>>>8&255,An.pending_buf[An.pending++]=Er&255}function cr(An,Er,Lr,Qn){var fr=An.avail_in;return fr>Qn&&(fr=Qn),fr===0?0:(An.avail_in-=fr,xe.arraySet(Er,An.input,An.next_in,fr,Lr),An.state.wrap===1?An.adler=t(An.adler,Er,fr,Lr):An.state.wrap===2&&(An.adler=Se(An.adler,Er,fr,Lr)),An.next_in+=fr,An.total_in+=fr,fr)}function Kn(An,Er){var Lr=An.max_chain_length,Qn=An.strstart,fr,wr,ui=An.prev_length,Qr=An.nice_match,ri=An.strstart>An.w_size-Nn?An.strstart-(An.w_size-Nn):0,ki=An.window,gi=An.w_mask,Ri=An.prev,Fi=An.strstart+_n,Vi=ki[Qn+ui-1],ji=ki[Qn+ui];An.prev_length>=An.good_match&&(Lr>>=2),Qr>An.lookahead&&(Qr=An.lookahead);do if(fr=Er,!(ki[fr+ui]!==ji||ki[fr+ui-1]!==Vi||ki[fr]!==ki[Qn]||ki[++fr]!==ki[Qn+1])){Qn+=2,fr++;do;while(ki[++Qn]===ki[++fr]&&ki[++Qn]===ki[++fr]&&ki[++Qn]===ki[++fr]&&ki[++Qn]===ki[++fr]&&ki[++Qn]===ki[++fr]&&ki[++Qn]===ki[++fr]&&ki[++Qn]===ki[++fr]&&ki[++Qn]===ki[++fr]&&Qn<Fi);if(wr=_n-(Fi-Qn),Qn=Fi-_n,wr>ui){if(An.match_start=Er,ui=wr,wr>=Qr)break;Vi=ki[Qn+ui-1],ji=ki[Qn+ui]}}while((Er=Ri[Er&gi])>ri&&--Lr!==0);return ui<=An.lookahead?ui:An.lookahead}function rr(An){var Er=An.w_size,Lr,Qn,fr,wr,ui;do{if(wr=An.window_size-An.lookahead-An.strstart,An.strstart>=Er+(Er-Nn)){xe.arraySet(An.window,An.window,Er,Er,0),An.match_start-=Er,An.strstart-=Er,An.block_start-=Er,Qn=An.hash_size,Lr=Qn;do fr=An.head[--Lr],An.head[Lr]=fr>=Er?fr-Er:0;while(--Qn);Qn=Er,Lr=Qn;do fr=An.prev[--Lr],An.prev[Lr]=fr>=Er?fr-Er:0;while(--Qn);wr+=Er}if(An.strm.avail_in===0)break;if(Qn=cr(An.strm,An.window,An.strstart+An.lookahead,wr),An.lookahead+=Qn,An.lookahead+An.insert>=pn)for(ui=An.strstart-An.insert,An.ins_h=An.window[ui],An.ins_h=(An.ins_h<<An.hash_shift^An.window[ui+1])&An.hash_mask;An.insert&&(An.ins_h=(An.ins_h<<An.hash_shift^An.window[ui+pn-1])&An.hash_mask,An.prev[ui&An.w_mask]=An.head[An.ins_h],An.head[An.ins_h]=ui,ui++,An.insert--,!(An.lookahead+An.insert<pn)););}while(An.lookahead<Nn&&An.strm.avail_in!==0)}function ir(An,Er){var Lr=65535;for(Lr>An.pending_buf_size-5&&(Lr=An.pending_buf_size-5);;){if(An.lookahead<=1){if(rr(An),An.lookahead===0&&Er===Ae)return kn;if(An.lookahead===0)break}An.strstart+=An.lookahead,An.lookahead=0;var Qn=An.block_start+Lr;if((An.strstart===0||An.strstart>=Qn)&&(An.lookahead=An.strstart-Qn,An.strstart=Qn,Vn(An,!1),An.strm.avail_out===0)||An.strstart-An.block_start>=An.w_size-Nn&&(Vn(An,!1),An.strm.avail_out===0))return kn}return An.insert=0,Er===Ee?(Vn(An,!0),An.strm.avail_out===0?er:Zn):(An.strstart>An.block_start&&(Vn(An,!1),An.strm.avail_out===0),kn)}function yr(An,Er){for(var Lr,Qn;;){if(An.lookahead<Nn){if(rr(An),An.lookahead<Nn&&Er===Ae)return kn;if(An.lookahead===0)break}if(Lr=0,An.lookahead>=pn&&(An.ins_h=(An.ins_h<<An.hash_shift^An.window[An.strstart+pn-1])&An.hash_mask,Lr=An.prev[An.strstart&An.w_mask]=An.head[An.ins_h],An.head[An.ins_h]=An.strstart),Lr!==0&&An.strstart-Lr<=An.w_size-Nn&&(An.match_length=Kn(An,Lr)),An.match_length>=pn)if(Qn=e._tr_tally(An,An.strstart-An.match_start,An.match_length-pn),An.lookahead-=An.match_length,An.match_length<=An.max_lazy_match&&An.lookahead>=pn){An.match_length--;do An.strstart++,An.ins_h=(An.ins_h<<An.hash_shift^An.window[An.strstart+pn-1])&An.hash_mask,Lr=An.prev[An.strstart&An.w_mask]=An.head[An.ins_h],An.head[An.ins_h]=An.strstart;while(--An.match_length!==0);An.strstart++}else An.strstart+=An.match_length,An.match_length=0,An.ins_h=An.window[An.strstart],An.ins_h=(An.ins_h<<An.hash_shift^An.window[An.strstart+1])&An.hash_mask;else Qn=e._tr_tally(An,0,An.window[An.strstart]),An.lookahead--,An.strstart++;if(Qn&&(Vn(An,!1),An.strm.avail_out===0))return kn}return An.insert=An.strstart<pn-1?An.strstart:pn-1,Er===Ee?(Vn(An,!0),An.strm.avail_out===0?er:Zn):An.last_lit&&(Vn(An,!1),An.strm.avail_out===0)?kn:Bn}function xr(An,Er){for(var Lr,Qn,fr;;){if(An.lookahead<Nn){if(rr(An),An.lookahead<Nn&&Er===Ae)return kn;if(An.lookahead===0)break}if(Lr=0,An.lookahead>=pn&&(An.ins_h=(An.ins_h<<An.hash_shift^An.window[An.strstart+pn-1])&An.hash_mask,Lr=An.prev[An.strstart&An.w_mask]=An.head[An.ins_h],An.head[An.ins_h]=An.strstart),An.prev_length=An.match_length,An.prev_match=An.match_start,An.match_length=pn-1,Lr!==0&&An.prev_length<An.max_lazy_match&&An.strstart-Lr<=An.w_size-Nn&&(An.match_length=Kn(An,Lr),An.match_length<=5&&(An.strategy===He||An.match_length===pn&&An.strstart-An.match_start>4096)&&(An.match_length=pn-1)),An.prev_length>=pn&&An.match_length<=An.prev_length){fr=An.strstart+An.lookahead-pn,Qn=e._tr_tally(An,An.strstart-1-An.prev_match,An.prev_length-pn),An.lookahead-=An.prev_length-1,An.prev_length-=2;do++An.strstart<=fr&&(An.ins_h=(An.ins_h<<An.hash_shift^An.window[An.strstart+pn-1])&An.hash_mask,Lr=An.prev[An.strstart&An.w_mask]=An.head[An.ins_h],An.head[An.ins_h]=An.strstart);while(--An.prev_length!==0);if(An.match_available=0,An.match_length=pn-1,An.strstart++,Qn&&(Vn(An,!1),An.strm.avail_out===0))return kn}else if(An.match_available){if(Qn=e._tr_tally(An,0,An.window[An.strstart-1]),Qn&&Vn(An,!1),An.strstart++,An.lookahead--,An.strm.avail_out===0)return kn}else An.match_available=1,An.strstart++,An.lookahead--}return An.match_available&&(Qn=e._tr_tally(An,0,An.window[An.strstart-1]),An.match_available=0),An.insert=An.strstart<pn-1?An.strstart:pn-1,Er===Ee?(Vn(An,!0),An.strm.avail_out===0?er:Zn):An.last_lit&&(Vn(An,!1),An.strm.avail_out===0)?kn:Bn}function Nr(An,Er){for(var Lr,Qn,fr,wr,ui=An.window;;){if(An.lookahead<=_n){if(rr(An),An.lookahead<=_n&&Er===Ae)return kn;if(An.lookahead===0)break}if(An.match_length=0,An.lookahead>=pn&&An.strstart>0&&(fr=An.strstart-1,Qn=ui[fr],Qn===ui[++fr]&&Qn===ui[++fr]&&Qn===ui[++fr])){wr=An.strstart+_n;do;while(Qn===ui[++fr]&&Qn===ui[++fr]&&Qn===ui[++fr]&&Qn===ui[++fr]&&Qn===ui[++fr]&&Qn===ui[++fr]&&Qn===ui[++fr]&&Qn===ui[++fr]&&fr<wr);An.match_length=_n-(wr-fr),An.match_length>An.lookahead&&(An.match_length=An.lookahead)}if(An.match_length>=pn?(Lr=e._tr_tally(An,1,An.match_length-pn),An.lookahead-=An.match_length,An.strstart+=An.match_length,An.match_length=0):(Lr=e._tr_tally(An,0,An.window[An.strstart]),An.lookahead--,An.strstart++),Lr&&(Vn(An,!1),An.strm.avail_out===0))return kn}return An.insert=0,Er===Ee?(Vn(An,!0),An.strm.avail_out===0?er:Zn):An.last_lit&&(Vn(An,!1),An.strm.avail_out===0)?kn:Bn}function jr(An,Er){for(var Lr;;){if(An.lookahead===0&&(rr(An),An.lookahead===0)){if(Er===Ae)return kn;break}if(An.match_length=0,Lr=e._tr_tally(An,0,An.window[An.strstart]),An.lookahead--,An.strstart++,Lr&&(Vn(An,!1),An.strm.avail_out===0))return kn}return An.insert=0,Er===Ee?(Vn(An,!0),An.strm.avail_out===0?er:Zn):An.last_lit&&(Vn(An,!1),An.strm.avail_out===0)?kn:Bn}function Vr(An,Er,Lr,Qn,fr){this.good_length=An,this.max_lazy=Er,this.nice_length=Lr,this.max_chain=Qn,this.func=fr}var Yr;Yr=[new Vr(0,0,0,0,ir),new Vr(4,4,8,4,yr),new Vr(4,5,16,8,yr),new Vr(4,6,32,32,yr),new Vr(4,4,16,16,xr),new Vr(8,16,32,32,xr),new Vr(8,16,128,128,xr),new Vr(8,32,128,256,xr),new Vr(32,128,258,1024,xr),new Vr(32,258,258,4096,xr)];function ei(An){An.window_size=2*An.w_size,In(An.head),An.max_lazy_match=Yr[An.level].max_lazy,An.good_match=Yr[An.level].good_length,An.nice_match=Yr[An.level].nice_length,An.max_chain_length=Yr[An.level].max_chain,An.strstart=0,An.block_start=0,An.lookahead=0,An.insert=0,An.match_length=An.prev_length=pn-1,An.match_available=0,An.ins_h=0}function Ln(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Je,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new xe.Buf16(dn*2),this.dyn_dtree=new xe.Buf16((2*nn+1)*2),this.bl_tree=new xe.Buf16((2*cn+1)*2),In(this.dyn_ltree),In(this.dyn_dtree),In(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new xe.Buf16(bn+1),this.heap=new xe.Buf16(2*fn+1),In(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new xe.Buf16(2*fn+1),In(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ar(An){var Er;return!An||!An.state?Tn(An,Oe):(An.total_in=An.total_out=0,An.data_type=We,Er=An.state,Er.pending=0,Er.pending_out=0,Er.wrap<0&&(Er.wrap=-Er.wrap),Er.status=Er.wrap?xn:Fn,An.adler=Er.wrap===2?0:1,Er.last_flush=Ae,e._tr_init(Er),ke)}function sr(An){var Er=ar(An);return Er===ke&&ei(An.state),Er}function Tr(An,Er){return!An||!An.state||An.state.wrap!==2?Oe:(An.state.gzhead=Er,ke)}function dr(An,Er,Lr,Qn,fr,wr){if(!An)return Oe;var ui=1;if(Er===je&&(Er=6),Qn<0?(ui=0,Qn=-Qn):Qn>15&&(ui=2,Qn-=16),fr<1||fr>Qe||Lr!==Je||Qn<8||Qn>15||Er<0||Er>9||wr<0||wr>ze)return Tn(An,Oe);Qn===8&&(Qn=9);var Qr=new Ln;return An.state=Qr,Qr.strm=An,Qr.wrap=ui,Qr.gzhead=null,Qr.w_bits=Qn,Qr.w_size=1<<Qr.w_bits,Qr.w_mask=Qr.w_size-1,Qr.hash_bits=fr+7,Qr.hash_size=1<<Qr.hash_bits,Qr.hash_mask=Qr.hash_size-1,Qr.hash_shift=~~((Qr.hash_bits+pn-1)/pn),Qr.window=new xe.Buf8(Qr.w_size*2),Qr.head=new xe.Buf16(Qr.hash_size),Qr.prev=new xe.Buf16(Qr.w_size),Qr.lit_bufsize=1<<fr+6,Qr.pending_buf_size=Qr.lit_bufsize*4,Qr.pending_buf=new xe.Buf8(Qr.pending_buf_size),Qr.d_buf=1*Qr.lit_bufsize,Qr.l_buf=3*Qr.lit_bufsize,Qr.level=Er,Qr.strategy=wr,Qr.method=Lr,sr(An)}function Pr(An,Er){return dr(An,Er,Je,Ze,on,Xe)}function Hn(An,Er){var Lr,Qn,fr,wr;if(!An||!An.state||Er>Fe||Er<0)return An?Tn(An,Oe):Oe;if(Qn=An.state,!An.output||!An.input&&An.avail_in!==0||Qn.status===vn&&Er!==Ee)return Tn(An,An.avail_out===0?Be:Oe);if(Qn.strm=An,Lr=Qn.last_flush,Qn.last_flush=Er,Qn.status===xn)if(Qn.wrap===2)An.adler=0,Yn(Qn,31),Yn(Qn,139),Yn(Qn,8),Qn.gzhead?(Yn(Qn,(Qn.gzhead.text?1:0)+(Qn.gzhead.hcrc?2:0)+(Qn.gzhead.extra?4:0)+(Qn.gzhead.name?8:0)+(Qn.gzhead.comment?16:0)),Yn(Qn,Qn.gzhead.time&255),Yn(Qn,Qn.gzhead.time>>8&255),Yn(Qn,Qn.gzhead.time>>16&255),Yn(Qn,Qn.gzhead.time>>24&255),Yn(Qn,Qn.level===9?2:Qn.strategy>=Ge||Qn.level<2?4:0),Yn(Qn,Qn.gzhead.os&255),Qn.gzhead.extra&&Qn.gzhead.extra.length&&(Yn(Qn,Qn.gzhead.extra.length&255),Yn(Qn,Qn.gzhead.extra.length>>8&255)),Qn.gzhead.hcrc&&(An.adler=Se(An.adler,Qn.pending_buf,Qn.pending,0)),Qn.gzindex=0,Qn.status=St):(Yn(Qn,0),Yn(Qn,0),Yn(Qn,0),Yn(Qn,0),Yn(Qn,0),Yn(Qn,Qn.level===9?2:Qn.strategy>=Ge||Qn.level<2?4:0),Yn(Qn,Cn),Qn.status=Fn);else{var ui=Je+(Qn.w_bits-8<<4)<<8,Qr=-1;Qn.strategy>=Ge||Qn.level<2?Qr=0:Qn.level<6?Qr=1:Qn.level===6?Qr=2:Qr=3,ui|=Qr<<6,Qn.strstart!==0&&(ui|=Un),ui+=31-ui%31,Qn.status=Fn,tr(Qn,ui),Qn.strstart!==0&&(tr(Qn,An.adler>>>16),tr(Qn,An.adler&65535)),An.adler=1}if(Qn.status===St)if(Qn.gzhead.extra){for(fr=Qn.pending;Qn.gzindex<(Qn.gzhead.extra.length&65535)&&!(Qn.pending===Qn.pending_buf_size&&(Qn.gzhead.hcrc&&Qn.pending>fr&&(An.adler=Se(An.adler,Qn.pending_buf,Qn.pending-fr,fr)),wn(An),fr=Qn.pending,Qn.pending===Qn.pending_buf_size));)Yn(Qn,Qn.gzhead.extra[Qn.gzindex]&255),Qn.gzindex++;Qn.gzhead.hcrc&&Qn.pending>fr&&(An.adler=Se(An.adler,Qn.pending_buf,Qn.pending-fr,fr)),Qn.gzindex===Qn.gzhead.extra.length&&(Qn.gzindex=0,Qn.status=sn)}else Qn.status=sn;if(Qn.status===sn)if(Qn.gzhead.name){fr=Qn.pending;do{if(Qn.pending===Qn.pending_buf_size&&(Qn.gzhead.hcrc&&Qn.pending>fr&&(An.adler=Se(An.adler,Qn.pending_buf,Qn.pending-fr,fr)),wn(An),fr=Qn.pending,Qn.pending===Qn.pending_buf_size)){wr=1;break}Qn.gzindex<Qn.gzhead.name.length?wr=Qn.gzhead.name.charCodeAt(Qn.gzindex++)&255:wr=0,Yn(Qn,wr)}while(wr!==0);Qn.gzhead.hcrc&&Qn.pending>fr&&(An.adler=Se(An.adler,Qn.pending_buf,Qn.pending-fr,fr)),wr===0&&(Qn.gzindex=0,Qn.status=gn)}else Qn.status=gn;if(Qn.status===gn)if(Qn.gzhead.comment){fr=Qn.pending;do{if(Qn.pending===Qn.pending_buf_size&&(Qn.gzhead.hcrc&&Qn.pending>fr&&(An.adler=Se(An.adler,Qn.pending_buf,Qn.pending-fr,fr)),wn(An),fr=Qn.pending,Qn.pending===Qn.pending_buf_size)){wr=1;break}Qn.gzindex<Qn.gzhead.comment.length?wr=Qn.gzhead.comment.charCodeAt(Qn.gzindex++)&255:wr=0,Yn(Qn,wr)}while(wr!==0);Qn.gzhead.hcrc&&Qn.pending>fr&&(An.adler=Se(An.adler,Qn.pending_buf,Qn.pending-fr,fr)),wr===0&&(Qn.status=Pn)}else Qn.status=Pn;if(Qn.status===Pn&&(Qn.gzhead.hcrc?(Qn.pending+2>Qn.pending_buf_size&&wn(An),Qn.pending+2<=Qn.pending_buf_size&&(Yn(Qn,An.adler&255),Yn(Qn,An.adler>>8&255),An.adler=0,Qn.status=Fn)):Qn.status=Fn),Qn.pending!==0){if(wn(An),An.avail_out===0)return Qn.last_flush=-1,ke}else if(An.avail_in===0&&qn(Er)<=qn(Lr)&&Er!==Ee)return Tn(An,Be);if(Qn.status===vn&&An.avail_in!==0)return Tn(An,Be);if(An.avail_in!==0||Qn.lookahead!==0||Er!==Ae&&Qn.status!==vn){var ri=Qn.strategy===Ge?jr(Qn,Er):Qn.strategy===Ve?Nr(Qn,Er):Yr[Qn.level].func(Qn,Er);if((ri===er||ri===Zn)&&(Qn.status=vn),ri===kn||ri===er)return An.avail_out===0&&(Qn.last_flush=-1),ke;if(ri===Bn&&(Er===Ce?e._tr_align(Qn):Er!==Fe&&(e._tr_stored_block(Qn,0,0,!1),Er===Pe&&(In(Qn.head),Qn.lookahead===0&&(Qn.strstart=0,Qn.block_start=0,Qn.insert=0))),wn(An),An.avail_out===0))return Qn.last_flush=-1,ke}return Er!==Ee?ke:Qn.wrap<=0?Ie:(Qn.wrap===2?(Yn(Qn,An.adler&255),Yn(Qn,An.adler>>8&255),Yn(Qn,An.adler>>16&255),Yn(Qn,An.adler>>24&255),Yn(Qn,An.total_in&255),Yn(Qn,An.total_in>>8&255),Yn(Qn,An.total_in>>16&255),Yn(Qn,An.total_in>>24&255)):(tr(Qn,An.adler>>>16),tr(Qn,An.adler&65535)),wn(An),Qn.wrap>0&&(Qn.wrap=-Qn.wrap),Qn.pending!==0?ke:Ie)}function Br(An){var Er;return!An||!An.state?Oe:(Er=An.state.status,Er!==xn&&Er!==St&&Er!==sn&&Er!==gn&&Er!==Pn&&Er!==Fn&&Er!==vn?Tn(An,Oe):(An.state=null,Er===Fn?Tn(An,Re):ke))}function di(An,Er){var Lr=Er.length,Qn,fr,wr,ui,Qr,ri,ki,gi;if(!An||!An.state||(Qn=An.state,ui=Qn.wrap,ui===2||ui===1&&Qn.status!==xn||Qn.lookahead))return Oe;for(ui===1&&(An.adler=t(An.adler,Er,Lr,0)),Qn.wrap=0,Lr>=Qn.w_size&&(ui===0&&(In(Qn.head),Qn.strstart=0,Qn.block_start=0,Qn.insert=0),gi=new xe.Buf8(Qn.w_size),xe.arraySet(gi,Er,Lr-Qn.w_size,Qn.w_size,0),Er=gi,Lr=Qn.w_size),Qr=An.avail_in,ri=An.next_in,ki=An.input,An.avail_in=Lr,An.next_in=0,An.input=Er,rr(Qn);Qn.lookahead>=pn;){fr=Qn.strstart,wr=Qn.lookahead-(pn-1);do Qn.ins_h=(Qn.ins_h<<Qn.hash_shift^Qn.window[fr+pn-1])&Qn.hash_mask,Qn.prev[fr&Qn.w_mask]=Qn.head[Qn.ins_h],Qn.head[Qn.ins_h]=fr,fr++;while(--wr);Qn.strstart=fr,Qn.lookahead=pn-1,rr(Qn)}return Qn.strstart+=Qn.lookahead,Qn.block_start=Qn.strstart,Qn.insert=Qn.lookahead,Qn.lookahead=0,Qn.match_length=Qn.prev_length=pn-1,Qn.match_available=0,An.next_in=ri,An.input=ki,An.avail_in=Qr,Qn.wrap=ui,ke}return deflate.deflateInit=Pr,deflate.deflateInit2=dr,deflate.deflateReset=sr,deflate.deflateResetKeep=ar,deflate.deflateSetHeader=Tr,deflate.deflate=Hn,deflate.deflateEnd=Br,deflate.deflateSetDictionary=di,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var xe=requireCommon(),e=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var Se=new xe.Buf8(256),_e=0;_e<256;_e++)Se[_e]=_e>=252?6:_e>=248?5:_e>=240?4:_e>=224?3:_e>=192?2:1;Se[254]=Se[254]=1,strings.string2buf=function(Ce){var Pe,Ee,Fe,ke,Ie,Oe=Ce.length,Re=0;for(ke=0;ke<Oe;ke++)Ee=Ce.charCodeAt(ke),(Ee&64512)===55296&&ke+1<Oe&&(Fe=Ce.charCodeAt(ke+1),(Fe&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(Fe-56320),ke++)),Re+=Ee<128?1:Ee<2048?2:Ee<65536?3:4;for(Pe=new xe.Buf8(Re),Ie=0,ke=0;Ie<Re;ke++)Ee=Ce.charCodeAt(ke),(Ee&64512)===55296&&ke+1<Oe&&(Fe=Ce.charCodeAt(ke+1),(Fe&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(Fe-56320),ke++)),Ee<128?Pe[Ie++]=Ee:Ee<2048?(Pe[Ie++]=192|Ee>>>6,Pe[Ie++]=128|Ee&63):Ee<65536?(Pe[Ie++]=224|Ee>>>12,Pe[Ie++]=128|Ee>>>6&63,Pe[Ie++]=128|Ee&63):(Pe[Ie++]=240|Ee>>>18,Pe[Ie++]=128|Ee>>>12&63,Pe[Ie++]=128|Ee>>>6&63,Pe[Ie++]=128|Ee&63);return Pe};function Ae(Ce,Pe){if(Pe<65534&&(Ce.subarray&&t||!Ce.subarray&&e))return String.fromCharCode.apply(null,xe.shrinkBuf(Ce,Pe));for(var Ee="",Fe=0;Fe<Pe;Fe++)Ee+=String.fromCharCode(Ce[Fe]);return Ee}return strings.buf2binstring=function(Ce){return Ae(Ce,Ce.length)},strings.binstring2buf=function(Ce){for(var Pe=new xe.Buf8(Ce.length),Ee=0,Fe=Pe.length;Ee<Fe;Ee++)Pe[Ee]=Ce.charCodeAt(Ee);return Pe},strings.buf2string=function(Ce,Pe){var Ee,Fe,ke,Ie,Oe=Pe||Ce.length,Re=new Array(Oe*2);for(Fe=0,Ee=0;Ee<Oe;){if(ke=Ce[Ee++],ke<128){Re[Fe++]=ke;continue}if(Ie=Se[ke],Ie>4){Re[Fe++]=65533,Ee+=Ie-1;continue}for(ke&=Ie===2?31:Ie===3?15:7;Ie>1&&Ee<Oe;)ke=ke<<6|Ce[Ee++]&63,Ie--;if(Ie>1){Re[Fe++]=65533;continue}ke<65536?Re[Fe++]=ke:(ke-=65536,Re[Fe++]=55296|ke>>10&1023,Re[Fe++]=56320|ke&1023)}return Ae(Re,Fe)},strings.utf8border=function(Ce,Pe){var Ee;for(Pe=Pe||Ce.length,Pe>Ce.length&&(Pe=Ce.length),Ee=Pe-1;Ee>=0&&(Ce[Ee]&192)===128;)Ee--;return Ee<0||Ee===0?Pe:Ee+Se[Ce[Ee]]>Pe?Ee:Pe},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function xe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=xe,zstream}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var xe=requireDeflate$1(),e=requireCommon(),t=requireStrings(),Se=requireMessages(),_e=requireZstream(),Ae=Object.prototype.toString,Ce=0,Pe=4,Ee=0,Fe=1,ke=2,Ie=-1,Oe=0,Re=8;function Be(Ve){if(!(this instanceof Be))return new Be(Ve);this.options=e.assign({level:Ie,method:Re,chunkSize:16384,windowBits:15,memLevel:8,strategy:Oe,to:""},Ve||{});var ze=this.options;ze.raw&&ze.windowBits>0?ze.windowBits=-ze.windowBits:ze.gzip&&ze.windowBits>0&&ze.windowBits<16&&(ze.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _e,this.strm.avail_out=0;var Xe=xe.deflateInit2(this.strm,ze.level,ze.method,ze.windowBits,ze.memLevel,ze.strategy);if(Xe!==Ee)throw new Error(Se[Xe]);if(ze.header&&xe.deflateSetHeader(this.strm,ze.header),ze.dictionary){var We;if(typeof ze.dictionary=="string"?We=t.string2buf(ze.dictionary):Ae.call(ze.dictionary)==="[object ArrayBuffer]"?We=new Uint8Array(ze.dictionary):We=ze.dictionary,Xe=xe.deflateSetDictionary(this.strm,We),Xe!==Ee)throw new Error(Se[Xe]);this._dict_set=!0}}Be.prototype.push=function(Ve,ze){var Xe=this.strm,We=this.options.chunkSize,Je,Qe;if(this.ended)return!1;Qe=ze===~~ze?ze:ze===!0?Pe:Ce,typeof Ve=="string"?Xe.input=t.string2buf(Ve):Ae.call(Ve)==="[object ArrayBuffer]"?Xe.input=new Uint8Array(Ve):Xe.input=Ve,Xe.next_in=0,Xe.avail_in=Xe.input.length;do{if(Xe.avail_out===0&&(Xe.output=new e.Buf8(We),Xe.next_out=0,Xe.avail_out=We),Je=xe.deflate(Xe,Qe),Je!==Fe&&Je!==Ee)return this.onEnd(Je),this.ended=!0,!1;(Xe.avail_out===0||Xe.avail_in===0&&(Qe===Pe||Qe===ke))&&(this.options.to==="string"?this.onData(t.buf2binstring(e.shrinkBuf(Xe.output,Xe.next_out))):this.onData(e.shrinkBuf(Xe.output,Xe.next_out)))}while((Xe.avail_in>0||Xe.avail_out===0)&&Je!==Fe);return Qe===Pe?(Je=xe.deflateEnd(this.strm),this.onEnd(Je),this.ended=!0,Je===Ee):(Qe===ke&&(this.onEnd(Ee),Xe.avail_out=0),!0)},Be.prototype.onData=function(Ve){this.chunks.push(Ve)},Be.prototype.onEnd=function(Ve){Ve===Ee&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg};function je(Ve,ze){var Xe=new Be(ze);if(Xe.push(Ve,!0),Xe.err)throw Xe.msg||Se[Xe.err];return Xe.result}function He(Ve,ze){return ze=ze||{},ze.raw=!0,je(Ve,ze)}function Ge(Ve,ze){return ze=ze||{},ze.gzip=!0,je(Ve,ze)}return deflate$1.Deflate=Be,deflate$1.deflate=je,deflate$1.deflateRaw=He,deflate$1.gzip=Ge,deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var xe=30,e=12;return inffast=function(Se,_e){var Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,Ge,Ve,ze,Xe,We,Je,Qe,Ze,on,an,rn,fn,nn;Ae=Se.state,Ce=Se.next_in,fn=Se.input,Pe=Ce+(Se.avail_in-5),Ee=Se.next_out,nn=Se.output,Fe=Ee-(_e-Se.avail_out),ke=Ee+(Se.avail_out-257),Ie=Ae.dmax,Oe=Ae.wsize,Re=Ae.whave,Be=Ae.wnext,je=Ae.window,He=Ae.hold,Ge=Ae.bits,Ve=Ae.lencode,ze=Ae.distcode,Xe=(1<<Ae.lenbits)-1,We=(1<<Ae.distbits)-1;e:do{Ge<15&&(He+=fn[Ce++]<<Ge,Ge+=8,He+=fn[Ce++]<<Ge,Ge+=8),Je=Ve[He&Xe];t:for(;;){if(Qe=Je>>>24,He>>>=Qe,Ge-=Qe,Qe=Je>>>16&255,Qe===0)nn[Ee++]=Je&65535;else if(Qe&16){Ze=Je&65535,Qe&=15,Qe&&(Ge<Qe&&(He+=fn[Ce++]<<Ge,Ge+=8),Ze+=He&(1<<Qe)-1,He>>>=Qe,Ge-=Qe),Ge<15&&(He+=fn[Ce++]<<Ge,Ge+=8,He+=fn[Ce++]<<Ge,Ge+=8),Je=ze[He&We];n:for(;;){if(Qe=Je>>>24,He>>>=Qe,Ge-=Qe,Qe=Je>>>16&255,Qe&16){if(on=Je&65535,Qe&=15,Ge<Qe&&(He+=fn[Ce++]<<Ge,Ge+=8,Ge<Qe&&(He+=fn[Ce++]<<Ge,Ge+=8)),on+=He&(1<<Qe)-1,on>Ie){Se.msg="invalid distance too far back",Ae.mode=xe;break e}if(He>>>=Qe,Ge-=Qe,Qe=Ee-Fe,on>Qe){if(Qe=on-Qe,Qe>Re&&Ae.sane){Se.msg="invalid distance too far back",Ae.mode=xe;break e}if(an=0,rn=je,Be===0){if(an+=Oe-Qe,Qe<Ze){Ze-=Qe;do nn[Ee++]=je[an++];while(--Qe);an=Ee-on,rn=nn}}else if(Be<Qe){if(an+=Oe+Be-Qe,Qe-=Be,Qe<Ze){Ze-=Qe;do nn[Ee++]=je[an++];while(--Qe);if(an=0,Be<Ze){Qe=Be,Ze-=Qe;do nn[Ee++]=je[an++];while(--Qe);an=Ee-on,rn=nn}}}else if(an+=Be-Qe,Qe<Ze){Ze-=Qe;do nn[Ee++]=je[an++];while(--Qe);an=Ee-on,rn=nn}for(;Ze>2;)nn[Ee++]=rn[an++],nn[Ee++]=rn[an++],nn[Ee++]=rn[an++],Ze-=3;Ze&&(nn[Ee++]=rn[an++],Ze>1&&(nn[Ee++]=rn[an++]))}else{an=Ee-on;do nn[Ee++]=nn[an++],nn[Ee++]=nn[an++],nn[Ee++]=nn[an++],Ze-=3;while(Ze>2);Ze&&(nn[Ee++]=nn[an++],Ze>1&&(nn[Ee++]=nn[an++]))}}else if(Qe&64){Se.msg="invalid distance code",Ae.mode=xe;break e}else{Je=ze[(Je&65535)+(He&(1<<Qe)-1)];continue n}break}}else if(Qe&64)if(Qe&32){Ae.mode=e;break e}else{Se.msg="invalid literal/length code",Ae.mode=xe;break e}else{Je=Ve[(Je&65535)+(He&(1<<Qe)-1)];continue t}break}}while(Ce<Pe&&Ee<ke);Ze=Ge>>3,Ce-=Ze,Ge-=Ze<<3,He&=(1<<Ge)-1,Se.next_in=Ce,Se.next_out=Ee,Se.avail_in=Ce<Pe?5+(Pe-Ce):5-(Ce-Pe),Se.avail_out=Ee<ke?257+(ke-Ee):257-(Ee-ke),Ae.hold=He,Ae.bits=Ge},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var xe=requireCommon(),e=15,t=852,Se=592,_e=0,Ae=1,Ce=2,Pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ee=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ke=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(Oe,Re,Be,je,He,Ge,Ve,ze){var Xe=ze.bits,We=0,Je=0,Qe=0,Ze=0,on=0,an=0,rn=0,fn=0,nn=0,cn=0,dn,bn,pn,_n,Nn,Un=null,xn=0,St,sn=new xe.Buf16(e+1),gn=new xe.Buf16(e+1),Pn=null,Fn=0,vn,kn,Bn;for(We=0;We<=e;We++)sn[We]=0;for(Je=0;Je<je;Je++)sn[Re[Be+Je]]++;for(on=Xe,Ze=e;Ze>=1&&sn[Ze]===0;Ze--);if(on>Ze&&(on=Ze),Ze===0)return He[Ge++]=1<<24|64<<16|0,He[Ge++]=1<<24|64<<16|0,ze.bits=1,0;for(Qe=1;Qe<Ze&&sn[Qe]===0;Qe++);for(on<Qe&&(on=Qe),fn=1,We=1;We<=e;We++)if(fn<<=1,fn-=sn[We],fn<0)return-1;if(fn>0&&(Oe===_e||Ze!==1))return-1;for(gn[1]=0,We=1;We<e;We++)gn[We+1]=gn[We]+sn[We];for(Je=0;Je<je;Je++)Re[Be+Je]!==0&&(Ve[gn[Re[Be+Je]]++]=Je);if(Oe===_e?(Un=Pn=Ve,St=19):Oe===Ae?(Un=Pe,xn-=257,Pn=Ee,Fn-=257,St=256):(Un=Fe,Pn=ke,St=-1),cn=0,Je=0,We=Qe,Nn=Ge,an=on,rn=0,pn=-1,nn=1<<on,_n=nn-1,Oe===Ae&&nn>t||Oe===Ce&&nn>Se)return 1;for(;;){vn=We-rn,Ve[Je]<St?(kn=0,Bn=Ve[Je]):Ve[Je]>St?(kn=Pn[Fn+Ve[Je]],Bn=Un[xn+Ve[Je]]):(kn=96,Bn=0),dn=1<<We-rn,bn=1<<an,Qe=bn;do bn-=dn,He[Nn+(cn>>rn)+bn]=vn<<24|kn<<16|Bn|0;while(bn!==0);for(dn=1<<We-1;cn&dn;)dn>>=1;if(dn!==0?(cn&=dn-1,cn+=dn):cn=0,Je++,--sn[We]===0){if(We===Ze)break;We=Re[Be+Ve[Je]]}if(We>on&&(cn&_n)!==pn){for(rn===0&&(rn=on),Nn+=Qe,an=We-rn,fn=1<<an;an+rn<Ze&&(fn-=sn[an+rn],!(fn<=0));)an++,fn<<=1;if(nn+=1<<an,Oe===Ae&&nn>t||Oe===Ce&&nn>Se)return 1;pn=cn&_n,He[pn]=on<<24|an<<16|Nn-Ge|0}}return cn!==0&&(He[Nn+cn]=We-rn<<24|64<<16|0),ze.bits=on,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var xe=requireCommon(),e=requireAdler32(),t=requireCrc32(),Se=requireInffast(),_e=requireInftrees(),Ae=0,Ce=1,Pe=2,Ee=4,Fe=5,ke=6,Ie=0,Oe=1,Re=2,Be=-2,je=-3,He=-4,Ge=-5,Ve=8,ze=1,Xe=2,We=3,Je=4,Qe=5,Ze=6,on=7,an=8,rn=9,fn=10,nn=11,cn=12,dn=13,bn=14,pn=15,_n=16,Nn=17,Un=18,xn=19,St=20,sn=21,gn=22,Pn=23,Fn=24,vn=25,kn=26,Bn=27,er=28,Zn=29,Cn=30,Tn=31,qn=32,In=852,wn=592,Vn=15,Yn=Vn;function tr(dr){return(dr>>>24&255)+(dr>>>8&65280)+((dr&65280)<<8)+((dr&255)<<24)}function cr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new xe.Buf16(320),this.work=new xe.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Kn(dr){var Pr;return!dr||!dr.state?Be:(Pr=dr.state,dr.total_in=dr.total_out=Pr.total=0,dr.msg="",Pr.wrap&&(dr.adler=Pr.wrap&1),Pr.mode=ze,Pr.last=0,Pr.havedict=0,Pr.dmax=32768,Pr.head=null,Pr.hold=0,Pr.bits=0,Pr.lencode=Pr.lendyn=new xe.Buf32(In),Pr.distcode=Pr.distdyn=new xe.Buf32(wn),Pr.sane=1,Pr.back=-1,Ie)}function rr(dr){var Pr;return!dr||!dr.state?Be:(Pr=dr.state,Pr.wsize=0,Pr.whave=0,Pr.wnext=0,Kn(dr))}function ir(dr,Pr){var Hn,Br;return!dr||!dr.state||(Br=dr.state,Pr<0?(Hn=0,Pr=-Pr):(Hn=(Pr>>4)+1,Pr<48&&(Pr&=15)),Pr&&(Pr<8||Pr>15))?Be:(Br.window!==null&&Br.wbits!==Pr&&(Br.window=null),Br.wrap=Hn,Br.wbits=Pr,rr(dr))}function yr(dr,Pr){var Hn,Br;return dr?(Br=new cr,dr.state=Br,Br.window=null,Hn=ir(dr,Pr),Hn!==Ie&&(dr.state=null),Hn):Be}function xr(dr){return yr(dr,Yn)}var Nr=!0,jr,Vr;function Yr(dr){if(Nr){var Pr;for(jr=new xe.Buf32(512),Vr=new xe.Buf32(32),Pr=0;Pr<144;)dr.lens[Pr++]=8;for(;Pr<256;)dr.lens[Pr++]=9;for(;Pr<280;)dr.lens[Pr++]=7;for(;Pr<288;)dr.lens[Pr++]=8;for(_e(Ce,dr.lens,0,288,jr,0,dr.work,{bits:9}),Pr=0;Pr<32;)dr.lens[Pr++]=5;_e(Pe,dr.lens,0,32,Vr,0,dr.work,{bits:5}),Nr=!1}dr.lencode=jr,dr.lenbits=9,dr.distcode=Vr,dr.distbits=5}function ei(dr,Pr,Hn,Br){var di,An=dr.state;return An.window===null&&(An.wsize=1<<An.wbits,An.wnext=0,An.whave=0,An.window=new xe.Buf8(An.wsize)),Br>=An.wsize?(xe.arraySet(An.window,Pr,Hn-An.wsize,An.wsize,0),An.wnext=0,An.whave=An.wsize):(di=An.wsize-An.wnext,di>Br&&(di=Br),xe.arraySet(An.window,Pr,Hn-Br,di,An.wnext),Br-=di,Br?(xe.arraySet(An.window,Pr,Hn-Br,Br,0),An.wnext=Br,An.whave=An.wsize):(An.wnext+=di,An.wnext===An.wsize&&(An.wnext=0),An.whave<An.wsize&&(An.whave+=di))),0}function Ln(dr,Pr){var Hn,Br,di,An,Er,Lr,Qn,fr,wr,ui,Qr,ri,ki,gi,Ri=0,Fi,Vi,ji,Ki,fa,mo,ps,Xs,ys=new xe.Buf8(4),ks,aa,vo=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!dr||!dr.state||!dr.output||!dr.input&&dr.avail_in!==0)return Be;Hn=dr.state,Hn.mode===cn&&(Hn.mode=dn),Er=dr.next_out,di=dr.output,Qn=dr.avail_out,An=dr.next_in,Br=dr.input,Lr=dr.avail_in,fr=Hn.hold,wr=Hn.bits,ui=Lr,Qr=Qn,Xs=Ie;e:for(;;)switch(Hn.mode){case ze:if(Hn.wrap===0){Hn.mode=dn;break}for(;wr<16;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(Hn.wrap&2&&fr===35615){Hn.check=0,ys[0]=fr&255,ys[1]=fr>>>8&255,Hn.check=t(Hn.check,ys,2,0),fr=0,wr=0,Hn.mode=Xe;break}if(Hn.flags=0,Hn.head&&(Hn.head.done=!1),!(Hn.wrap&1)||(((fr&255)<<8)+(fr>>8))%31){dr.msg="incorrect header check",Hn.mode=Cn;break}if((fr&15)!==Ve){dr.msg="unknown compression method",Hn.mode=Cn;break}if(fr>>>=4,wr-=4,ps=(fr&15)+8,Hn.wbits===0)Hn.wbits=ps;else if(ps>Hn.wbits){dr.msg="invalid window size",Hn.mode=Cn;break}Hn.dmax=1<<ps,dr.adler=Hn.check=1,Hn.mode=fr&512?fn:cn,fr=0,wr=0;break;case Xe:for(;wr<16;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(Hn.flags=fr,(Hn.flags&255)!==Ve){dr.msg="unknown compression method",Hn.mode=Cn;break}if(Hn.flags&57344){dr.msg="unknown header flags set",Hn.mode=Cn;break}Hn.head&&(Hn.head.text=fr>>8&1),Hn.flags&512&&(ys[0]=fr&255,ys[1]=fr>>>8&255,Hn.check=t(Hn.check,ys,2,0)),fr=0,wr=0,Hn.mode=We;case We:for(;wr<32;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}Hn.head&&(Hn.head.time=fr),Hn.flags&512&&(ys[0]=fr&255,ys[1]=fr>>>8&255,ys[2]=fr>>>16&255,ys[3]=fr>>>24&255,Hn.check=t(Hn.check,ys,4,0)),fr=0,wr=0,Hn.mode=Je;case Je:for(;wr<16;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}Hn.head&&(Hn.head.xflags=fr&255,Hn.head.os=fr>>8),Hn.flags&512&&(ys[0]=fr&255,ys[1]=fr>>>8&255,Hn.check=t(Hn.check,ys,2,0)),fr=0,wr=0,Hn.mode=Qe;case Qe:if(Hn.flags&1024){for(;wr<16;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}Hn.length=fr,Hn.head&&(Hn.head.extra_len=fr),Hn.flags&512&&(ys[0]=fr&255,ys[1]=fr>>>8&255,Hn.check=t(Hn.check,ys,2,0)),fr=0,wr=0}else Hn.head&&(Hn.head.extra=null);Hn.mode=Ze;case Ze:if(Hn.flags&1024&&(ri=Hn.length,ri>Lr&&(ri=Lr),ri&&(Hn.head&&(ps=Hn.head.extra_len-Hn.length,Hn.head.extra||(Hn.head.extra=new Array(Hn.head.extra_len)),xe.arraySet(Hn.head.extra,Br,An,ri,ps)),Hn.flags&512&&(Hn.check=t(Hn.check,Br,ri,An)),Lr-=ri,An+=ri,Hn.length-=ri),Hn.length))break e;Hn.length=0,Hn.mode=on;case on:if(Hn.flags&2048){if(Lr===0)break e;ri=0;do ps=Br[An+ri++],Hn.head&&ps&&Hn.length<65536&&(Hn.head.name+=String.fromCharCode(ps));while(ps&&ri<Lr);if(Hn.flags&512&&(Hn.check=t(Hn.check,Br,ri,An)),Lr-=ri,An+=ri,ps)break e}else Hn.head&&(Hn.head.name=null);Hn.length=0,Hn.mode=an;case an:if(Hn.flags&4096){if(Lr===0)break e;ri=0;do ps=Br[An+ri++],Hn.head&&ps&&Hn.length<65536&&(Hn.head.comment+=String.fromCharCode(ps));while(ps&&ri<Lr);if(Hn.flags&512&&(Hn.check=t(Hn.check,Br,ri,An)),Lr-=ri,An+=ri,ps)break e}else Hn.head&&(Hn.head.comment=null);Hn.mode=rn;case rn:if(Hn.flags&512){for(;wr<16;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(fr!==(Hn.check&65535)){dr.msg="header crc mismatch",Hn.mode=Cn;break}fr=0,wr=0}Hn.head&&(Hn.head.hcrc=Hn.flags>>9&1,Hn.head.done=!0),dr.adler=Hn.check=0,Hn.mode=cn;break;case fn:for(;wr<32;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}dr.adler=Hn.check=tr(fr),fr=0,wr=0,Hn.mode=nn;case nn:if(Hn.havedict===0)return dr.next_out=Er,dr.avail_out=Qn,dr.next_in=An,dr.avail_in=Lr,Hn.hold=fr,Hn.bits=wr,Re;dr.adler=Hn.check=1,Hn.mode=cn;case cn:if(Pr===Fe||Pr===ke)break e;case dn:if(Hn.last){fr>>>=wr&7,wr-=wr&7,Hn.mode=Bn;break}for(;wr<3;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}switch(Hn.last=fr&1,fr>>>=1,wr-=1,fr&3){case 0:Hn.mode=bn;break;case 1:if(Yr(Hn),Hn.mode=St,Pr===ke){fr>>>=2,wr-=2;break e}break;case 2:Hn.mode=Nn;break;case 3:dr.msg="invalid block type",Hn.mode=Cn}fr>>>=2,wr-=2;break;case bn:for(fr>>>=wr&7,wr-=wr&7;wr<32;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if((fr&65535)!==(fr>>>16^65535)){dr.msg="invalid stored block lengths",Hn.mode=Cn;break}if(Hn.length=fr&65535,fr=0,wr=0,Hn.mode=pn,Pr===ke)break e;case pn:Hn.mode=_n;case _n:if(ri=Hn.length,ri){if(ri>Lr&&(ri=Lr),ri>Qn&&(ri=Qn),ri===0)break e;xe.arraySet(di,Br,An,ri,Er),Lr-=ri,An+=ri,Qn-=ri,Er+=ri,Hn.length-=ri;break}Hn.mode=cn;break;case Nn:for(;wr<14;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(Hn.nlen=(fr&31)+257,fr>>>=5,wr-=5,Hn.ndist=(fr&31)+1,fr>>>=5,wr-=5,Hn.ncode=(fr&15)+4,fr>>>=4,wr-=4,Hn.nlen>286||Hn.ndist>30){dr.msg="too many length or distance symbols",Hn.mode=Cn;break}Hn.have=0,Hn.mode=Un;case Un:for(;Hn.have<Hn.ncode;){for(;wr<3;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}Hn.lens[vo[Hn.have++]]=fr&7,fr>>>=3,wr-=3}for(;Hn.have<19;)Hn.lens[vo[Hn.have++]]=0;if(Hn.lencode=Hn.lendyn,Hn.lenbits=7,ks={bits:Hn.lenbits},Xs=_e(Ae,Hn.lens,0,19,Hn.lencode,0,Hn.work,ks),Hn.lenbits=ks.bits,Xs){dr.msg="invalid code lengths set",Hn.mode=Cn;break}Hn.have=0,Hn.mode=xn;case xn:for(;Hn.have<Hn.nlen+Hn.ndist;){for(;Ri=Hn.lencode[fr&(1<<Hn.lenbits)-1],Fi=Ri>>>24,Vi=Ri>>>16&255,ji=Ri&65535,!(Fi<=wr);){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(ji<16)fr>>>=Fi,wr-=Fi,Hn.lens[Hn.have++]=ji;else{if(ji===16){for(aa=Fi+2;wr<aa;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(fr>>>=Fi,wr-=Fi,Hn.have===0){dr.msg="invalid bit length repeat",Hn.mode=Cn;break}ps=Hn.lens[Hn.have-1],ri=3+(fr&3),fr>>>=2,wr-=2}else if(ji===17){for(aa=Fi+3;wr<aa;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}fr>>>=Fi,wr-=Fi,ps=0,ri=3+(fr&7),fr>>>=3,wr-=3}else{for(aa=Fi+7;wr<aa;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}fr>>>=Fi,wr-=Fi,ps=0,ri=11+(fr&127),fr>>>=7,wr-=7}if(Hn.have+ri>Hn.nlen+Hn.ndist){dr.msg="invalid bit length repeat",Hn.mode=Cn;break}for(;ri--;)Hn.lens[Hn.have++]=ps}}if(Hn.mode===Cn)break;if(Hn.lens[256]===0){dr.msg="invalid code -- missing end-of-block",Hn.mode=Cn;break}if(Hn.lenbits=9,ks={bits:Hn.lenbits},Xs=_e(Ce,Hn.lens,0,Hn.nlen,Hn.lencode,0,Hn.work,ks),Hn.lenbits=ks.bits,Xs){dr.msg="invalid literal/lengths set",Hn.mode=Cn;break}if(Hn.distbits=6,Hn.distcode=Hn.distdyn,ks={bits:Hn.distbits},Xs=_e(Pe,Hn.lens,Hn.nlen,Hn.ndist,Hn.distcode,0,Hn.work,ks),Hn.distbits=ks.bits,Xs){dr.msg="invalid distances set",Hn.mode=Cn;break}if(Hn.mode=St,Pr===ke)break e;case St:Hn.mode=sn;case sn:if(Lr>=6&&Qn>=258){dr.next_out=Er,dr.avail_out=Qn,dr.next_in=An,dr.avail_in=Lr,Hn.hold=fr,Hn.bits=wr,Se(dr,Qr),Er=dr.next_out,di=dr.output,Qn=dr.avail_out,An=dr.next_in,Br=dr.input,Lr=dr.avail_in,fr=Hn.hold,wr=Hn.bits,Hn.mode===cn&&(Hn.back=-1);break}for(Hn.back=0;Ri=Hn.lencode[fr&(1<<Hn.lenbits)-1],Fi=Ri>>>24,Vi=Ri>>>16&255,ji=Ri&65535,!(Fi<=wr);){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(Vi&&!(Vi&240)){for(Ki=Fi,fa=Vi,mo=ji;Ri=Hn.lencode[mo+((fr&(1<<Ki+fa)-1)>>Ki)],Fi=Ri>>>24,Vi=Ri>>>16&255,ji=Ri&65535,!(Ki+Fi<=wr);){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}fr>>>=Ki,wr-=Ki,Hn.back+=Ki}if(fr>>>=Fi,wr-=Fi,Hn.back+=Fi,Hn.length=ji,Vi===0){Hn.mode=kn;break}if(Vi&32){Hn.back=-1,Hn.mode=cn;break}if(Vi&64){dr.msg="invalid literal/length code",Hn.mode=Cn;break}Hn.extra=Vi&15,Hn.mode=gn;case gn:if(Hn.extra){for(aa=Hn.extra;wr<aa;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}Hn.length+=fr&(1<<Hn.extra)-1,fr>>>=Hn.extra,wr-=Hn.extra,Hn.back+=Hn.extra}Hn.was=Hn.length,Hn.mode=Pn;case Pn:for(;Ri=Hn.distcode[fr&(1<<Hn.distbits)-1],Fi=Ri>>>24,Vi=Ri>>>16&255,ji=Ri&65535,!(Fi<=wr);){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(!(Vi&240)){for(Ki=Fi,fa=Vi,mo=ji;Ri=Hn.distcode[mo+((fr&(1<<Ki+fa)-1)>>Ki)],Fi=Ri>>>24,Vi=Ri>>>16&255,ji=Ri&65535,!(Ki+Fi<=wr);){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}fr>>>=Ki,wr-=Ki,Hn.back+=Ki}if(fr>>>=Fi,wr-=Fi,Hn.back+=Fi,Vi&64){dr.msg="invalid distance code",Hn.mode=Cn;break}Hn.offset=ji,Hn.extra=Vi&15,Hn.mode=Fn;case Fn:if(Hn.extra){for(aa=Hn.extra;wr<aa;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}Hn.offset+=fr&(1<<Hn.extra)-1,fr>>>=Hn.extra,wr-=Hn.extra,Hn.back+=Hn.extra}if(Hn.offset>Hn.dmax){dr.msg="invalid distance too far back",Hn.mode=Cn;break}Hn.mode=vn;case vn:if(Qn===0)break e;if(ri=Qr-Qn,Hn.offset>ri){if(ri=Hn.offset-ri,ri>Hn.whave&&Hn.sane){dr.msg="invalid distance too far back",Hn.mode=Cn;break}ri>Hn.wnext?(ri-=Hn.wnext,ki=Hn.wsize-ri):ki=Hn.wnext-ri,ri>Hn.length&&(ri=Hn.length),gi=Hn.window}else gi=di,ki=Er-Hn.offset,ri=Hn.length;ri>Qn&&(ri=Qn),Qn-=ri,Hn.length-=ri;do di[Er++]=gi[ki++];while(--ri);Hn.length===0&&(Hn.mode=sn);break;case kn:if(Qn===0)break e;di[Er++]=Hn.length,Qn--,Hn.mode=sn;break;case Bn:if(Hn.wrap){for(;wr<32;){if(Lr===0)break e;Lr--,fr|=Br[An++]<<wr,wr+=8}if(Qr-=Qn,dr.total_out+=Qr,Hn.total+=Qr,Qr&&(dr.adler=Hn.check=Hn.flags?t(Hn.check,di,Qr,Er-Qr):e(Hn.check,di,Qr,Er-Qr)),Qr=Qn,(Hn.flags?fr:tr(fr))!==Hn.check){dr.msg="incorrect data check",Hn.mode=Cn;break}fr=0,wr=0}Hn.mode=er;case er:if(Hn.wrap&&Hn.flags){for(;wr<32;){if(Lr===0)break e;Lr--,fr+=Br[An++]<<wr,wr+=8}if(fr!==(Hn.total&4294967295)){dr.msg="incorrect length check",Hn.mode=Cn;break}fr=0,wr=0}Hn.mode=Zn;case Zn:Xs=Oe;break e;case Cn:Xs=je;break e;case Tn:return He;case qn:default:return Be}return dr.next_out=Er,dr.avail_out=Qn,dr.next_in=An,dr.avail_in=Lr,Hn.hold=fr,Hn.bits=wr,(Hn.wsize||Qr!==dr.avail_out&&Hn.mode<Cn&&(Hn.mode<Bn||Pr!==Ee))&&ei(dr,dr.output,dr.next_out,Qr-dr.avail_out),ui-=dr.avail_in,Qr-=dr.avail_out,dr.total_in+=ui,dr.total_out+=Qr,Hn.total+=Qr,Hn.wrap&&Qr&&(dr.adler=Hn.check=Hn.flags?t(Hn.check,di,Qr,dr.next_out-Qr):e(Hn.check,di,Qr,dr.next_out-Qr)),dr.data_type=Hn.bits+(Hn.last?64:0)+(Hn.mode===cn?128:0)+(Hn.mode===St||Hn.mode===pn?256:0),(ui===0&&Qr===0||Pr===Ee)&&Xs===Ie&&(Xs=Ge),Xs}function ar(dr){if(!dr||!dr.state)return Be;var Pr=dr.state;return Pr.window&&(Pr.window=null),dr.state=null,Ie}function sr(dr,Pr){var Hn;return!dr||!dr.state||(Hn=dr.state,!(Hn.wrap&2))?Be:(Hn.head=Pr,Pr.done=!1,Ie)}function Tr(dr,Pr){var Hn=Pr.length,Br,di,An;return!dr||!dr.state||(Br=dr.state,Br.wrap!==0&&Br.mode!==nn)?Be:Br.mode===nn&&(di=1,di=e(di,Pr,Hn,0),di!==Br.check)?je:(An=ei(dr,Pr,Hn,Hn),An?(Br.mode=Tn,He):(Br.havedict=1,Ie))}return inflate.inflateReset=rr,inflate.inflateReset2=ir,inflate.inflateResetKeep=Kn,inflate.inflateInit=xr,inflate.inflateInit2=yr,inflate.inflate=Ln,inflate.inflateEnd=ar,inflate.inflateGetHeader=sr,inflate.inflateSetDictionary=Tr,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants$1,hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants$1}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function xe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=xe,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var xe=requireInflate$1(),e=requireCommon(),t=requireStrings(),Se=requireConstants$1(),_e=requireMessages(),Ae=requireZstream(),Ce=requireGzheader(),Pe=Object.prototype.toString;function Ee(Ie){if(!(this instanceof Ee))return new Ee(Ie);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},Ie||{});var Oe=this.options;Oe.raw&&Oe.windowBits>=0&&Oe.windowBits<16&&(Oe.windowBits=-Oe.windowBits,Oe.windowBits===0&&(Oe.windowBits=-15)),Oe.windowBits>=0&&Oe.windowBits<16&&!(Ie&&Ie.windowBits)&&(Oe.windowBits+=32),Oe.windowBits>15&&Oe.windowBits<48&&(Oe.windowBits&15||(Oe.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ae,this.strm.avail_out=0;var Re=xe.inflateInit2(this.strm,Oe.windowBits);if(Re!==Se.Z_OK)throw new Error(_e[Re]);if(this.header=new Ce,xe.inflateGetHeader(this.strm,this.header),Oe.dictionary&&(typeof Oe.dictionary=="string"?Oe.dictionary=t.string2buf(Oe.dictionary):Pe.call(Oe.dictionary)==="[object ArrayBuffer]"&&(Oe.dictionary=new Uint8Array(Oe.dictionary)),Oe.raw&&(Re=xe.inflateSetDictionary(this.strm,Oe.dictionary),Re!==Se.Z_OK)))throw new Error(_e[Re])}Ee.prototype.push=function(Ie,Oe){var Re=this.strm,Be=this.options.chunkSize,je=this.options.dictionary,He,Ge,Ve,ze,Xe,We=!1;if(this.ended)return!1;Ge=Oe===~~Oe?Oe:Oe===!0?Se.Z_FINISH:Se.Z_NO_FLUSH,typeof Ie=="string"?Re.input=t.binstring2buf(Ie):Pe.call(Ie)==="[object ArrayBuffer]"?Re.input=new Uint8Array(Ie):Re.input=Ie,Re.next_in=0,Re.avail_in=Re.input.length;do{if(Re.avail_out===0&&(Re.output=new e.Buf8(Be),Re.next_out=0,Re.avail_out=Be),He=xe.inflate(Re,Se.Z_NO_FLUSH),He===Se.Z_NEED_DICT&&je&&(He=xe.inflateSetDictionary(this.strm,je)),He===Se.Z_BUF_ERROR&&We===!0&&(He=Se.Z_OK,We=!1),He!==Se.Z_STREAM_END&&He!==Se.Z_OK)return this.onEnd(He),this.ended=!0,!1;Re.next_out&&(Re.avail_out===0||He===Se.Z_STREAM_END||Re.avail_in===0&&(Ge===Se.Z_FINISH||Ge===Se.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Ve=t.utf8border(Re.output,Re.next_out),ze=Re.next_out-Ve,Xe=t.buf2string(Re.output,Ve),Re.next_out=ze,Re.avail_out=Be-ze,ze&&e.arraySet(Re.output,Re.output,Ve,ze,0),this.onData(Xe)):this.onData(e.shrinkBuf(Re.output,Re.next_out))),Re.avail_in===0&&Re.avail_out===0&&(We=!0)}while((Re.avail_in>0||Re.avail_out===0)&&He!==Se.Z_STREAM_END);return He===Se.Z_STREAM_END&&(Ge=Se.Z_FINISH),Ge===Se.Z_FINISH?(He=xe.inflateEnd(this.strm),this.onEnd(He),this.ended=!0,He===Se.Z_OK):(Ge===Se.Z_SYNC_FLUSH&&(this.onEnd(Se.Z_OK),Re.avail_out=0),!0)},Ee.prototype.onData=function(Ie){this.chunks.push(Ie)},Ee.prototype.onEnd=function(Ie){Ie===Se.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=Ie,this.msg=this.strm.msg};function Fe(Ie,Oe){var Re=new Ee(Oe);if(Re.push(Ie,!0),Re.err)throw Re.msg||_e[Re.err];return Re.result}function ke(Ie,Oe){return Oe=Oe||{},Oe.raw=!0,Fe(Ie,Oe)}return inflate$1.Inflate=Ee,inflate$1.inflate=Fe,inflate$1.inflateRaw=ke,inflate$1.ungzip=Fe,inflate$1}var pako_1,hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var xe=requireCommon().assign,e=requireDeflate(),t=requireInflate(),Se=requireConstants$1(),_e={};return xe(_e,e,t,Se),pako_1=_e,pako_1}var pakoExports=requirePako();const pako=getDefaultExportFromCjs(pakoExports);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var decodeFromBase64=function(xe){var e=xe.length*.75,t=xe.length,Se,_e=0,Ae,Ce,Pe,Ee;xe[xe.length-1]==="="&&(e--,xe[xe.length-2]==="="&&e--);var Fe=new Uint8Array(e);for(Se=0;Se<t;Se+=4)Ae=lookup[xe.charCodeAt(Se)],Ce=lookup[xe.charCodeAt(Se+1)],Pe=lookup[xe.charCodeAt(Se+2)],Ee=lookup[xe.charCodeAt(Se+3)],Fe[_e++]=Ae<<2|Ce>>4,Fe[_e++]=(Ce&15)<<4|Pe>>2,Fe[_e++]=(Pe&3)<<6|Ee&63;return Fe},arrayToString=function(xe){for(var e="",t=0;t<xe.length;t++)e+=String.fromCharCode(xe[t]);return e},decompressJson=function(xe){return arrayToString(pako.inflate(decodeFromBase64(xe)))},padStart=function(xe,e,t){for(var Se="",_e=0,Ae=e-xe.length;_e<Ae;_e++)Se+=t;return Se+xe};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="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",CourierObliqueCompressed="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",CourierCompressed="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",HelveticaBoldCompressed=JSON.parse('"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"'),HelveticaBoldObliqueCompressed=JSON.parse('"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"'),HelveticaObliqueCompressed=JSON.parse('"eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaD0dXWNvhB5BsUdgC0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5P3fu/Xstnl0fPbsydGjJ89Oz55MHk9+bZf3v8/uml2BvzSLr839/Hr2w+XVYv7vrtnL3WLB8iOQZ3fzxZYL7IRpM7/9tD/r35ubeXe3I3+9ny3m18+Xt4td2R+OT3Zk/ev8obn5Y35//Wny4/2qax5Pfvo0W82u75vVm2b/6V8e7pvlTXPzur2bLYfa/vnP7cPkx3/+cHxx9PiHk5Pzx8fHx08ePzs9/tfjybtd4dVivmz+aNfz+3m73J/q6AiEt5/m15+XzXo9+fF8x983q3VfbHJ0dPKno6Oj3Ul+b3eN2Dfop/bLdrVvx6P/c/1/Hx0/e3r+eP/vRf/vs/2/z476fy8ePb9pr5pHb7br++Zu/eivy+t29aVdze6bmz89evR8sXj0ev8960evm3Wz+rqjHs35+tHs0f1qdtPczVafH7UfH/02X7b32y/ND7tCi0fPXzyaLW/+X7t6NN99wbq7Ws9v5rPVvFn/aVfZX3anupkvb99cf2r6Xuhr8uZ+95HZ6qaou4I/zb78ZeiUi+Onjyf/KEfnJ6ePJ8/X1/tArwbx58aOfzg5ung8eXN/85fpTnzS//f97r9Pnx566+/N/Wp+vQvnP/9nMv3H5MeTi53w+64i6y+zXRT/9zHh5uF6Mbszfnp+fuD/7tpdtK4WppyfPzkoy+7uat9Nt8us3bSLxWxl/OmuW3r+pVld79O+CE+eXByE2d1OWu+i4zU7OYEa9P3ttTs9Hb5vtmqWi+ZjTaKPlWrM1vtvXH/2ij89Gz616NY5ONe70TrLp/i0/fKpWebiu6bM25vM14vZ+lMO1rdm1WbaLpsM7zei5P2nVSPKfmy7laDzr6Lsev4gYPO1EX3bhJh6OsyXIq2u20UrIrRu7uZRsh5Y7E0g0ebf3WyR8e2q2Q1m0cydD657oynK8dHxkNEzkX7PM/qzoYuSiT9l9HP+4C+Ojo8P6Ff/YInAi/xdf8lx+qu3bG+Xe/S3fMaXuf2/+dgr2fr3fMbfc70u89f/kUu9yt/1On/wTY7E2/zBd/mD7w09Oxt6eppL/SOjD/mM/5WjerWbyz4398E3XNxpcaDy56KpnD0xU7mez6/nq+vuLvdHt3ft9W76gTESDC5Uxj42y+gqp8S1MGAxbnODPuZStxl9ylWeZ/TfuV6fc6lFzksRLeE6wve+iGGfTXqV6yUcXsS+yx/8mrN3k0s9ZLTN6BtU9czzKybCyZOjkpWrSvmYjeaMfTbezxc3TQ7JYa6/aTcizmF69qngvl+meXIclxH3cb8uRKO1z2zV5PFx0a7mgq+byrdcd6vdPH7tATx+dgzDZj3vV66piWXZoofVbTffKXftvV467OX+i78jU+hLz36cCyYWULuVnFwP3Mxub9WcduC4FqMVx77vmlUDY//0whZDs9vV7Iuf7fS8ZNbuUqKBjAuu1DfzarYeifC4utKLBeuAqO+uCYZa7VbY8y/r+VpIu7bef2q7sFg0ty/zfkhu77nV7Kuo7Oy6uxf44OUfF81D1ioj6252vWrFia9WjTrxTXs/uw4jzqX5ricxAG5oOA69srsLut2aWyxSu+XtbNXdLWadOE17u1tnfhZfN1uFxZP1y13IWRee+7Ln9GJg7erm426hF1aGvkKJk6wvQCL3M1zCGZ6c2xnudk7XLfAUdrUxE1PezX7Qr9diAlvEE1tKtZHbiqRtctnd+NxdEe/yXkwxf01d6k4QM9Cn/5g3PjXJTvWvi73nq6NcgzJd3My/ziGh/SOxZr5gFoPDqx0/5Cs99SGbIikGNln3F180TKCp+Sv9fGGoOK53xIzGg3+m0kMdfcCvAtJJ/Jph5xFwEXJSnFg19KI4+HW56SFORa7j68KYB95KHZffVQV8eNRyNJqqr/Rlc+xSqvZt0VghnMkqIUNmsvlr9kQbivN49rOLoc6L9luzvBWZ+zqewq/iRpOzGx0kQvThVZtIVpW2XnNb/fonR85O8/ZTuxKtuqSzexgqbvCG+FmZxChsNpo4Yy1ienLr73Csu36VsxL1pRS0KNY42WoxwbtucT//stiKelEDPclDA88uyqXJbHU/ny1u5h8/5r7a1q3h93geT9ixZPllNM1GZp0sWTpVhueyZoO1jPk9BsgnQ/oivP+2WzHgTTi7BFq1n5slXgiZOa6a2/k6Ln19iMbOhuk4jwtzjm43qsP1iAe7soZcVSLTUmR8XFZS6r9ohJ89K2vX/lZXvBFmcf7l/lOGPyUDNDNXvnV6PLTxvjJvNNXZsTYLPq8tH0ayMgbYr5dpaNitCK6UuUKtR2pTT20aXdcGZR7Hdu7RZQnPmGVd0CzuxQ2f+2DS7ombdsQR6/G960RLKOYWKrnO9LFAofcr1bjCeVpuWPQ+vkvg1S6R1/n73qR8ffas5Kte0b4cnX9/ix3nlxL2WEeZYrIFt4wYJue16ey3WG2Lwy5qn2YLmBrKIN9fmtCtbuuLMZdfxmWTp9p3OrAyFJpag26jmWKDhm5Vvar77o1cIFoGy5qflR682dmEeujRxi4CK9SW1sXyZ+dm5zfza2W0P8cvgoXZ2HL399g/Xt1Kv70ez2ulurdWltDPqyYdLwesB6jOZsQjC8pfatM9O4XdIpYNtQVZXAnYt40OhUoV7kfPtGhv9/29bEW427qZdlkqQ3n3VZWRfDt+RQszuce8kr5LOY/bzZ1lXjS759fG+C/d/nHkvx5PXjar5R+z+Wr/EPmfk+f7h9WTxz+cHv3r8XB0cI+ADvWMaDB1hC/i0cFVAsKGoXAZj3IVcOoN3Loq0MP4Dyg4T1CGkAV2uDsU0GHgIHoVjt7ujo5P/LAELbDQflDe7Q7P/agEAFAIAHAIANASAEAUAFAsAMCGoR1Y7yhI3u+OLuxoGrQP+wYe+WFpEjKoO+AuhLXLydBVkqGTydDlZOiqydCJZOgsFsCGWDj5ujs6s6NNONrGo9IiQFDzgQ6FcHQaopAYp3HqnAdrUV4IRMPWuBy7Rb0UqFJLOZRNzF1oEvWjcd2ZJnOPmkBj3DgN9MJfZYRD3hiPexfk4C8yOIAhsgHjygtMzIZgErmCcW0NJrM/mMAmYUJ0ioLBLgqa5lJoHMbYPUwQFlK0LncYm4nxsZwUtmJSJScrBmNyLSeT1ZgQ/aZgMJ2CNhltBSIPMp6NaPADNCJDFE7jZETO2YiK8kIgMiLj0oiKeilQpZbSiEzMnW4Sdbpx3ekmc6ebQEZknIyo8FcZoREZYyNyQRpRkcGIDJERGVdGZGI2IpPIiIxrIzKZjcgENiITohEVDEZU0DSXQiMyxkZkgjCionW5w9iIjI/lpDAikyo5WTEik2s5mYzIhGhEBYMRFbTJaCsQGZHxbEQYGnSjyCmwUSRfIpHNKcgvapxsKorSq0KRyxofa4i0rlgi50rUKWGiqLMmluHUiSp5WhTJ2IL4qsLR4qLAPkeqNLtQBhwvcrK9KCrviyWyAUadXDCK2gpjGfbDqLIpRjU6Y9DAHgOfVsqjUUaB3TKqwjJDga6SCmyeUfzu0BA2GvWxoVEx1FhmdGgka41q9NeggckGvqnwbY2T50YxG68TtF2k1CEokeUGiQ0XxBeaktmiJK0WClxqWq+6NFnUcx6hSlmEks4hLMEZhBpZK0pkrCC9khRNFTFbatCkoUIJsFOkZKYoKStFPRspqmSjKGkTxRJsoaixgaIW7RMUME+gU1kWjRMx2yZqwjRB7mQ3s2Gi9J0kF2aJaj3JK0aJJUaSPJkkatEiQQGDBLqRdKspWSNK2RiH1qMrGqKQGyc/dM5mWJQXApENGpceWNRLgSq1lNZnYk4JkygfjOtkMJkzwQTyOuNkdIW/yggtzhj7mwvS3IoMzmaIbM248jQTs6GZRG5mXFuZyexjJrCJmRAdrGCwr4KmuRQalzF2LROEZRWtyx3GZmV8LCeFTZlUycmKQZlcy8lkTSZEXyoYTKmgTUZbgciLjGcjKnVFJ3JGAXWBvAgENiOTXihGduSC9COTLxWrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwivB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TL5UrFZZaVyu5kxwjTLBBZ0JrnMmuELG5QIZlwmvBEPjcsjGBYo0LtPBuJyRcbmgjMvVbFyukXG5oI3LdTYuV9i4XInGZRyMy9hUlEPjcsjG5YowLhM70YVsXC6MpqswLtdq6VoxLter6ZqMy5VoXMbBuIxtBNsqRsblQjau1fBDH16FQiiwBZNlGWbDGoQXmZBZFSytahAvM9HVkyZVtNznRaEeL1j3d1G5twsnayqYjGnArxJBUyqILcm4NKRBBTsqhMyoYGVFRctGVBSyoYK1CRWVLahwNqDCo/0MFMxnINNUBo2nILadwoXpDFKXuocNp+CRxBNmUxSdeBWjKWol8ZLJFB4tZqBgMAPZJLLNhKyl4GwsQ7qjsxiiEBonb3HO5lKUFwKRvRiX/lLUS4EqtZQWY2LuapOor43rzjaZe9sE8hnjZDSFv8oIrcYYe40L0myKDG5jiOzGuPIbE7PhmESOY1xbjsnsOSaw6ZgQXadgsJ2CprkUGo8xdh4ThPUUrcsdxuZjfCwnhf2YVMnJigGZXMvJZEEmRA8qGEyooE1GW4HIh4wnI/rzkJvHfuSdYSjED3joHqMlaoAoYKBYrIBZmIANEXJy+F2vxz+cGBl+uqugn6DQqRErNKDyShyVLJiLD8OfixecihdrTh8wgT7y8w49t+7pj2Jn9qi4OKDQR8BTl/e09BEg6wlg1hPAhp4AUizVkXvBz4MNuLZ3gGd+VFoHCKrstATQv9YiN6DSCRA+QxRD4xRI4yqaJuaQmkRxNc7BNYEjbEIMs2GKdeHvcximuRSE3hDF33juBM59Ol/qjn4fYeyOgrg7CufuKFx2RxFFdxSJu6Pw1B1FSN1RBOqOgrk7Bv4+h2GaS2F3FMTdUbjojkHi7hgwdcevQ0889aNyKkAl/oBC6IFDhYCWgAOyWAOzMAMbIgykBNfRzBYU/VFcQfWotACQWE/1PC2lehpXUT2iFVLPaHHUs7Au6klpgaPSW8eOfIXRH8VFTI/iyv+A8pKm52k1c6C27S/guL7pEa1dekbLlj1r41Guc1upYCsr2OaatHKR1Suijm1c7vcorvR/xTEB0V/tx+W5HZkzOSrRRxQW+wfhb8MIO6w+/oYjDFDJT0AhUsAhUkBLpABZPIBZnwEb8hNICZGjWTzKLZjlFswqLZjJFsxyC2aiBTPRgllqwSy3IK60/paXWHvUhY90uZldpU2dbFOX28QXCaCI1naitV1o7cvJ4Tr83I+i/fVIeF3Pk9f1NHpdj+TFYq+QC/asjDpA0fJeDv525kdx7n+J/oYoz/gvyd+Qgr8BjtP/y+BvwGjSfzn4GxzlOreVCraygm2uCfsbKKKO5m+A4trj5QSviV9O0uXwy5TVwJMrv5yk69+XIqtBIVd+OckXvC8nfK27J9uQLduc1ducvcGAcVyQQF9GqhotVOS7p6YxRKoeTlSIRxbJNMhIpfEWVUgPEiijSaUByapIfSqSRwEXyCOWStCQIZXHCMk8pKPcVoXRsMgxT0W+13B2AlK1KVCh8bazVZBKrhFVMBASyEtIVbZCRbLDUAEyG1K171AhtiCS2Y1IjsYUxW1thLFdkZrs47fJcGP52A/tnjKyeDvZlffxcH9ZeWFH/d3VMz+0e3nA8Kad4/ijr1ky/sT41oL1GwYCUOrz38Ke6mNiHIfanmqS3wsGYQk7js+IcYDkjmPSaqEKOscLd+lSLDhyapfuIJV7LRg+Yxw+F2T48NYRMwgf3jsqLU03j5Igwle0WviCzuEr4jbHgsNnXIQvDM4QxKikUJKsAxoKva8qGNwghBBHJQU6yircoUQ16LlUCn0yQhnN1A1VIxwKDNNU6AZj3AEuyNAX+b1gEO6CMNDGOMQmiOAWrRbWoHNAi7jNseAgGk/h2y154W5DfxQvYnsUr9V7JK5re56ua3sar2t7RFevPaOr156Fq9eexGv1y6Hvz/woLjsvc3+78N5m1Muhjz0u/9gdPbGjD9b/l9jNgKDpTsttBD+l3UYYUPFp6AZD1BfGqUOMq14xMXeNSdQ/xrmTTOCeMiF2l2HqM5y/KQzce5XZm1ToR5y7TyOCHsXp/IIQ9a2azEmiXk6P/QYe9k5Cf0dOnR5F6vkoqu6PJXIORJ0SIYqcDVHllIhqzIuoUXKkndwqepwmY/u4VRFImLRt+VRwSJ20nflCcUqi6mZmpVM6BY1zCjadQUYhpXxCibIJJZVLqOdMQpXyCCXOItQ4h1CLGYQK5Q9tWc1x4typb1jNBSBvaMfmaaKQM7SP8yJTypfKLs6sUq6AwplStgRBmhiiHDFOCWJcZYeJOTVMorwwzklhAmeECTEdDFMu4MY+CgNnQWVbH6nQ/7jl7TQi6HncBXdBiPpc7YEjiXq7YO7qeJsDe5wV6niWqf9ZVmnAZXI2cAlKCpY5N1jnFGE9ZgqrlDAkv63GlNMnySqLqBAkEymQU6RAapECGcYKJRrLOd+oBKUdqZx9tocH8s4ZZZwLlGsuqCxzNeeXa5RZLnBOucLZ5ErMI+eUQWHHHkeEs6a2X49lyJSwhe2UGGRH2NZ2wYwyQm5qY42ywDj3f7nchO43RL1vnDrfuOp7E3PXm0Q9b5w73gTudxNitxumXsfbEBQG7vPKTQhSocfxFsRpRNDfeFfighD1tronQRL1dcHc1eWVUOhqQ9TVxqmrjauuNjF3tUnU1ca5q03grjYhdrVh6mp8sZvCwF1dea2bVOhqfOX5NCLoanwL+oIQdbV6B5ok6uqCqav/GHp5eCX9D+xhZKV3kcUXf0HAe2KA7dVfYP6GL0B/xRdgeccXUOlBYLPQMntDBVB8i7BH4sldz9Pjup7GZ3Q9omduPaOHjD0L7wn2JD5w+wP67fipocYyqT+KD5V6VBIUUX583fP00OlA4Ykr4Pj8ukf0PLpn9L7bnrXxKNe5rVSwlRVsc034cSgooo724BNQfDr+B46OIfqvJvgGfH8U34DvkXgDvufpDfiexjfgeyTfgO8VegO+Z/QGfM/CG/CvJ4e3Hk78KLp2j4Qx9zx5ck+jHfdIvsPUK+TRPSvxBxQd+PVgvqd+FF9tfJ0t14V3NoheYy8BEqP8NfUS0DjKX4teAoXG/+vQS8DC+H8d5ojXYXp4PUwDrn2II+g1mf9Ayy1K6H1DlALGVR6YmJPBJMoI4zotTObcMIESxDhlCd5kPiVE+VK5yUwqZI4hSh/jKodMzIlkEmWTcZ1SJnNemcDJZULMsHwf3dA0B+JDLsVZp26aD1J5sgqpZ4hSz7hKPRNz6plEqWdcp57JnHomUOoZp9TDB+ynhCj1Ko/XSYXUM0SpZ1ylnok59Uyi1DOuU89kTj0TOPVMiKmHLxBQhkxzID7kUpx66u2BIqX3/U6kwGk48r6fLiJSUr/vp9VKelbe99Myp6p+30+qmLb6jYaKKlM4lMFEjgKnc1RlUsciIrVjAU7wqFbSPBZKyR7llPJRpsRPL3rILJ3WQvmh9ok0IKpveRwKvJnwPsg3k7QP8g0/6yTMxXmbF+FUPG1xTEL6SGgWfyyI9NFdfuO1bH9I17I9o2vZnqlr2V7I17I9pmvZnvG1bA/5WraH8Vq2R3Qt+3YwsjM/iiPpbbIs4GnMvEVzAiRHx9tgQ8Diu6Nv0XAczWIjZqIH7Br8iaNaB8x0B8xEB/hlOHyviv8sx98uxP2j1+0CfPgtJCN8jqrQiNbaxXlgleY2urnh+hx5CYNXuxFRaFQUPm2/fGr6ennntbFIK5rT1qre6qq3oqf40h0lUX27dsdyucP84t2LrehQNGgl+of2cIGybu7mOTO6WKgTp+lqcet03DoRN37RGSURt051e5eTfxMPt3QoGoOvnA3nww3WpWTaYZ0E9mK9xzqpImRpl3USkj/nfdZJoWClndYsgGenqx/myr3V1Q9L5OO1qx+W2dHT1Q9z8vbCZ6LZyeVNIKs3Ptq/yvRNq/Vvsn8Tqt3LE4FxMhdf9YSBz4sh/hpVyzRDmMA25MJYqNSE4ZqYNUykqcN4LYx5EilKmkmK0IrCaU4xYbSdanYxrZYStXnG9Fpb04xjQiUz0txThJVitRCkqcgFOR8VWUxKRepE8TQ9mTDaBWqiMq3WBbUpy/RaF+TJy5TKqN0ItlWs1nw1q4ULjjC3RSV9Z5TTPBdlHfdYRkU/lkh9EOU8/0U9BzzqHPaophkx3ZQ5kwLPjiM3ZXQRMVPqmzJarcyalZsyWuYZVN+UkeqsGrI8p0aZZ9ao/gcZJWfZWGI8o/KMG+XvJFSafaPKTkv3BaLbyZsG+ovr7clzc5STO5P8/ZDL2ZpKqDk7FuGZO6rjnSJm8aDnuTzIbfWDeV6P8n8QHTnHxxLjCVmd72Op8QjluT/Ko3mZ1wFBXtWV8fDllQHJen0QCqlVQijQVT+aVwxR/g86V64eYonxzq2uJGKp8c4Vq4qoj3rSpqps68p46PKa492w0DjzozhHvsMFBSAxV76jhQPQOCu+CwsEYHTv+x0sBIDEKe7dhF8/ejdJbx6VJwPY1rRDijm1Wu+QYjG3P+2QYs6RyDukWIgxSTukiFN0KjuLwuMRjJPeWSRFitjIziJZIsdO7yySIkexsrNIqjGeemeREimyY5ts4NESBldtshESBba6yUboOahqk42QOKByk43QYjDVJpssUSDrO1DKAziMYdqBwpyip3egsJjjlnagMOeI5R0oLMRYpR0oxClKlZ0b73h7Ql2hgNV2blRkFb6RnRuVEhTM6s6Nis6hrezcqKgU6NEtC6xy2MOWhcQo1HnLQhJUeOWWhaRRSMWWhaRwGNOWhcQpdJU3/J1zuOyPHTxXjMLlAoXLBRUuV3O4XKNwucDhcoXD5UoMl3MKlwkULuMcruEH3J9nQqEqmAJVsApT0XKQikIhKpgDVDiHp/AYnEIpNAOmwAyUwvJ+CMlTPyrhABR/S/R9CgPw9Fui77H5gOi3RN+HZgMLvyX6Hpvr6EVoz4vYcz2KV1wuXMajmAo9Ev3d89TXPY393CN5y6pXqPd7Fm9O9Sh27x75b8T2R3G7QY9KCACFhgBPmxJ6WhoCyKoLzHoM2NBjQEoLHJUr2zMg5TbQeUGxk5ucmHaPB5FOzEYmZrh/AzjnayPytRH5andkHLXxKDejrdS5lXVuc+X4Tgoootp2ywRQHlNwb8Q6BO9JeM91oWe7nI1dJfU6mXpdTj2+mQCKSMpOJGUXknI6uN65H8XXtaboeoDELogpuR7QuAtiGlwPGO3HmILrAYnbH6YTfHVyit4FSLwkOSXvAhpfh5wK7wKFXnyconcBiq84Tie452eK3gUo2vc0eRfwZMJT9C5AZLXT4F3AwgQ7Re9yVJzqqZG9fupHpU2A4jub02RUwNPvA03ZqADHX9qbBqMCRj+XN0Wj8oa1oUCbm6F+CXpKRgU0V07/EvQ0GBWw+EvQUzQqR2ZU3h9dKNDlhqhfOZySIwHNDdE/YjgNjgRMxD/+RuGebMM42ebxvE3j9sNgZMMPZX1AJ0NmDzSBxbvAIOCtX8B2vxeYP6QE6DdtAZY7tYDsGaSzvaU9PbcjmyodxanSOU6VTm2qdMRTpSs+VTqzqdKRTZWG+mXLmTXCHwUCiwuyD8nUsGz+lbIPaGvIaPr7EHwNC5b4A7L4OyuT+xMgw7LMC9FnGtFcf/iGrNLeRrc3PlsDLuLQiDg0Kg78wGzP5mE4zeO46xFtVv4weCV8RyuC0NYa3OoGt6Jh6RkZSD74ANrjMGCio3115wxXd54AXRyhnbCXrmYlnbaSTlhJel4EknKZTrlMRy6DDy0S44akxxZJkM1UDy6Sxg3Ojy6SktrHDy8SZz/F7YWDWaXthcyVvarthSyR0da2F7LMlpu2FzIn8y0cHcoYD0kTyIuNy/Fqqhi0pvHINYF9yYRkTqaQUxuPF9HGacTyMyv+GlXL5OAmsI27MBYqZeiuCVc3sRbH5O8mVOOYnL4IYPeGyPONs/EXoRXfm6YAE0aDpSYD02rxqE0LptfileYHE3iSSE85WRDTRZFwzjBW81s9e5g6YqtpHjGhMpmYXrXdPK2YQrZLjyMV5harB5JKkwGpPJJUModFPpRUYmq8eCypJJ55QIPJBynNPyipKQj1PAuhShMRSnouwhI8HaFGMxJKNCmBhA6MmK0CNZqdUJJGggWEl6DMdoIaOwZqyWRRpPkKJZqywvPqYBziSbb4vkrV0/SFGs9gQftOONU8FmQxlaE+Eu40oaE2Fu40rYEGMxtSmtxQ4vkNtFafI81yqH0voGquQ3kkYLUZD4ukCyIUeeJDjec+9fqE0MQMCCpOgohHZgU9FWKBcedPEyJqlTkRi4xNDnlmRDFODvudwl8tq/ZHm3DkP5feH8X7cz1K9+GKZeL3FrTJaJs/yKcxns81WDCeq6BNRtv8QT6X8Xyu8M4TnDDwTYVvK9/D549irgR0JVQB6EbSrfwGPjlK+dTlJRw4b0GbjLb5g3w64/lc9i4FnMzYRrCt+Cyfz4V8QnsbAU5obCPYVnyWT+hCPiH8zfuTQDaJbNOn+ETib94PCv5Z65OINhlt8wf5VOrPWh+kqx292luLHcUXG/ZkYefsj+KE16P4/B+E+MzqapLekLia4J8YvEIHBySetF2RXwONT9quhDuDQk/aroIXAws/nHgVOudqgk8XrjD+gFJdr3E5dl7I56B/VpG9TnchzgP+nEvq70l7Ns8D/pxLVr4n/bJF+SYTPqvS+tsOU/5k/WV2vQ/h+UD7L85/R+Qoy6TlSMULb0NfbVTEkbY/egjaNmjU2zzQBqo7zTDXByfk0/gNm/ylD7nUNpfiiqo5epB0ahjm2hYOtcWdiPSlD7nUNpfi2qqdiUVSbz2Xqsm3npWIldfLg8gfKuW3lfKpQbVlw6Cry7ZzVrhFtNY4TV+1kSd4kGW3siy3o7ICKapfxqVmgJTaARo2BPBGn+RBl97q0qkxqOXW8LvOQ23Tu87EoQV5+WXoIZfa5lJcY7UiG6T01utQrfzWKwtQYbGEc/Ygym1FOa60XNYNWnr5dKhcfvmUBai1WAc6exDltqIc11quDQ/ax8nhftSpH8VFWI/K3SdA4l2JnqelWk/juxI9ojciekZvRPQsvBHRk/i2x0eIuJPdeFg063V/8+NpgfFDTW4ovZFzQLqh+Y2cA01v5PQ4t5/fyOmZaH8bj3Kd1es3PZcVbHNN9Os3vSLqSK/f9Ch3CP1F7o95CfQkCgM9rJr21xf9Nks/svsjjuwmHqC4hfIglMvslUD0tcbpu52rE4j9oVKgk9V2h2pVnDj+jTnx5+X0X5b7PIyEEz+KfvEZRwKifDnzmUYCUhgJgONVzucwEoDRtcznYSTAUa5zW6lgKyvY5prwSABF1LGNV4mfcSQMKO9a1wK1pbJnvaKKRtd3rFcK5L6q7FfXKkentl9dym1VGA2L7O36ZnRdYLRZlXSo7UTXMiVJZSP6Qb2bDDeI/Sh6Ro/ET5X3HO8CO40/Vd4j+VPlvUI/Vd4z+qnynoWfKr8bbOiwqrlDGwKEtevpMjR2mRu7rDR2KRu7zI1dVhu7FI1disYuU2PjfcJlaPoyN52XigMNj8SPIqIgVB6Ik5jDkR+HE9eBEQ/DSeAQpUfhEUOw8BKfAsFhU5f4gxR+FekoIopd5TeRSMyxy7+IRFzHLv8eEgscu/RzSBFD7MKPIcVAcOzUDYci5d+KOFICx3HslyJkERHTyu9ESLUS38qvRGg5xVr/SIQSMe75JyJUKFMfVH8gYihQbm1DHxii6BtXcTcxR9wkirVxHWWTOb4mcGRNiDHNjwOWeO+fAsERVPf+D9JuvUB3+/eEbtC3w4n9I5tw5NdKbVhFt3kV3cpVdFmccFXSjVHiUCm8MUroIZ9nKxBVtP7wspW3Gs+ExvVOtxqHmqZbjYo/VCqwrXFq0HeeUML6jtukbjVmCdpDtxozfZCn3WpK7Rh92NnyzbmziLn+eHNuqCbenCP0kM+zFYgqXH9c2o7u5meV604yNIGUTVV5qFZlW1eoeSznVlY23rf5FiQL0KZwC5LZgzjZVjGq+8iT5XKx0d/ROz+PqHwNc9vQSDzuaiQRTs2S7W8k7pscSfCdjiSU7Y6Ebc9j5FcZXQtUCUN5VJh5eeyXlCExnkV8k0ve7Bo+u89cVKOpVK+pVK8Z66Wm3kvxj4WRVunBptaDTa0HP2YkOvS2koHxFhirnzKaC1SJ53wsbvN63OaV2MxrsZnXYvPfGYlSn0djsBCo0uDF+BfZX1aL/C4j0cZl5ZzLStIuR+uyrIzvVqDKidux3m3rvdtWejf9mTqSa53fVsLaVpr4RaAyzZDN/DsXXQlUCdCq0jOr0Z4REVtXTrCunGBdtdP16KkVGv1AJ1Clrt1YtnT1bOkq2cLXVSzXsqWrWUWnJ8L9QuMizvubjPx9eUPbXMoWGcyh+SR9yzX6Vonwt0o2fBOzkP7bp4Z52YUXmcfxGzYZwZorv4bWVl5Da+uvoX2Bip6eF+IPvwxtw0foBF/0dw/fUnt3KOo1sbyOdHjcRl9l6pmri+bjffnSw/9/OL8wtXywX+UcZWwrnayFaoqvXOmPuYUJzfJKadEecol1BY+ccD1yQrQ2pX63OkNfHIbZaljFH/tRvC20wrU7IHGTaEUrdqDx1tAqrNOB0R2fFazOgdgL84aGl+JOARwGy7mR3aLtMEhXsFwDgu0B7M0BOLQGSGkMoNIWR/EgdJTzRThI9VzUPjZ4nZPdmurEDpbhYPhWIEO+IcHzAB+C7+QLxt0syQMP+xS83O47z/wgnMt5h83pUig63WWd6rIudRnNniDkvuxyXw5zpYOv2LxtOBhqDsSrOMByRw2GoiEaj8ZpUBpXI9PEPDxNojFqnAeqCTxaTYhD1jCNW7+xicnBtzvPI/ZhbCQmhmGRHaalFDEl5olhygnjlBjwijETNW6LuMhEN0qOfhOjBRTsPlDIMpPoCIajLTgW3mBiNAi7TZ06mK2i8OwXRXFzMKKcAx56Uig6HVVlJOKJJys6VbSvpMedzCuJFG0G7u1TaLaZRNcRt+wHJfytJkJkPekvNTFX1iP/UBNJZD35zzSxwNaT/koTYbIe+iNNp0yD9RTs1mMk5pNhkU+mpXwyJeaTYcoY45QxsCuBiTKNIi4y0Y2S1mNitJ6C3XoKWWYSrcdwtB7HwnpMjNZjL+OnDmbrEX8biT7h7mJEWQ+8M0Ch6HRUlfWIFwZY0amirSe9LcC8kkjReuBVAQrNNpNoPeI9gaKEp9doQFFgG4oqm1FUpSXFIsKYYgG2p6gmk4pysqook2FFkW0rqJSppEULCyIYWeSUo1FUmRpL5HyNOmVtFDk7o8o5GtQql5YViixqfCwU2gpjETLEIIItBr6scbLIKJJRkqjsMhYh0wzil0p6JQMNqrDRoINfRi4tlV8lkiFle62/SKRLfCd12XDH3iLSZUbTO1mweoVIal8rId7WOFlz7fWhg563VoktVeVNhuEjfP02FEqrfuLwDXpv3TpN3sTxGyobLtfiT4knBb9Hemr5hB4RUoXv9LFBWziHo/3fzGUS7wY6Frf6ivg+kandfy1k/+fjn0VSZlrCMENGpdzoHe7gnmZxUA73hb8O0/zBbL7i3A6oTOiA4jvYzvHFa6f2trUjf3vamb8u7qzsY3Zir04bKonw1NoU9Sa3yd+tB6Tb1Mg2xVfnHeemNqKpjWhqG49yndtKBVtZwTbXJL3X7oqoo7/B7ijHnn5vd1PWjed2FN/v24QVoqO4LHSe3gLchAWgI1/1OfOlnrOyvnNiizpDJaGeWJt80bfBhAIUt/FsUkIBT+vbDScU4LjW3YSEAkar2s2QUHCU69xWKtjKCra5JulneFwRdfQf3XEUF9QbTKhD8B8muH3vAYMPKG7fe0jBB56etz1w8AHHTXMPIfjAaPvetriqH9lodmSu6kjsbNmyqzqNe1i20VWd0SacLbqqk7ghZYvT65GhWKDJjaItS9tsq85lo8SOpG2wVUeirbzhaFts1Y9yndV+oi3bqtNcE71daBtt1VncGLQNtmrIly9D9PGBxAkhalN6IMFcNVg9kGCJmp4fSLDA3cEPJBhTHNLSlWIhinJOGqfEdD4SC5GiLuU8Na0Sp5SxJtTi1ApUaaDMYhPrDeF8Nq6T2uRaWzi9jVf6NiU6vDINuY6UIoASZTxKKj6o5xChSlFCiSOBGncsanEMoEKhUr+rkYOlP8DjASUaEkEaD5YYGEHNYwPleizTCEFtJJatpvW2y9GC+mgDecygpIcNlhhpIw8elOpJwUPoW1mvnttRXIN/C+tVQHkN/o3Xq0Bxveo4Ls2/xfWqM1qafyvrVT/KdW4rFWxlBdtck7RedUXU0derjuK1wjeciRhR/dNMlLhonJqJkpT7Ic1EzLm1eSYioRWo0kDZS2omYqlS2Uqn5ZmIBeq+NBMNvNyvUoiaaJz60Llouom56S7lPjSNwmKc220C92ERWoEqDZR9aGK9IdyHxnUfmlxrC/ehcepD/BWkGqamBo36M2oiFKFADkeUc98GnUIWNI5LELmfUWwreCQIss9DgfGGct8HTfd/KDLWVs6DoEEu/Ot//z8nhUqv"'),HelveticaCompressed=JSON.parse('"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"'),TimesBoldCompressed=JSON.parse('"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"'),TimesBoldItalicCompressed=JSON.parse('"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"'),TimesItalicCompressed=JSON.parse('"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"'),TimesRomanCompressed=JSON.parse('"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"'),SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(xe){xe.Courier="Courier",xe.CourierBold="Courier-Bold",xe.CourierOblique="Courier-Oblique",xe.CourierBoldOblique="Courier-BoldOblique",xe.Helvetica="Helvetica",xe.HelveticaBold="Helvetica-Bold",xe.HelveticaOblique="Helvetica-Oblique",xe.HelveticaBoldOblique="Helvetica-BoldOblique",xe.TimesRoman="Times-Roman",xe.TimesRomanBold="Times-Bold",xe.TimesRomanItalic="Times-Italic",xe.TimesRomanBoldItalic="Times-BoldItalic",xe.Symbol="Symbol",xe.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=function(){function xe(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,Se){return(e.KernPairXAmounts[t]||{})[Se]}}return xe.load=function(e){var t=fontCache[e];if(t)return t;var Se=decompressJson(compressedJsonForFontName[e]),_e=Object.assign(new xe,JSON.parse(Se));return _e.CharWidths=_e.CharMetrics.reduce(function(Ae,Ce){return Ae[Ce.N]=Ce.WX,Ae},{}),_e.KernPairXAmounts=_e.KernPairs.reduce(function(Ae,Ce){var Pe=Ce[0],Ee=Ce[1],Fe=Ce[2];return Ae[Pe]||(Ae[Pe]={}),Ae[Pe][Ee]=Fe,Ae},{}),fontCache[e]=_e,_e},xe}();const AllEncodingsCompressed="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";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function xe(e,t){var Se=this;this.canEncodeUnicodeCodePoint=function(_e){return _e in Se.unicodeMappings},this.encodeUnicodeCodePoint=function(_e){var Ae=Se.unicodeMappings[_e];if(!Ae){var Ce=String.fromCharCode(_e),Pe="0x"+padStart(_e.toString(16),4,"0"),Ee=Se.name+' cannot encode "'+Ce+'" ('+Pe+")";throw new Error(Ee)}return{code:Ae[0],name:Ae[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort(function(_e,Ae){return _e-Ae}),this.unicodeMappings=t}return xe}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(xe){return Object.keys(xe).map(function(e){return xe[e]})},StandardFontValues=values(FontNames),isStandardFont=function(xe){return StandardFontValues.includes(xe)},rectanglesAreEqual=function(xe,e){return xe.x===e.x&&xe.y===e.y&&xe.width===e.width&&xe.height===e.height},backtick=function(xe){return"`"+xe+"`"},singleQuote=function(xe){return"'"+xe+"'"},formatValue=function(xe){var e=typeof xe;return e==="string"?singleQuote(xe):e==="undefined"?backtick(xe):xe},createValueErrorMsg=function(xe,e,t){for(var Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++){var Ce=t[_e];Se[_e]=formatValue(Ce)}var Pe=Se.join(" or ");return backtick(e)+" must be one of "+Pe+", but was actually "+formatValue(xe)},assertIsOneOf=function(xe,e,t){Array.isArray(t)||(t=values(t));for(var Se=0,_e=t.length;Se<_e;Se++)if(xe===t[Se])return;throw new TypeError(createValueErrorMsg(xe,e,t))},assertIsOneOfOrUndefined=function(xe,e,t){Array.isArray(t)||(t=values(t)),assertIsOneOf(xe,e,t.concat(void 0))},assertIsSubset=function(xe,e,t){Array.isArray(t)||(t=values(t));for(var Se=0,_e=xe.length;Se<_e;Se++)assertIsOneOf(xe[Se],e,t)},getType=function(xe){return xe===null?"null":xe===void 0?"undefined":typeof xe=="string"?"string":isNaN(xe)?"NaN":typeof xe=="number"?"number":typeof xe=="boolean"?"boolean":typeof xe=="symbol"?"symbol":typeof xe=="bigint"?"bigint":xe.constructor&&xe.constructor.name?xe.constructor.name:xe.name?xe.name:xe.constructor?String(xe.constructor):String(xe)},isType=function(xe,e){return e==="null"?xe===null:e==="undefined"?xe===void 0:e==="string"?typeof xe=="string":e==="number"?typeof xe=="number"&&!isNaN(xe):e==="boolean"?typeof xe=="boolean":e==="symbol"?typeof xe=="symbol":e==="bigint"?typeof xe=="bigint":e===Date?xe instanceof Date:e===Array?xe instanceof Array:e===Uint8Array?xe instanceof Uint8Array:e===ArrayBuffer?xe instanceof ArrayBuffer:e===Function?xe instanceof Function:xe instanceof e[0]},createTypeErrorMsg=function(xe,e,t){for(var Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++){var Ce=t[_e];Ce==="null"&&(Se[_e]=backtick("null")),Ce==="undefined"&&(Se[_e]=backtick("undefined")),Ce==="string"?Se[_e]=backtick("string"):Ce==="number"?Se[_e]=backtick("number"):Ce==="boolean"?Se[_e]=backtick("boolean"):Ce==="symbol"?Se[_e]=backtick("symbol"):Ce==="bigint"?Se[_e]=backtick("bigint"):Ce===Array?Se[_e]=backtick("Array"):Ce===Uint8Array?Se[_e]=backtick("Uint8Array"):Ce===ArrayBuffer?Se[_e]=backtick("ArrayBuffer"):Se[_e]=backtick(Ce[1])}var Pe=Se.join(" or ");return backtick(e)+" must be of type "+Pe+", but was actually of type "+backtick(getType(xe))},assertIs=function(xe,e,t){for(var Se=0,_e=t.length;Se<_e;Se++)if(isType(xe,t[Se]))return;throw new TypeError(createTypeErrorMsg(xe,e,t))},assertOrUndefined=function(xe,e,t){assertIs(xe,e,t.concat("undefined"))},assertEachIs=function(xe,e,t){for(var Se=0,_e=xe.length;Se<_e;Se++)assertIs(xe[Se],e,t)},assertRange=function(xe,e,t,Se){if(assertIs(xe,e,["number"]),assertIs(t,"min",["number"]),assertIs(Se,"max",["number"]),Se=Math.max(t,Se),xe<t||xe>Se)throw new Error(backtick(e)+" must be at least "+t+" and at most "+Se+", but was actually "+xe)},assertRangeOrUndefined=function(xe,e,t,Se){assertIs(xe,e,["number","undefined"]),typeof xe=="number"&&assertRange(xe,e,t,Se)},assertMultiple=function(xe,e,t){if(assertIs(xe,e,["number"]),xe%t!==0)throw new Error(backtick(e)+" must be a multiple of "+t+", but was actually "+xe)},assertInteger=function(xe,e){if(!Number.isInteger(xe))throw new Error(backtick(e)+" must be an integer, but was actually "+xe)},assertPositive=function(xe,e){if(![1,0].includes(Math.sign(xe)))throw new Error(backtick(e)+" must be a positive number or 0, but was actually "+xe)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("");pdfDocEncodingToUnicode[25]=toCharCode("");pdfDocEncodingToUnicode[26]=toCharCode("");pdfDocEncodingToUnicode[27]=toCharCode("");pdfDocEncodingToUnicode[28]=toCharCode("");pdfDocEncodingToUnicode[29]=toCharCode("");pdfDocEncodingToUnicode[30]=toCharCode("");pdfDocEncodingToUnicode[31]=toCharCode("");pdfDocEncodingToUnicode[127]=toCharCode("");pdfDocEncodingToUnicode[128]=toCharCode("");pdfDocEncodingToUnicode[129]=toCharCode("");pdfDocEncodingToUnicode[130]=toCharCode("");pdfDocEncodingToUnicode[131]=toCharCode("");pdfDocEncodingToUnicode[132]=toCharCode("");pdfDocEncodingToUnicode[133]=toCharCode("");pdfDocEncodingToUnicode[134]=toCharCode("");pdfDocEncodingToUnicode[135]=toCharCode("");pdfDocEncodingToUnicode[136]=toCharCode("");pdfDocEncodingToUnicode[137]=toCharCode("");pdfDocEncodingToUnicode[138]=toCharCode("");pdfDocEncodingToUnicode[139]=toCharCode("");pdfDocEncodingToUnicode[140]=toCharCode("");pdfDocEncodingToUnicode[141]=toCharCode("");pdfDocEncodingToUnicode[142]=toCharCode("");pdfDocEncodingToUnicode[143]=toCharCode("");pdfDocEncodingToUnicode[144]=toCharCode("");pdfDocEncodingToUnicode[145]=toCharCode("");pdfDocEncodingToUnicode[146]=toCharCode("");pdfDocEncodingToUnicode[147]=toCharCode("");pdfDocEncodingToUnicode[148]=toCharCode("");pdfDocEncodingToUnicode[149]=toCharCode("");pdfDocEncodingToUnicode[150]=toCharCode("");pdfDocEncodingToUnicode[151]=toCharCode("");pdfDocEncodingToUnicode[152]=toCharCode("");pdfDocEncodingToUnicode[153]=toCharCode("");pdfDocEncodingToUnicode[154]=toCharCode("");pdfDocEncodingToUnicode[155]=toCharCode("");pdfDocEncodingToUnicode[156]=toCharCode("");pdfDocEncodingToUnicode[157]=toCharCode("");pdfDocEncodingToUnicode[158]=toCharCode("");pdfDocEncodingToUnicode[159]=toCharCode("");pdfDocEncodingToUnicode[160]=toCharCode("");pdfDocEncodingToUnicode[173]=toCharCode("");var pdfDocEncodingDecode=function(xe){for(var e=new Array(xe.length),t=0,Se=xe.length;t<Se;t++)e[t]=pdfDocEncodingToUnicode[xe[t]];return String.fromCodePoint.apply(String,e)},Cache=function(){function xe(e){this.populate=e,this.value=void 0}return xe.prototype.getValue=function(){return this.value},xe.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},xe.prototype.invalidate=function(){this.value=void 0},xe.populatedBy=function(e){return new xe(e)},xe}(),MethodNotImplementedError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Method "+t+"."+Se+"() not implemented";return _e=xe.call(this,Ae)||this,_e}return e}(Error),PrivateConstructorError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="Cannot construct "+t+" - it has a private constructor";return Se=xe.call(this,_e)||this,Se}return e}(Error),UnexpectedObjectTypeError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae=function(Ee){var Fe,ke;return(Fe=Ee==null?void 0:Ee.name)!==null&&Fe!==void 0?Fe:(ke=Ee==null?void 0:Ee.constructor)===null||ke===void 0?void 0:ke.name},Ce=Array.isArray(t)?t.map(Ae):[Ae(t)],Pe="Expected instance of "+Ce.join(" or ")+", "+("but got instance of "+(Se&&Ae(Se)));return _e=xe.call(this,Pe)||this,_e}return e}(Error),UnsupportedEncodingError=function(xe){__extends(e,xe);function e(t){var Se=this,_e=t+" stream encoding not supported";return Se=xe.call(this,_e)||this,Se}return e}(Error),ReparseError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Cannot call "+t+"."+Se+"() more than once";return _e=xe.call(this,Ae)||this,_e}return e}(Error);(function(xe){__extends(e,xe);function e(t){var Se=this,_e="Missing catalog (ref="+t+")";return Se=xe.call(this,_e)||this,Se}return e})(Error);var MissingPageContentsEmbeddingError=function(xe){__extends(e,xe);function e(){var t=this,Se="Can't embed page with missing Contents";return t=xe.call(this,Se)||this,t}return e}(Error),UnrecognizedStreamTypeError=function(xe){__extends(e,xe);function e(t){var Se,_e,Ae,Ce=this,Pe=(Ae=(_e=(Se=t==null?void 0:t.contructor)===null||Se===void 0?void 0:Se.name)!==null&&_e!==void 0?_e:t==null?void 0:t.name)!==null&&Ae!==void 0?Ae:t,Ee="Unrecognized stream type: "+Pe;return Ce=xe.call(this,Ee)||this,Ce}return e}(Error),PageEmbeddingMismatchedContextError=function(xe){__extends(e,xe);function e(){var t=this,Se="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return t=xe.call(this,Se)||this,t}return e}(Error),PDFArrayIsNotRectangleError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.";return Se=xe.call(this,_e)||this,Se}return e}(Error),InvalidPDFDateStringError=function(xe){__extends(e,xe);function e(t){var Se=this,_e='Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.';return Se=xe.call(this,_e)||this,Se}return e}(Error),InvalidTargetIndexError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+Se;return _e=xe.call(this,Ae)||this,_e}return e}(Error),CorruptPageTreeError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Failed to "+Se+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return _e=xe.call(this,Ae)||this,_e}return e}(Error),IndexOutOfBoundsError=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=this,Ce="index should be at least "+Se+" and at most "+_e+", but was actually "+t;return Ae=xe.call(this,Ce)||this,Ae}return e}(Error),InvalidAcroFieldValueError=function(xe){__extends(e,xe);function e(){var t=this,Se="Attempted to set invalid field value";return t=xe.call(this,Se)||this,t}return e}(Error),MultiSelectValueError=function(xe){__extends(e,xe);function e(){var t=this,Se="Attempted to select multiple values for single-select field";return t=xe.call(this,Se)||this,t}return e}(Error),MissingDAEntryError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="No /DA (default appearance) entry found for field: "+t;return Se=xe.call(this,_e)||this,Se}return e}(Error),MissingTfOperatorError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="No Tf operator found for DA of field: "+t;return Se=xe.call(this,_e)||this,Se}return e}(Error),NumberParsingError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Failed to parse number "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "'+Se+'"');return _e=xe.call(this,Ae)||this,_e}return e}(Error),PDFParsingError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Failed to parse PDF document "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+"): "+Se);return _e=xe.call(this,Ae)||this,_e}return e}(Error),NextByteAssertionError=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=this,Ce="Expected next byte to be "+Se+" but it was actually "+_e;return Ae=xe.call(this,t,Ce)||this,Ae}return e}(PDFParsingError),PDFObjectParsingError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Failed to parse PDF object starting with the following byte: "+Se;return _e=xe.call(this,t,Ae)||this,_e}return e}(PDFParsingError),PDFInvalidObjectParsingError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="Failed to parse invalid PDF object";return Se=xe.call(this,t,_e)||this,Se}return e}(PDFParsingError),PDFStreamParsingError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="Failed to parse PDF stream";return Se=xe.call(this,t,_e)||this,Se}return e}(PDFParsingError),UnbalancedParenthesisError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="Failed to parse PDF literal string due to unbalanced parenthesis";return Se=xe.call(this,t,_e)||this,Se}return e}(PDFParsingError),StalledParserError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="Parser stalled";return Se=xe.call(this,t,_e)||this,Se}return e}(PDFParsingError),MissingPDFHeaderError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="No PDF header found";return Se=xe.call(this,t,_e)||this,Se}return e}(PDFParsingError),MissingKeywordError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Did not find expected keyword '"+arrayAsString(Se)+"'";return _e=xe.call(this,t,Ae)||this,_e}return e}(PDFParsingError),CharCodes;(function(xe){xe[xe.Null=0]="Null",xe[xe.Backspace=8]="Backspace",xe[xe.Tab=9]="Tab",xe[xe.Newline=10]="Newline",xe[xe.FormFeed=12]="FormFeed",xe[xe.CarriageReturn=13]="CarriageReturn",xe[xe.Space=32]="Space",xe[xe.ExclamationPoint=33]="ExclamationPoint",xe[xe.Hash=35]="Hash",xe[xe.Percent=37]="Percent",xe[xe.LeftParen=40]="LeftParen",xe[xe.RightParen=41]="RightParen",xe[xe.Plus=43]="Plus",xe[xe.Minus=45]="Minus",xe[xe.Dash=45]="Dash",xe[xe.Period=46]="Period",xe[xe.ForwardSlash=47]="ForwardSlash",xe[xe.Zero=48]="Zero",xe[xe.One=49]="One",xe[xe.Two=50]="Two",xe[xe.Three=51]="Three",xe[xe.Four=52]="Four",xe[xe.Five=53]="Five",xe[xe.Six=54]="Six",xe[xe.Seven=55]="Seven",xe[xe.Eight=56]="Eight",xe[xe.Nine=57]="Nine",xe[xe.LessThan=60]="LessThan",xe[xe.GreaterThan=62]="GreaterThan",xe[xe.A=65]="A",xe[xe.D=68]="D",xe[xe.E=69]="E",xe[xe.F=70]="F",xe[xe.O=79]="O",xe[xe.P=80]="P",xe[xe.R=82]="R",xe[xe.LeftSquareBracket=91]="LeftSquareBracket",xe[xe.BackSlash=92]="BackSlash",xe[xe.RightSquareBracket=93]="RightSquareBracket",xe[xe.a=97]="a",xe[xe.b=98]="b",xe[xe.d=100]="d",xe[xe.e=101]="e",xe[xe.f=102]="f",xe[xe.i=105]="i",xe[xe.j=106]="j",xe[xe.l=108]="l",xe[xe.m=109]="m",xe[xe.n=110]="n",xe[xe.o=111]="o",xe[xe.r=114]="r",xe[xe.s=115]="s",xe[xe.t=116]="t",xe[xe.u=117]="u",xe[xe.x=120]="x",xe[xe.LeftCurly=123]="LeftCurly",xe[xe.RightCurly=125]="RightCurly",xe[xe.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function xe(e,t){this.major=String(e),this.minor=String(t)}return xe.prototype.toString=function(){var e=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},xe.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},xe.prototype.copyBytesInto=function(e,t){var Se=t;return e[t++]=CharCodes$1.Percent,e[t++]=CharCodes$1.P,e[t++]=CharCodes$1.D,e[t++]=CharCodes$1.F,e[t++]=CharCodes$1.Dash,t+=copyStringIntoBuffer(this.major,e,t),e[t++]=CharCodes$1.Period,t+=copyStringIntoBuffer(this.minor,e,t),e[t++]=CharCodes$1.Newline,e[t++]=CharCodes$1.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-Se},xe.forVersion=function(e,t){return new xe(e,t)},xe}(),PDFObject=function(){function xe(){}return xe.prototype.clone=function(e){throw new MethodNotImplementedError(this.constructor.name,"clone")},xe.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},xe.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},xe.prototype.copyBytesInto=function(e,t){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},xe}(),PDFNumber=function(xe){__extends(e,xe);function e(t){var Se=xe.call(this)||this;return Se.numberValue=t,Se.stringValue=numberToString(t),Se}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(t,Se){return Se+=copyStringIntoBuffer(this.stringValue,t,Se),this.stringValue.length},e.of=function(t){return new e(t)},e}(PDFObject),PDFArray=function(xe){__extends(e,xe);function e(t){var Se=xe.call(this)||this;return Se.array=[],Se.context=t,Se}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(t){this.array.push(t)},e.prototype.insert=function(t,Se){this.array.splice(t,0,Se)},e.prototype.indexOf=function(t){var Se=this.array.indexOf(t);return Se===-1?void 0:Se},e.prototype.remove=function(t){this.array.splice(t,1)},e.prototype.set=function(t,Se){this.array[t]=Se},e.prototype.get=function(t){return this.array[t]},e.prototype.lookupMaybe=function(t){for(var Se,_e=[],Ae=1;Ae<arguments.length;Ae++)_e[Ae-1]=arguments[Ae];return(Se=this.context).lookupMaybe.apply(Se,__spreadArrays([this.get(t)],_e))},e.prototype.lookup=function(t){for(var Se,_e=[],Ae=1;Ae<arguments.length;Ae++)_e[Ae-1]=arguments[Ae];return(Se=this.context).lookup.apply(Se,__spreadArrays([this.get(t)],_e))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var t=this.lookup(0,PDFNumber).asNumber(),Se=this.lookup(1,PDFNumber).asNumber(),_e=this.lookup(2,PDFNumber).asNumber(),Ae=this.lookup(3,PDFNumber).asNumber(),Ce=t,Pe=Se,Ee=_e-t,Fe=Ae-Se;return{x:Ce,y:Pe,width:Ee,height:Fe}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(t){for(var Se=e.withContext(t||this.context),_e=0,Ae=this.size();_e<Ae;_e++)Se.push(this.array[_e]);return Se},e.prototype.toString=function(){for(var t="[ ",Se=0,_e=this.size();Se<_e;Se++)t+=this.get(Se).toString(),t+=" ";return t+="]",t},e.prototype.sizeInBytes=function(){for(var t=3,Se=0,_e=this.size();Se<_e;Se++)t+=this.get(Se).sizeInBytes()+1;return t},e.prototype.copyBytesInto=function(t,Se){var _e=Se;t[Se++]=CharCodes$1.LeftSquareBracket,t[Se++]=CharCodes$1.Space;for(var Ae=0,Ce=this.size();Ae<Ce;Ae++)Se+=this.get(Ae).copyBytesInto(t,Se),t[Se++]=CharCodes$1.Space;return t[Se++]=CharCodes$1.RightSquareBracket,Se-_e},e.prototype.scalePDFNumbers=function(t,Se){for(var _e=0,Ae=this.size();_e<Ae;_e++){var Ce=this.lookup(_e);if(Ce instanceof PDFNumber){var Pe=_e%2===0?t:Se;this.set(_e,PDFNumber.of(Ce.asNumber()*Pe))}}},e.withContext=function(t){return new e(t)},e}(PDFObject),ENFORCER$2={},PDFBool=function(xe){__extends(e,xe);function e(t,Se){var _e=this;if(t!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return _e=xe.call(this)||this,_e.value=Se,_e}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(t,Se){return this.value?(t[Se++]=CharCodes$1.t,t[Se++]=CharCodes$1.r,t[Se++]=CharCodes$1.u,t[Se++]=CharCodes$1.e,4):(t[Se++]=CharCodes$1.f,t[Se++]=CharCodes$1.a,t[Se++]=CharCodes$1.l,t[Se++]=CharCodes$1.s,t[Se++]=CharCodes$1.e,5)},e.True=new e(ENFORCER$2,!0),e.False=new e(ENFORCER$2,!1),e}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(xe){return xe.replace(/#([\dABCDEF]{2})/g,function(e,t){return charFromHexCode(t)})},isRegularChar=function(xe){return xe>=CharCodes$1.ExclamationPoint&&xe<=CharCodes$1.Tilde&&!IsIrregular[xe]},ENFORCER$1={},pool$1=new Map,PDFName=function(xe){__extends(e,xe);function e(t,Se){var _e=this;if(t!==ENFORCER$1)throw new PrivateConstructorError("PDFName");_e=xe.call(this)||this;for(var Ae="/",Ce=0,Pe=Se.length;Ce<Pe;Ce++){var Ee=Se[Ce],Fe=toCharCode(Ee);Ae+=isRegularChar(Fe)?Ee:"#"+toHexString(Fe)}return _e.encodedName=Ae,_e}return e.prototype.asBytes=function(){for(var t=[],Se="",_e=!1,Ae=function(Ie){Ie!==void 0&&t.push(Ie),_e=!1},Ce=1,Pe=this.encodedName.length;Ce<Pe;Ce++){var Ee=this.encodedName[Ce],Fe=toCharCode(Ee),ke=this.encodedName[Ce+1];_e?Fe>=CharCodes$1.Zero&&Fe<=CharCodes$1.Nine||Fe>=CharCodes$1.a&&Fe<=CharCodes$1.f||Fe>=CharCodes$1.A&&Fe<=CharCodes$1.F?(Se+=Ee,(Se.length===2||!(ke>="0"&&ke<="9"||ke>="a"&&ke<="f"||ke>="A"&&ke<="F"))&&(Ae(parseInt(Se,16)),Se="")):Ae(Fe):Fe===CharCodes$1.Hash?_e=!0:Ae(Fe)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return String.fromCharCode.apply(String,Array.from(t))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(t,Se){return Se+=copyStringIntoBuffer(this.encodedName,t,Se),this.encodedName.length},e.of=function(t){var Se=decodeName(t),_e=pool$1.get(Se);return _e||(_e=new e(ENFORCER$1,Se),pool$1.set(Se,_e)),_e},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(PDFObject),PDFNull=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(t,Se){return t[Se++]=CharCodes$1.n,t[Se++]=CharCodes$1.u,t[Se++]=CharCodes$1.l,t[Se++]=CharCodes$1.l,4},e}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this)||this;return _e.dict=t,_e.context=Se,_e}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(t,Se){this.dict.set(t,Se)},e.prototype.get=function(t,Se){Se===void 0&&(Se=!1);var _e=this.dict.get(t);if(!(_e===PDFNull$1&&!Se))return _e},e.prototype.has=function(t){var Se=this.dict.get(t);return Se!==void 0&&Se!==PDFNull$1},e.prototype.lookupMaybe=function(t){for(var Se,_e=[],Ae=1;Ae<arguments.length;Ae++)_e[Ae-1]=arguments[Ae];var Ce=_e.includes(PDFNull$1),Pe=(Se=this.context).lookupMaybe.apply(Se,__spreadArrays([this.get(t,Ce)],_e));if(!(Pe===PDFNull$1&&!Ce))return Pe},e.prototype.lookup=function(t){for(var Se,_e=[],Ae=1;Ae<arguments.length;Ae++)_e[Ae-1]=arguments[Ae];var Ce=_e.includes(PDFNull$1),Pe=(Se=this.context).lookup.apply(Se,__spreadArrays([this.get(t,Ce)],_e));if(!(Pe===PDFNull$1&&!Ce))return Pe},e.prototype.delete=function(t){return this.dict.delete(t)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(t){t===void 0&&(t="");for(var Se=this.keys(),_e=PDFName.of(this.context.addRandomSuffix(t,10));Se.includes(_e);)_e=PDFName.of(this.context.addRandomSuffix(t,10));return _e},e.prototype.clone=function(t){for(var Se=e.withContext(t||this.context),_e=this.entries(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae],Ee=Pe[0],Fe=Pe[1];Se.set(Ee,Fe)}return Se},e.prototype.toString=function(){for(var t=`<<
`,Se=this.entries(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=Ce[0],Ee=Ce[1];t+=Pe.toString()+" "+Ee.toString()+`
`}return t+=">>",t},e.prototype.sizeInBytes=function(){for(var t=5,Se=this.entries(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=Ce[0],Ee=Ce[1];t+=Pe.sizeInBytes()+Ee.sizeInBytes()+2}return t},e.prototype.copyBytesInto=function(t,Se){var _e=Se;t[Se++]=CharCodes$1.LessThan,t[Se++]=CharCodes$1.LessThan,t[Se++]=CharCodes$1.Newline;for(var Ae=this.entries(),Ce=0,Pe=Ae.length;Ce<Pe;Ce++){var Ee=Ae[Ce],Fe=Ee[0],ke=Ee[1];Se+=Fe.copyBytesInto(t,Se),t[Se++]=CharCodes$1.Space,Se+=ke.copyBytesInto(t,Se),t[Se++]=CharCodes$1.Newline}return t[Se++]=CharCodes$1.GreaterThan,t[Se++]=CharCodes$1.GreaterThan,Se-_e},e.withContext=function(t){return new e(new Map,t)},e.fromMapWithContext=function(t,Se){return new e(t,Se)},e}(PDFObject),PDFStream=function(xe){__extends(e,xe);function e(t){var Se=xe.call(this)||this;return Se.dict=t,Se}return e.prototype.clone=function(t){throw new MethodNotImplementedError(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var t=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(t))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var t=this.dict.toString();return t+=`
stream
`,t+=this.getContentsString(),t+=`
endstream`,t},e.prototype.copyBytesInto=function(t,Se){this.updateDict();var _e=Se;Se+=this.dict.copyBytesInto(t,Se),t[Se++]=CharCodes$1.Newline,t[Se++]=CharCodes$1.s,t[Se++]=CharCodes$1.t,t[Se++]=CharCodes$1.r,t[Se++]=CharCodes$1.e,t[Se++]=CharCodes$1.a,t[Se++]=CharCodes$1.m,t[Se++]=CharCodes$1.Newline;for(var Ae=this.getContents(),Ce=0,Pe=Ae.length;Ce<Pe;Ce++)t[Se++]=Ae[Ce];return t[Se++]=CharCodes$1.Newline,t[Se++]=CharCodes$1.e,t[Se++]=CharCodes$1.n,t[Se++]=CharCodes$1.d,t[Se++]=CharCodes$1.s,t[Se++]=CharCodes$1.t,t[Se++]=CharCodes$1.r,t[Se++]=CharCodes$1.e,t[Se++]=CharCodes$1.a,t[Se++]=CharCodes$1.m,Se-_e},e}(PDFObject),PDFRawStream=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this,t)||this;return _e.contents=Se,_e}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(t){return e.of(this.dict.clone(t),this.contents.slice())},e.prototype.getContentsString=function(){return arrayAsString(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(t,Se){return new e(t,Se)},e}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=this;if(t!==ENFORCER)throw new PrivateConstructorError("PDFRef");return Ae=xe.call(this)||this,Ae.objectNumber=Se,Ae.generationNumber=_e,Ae.tag=Se+" "+_e+" R",Ae}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(t,Se){return Se+=copyStringIntoBuffer(this.tag,t,Se),this.tag.length},e.of=function(t,Se){Se===void 0&&(Se=0);var _e=t+" "+Se+" R",Ae=pool.get(_e);return Ae||(Ae=new e(ENFORCER,t,Se),pool.set(_e,Ae)),Ae},e}(PDFObject),PDFOperator=function(){function xe(e,t){this.name=e,this.args=t||[]}return xe.prototype.clone=function(e){for(var t=new Array(this.args.length),Se=0,_e=t.length;Se<_e;Se++){var Ae=this.args[Se];t[Se]=Ae instanceof PDFObject?Ae.clone(e):Ae}return xe.of(this.name,t)},xe.prototype.toString=function(){for(var e="",t=0,Se=this.args.length;t<Se;t++)e+=String(this.args[t])+" ";return e+=this.name,e},xe.prototype.sizeInBytes=function(){for(var e=0,t=0,Se=this.args.length;t<Se;t++){var _e=this.args[t];e+=(_e instanceof PDFObject?_e.sizeInBytes():_e.length)+1}return e+=this.name.length,e},xe.prototype.copyBytesInto=function(e,t){for(var Se=t,_e=0,Ae=this.args.length;_e<Ae;_e++){var Ce=this.args[_e];Ce instanceof PDFObject?t+=Ce.copyBytesInto(e,t):t+=copyStringIntoBuffer(Ce,e,t),e[t++]=CharCodes$1.Space}return t+=copyStringIntoBuffer(this.name,e,t),t-Se},xe.of=function(e,t){return new xe(e,t)},xe}(),PDFOperatorNames;(function(xe){xe.NonStrokingColor="sc",xe.NonStrokingColorN="scn",xe.NonStrokingColorRgb="rg",xe.NonStrokingColorGray="g",xe.NonStrokingColorCmyk="k",xe.NonStrokingColorspace="cs",xe.StrokingColor="SC",xe.StrokingColorN="SCN",xe.StrokingColorRgb="RG",xe.StrokingColorGray="G",xe.StrokingColorCmyk="K",xe.StrokingColorspace="CS",xe.BeginMarkedContentSequence="BDC",xe.BeginMarkedContent="BMC",xe.EndMarkedContent="EMC",xe.MarkedContentPointWithProps="DP",xe.MarkedContentPoint="MP",xe.DrawObject="Do",xe.ConcatTransformationMatrix="cm",xe.PopGraphicsState="Q",xe.PushGraphicsState="q",xe.SetFlatness="i",xe.SetGraphicsStateParams="gs",xe.SetLineCapStyle="J",xe.SetLineDashPattern="d",xe.SetLineJoinStyle="j",xe.SetLineMiterLimit="M",xe.SetLineWidth="w",xe.SetTextMatrix="Tm",xe.SetRenderingIntent="ri",xe.AppendRectangle="re",xe.BeginInlineImage="BI",xe.BeginInlineImageData="ID",xe.EndInlineImage="EI",xe.ClipEvenOdd="W*",xe.ClipNonZero="W",xe.CloseAndStroke="s",xe.CloseFillEvenOddAndStroke="b*",xe.CloseFillNonZeroAndStroke="b",xe.ClosePath="h",xe.AppendBezierCurve="c",xe.CurveToReplicateFinalPoint="y",xe.CurveToReplicateInitialPoint="v",xe.EndPath="n",xe.FillEvenOddAndStroke="B*",xe.FillEvenOdd="f*",xe.FillNonZeroAndStroke="B",xe.FillNonZero="f",xe.LegacyFillNonZero="F",xe.LineTo="l",xe.MoveTo="m",xe.ShadingFill="sh",xe.StrokePath="S",xe.BeginText="BT",xe.EndText="ET",xe.MoveText="Td",xe.MoveTextSetLeading="TD",xe.NextLine="T*",xe.SetCharacterSpacing="Tc",xe.SetFontAndSize="Tf",xe.SetTextHorizontalScaling="Tz",xe.SetTextLineHeight="TL",xe.SetTextRenderingMode="Tr",xe.SetTextRise="Ts",xe.SetWordSpacing="Tw",xe.ShowText="Tj",xe.ShowTextAdjusted="TJ",xe.ShowTextLine="'",xe.ShowTextLineAndSpace='"',xe.Type3D0="d0",xe.Type3D1="d1",xe.BeginCompatibilitySection="BX",xe.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this,t)||this;return _e.computeContents=function(){var Ae=_e.getUnencodedContents();return _e.encode?pako.deflate(Ae):Ae},_e.encode=Se,Se&&t.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),_e.contentsCache=Cache.populatedBy(_e.computeContents),_e}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},e}(PDFStream),PDFContentStream=function(xe){__extends(e,xe);function e(t,Se,_e){_e===void 0&&(_e=!0);var Ae=xe.call(this,t,_e)||this;return Ae.operators=Se,Ae}return e.prototype.push=function(){for(var t,Se=[],_e=0;_e<arguments.length;_e++)Se[_e]=arguments[_e];(t=this.operators).push.apply(t,Se)},e.prototype.clone=function(t){for(var Se=new Array(this.operators.length),_e=0,Ae=this.operators.length;_e<Ae;_e++)Se[_e]=this.operators[_e].clone(t);var Ce=this,Pe=Ce.dict,Ee=Ce.encode;return e.of(Pe.clone(t),Se,Ee)},e.prototype.getContentsString=function(){for(var t="",Se=0,_e=this.operators.length;Se<_e;Se++)t+=this.operators[Se]+`
`;return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),Se=0,_e=0,Ae=this.operators.length;_e<Ae;_e++)Se+=this.operators[_e].copyBytesInto(t,Se),t[Se++]=CharCodes$1.Newline;return t},e.prototype.getUnencodedContentsSize=function(){for(var t=0,Se=0,_e=this.operators.length;Se<_e;Se++)t+=this.operators[Se].sizeInBytes()+1;return t},e.of=function(t,Se,_e){return _e===void 0&&(_e=!0),new e(t,Se,_e)},e}(PDFFlateStream),SimpleRNG=function(){function xe(e){this.seed=e}return xe.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},xe.withSeed=function(e){return new xe(e)},xe}(),byAscendingObjectNumber=function(xe,e){var t=xe[0],Se=e[0];return t.objectNumber-Se.objectNumber},PDFContext=function(){function xe(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return xe.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},xe.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},xe.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},xe.prototype.delete=function(e){return this.indirectObjects.delete(e)},xe.prototype.lookupMaybe=function(e){for(var t=[],Se=1;Se<arguments.length;Se++)t[Se-1]=arguments[Se];var _e=t.includes(PDFNull$1),Ae=e instanceof PDFRef?this.indirectObjects.get(e):e;if(!(!Ae||Ae===PDFNull$1&&!_e)){for(var Ce=0,Pe=t.length;Ce<Pe;Ce++){var Ee=t[Ce];if(Ee===PDFNull$1){if(Ae===PDFNull$1)return Ae}else if(Ae instanceof Ee)return Ae}throw new UnexpectedObjectTypeError(t,Ae)}},xe.prototype.lookup=function(e){for(var t=[],Se=1;Se<arguments.length;Se++)t[Se-1]=arguments[Se];var _e=e instanceof PDFRef?this.indirectObjects.get(e):e;if(t.length===0)return _e;for(var Ae=0,Ce=t.length;Ae<Ce;Ae++){var Pe=t[Ae];if(Pe===PDFNull$1){if(_e===PDFNull$1)return _e}else if(_e instanceof Pe)return _e}throw new UnexpectedObjectTypeError(t,_e)},xe.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),Se=0,_e=t.length;Se<_e;Se++){var Ae=t[Se],Ce=Ae[0],Pe=Ae[1];if(Pe===e)return Ce}},xe.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},xe.prototype.obj=function(e){if(e instanceof PDFObject)return e;if(e==null)return PDFNull$1;if(typeof e=="string")return PDFName.of(e);if(typeof e=="number")return PDFNumber.of(e);if(typeof e=="boolean")return e?PDFBool.True:PDFBool.False;if(Array.isArray(e)){for(var t=PDFArray.withContext(this),Se=0,_e=e.length;Se<_e;Se++)t.push(this.obj(e[Se]));return t}else{for(var Ae=PDFDict.withContext(this),Ce=Object.keys(e),Se=0,_e=Ce.length;Se<_e;Se++){var Pe=Ce[Se],Ee=e[Pe];Ee!==void 0&&Ae.set(PDFName.of(Pe),this.obj(Ee))}return Ae}},xe.prototype.stream=function(e,t){return t===void 0&&(t={}),PDFRawStream.of(this.obj(t),typedArrayFor(e))},xe.prototype.flateStream=function(e,t){return t===void 0&&(t={}),this.stream(pako.deflate(typedArrayFor(e)),__assign(__assign({},t),{Filter:"FlateDecode"}))},xe.prototype.contentStream=function(e,t){return t===void 0&&(t={}),PDFContentStream.of(this.obj(t),e)},xe.prototype.formXObject=function(e,t){return t===void 0&&(t={}),this.contentStream(e,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},xe.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=PDFOperator.of(Ops.PushGraphicsState),Se=PDFContentStream.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(Se),this.pushGraphicsStateContentStreamRef},xe.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=PDFOperator.of(Ops.PopGraphicsState),Se=PDFContentStream.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(Se),this.popGraphicsStateContentStreamRef},xe.prototype.addRandomSuffix=function(e,t){return t===void 0&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},xe.create=function(){return new xe},xe}(),PDFPageLeaf=function(xe){__extends(e,xe);function e(t,Se,_e){_e===void 0&&(_e=!0);var Ae=xe.call(this,t,Se)||this;return Ae.normalized=!1,Ae.autoNormalizeCTM=_e,Ae}return e.prototype.clone=function(t){for(var Se=e.fromMapWithContext(new Map,t||this.context,this.autoNormalizeCTM),_e=this.entries(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae],Ee=Pe[0],Fe=Pe[1];Se.set(Ee,Fe)}return Se},e.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},e.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},e.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},e.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},e.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},e.prototype.Resources=function(){var t=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(t,PDFDict)},e.prototype.MediaBox=function(){var t=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(t,PDFArray)},e.prototype.CropBox=function(){var t=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(t,PDFArray)},e.prototype.Rotate=function(){var t=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(t,PDFNumber)},e.prototype.getInheritableAttribute=function(t){var Se;return this.ascend(function(_e){Se||(Se=_e.get(t))}),Se},e.prototype.setParent=function(t){this.set(PDFName.Parent,t)},e.prototype.addContentStream=function(t){var Se=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,Se),Se.push(t)},e.prototype.wrapContentStreams=function(t,Se){var _e=this.Contents();return _e instanceof PDFArray?(_e.insert(0,t),_e.push(Se),!0):!1},e.prototype.addAnnot=function(t){var Se=this.normalizedEntries().Annots;Se.push(t)},e.prototype.removeAnnot=function(t){var Se=this.normalizedEntries().Annots,_e=Se.indexOf(t);_e!==void 0&&Se.remove(_e)},e.prototype.setFontDictionary=function(t,Se){var _e=this.normalizedEntries().Font;_e.set(t,Se)},e.prototype.newFontDictionaryKey=function(t){var Se=this.normalizedEntries().Font;return Se.uniqueKey(t)},e.prototype.newFontDictionary=function(t,Se){var _e=this.newFontDictionaryKey(t);return this.setFontDictionary(_e,Se),_e},e.prototype.setXObject=function(t,Se){var _e=this.normalizedEntries().XObject;_e.set(t,Se)},e.prototype.newXObjectKey=function(t){var Se=this.normalizedEntries().XObject;return Se.uniqueKey(t)},e.prototype.newXObject=function(t,Se){var _e=this.newXObjectKey(t);return this.setXObject(_e,Se),_e},e.prototype.setExtGState=function(t,Se){var _e=this.normalizedEntries().ExtGState;_e.set(t,Se)},e.prototype.newExtGStateKey=function(t){var Se=this.normalizedEntries().ExtGState;return Se.uniqueKey(t)},e.prototype.newExtGState=function(t,Se){var _e=this.newExtGStateKey(t);return this.setExtGState(_e,Se),_e},e.prototype.ascend=function(t){t(this);var Se=this.Parent();Se&&Se.ascend(t)},e.prototype.normalize=function(){if(!this.normalized){var t=this.context,Se=this.get(PDFName.Contents),_e=this.context.lookup(Se);_e instanceof PDFStream&&this.set(PDFName.Contents,t.obj([Se])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var Ae=this.getInheritableAttribute(PDFName.Resources),Ce=t.lookupMaybe(Ae,PDFDict)||t.obj({});this.set(PDFName.Resources,Ce);var Pe=Ce.lookupMaybe(PDFName.Font,PDFDict)||t.obj({});Ce.set(PDFName.Font,Pe);var Ee=Ce.lookupMaybe(PDFName.XObject,PDFDict)||t.obj({});Ce.set(PDFName.XObject,Ee);var Fe=Ce.lookupMaybe(PDFName.ExtGState,PDFDict)||t.obj({});Ce.set(PDFName.ExtGState,Fe);var ke=this.Annots()||t.obj([]);this.set(PDFName.Annots,ke),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var t=this.Annots(),Se=this.Resources(),_e=this.Contents();return{Annots:t,Resources:Se,Contents:_e,Font:Se.lookup(PDFName.Font,PDFDict),XObject:Se.lookup(PDFName.XObject,PDFDict),ExtGState:Se.lookup(PDFName.ExtGState,PDFDict)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(t,Se){var _e=new Map;return _e.set(PDFName.Type,PDFName.Page),_e.set(PDFName.Parent,Se),_e.set(PDFName.Resources,t.obj({})),_e.set(PDFName.MediaBox,t.obj([0,0,612,792])),new e(_e,t,!1)},e.fromMapWithContext=function(t,Se,_e){return _e===void 0&&(_e=!0),new e(t,Se,_e)},e}(PDFDict),PDFObjectCopier=function(){function xe(e,t){var Se=this;this.traversedObjects=new Map,this.copy=function(_e){return _e instanceof PDFPageLeaf?Se.copyPDFPage(_e):_e instanceof PDFDict?Se.copyPDFDict(_e):_e instanceof PDFArray?Se.copyPDFArray(_e):_e instanceof PDFStream?Se.copyPDFStream(_e):_e instanceof PDFRef?Se.copyPDFIndirectObject(_e):_e.clone()},this.copyPDFPage=function(_e){for(var Ae=_e.clone(),Ce=PDFPageLeaf.InheritableEntries,Pe=0,Ee=Ce.length;Pe<Ee;Pe++){var Fe=PDFName.of(Ce[Pe]),ke=Ae.getInheritableAttribute(Fe);!Ae.get(Fe)&&ke&&Ae.set(Fe,ke)}return Ae.delete(PDFName.of("Parent")),Se.copyPDFDict(Ae)},this.copyPDFDict=function(_e){if(Se.traversedObjects.has(_e))return Se.traversedObjects.get(_e);var Ae=_e.clone(Se.dest);Se.traversedObjects.set(_e,Ae);for(var Ce=_e.entries(),Pe=0,Ee=Ce.length;Pe<Ee;Pe++){var Fe=Ce[Pe],ke=Fe[0],Ie=Fe[1];Ae.set(ke,Se.copy(Ie))}return Ae},this.copyPDFArray=function(_e){if(Se.traversedObjects.has(_e))return Se.traversedObjects.get(_e);var Ae=_e.clone(Se.dest);Se.traversedObjects.set(_e,Ae);for(var Ce=0,Pe=_e.size();Ce<Pe;Ce++){var Ee=_e.get(Ce);Ae.set(Ce,Se.copy(Ee))}return Ae},this.copyPDFStream=function(_e){if(Se.traversedObjects.has(_e))return Se.traversedObjects.get(_e);var Ae=_e.clone(Se.dest);Se.traversedObjects.set(_e,Ae);for(var Ce=_e.dict.entries(),Pe=0,Ee=Ce.length;Pe<Ee;Pe++){var Fe=Ce[Pe],ke=Fe[0],Ie=Fe[1];Ae.dict.set(ke,Se.copy(Ie))}return Ae},this.copyPDFIndirectObject=function(_e){var Ae=Se.traversedObjects.has(_e);if(!Ae){var Ce=Se.dest.nextRef();Se.traversedObjects.set(_e,Ce);var Pe=Se.src.lookup(_e);if(Pe){var Ee=Se.copy(Pe);Se.dest.assign(Ce,Ee)}}return Se.traversedObjects.get(_e)},this.src=e,this.dest=t}return xe.for=function(e,t){return new xe(e,t)},xe}(),PDFCrossRefSection=function(){function xe(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return xe.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},xe.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},xe.prototype.toString=function(){for(var e=`xref
`,t=0,Se=this.subsections.length;t<Se;t++){var _e=this.subsections[t];e+=_e[0].ref.objectNumber+" "+_e.length+`
`;for(var Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae];e+=padStart$1(String(Pe.offset),10,"0"),e+=" ",e+=padStart$1(String(Pe.ref.generationNumber),5,"0"),e+=" ",e+=Pe.deleted?"f":"n",e+=` 
`}}return e},xe.prototype.sizeInBytes=function(){for(var e=5,t=0,Se=this.subsections.length;t<Se;t++){var _e=this.subsections[t],Ae=_e.length,Ce=_e[0];e+=2,e+=String(Ce.ref.objectNumber).length,e+=String(Ae).length,e+=20*Ae}return e},xe.prototype.copyBytesInto=function(e,t){var Se=t;return e[t++]=CharCodes$1.x,e[t++]=CharCodes$1.r,e[t++]=CharCodes$1.e,e[t++]=CharCodes$1.f,e[t++]=CharCodes$1.Newline,t+=this.copySubsectionsIntoBuffer(this.subsections,e,t),t-Se},xe.prototype.copySubsectionsIntoBuffer=function(e,t,Se){for(var _e=Se,Ae=e.length,Ce=0;Ce<Ae;Ce++){var Pe=this.subsections[Ce],Ee=String(Pe[0].ref.objectNumber);Se+=copyStringIntoBuffer(Ee,t,Se),t[Se++]=CharCodes$1.Space;var Fe=String(Pe.length);Se+=copyStringIntoBuffer(Fe,t,Se),t[Se++]=CharCodes$1.Newline,Se+=this.copyEntriesIntoBuffer(Pe,t,Se)}return Se-_e},xe.prototype.copyEntriesIntoBuffer=function(e,t,Se){for(var _e=e.length,Ae=0;Ae<_e;Ae++){var Ce=e[Ae],Pe=padStart$1(String(Ce.offset),10,"0");Se+=copyStringIntoBuffer(Pe,t,Se),t[Se++]=CharCodes$1.Space;var Ee=padStart$1(String(Ce.ref.generationNumber),5,"0");Se+=copyStringIntoBuffer(Ee,t,Se),t[Se++]=CharCodes$1.Space,t[Se++]=Ce.deleted?CharCodes$1.f:CharCodes$1.n,t[Se++]=CharCodes$1.Space,t[Se++]=CharCodes$1.Newline}return 20*_e},xe.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var t=this.subsections[this.chunkIdx],Se=t[this.chunkLength-1];e.ref.objectNumber-Se.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},xe.create=function(){return new xe({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},xe.createEmpty=function(){return new xe},xe}(),PDFTrailer=function(){function xe(e){this.lastXRefOffset=String(e)}return xe.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},xe.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},xe.prototype.copyBytesInto=function(e,t){var Se=t;return e[t++]=CharCodes$1.s,e[t++]=CharCodes$1.t,e[t++]=CharCodes$1.a,e[t++]=CharCodes$1.r,e[t++]=CharCodes$1.t,e[t++]=CharCodes$1.x,e[t++]=CharCodes$1.r,e[t++]=CharCodes$1.e,e[t++]=CharCodes$1.f,e[t++]=CharCodes$1.Newline,t+=copyStringIntoBuffer(this.lastXRefOffset,e,t),e[t++]=CharCodes$1.Newline,e[t++]=CharCodes$1.Percent,e[t++]=CharCodes$1.Percent,e[t++]=CharCodes$1.E,e[t++]=CharCodes$1.O,e[t++]=CharCodes$1.F,t-Se},xe.forLastCrossRefSectionOffset=function(e){return new xe(e)},xe}(),PDFTrailerDict=function(){function xe(e){this.dict=e}return xe.prototype.toString=function(){return`trailer
`+this.dict.toString()},xe.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},xe.prototype.copyBytesInto=function(e,t){var Se=t;return e[t++]=CharCodes$1.t,e[t++]=CharCodes$1.r,e[t++]=CharCodes$1.a,e[t++]=CharCodes$1.i,e[t++]=CharCodes$1.l,e[t++]=CharCodes$1.e,e[t++]=CharCodes$1.r,e[t++]=CharCodes$1.Newline,t+=this.dict.copyBytesInto(e,t),t-Se},xe.of=function(e){return new xe(e)},xe}(),PDFObjectStream=function(xe){__extends(e,xe);function e(t,Se,_e){_e===void 0&&(_e=!0);var Ae=xe.call(this,t.obj({}),_e)||this;return Ae.objects=Se,Ae.offsets=Ae.computeObjectOffsets(),Ae.offsetsString=Ae.computeOffsetsString(),Ae.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),Ae.dict.set(PDFName.of("N"),PDFNumber.of(Ae.objects.length)),Ae.dict.set(PDFName.of("First"),PDFNumber.of(Ae.offsetsString.length)),Ae}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(t){return e.withContextAndObjects(t||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var t=this.offsetsString,Se=0,_e=this.objects.length;Se<_e;Se++){var Ae=this.objects[Se],Ce=Ae[1];t+=Ce+`
`}return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),Se=copyStringIntoBuffer(this.offsetsString,t,0),_e=0,Ae=this.objects.length;_e<Ae;_e++){var Ce=this.objects[_e],Pe=Ce[1];Se+=Pe.copyBytesInto(t,Se),t[Se++]=CharCodes$1.Newline}return t},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var t="",Se=0,_e=this.offsets.length;Se<_e;Se++){var Ae=this.offsets[Se],Ce=Ae[0],Pe=Ae[1];t+=Ce+" "+Pe+" "}return t},e.prototype.computeObjectOffsets=function(){for(var t=0,Se=new Array(this.objects.length),_e=0,Ae=this.objects.length;_e<Ae;_e++){var Ce=this.objects[_e],Pe=Ce[0],Ee=Ce[1];Se[_e]=[Pe.objectNumber,t],t+=Ee.sizeInBytes()+1}return Se},e.withContextAndObjects=function(t,Se,_e){return _e===void 0&&(_e=!0),new e(t,Se,_e)},e}(PDFFlateStream),PDFWriter=function(){function xe(e,t){var Se=this;this.parsedObjects=0,this.shouldWaitForTick=function(_e){return Se.parsedObjects+=_e,Se.parsedObjects%Se.objectsPerTick===0},this.context=e,this.objectsPerTick=t}return xe.prototype.serializeToBuffer=function(){return __awaiter$1(this,void 0,void 0,function(){var e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He,Ge;return __generator(this,function(Ve){switch(Ve.label){case 0:return[4,this.computeBufferSize()];case 1:e=Ve.sent(),t=e.size,Se=e.header,_e=e.indirectObjects,Ae=e.xref,Ce=e.trailerDict,Pe=e.trailer,Ee=0,Fe=new Uint8Array(t),Ee+=Se.copyBytesInto(Fe,Ee),Fe[Ee++]=CharCodes$1.Newline,Fe[Ee++]=CharCodes$1.Newline,ke=0,Ie=_e.length,Ve.label=2;case 2:return ke<Ie?(Oe=_e[ke],Re=Oe[0],Be=Oe[1],je=String(Re.objectNumber),Ee+=copyStringIntoBuffer(je,Fe,Ee),Fe[Ee++]=CharCodes$1.Space,He=String(Re.generationNumber),Ee+=copyStringIntoBuffer(He,Fe,Ee),Fe[Ee++]=CharCodes$1.Space,Fe[Ee++]=CharCodes$1.o,Fe[Ee++]=CharCodes$1.b,Fe[Ee++]=CharCodes$1.j,Fe[Ee++]=CharCodes$1.Newline,Ee+=Be.copyBytesInto(Fe,Ee),Fe[Ee++]=CharCodes$1.Newline,Fe[Ee++]=CharCodes$1.e,Fe[Ee++]=CharCodes$1.n,Fe[Ee++]=CharCodes$1.d,Fe[Ee++]=CharCodes$1.o,Fe[Ee++]=CharCodes$1.b,Fe[Ee++]=CharCodes$1.j,Fe[Ee++]=CharCodes$1.Newline,Fe[Ee++]=CharCodes$1.Newline,Ge=Be instanceof PDFObjectStream?Be.getObjectsCount():1,this.shouldWaitForTick(Ge)?[4,waitForTick()]:[3,4]):[3,5];case 3:Ve.sent(),Ve.label=4;case 4:return ke++,[3,2];case 5:return Ae&&(Ee+=Ae.copyBytesInto(Fe,Ee),Fe[Ee++]=CharCodes$1.Newline),Ce&&(Ee+=Ce.copyBytesInto(Fe,Ee),Fe[Ee++]=CharCodes$1.Newline,Fe[Ee++]=CharCodes$1.Newline),Ee+=Pe.copyBytesInto(Fe,Ee),[2,Fe]}})})},xe.prototype.computeIndirectObjectSize=function(e){var t=e[0],Se=e[1],_e=t.sizeInBytes()+3,Ae=Se.sizeInBytes()+9;return _e+Ae},xe.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},xe.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie;return __generator(this,function(Oe){switch(Oe.label){case 0:e=PDFHeader.forVersion(1,7),t=e.sizeInBytes()+2,Se=PDFCrossRefSection.create(),_e=this.context.enumerateIndirectObjects(),Ae=0,Ce=_e.length,Oe.label=1;case 1:return Ae<Ce?(Pe=_e[Ae],Ee=Pe[0],Se.addEntry(Ee,t),t+=this.computeIndirectObjectSize(Pe),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:Oe.sent(),Oe.label=3;case 3:return Ae++,[3,1];case 4:return Fe=t,t+=Se.sizeInBytes()+1,ke=PDFTrailerDict.of(this.createTrailerDict()),t+=ke.sizeInBytes()+2,Ie=PDFTrailer.forLastCrossRefSectionOffset(Fe),t+=Ie.sizeInBytes(),[2,{size:t,header:e,indirectObjects:_e,xref:Se,trailerDict:ke,trailer:Ie}]}})})},xe.forContext=function(e,t){return new xe(e,t)},xe}(),PDFInvalidObject=function(xe){__extends(e,xe);function e(t){var Se=xe.call(this)||this;return Se.data=t,Se}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(t,Se){for(var _e=this.data.length,Ae=0;Ae<_e;Ae++)t[Se++]=this.data[Ae];return _e},e.of=function(t){return new e(t)},e}(PDFObject),EntryType;(function(xe){xe[xe.Deleted=0]="Deleted",xe[xe.Uncompressed=1]="Uncompressed",xe[xe.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(xe){__extends(e,xe);function e(t,Se,_e){_e===void 0&&(_e=!0);var Ae=xe.call(this,t,_e)||this;return Ae.computeIndex=function(){for(var Ce=[],Pe=0,Ee=0,Fe=Ae.entries.length;Ee<Fe;Ee++){var ke=Ae.entries[Ee],Ie=Ae.entries[Ee-1];Ee===0?Ce.push(ke.ref.objectNumber):ke.ref.objectNumber-Ie.ref.objectNumber>1&&(Ce.push(Pe),Ce.push(ke.ref.objectNumber),Pe=0),Pe+=1}return Ce.push(Pe),Ce},Ae.computeEntryTuples=function(){for(var Ce=new Array(Ae.entries.length),Pe=0,Ee=Ae.entries.length;Pe<Ee;Pe++){var Fe=Ae.entries[Pe];if(Fe.type===EntryType.Deleted){var ke=Fe.type,Ie=Fe.nextFreeObjectNumber,Oe=Fe.ref;Ce[Pe]=[ke,Ie,Oe.generationNumber]}if(Fe.type===EntryType.Uncompressed){var ke=Fe.type,Re=Fe.offset,Oe=Fe.ref;Ce[Pe]=[ke,Re,Oe.generationNumber]}if(Fe.type===EntryType.Compressed){var ke=Fe.type,Be=Fe.objectStreamRef,je=Fe.index;Ce[Pe]=[ke,Be.objectNumber,je]}}return Ce},Ae.computeMaxEntryByteWidths=function(){for(var Ce=Ae.entryTuplesCache.access(),Pe=[0,0,0],Ee=0,Fe=Ce.length;Ee<Fe;Ee++){var ke=Ce[Ee],Ie=ke[0],Oe=ke[1],Re=ke[2],Be=sizeInBytes(Ie),je=sizeInBytes(Oe),He=sizeInBytes(Re);Be>Pe[0]&&(Pe[0]=Be),je>Pe[1]&&(Pe[1]=je),He>Pe[2]&&(Pe[2]=He)}return Pe},Ae.entries=Se||[],Ae.entryTuplesCache=Cache.populatedBy(Ae.computeEntryTuples),Ae.maxByteWidthsCache=Cache.populatedBy(Ae.computeMaxEntryByteWidths),Ae.indexCache=Cache.populatedBy(Ae.computeIndex),t.set(PDFName.of("Type"),PDFName.of("XRef")),Ae}return e.prototype.addDeletedEntry=function(t,Se){var _e=EntryType.Deleted;this.entries.push({type:_e,ref:t,nextFreeObjectNumber:Se}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(t,Se){var _e=EntryType.Uncompressed;this.entries.push({type:_e,ref:t,offset:Se}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(t,Se,_e){var Ae=EntryType.Compressed;this.entries.push({type:Ae,ref:t,objectStreamRef:Se,index:_e}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(t){var Se=this,_e=Se.dict,Ae=Se.entries,Ce=Se.encode;return e.of(_e.clone(t),Ae.slice(),Ce)},e.prototype.getContentsString=function(){for(var t=this.entryTuplesCache.access(),Se=this.maxByteWidthsCache.access(),_e="",Ae=0,Ce=t.length;Ae<Ce;Ae++){for(var Pe=t[Ae],Ee=Pe[0],Fe=Pe[1],ke=Pe[2],Ie=reverseArray(bytesFor(Ee)),Oe=reverseArray(bytesFor(Fe)),Re=reverseArray(bytesFor(ke)),Be=Se[0]-1;Be>=0;Be--)_e+=(Ie[Be]||0).toString(2);for(var Be=Se[1]-1;Be>=0;Be--)_e+=(Oe[Be]||0).toString(2);for(var Be=Se[2]-1;Be>=0;Be--)_e+=(Re[Be]||0).toString(2)}return _e},e.prototype.getUnencodedContents=function(){for(var t=this.entryTuplesCache.access(),Se=this.maxByteWidthsCache.access(),_e=new Uint8Array(this.getUnencodedContentsSize()),Ae=0,Ce=0,Pe=t.length;Ce<Pe;Ce++){for(var Ee=t[Ce],Fe=Ee[0],ke=Ee[1],Ie=Ee[2],Oe=reverseArray(bytesFor(Fe)),Re=reverseArray(bytesFor(ke)),Be=reverseArray(bytesFor(Ie)),je=Se[0]-1;je>=0;je--)_e[Ae++]=Oe[je]||0;for(var je=Se[1]-1;je>=0;je--)_e[Ae++]=Re[je]||0;for(var je=Se[2]-1;je>=0;je--)_e[Ae++]=Be[je]||0}return _e},e.prototype.getUnencodedContentsSize=function(){var t=this.maxByteWidthsCache.access(),Se=sum(t);return Se*this.entries.length},e.prototype.updateDict=function(){xe.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),Se=this.indexCache.access(),_e=this.dict.context;this.dict.set(PDFName.of("W"),_e.obj(t)),this.dict.set(PDFName.of("Index"),_e.obj(Se))},e.create=function(t,Se){Se===void 0&&(Se=!0);var _e=new e(t,[],Se);return _e.addDeletedEntry(PDFRef.of(0,65535),0),_e},e.of=function(t,Se,_e){return _e===void 0&&(_e=!0),new e(t,Se,_e)},e}(PDFFlateStream),PDFStreamWriter=function(xe){__extends(e,xe);function e(t,Se,_e,Ae){var Ce=xe.call(this,t,Se)||this;return Ce.encodeStreams=_e,Ce.objectsPerStream=Ae,Ce}return e.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae,Ce,Pe,Ee,Fe,Be,je,ke,Ge,Ie,Oe,He,Re,Be,je,He,Ge,Ve,ze,Xe,We;return __generator(this,function(Je){switch(Je.label){case 0:t=this.context.largestObjectNumber+1,Se=PDFHeader.forVersion(1,7),_e=Se.sizeInBytes()+2,Ae=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),Ce=[],Pe=[],Ee=[],Fe=this.context.enumerateIndirectObjects(),Be=0,je=Fe.length,Je.label=1;case 1:return Be<je?(ke=Fe[Be],Ge=ke[0],Ie=ke[1],Oe=Ge===this.context.trailerInfo.Encrypt||Ie instanceof PDFStream||Ie instanceof PDFInvalidObject||Ge.generationNumber!==0,Oe?(Ce.push(ke),Ae.addUncompressedEntry(Ge,_e),_e+=this.computeIndirectObjectSize(ke),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:Je.sent(),Je.label=3;case 3:return[3,5];case 4:He=last(Pe),Re=last(Ee),(!He||He.length%this.objectsPerStream===0)&&(He=[],Pe.push(He),Re=PDFRef.of(t++),Ee.push(Re)),Ae.addCompressedEntry(Ge,Re,He.length),He.push(ke),Je.label=5;case 5:return Be++,[3,1];case 6:Be=0,je=Pe.length,Je.label=7;case 7:return Be<je?(He=Pe[Be],Ge=Ee[Be],Ve=PDFObjectStream.withContextAndObjects(this.context,He,this.encodeStreams),Ae.addUncompressedEntry(Ge,_e),_e+=this.computeIndirectObjectSize([Ge,Ve]),Ce.push([Ge,Ve]),this.shouldWaitForTick(He.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:Je.sent(),Je.label=9;case 9:return Be++,[3,7];case 10:return ze=PDFRef.of(t++),Ae.dict.set(PDFName.of("Size"),PDFNumber.of(t)),Ae.addUncompressedEntry(ze,_e),Xe=_e,_e+=this.computeIndirectObjectSize([ze,Ae]),Ce.push([ze,Ae]),We=PDFTrailer.forLastCrossRefSectionOffset(Xe),_e+=We.sizeInBytes(),[2,{size:_e,header:Se,indirectObjects:Ce,trailer:We}]}})})},e.forContext=function(t,Se,_e,Ae){return _e===void 0&&(_e=!0),Ae===void 0&&(Ae=50),new e(t,Se,_e,Ae)},e}(PDFWriter),PDFHexString=function(xe){__extends(e,xe);function e(t){var Se=xe.call(this)||this;return Se.value=t,Se}return e.prototype.asBytes=function(){for(var t=this.value+(this.value.length%2===1?"0":""),Se=t.length,_e=new Uint8Array(t.length/2),Ae=0,Ce=0;Ae<Se;){var Pe=parseInt(t.substring(Ae,Ae+2),16);_e[Ce]=Pe,Ae+=2,Ce+=1}return _e},e.prototype.decodeText=function(){var t=this.asBytes();return hasUtf16BOM(t)?utf16Decode(t):pdfDocEncodingDecode(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),Se=parseDate(t);if(!Se)throw new InvalidPDFDateStringError(t);return Se},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,Se){return t[Se++]=CharCodes$1.LessThan,Se+=copyStringIntoBuffer(this.value,t,Se),t[Se++]=CharCodes$1.GreaterThan,this.value.length+2},e.of=function(t){return new e(t)},e.fromText=function(t){for(var Se=utf16Encode(t),_e="",Ae=0,Ce=Se.length;Ae<Ce;Ae++)_e+=toHexStringOfMinLength(Se[Ae],4);return new e(_e)},e}(PDFObject),StandardFontEmbedder=function(){function xe(e,t){this.encoding=e===FontNames.ZapfDingbats?Encodings.ZapfDingbats:e===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(e),this.fontName=this.font.FontName,this.customName=t}return xe.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++)Se[_e]=toHexString(t[_e].code);return PDFHexString.of(Se.join(""))},xe.prototype.widthOfTextAtSize=function(e,t){for(var Se=this.encodeTextAsGlyphs(e),_e=0,Ae=0,Ce=Se.length;Ae<Ce;Ae++){var Pe=Se[Ae].name,Ee=(Se[Ae+1]||{}).name,Fe=this.font.getXAxisKerningForPair(Pe,Ee)||0;_e+=this.widthOfGlyph(Pe)+Fe}var ke=t/1e3;return _e*ke},xe.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var Se=t.descender,_e=Se===void 0?!0:Se,Ae=this.font,Ce=Ae.Ascender,Pe=Ae.Descender,Ee=Ae.FontBBox,Fe=Ce||Ee[3],ke=Pe||Ee[1],Ie=Fe-ke;return _e||(Ie+=Pe||0),Ie/1e3*e},xe.prototype.sizeOfFontAtHeight=function(e){var t=this.font,Se=t.Ascender,_e=t.Descender,Ae=t.FontBBox,Ce=Se||Ae[3],Pe=_e||Ae[1];return 1e3*e/(Ce-Pe)},xe.prototype.embedIntoContext=function(e,t){var Se=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,Se),t):e.register(Se)},xe.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},xe.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++){var Ce=toCodePoint(t[_e]);Se[_e]=this.encoding.encodeUnicodeCodePoint(Ce)}return Se},xe.for=function(e,t){return new xe(e,t)},xe}(),createCmap=function(xe,e){for(var t=new Array(xe.length),Se=0,_e=xe.length;Se<_e;Se++){var Ae=xe[Se],Ce=cmapHexFormat(cmapHexString(e(Ae))),Pe=cmapHexFormat.apply(void 0,Ae.codePoints.map(cmapCodePointFormat));t[Se]=[Ce,Pe]}return fillCmapTemplate(t)},fillCmapTemplate=function(xe){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+xe.length+` beginbfchar
`+xe.map(function(e){var t=e[0],Se=e[1];return t+" "+Se}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var xe=[],e=0;e<arguments.length;e++)xe[e]=arguments[e];return"<"+xe.join("")+">"},cmapHexString=function(xe){return toHexStringOfMinLength(xe,4)},cmapCodePointFormat=function(xe){if(isWithinBMP(xe))return cmapHexString(xe);if(hasSurrogates(xe)){var e=highSurrogate(xe),t=lowSurrogate(xe);return""+cmapHexString(e)+cmapHexString(t)}var Se=toHexString(xe),_e="0x"+Se+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(_e)},makeFontFlags=function(xe){var e=0,t=function(Se){e|=1<<Se-1};return xe.fixedPitch&&t(1),xe.serif&&t(2),t(3),xe.script&&t(4),xe.nonsymbolic&&t(6),xe.italic&&t(7),xe.allCap&&t(17),xe.smallCap&&t(18),xe.forceBold&&t(19),e},deriveFontFlags=function(xe){var e=xe["OS/2"]?xe["OS/2"].sFamilyClass:0,t=makeFontFlags({fixedPitch:xe.post.isFixedPitch,serif:1<=e&&e<=7,symbolic:!0,script:e===10,italic:xe.head.macStyle.italic});return t},PDFString=function(xe){__extends(e,xe);function e(t){var Se=xe.call(this)||this;return Se.value=t,Se}return e.prototype.asBytes=function(){for(var t=[],Se="",_e=!1,Ae=function(Ie){Ie!==void 0&&t.push(Ie),_e=!1},Ce=0,Pe=this.value.length;Ce<Pe;Ce++){var Ee=this.value[Ce],Fe=toCharCode(Ee),ke=this.value[Ce+1];_e?Fe===CharCodes$1.Newline||Fe===CharCodes$1.CarriageReturn?Ae():Fe===CharCodes$1.n?Ae(CharCodes$1.Newline):Fe===CharCodes$1.r?Ae(CharCodes$1.CarriageReturn):Fe===CharCodes$1.t?Ae(CharCodes$1.Tab):Fe===CharCodes$1.b?Ae(CharCodes$1.Backspace):Fe===CharCodes$1.f?Ae(CharCodes$1.FormFeed):Fe===CharCodes$1.LeftParen?Ae(CharCodes$1.LeftParen):Fe===CharCodes$1.RightParen?Ae(CharCodes$1.RightParen):Fe===CharCodes$1.Backspace?Ae(CharCodes$1.BackSlash):Fe>=CharCodes$1.Zero&&Fe<=CharCodes$1.Seven?(Se+=Ee,(Se.length===3||!(ke>="0"&&ke<="7"))&&(Ae(parseInt(Se,8)),Se="")):Ae(Fe):Fe===CharCodes$1.BackSlash?_e=!0:Ae(Fe)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return hasUtf16BOM(t)?utf16Decode(t):pdfDocEncodingDecode(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),Se=parseDate(t);if(!Se)throw new InvalidPDFDateStringError(t);return Se},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,Se){return t[Se++]=CharCodes$1.LeftParen,Se+=copyStringIntoBuffer(this.value,t,Se),t[Se++]=CharCodes$1.RightParen,this.value.length+2},e.of=function(t){return new e(t)},e.fromDate=function(t){var Se=padStart$1(String(t.getUTCFullYear()),4,"0"),_e=padStart$1(String(t.getUTCMonth()+1),2,"0"),Ae=padStart$1(String(t.getUTCDate()),2,"0"),Ce=padStart$1(String(t.getUTCHours()),2,"0"),Pe=padStart$1(String(t.getUTCMinutes()),2,"0"),Ee=padStart$1(String(t.getUTCSeconds()),2,"0");return new e("D:"+Se+_e+Ae+Ce+Pe+Ee+"Z")},e}(PDFObject),CustomFontEmbedder=function(){function xe(e,t,Se,_e){var Ae=this;this.allGlyphsInFontSortedById=function(){for(var Ce=new Array(Ae.font.characterSet.length),Pe=0,Ee=Ce.length;Pe<Ee;Pe++){var Fe=Ae.font.characterSet[Pe];Ce[Pe]=Ae.font.glyphForCodePoint(Fe)}return sortedUniq(Ce.sort(byAscendingId),function(ke){return ke.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=Se,this.fontFeatures=_e,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return xe.for=function(e,t,Se,_e){return __awaiter$1(this,void 0,void 0,function(){var Ae;return __generator(this,function(Ce){switch(Ce.label){case 0:return[4,e.create(t)];case 1:return Ae=Ce.sent(),[2,new xe(Ae,t,Se,_e)]}})})},xe.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++)Se[_e]=toHexStringOfMinLength(t[_e].id,4);return PDFHexString.of(Se.join(""))},xe.prototype.widthOfTextAtSize=function(e,t){for(var Se=this.font.layout(e,this.fontFeatures).glyphs,_e=0,Ae=0,Ce=Se.length;Ae<Ce;Ae++)_e+=Se[Ae].advanceWidth*this.scale;var Pe=t/1e3;return _e*Pe},xe.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var Se=t.descender,_e=Se===void 0?!0:Se,Ae=this.font,Ce=Ae.ascent,Pe=Ae.descent,Ee=Ae.bbox,Fe=(Ce||Ee.maxY)*this.scale,ke=(Pe||Ee.minY)*this.scale,Ie=Fe-ke;return _e||(Ie-=Math.abs(Pe)||0),Ie/1e3*e},xe.prototype.sizeOfFontAtHeight=function(e){var t=this.font,Se=t.ascent,_e=t.descent,Ae=t.bbox,Ce=(Se||Ae.maxY)*this.scale,Pe=(_e||Ae.minY)*this.scale;return 1e3*e/(Ce-Pe)},xe.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},xe.prototype.embedFontDict=function(e,t){return __awaiter$1(this,void 0,void 0,function(){var Se,_e,Ae;return __generator(this,function(Ce){switch(Ce.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return Se=Ce.sent(),_e=this.embedUnicodeCmap(e),Ae=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[Se],ToUnicode:_e}),t?(e.assign(t,Ae),[2,t]):[2,e.register(Ae)]}})})},xe.prototype.isCFF=function(){return this.font.cff},xe.prototype.embedCIDFontDict=function(e){return __awaiter$1(this,void 0,void 0,function(){var t,Se;return __generator(this,function(_e){switch(_e.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=_e.sent(),Se=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(Se)]}})})},xe.prototype.embedFontDescriptor=function(e){return __awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He;return __generator(this,function(Ge){switch(Ge.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=Ge.sent(),Se=this.scale,_e=this.font,Ae=_e.italicAngle,Ce=_e.ascent,Pe=_e.descent,Ee=_e.capHeight,Fe=_e.xHeight,ke=this.font.bbox,Ie=ke.minX,Oe=ke.minY,Re=ke.maxX,Be=ke.maxY,je=e.obj((He={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[Ie*Se,Oe*Se,Re*Se,Be*Se],ItalicAngle:Ae,Ascent:Ce*Se,Descent:Pe*Se,CapHeight:(Ee||Ce)*Se,XHeight:(Fe||0)*Se,StemV:0},He[this.isCFF()?"FontFile3":"FontFile2"]=t,He)),[2,e.register(je)]}})})},xe.prototype.serializeFont=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.fontData]})})},xe.prototype.embedFontStream=function(e){return __awaiter$1(this,void 0,void 0,function(){var t,Se,_e;return __generator(this,function(Ae){switch(Ae.label){case 0:return _e=(Se=e).flateStream,[4,this.serializeFont()];case 1:return t=_e.apply(Se,[Ae.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}})})},xe.prototype.embedUnicodeCmap=function(e){var t=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),Se=e.flateStream(t);return e.register(Se)},xe.prototype.glyphId=function(e){return e?e.id:-1},xe.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],Se=[],_e=0,Ae=e.length;_e<Ae;_e++){var Ce=e[_e],Pe=e[_e-1],Ee=this.glyphId(Ce),Fe=this.glyphId(Pe);_e===0?t.push(Ee):Ee-Fe!==1&&(t.push(Se),t.push(Ee),Se=[]),Se.push(Ce.advanceWidth*this.scale)}return t.push(Se),t},xe}(),CustomFontSubsetEmbedder=function(xe){__extends(e,xe);function e(t,Se,_e,Ae){var Ce=xe.call(this,t,Se,_e,Ae)||this;return Ce.subset=Ce.font.createSubset(),Ce.glyphs=[],Ce.glyphCache=Cache.populatedBy(function(){return Ce.glyphs}),Ce.glyphIdMap=new Map,Ce}return e.for=function(t,Se,_e,Ae){return __awaiter$1(this,void 0,void 0,function(){var Ce;return __generator(this,function(Pe){switch(Pe.label){case 0:return[4,t.create(Se)];case 1:return Ce=Pe.sent(),[2,new e(Ce,Se,_e,Ae)]}})})},e.prototype.encodeText=function(t){for(var Se=this.font.layout(t,this.fontFeatures).glyphs,_e=new Array(Se.length),Ae=0,Ce=Se.length;Ae<Ce;Ae++){var Pe=Se[Ae],Ee=this.subset.includeGlyph(Pe);this.glyphs[Ee-1]=Pe,this.glyphIdMap.set(Pe.id,Ee),_e[Ae]=toHexStringOfMinLength(Ee,4)}return this.glyphCache.invalidate(),PDFHexString.of(_e.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(t){return t?this.glyphIdMap.get(t.id):-1},e.prototype.serializeFont=function(){var t=this;return new Promise(function(Se,_e){var Ae=[];t.subset.encodeStream().on("data",function(Ce){return Ae.push(Ce)}).on("end",function(){return Se(mergeUint8Arrays(Ae))}).on("error",function(Ce){return _e(Ce)})})},e}(CustomFontEmbedder),AFRelationship;(function(xe){xe.Source="Source",xe.Data="Data",xe.Alternative="Alternative",xe.Supplement="Supplement",xe.EncryptedPayload="EncryptedPayload",xe.FormData="EncryptedPayload",xe.Schema="Schema",xe.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function xe(e,t,Se){Se===void 0&&(Se={}),this.fileData=e,this.fileName=t,this.options=Se}return xe.for=function(e,t,Se){return Se===void 0&&(Se={}),new xe(e,t,Se)},xe.prototype.embedIntoContext=function(e,t){return __awaiter$1(this,void 0,void 0,function(){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie;return __generator(this,function(Oe){return Se=this.options,_e=Se.mimeType,Ae=Se.description,Ce=Se.creationDate,Pe=Se.modificationDate,Ee=Se.afRelationship,Fe=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:_e??void 0,Params:{Size:this.fileData.length,CreationDate:Ce?PDFString.fromDate(Ce):void 0,ModDate:Pe?PDFString.fromDate(Pe):void 0}}),ke=e.register(Fe),Ie=e.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:ke},Desc:Ae?PDFHexString.fromText(Ae):void 0,AFRelationship:Ee??void 0}),t?(e.assign(t,Ie),[2,t]):[2,e.register(Ie)]})})},xe}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(xe){xe.DeviceGray="DeviceGray",xe.DeviceRGB="DeviceRGB",xe.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function xe(e,t,Se,_e,Ae){this.imageData=e,this.bitsPerComponent=t,this.width=Se,this.height=_e,this.colorSpace=Ae}return xe.for=function(e){return __awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie;return __generator(this,function(Oe){if(t=new DataView(e.buffer),Se=t.getUint16(0),Se!==65496)throw new Error("SOI not found in JPEG");for(_e=2;_e<t.byteLength&&(Ae=t.getUint16(_e),_e+=2,!MARKERS.includes(Ae));)_e+=t.getUint16(_e);if(!MARKERS.includes(Ae))throw new Error("Invalid JPEG");if(_e+=2,Ce=t.getUint8(_e++),Pe=t.getUint16(_e),_e+=2,Ee=t.getUint16(_e),_e+=2,Fe=t.getUint8(_e++),ke=ChannelToColorSpace[Fe],!ke)throw new Error("Unknown JPEG channel.");return Ie=ke,[2,new xe(e,Ce,Ee,Pe,Ie)]})})},xe.prototype.embedIntoContext=function(e,t){return __awaiter$1(this,void 0,void 0,function(){var Se;return __generator(this,function(_e){return Se=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t?(e.assign(t,Se),[2,t]):[2,e.register(Se)]})})},xe}(),UPNG={};UPNG.toRGBA8=function(xe){var e=xe.width,t=xe.height;if(xe.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(xe.data,e,t,xe).buffer];var Se=[];xe.frames[0].data==null&&(xe.frames[0].data=xe.data);for(var _e=e*t*4,Ae=new Uint8Array(_e),Ce=new Uint8Array(_e),Pe=new Uint8Array(_e),Ee=0;Ee<xe.frames.length;Ee++){var Fe=xe.frames[Ee],ke=Fe.rect.x,Ie=Fe.rect.y,Oe=Fe.rect.width,Re=Fe.rect.height,Be=UPNG.toRGBA8.decodeImage(Fe.data,Oe,Re,xe);if(Ee!=0)for(var je=0;je<_e;je++)Pe[je]=Ae[je];if(Fe.blend==0?UPNG._copyTile(Be,Oe,Re,Ae,e,t,ke,Ie,0):Fe.blend==1&&UPNG._copyTile(Be,Oe,Re,Ae,e,t,ke,Ie,1),Se.push(Ae.buffer.slice(0)),Fe.dispose!=0){if(Fe.dispose==1)UPNG._copyTile(Ce,Oe,Re,Ae,e,t,ke,Ie,0);else if(Fe.dispose==2)for(var je=0;je<_e;je++)Ae[je]=Pe[je]}}return Se};UPNG.toRGBA8.decodeImage=function(xe,e,t,Se){var _e=e*t,Ae=UPNG.decode._getBPP(Se),Ce=Math.ceil(e*Ae/8),Pe=new Uint8Array(_e*4),Ee=new Uint32Array(Pe.buffer),Fe=Se.ctype,ke=Se.depth,Ie=UPNG._bin.readUshort;if(Fe==6){var Oe=_e<<2;if(ke==8)for(var Re=0;Re<Oe;Re+=4)Pe[Re]=xe[Re],Pe[Re+1]=xe[Re+1],Pe[Re+2]=xe[Re+2],Pe[Re+3]=xe[Re+3];if(ke==16)for(var Re=0;Re<Oe;Re++)Pe[Re]=xe[Re<<1]}else if(Fe==2){var Be=Se.tabs.tRNS;if(Be==null){if(ke==8)for(var Re=0;Re<_e;Re++){var je=Re*3;Ee[Re]=255<<24|xe[je+2]<<16|xe[je+1]<<8|xe[je]}if(ke==16)for(var Re=0;Re<_e;Re++){var je=Re*6;Ee[Re]=255<<24|xe[je+4]<<16|xe[je+2]<<8|xe[je]}}else{var He=Be[0],Ge=Be[1],Ve=Be[2];if(ke==8)for(var Re=0;Re<_e;Re++){var ze=Re<<2,je=Re*3;Ee[Re]=255<<24|xe[je+2]<<16|xe[je+1]<<8|xe[je],xe[je]==He&&xe[je+1]==Ge&&xe[je+2]==Ve&&(Pe[ze+3]=0)}if(ke==16)for(var Re=0;Re<_e;Re++){var ze=Re<<2,je=Re*6;Ee[Re]=255<<24|xe[je+4]<<16|xe[je+2]<<8|xe[je],Ie(xe,je)==He&&Ie(xe,je+2)==Ge&&Ie(xe,je+4)==Ve&&(Pe[ze+3]=0)}}}else if(Fe==3){var Xe=Se.tabs.PLTE,We=Se.tabs.tRNS,Je=We?We.length:0;if(ke==1)for(var Qe=0;Qe<t;Qe++)for(var Ze=Qe*Ce,on=Qe*e,Re=0;Re<e;Re++){var ze=on+Re<<2,an=xe[Ze+(Re>>3)]>>7-((Re&7)<<0)&1,rn=3*an;Pe[ze]=Xe[rn],Pe[ze+1]=Xe[rn+1],Pe[ze+2]=Xe[rn+2],Pe[ze+3]=an<Je?We[an]:255}if(ke==2)for(var Qe=0;Qe<t;Qe++)for(var Ze=Qe*Ce,on=Qe*e,Re=0;Re<e;Re++){var ze=on+Re<<2,an=xe[Ze+(Re>>2)]>>6-((Re&3)<<1)&3,rn=3*an;Pe[ze]=Xe[rn],Pe[ze+1]=Xe[rn+1],Pe[ze+2]=Xe[rn+2],Pe[ze+3]=an<Je?We[an]:255}if(ke==4)for(var Qe=0;Qe<t;Qe++)for(var Ze=Qe*Ce,on=Qe*e,Re=0;Re<e;Re++){var ze=on+Re<<2,an=xe[Ze+(Re>>1)]>>4-((Re&1)<<2)&15,rn=3*an;Pe[ze]=Xe[rn],Pe[ze+1]=Xe[rn+1],Pe[ze+2]=Xe[rn+2],Pe[ze+3]=an<Je?We[an]:255}if(ke==8)for(var Re=0;Re<_e;Re++){var ze=Re<<2,an=xe[Re],rn=3*an;Pe[ze]=Xe[rn],Pe[ze+1]=Xe[rn+1],Pe[ze+2]=Xe[rn+2],Pe[ze+3]=an<Je?We[an]:255}}else if(Fe==4){if(ke==8)for(var Re=0;Re<_e;Re++){var ze=Re<<2,fn=Re<<1,nn=xe[fn];Pe[ze]=nn,Pe[ze+1]=nn,Pe[ze+2]=nn,Pe[ze+3]=xe[fn+1]}if(ke==16)for(var Re=0;Re<_e;Re++){var ze=Re<<2,fn=Re<<2,nn=xe[fn];Pe[ze]=nn,Pe[ze+1]=nn,Pe[ze+2]=nn,Pe[ze+3]=xe[fn+2]}}else if(Fe==0)for(var He=Se.tabs.tRNS?Se.tabs.tRNS:-1,Qe=0;Qe<t;Qe++){var cn=Qe*Ce,dn=Qe*e;if(ke==1)for(var bn=0;bn<e;bn++){var nn=255*(xe[cn+(bn>>>3)]>>>7-(bn&7)&1),pn=nn==He*255?0:255;Ee[dn+bn]=pn<<24|nn<<16|nn<<8|nn}else if(ke==2)for(var bn=0;bn<e;bn++){var nn=85*(xe[cn+(bn>>>2)]>>>6-((bn&3)<<1)&3),pn=nn==He*85?0:255;Ee[dn+bn]=pn<<24|nn<<16|nn<<8|nn}else if(ke==4)for(var bn=0;bn<e;bn++){var nn=17*(xe[cn+(bn>>>1)]>>>4-((bn&1)<<2)&15),pn=nn==He*17?0:255;Ee[dn+bn]=pn<<24|nn<<16|nn<<8|nn}else if(ke==8)for(var bn=0;bn<e;bn++){var nn=xe[cn+bn],pn=nn==He?0:255;Ee[dn+bn]=pn<<24|nn<<16|nn<<8|nn}else if(ke==16)for(var bn=0;bn<e;bn++){var nn=xe[cn+(bn<<1)],pn=Ie(xe,cn+(bn<<Re))==He?0:255;Ee[dn+bn]=pn<<24|nn<<16|nn<<8|nn}}return Pe};UPNG.decode=function(xe){for(var e=new Uint8Array(xe),t=8,Se=UPNG._bin,_e=Se.readUshort,Ae=Se.readUint,Ce={tabs:{},frames:[]},Pe=new Uint8Array(e.length),Ee=0,Fe,ke=0,Ie=[137,80,78,71,13,10,26,10],Oe=0;Oe<8;Oe++)if(e[Oe]!=Ie[Oe])throw"The input is not a PNG file!";for(;t<e.length;){var Re=Se.readUint(e,t);t+=4;var Be=Se.readASCII(e,t,4);if(t+=4,Be=="IHDR")UPNG.decode._IHDR(e,t,Ce);else if(Be=="IDAT"){for(var Oe=0;Oe<Re;Oe++)Pe[Ee+Oe]=e[t+Oe];Ee+=Re}else if(Be=="acTL")Ce.tabs[Be]={num_frames:Ae(e,t),num_plays:Ae(e,t+4)},Fe=new Uint8Array(e.length);else if(Be=="fcTL"){if(ke!=0){var je=Ce.frames[Ce.frames.length-1];je.data=UPNG.decode._decompress(Ce,Fe.slice(0,ke),je.rect.width,je.rect.height),ke=0}var He={x:Ae(e,t+12),y:Ae(e,t+16),width:Ae(e,t+4),height:Ae(e,t+8)},Ge=_e(e,t+22);Ge=_e(e,t+20)/(Ge==0?100:Ge);var Ve={rect:He,delay:Math.round(Ge*1e3),dispose:e[t+24],blend:e[t+25]};Ce.frames.push(Ve)}else if(Be=="fdAT"){for(var Oe=0;Oe<Re-4;Oe++)Fe[ke+Oe]=e[t+Oe+4];ke+=Re-4}else if(Be=="pHYs")Ce.tabs[Be]=[Se.readUint(e,t),Se.readUint(e,t+4),e[t+8]];else if(Be=="cHRM"){Ce.tabs[Be]=[];for(var Oe=0;Oe<8;Oe++)Ce.tabs[Be].push(Se.readUint(e,t+Oe*4))}else if(Be=="tEXt"){Ce.tabs[Be]==null&&(Ce.tabs[Be]={});var ze=Se.nextZero(e,t),Xe=Se.readASCII(e,t,ze-t),We=Se.readASCII(e,ze+1,t+Re-ze-1);Ce.tabs[Be][Xe]=We}else if(Be=="iTXt"){Ce.tabs[Be]==null&&(Ce.tabs[Be]={});var ze=0,Je=t;ze=Se.nextZero(e,Je);var Xe=Se.readASCII(e,Je,ze-Je);Je=ze+1,e[Je],e[Je+1],Je+=2,ze=Se.nextZero(e,Je),Se.readASCII(e,Je,ze-Je),Je=ze+1,ze=Se.nextZero(e,Je),Se.readUTF8(e,Je,ze-Je),Je=ze+1;var We=Se.readUTF8(e,Je,Re-(Je-t));Ce.tabs[Be][Xe]=We}else if(Be=="PLTE")Ce.tabs[Be]=Se.readBytes(e,t,Re);else if(Be=="hIST"){var Qe=Ce.tabs.PLTE.length/3;Ce.tabs[Be]=[];for(var Oe=0;Oe<Qe;Oe++)Ce.tabs[Be].push(_e(e,t+Oe*2))}else if(Be=="tRNS")Ce.ctype==3?Ce.tabs[Be]=Se.readBytes(e,t,Re):Ce.ctype==0?Ce.tabs[Be]=_e(e,t):Ce.ctype==2&&(Ce.tabs[Be]=[_e(e,t),_e(e,t+2),_e(e,t+4)]);else if(Be=="gAMA")Ce.tabs[Be]=Se.readUint(e,t)/1e5;else if(Be=="sRGB")Ce.tabs[Be]=e[t];else if(Be=="bKGD")Ce.ctype==0||Ce.ctype==4?Ce.tabs[Be]=[_e(e,t)]:Ce.ctype==2||Ce.ctype==6?Ce.tabs[Be]=[_e(e,t),_e(e,t+2),_e(e,t+4)]:Ce.ctype==3&&(Ce.tabs[Be]=e[t]);else if(Be=="IEND")break;t+=Re,Se.readUint(e,t),t+=4}if(ke!=0){var je=Ce.frames[Ce.frames.length-1];je.data=UPNG.decode._decompress(Ce,Fe.slice(0,ke),je.rect.width,je.rect.height),ke=0}return Ce.data=UPNG.decode._decompress(Ce,Pe,Ce.width,Ce.height),delete Ce.compress,delete Ce.interlace,delete Ce.filter,Ce};UPNG.decode._decompress=function(xe,e,t,Se){var _e=UPNG.decode._getBPP(xe),Ae=Math.ceil(t*_e/8),Ce=new Uint8Array((Ae+1+xe.interlace)*Se);return e=UPNG.decode._inflate(e,Ce),xe.interlace==0?e=UPNG.decode._filterZero(e,xe,0,t,Se):xe.interlace==1&&(e=UPNG.decode._readInterlace(e,xe)),e};UPNG.decode._inflate=function(xe,e){var t=UPNG.inflateRaw(new Uint8Array(xe.buffer,2,xe.length-6),e);return t};UPNG.inflateRaw=function(){var xe={};return xe.H={},xe.H.N=function(e,t){var Se=Uint8Array,_e=0,Ae=0,Ce=0,Pe=0,Ee=0,Fe=0,ke=0,Ie=0,Oe=0,Re,Be;if(e[0]==3&&e[1]==0)return t||new Se(0);var je=xe.H,He=je.b,Ge=je.e,Ve=je.R,ze=je.n,Xe=je.A,We=je.Z,Je=je.m,Qe=t==null;for(Qe&&(t=new Se(e.length>>>2<<3));_e==0;){if(_e=He(e,Oe,1),Ae=He(e,Oe+1,2),Oe+=3,Ae==0){Oe&7&&(Oe+=8-(Oe&7));var Ze=(Oe>>>3)+4,on=e[Ze-4]|e[Ze-3]<<8;Qe&&(t=xe.H.W(t,Ie+on)),t.set(new Se(e.buffer,e.byteOffset+Ze,on),Ie),Oe=Ze+on<<3,Ie+=on;continue}if(Qe&&(t=xe.H.W(t,Ie+(1<<17))),Ae==1&&(Re=Je.J,Be=Je.h,Fe=511,ke=31),Ae==2){Ce=Ge(e,Oe,5)+257,Pe=Ge(e,Oe+5,5)+1,Ee=Ge(e,Oe+10,4)+4,Oe+=14;for(var an=1,rn=0;rn<38;rn+=2)Je.Q[rn]=0,Je.Q[rn+1]=0;for(var rn=0;rn<Ee;rn++){var fn=Ge(e,Oe+rn*3,3);Je.Q[(Je.X[rn]<<1)+1]=fn,fn>an&&(an=fn)}Oe+=3*Ee,ze(Je.Q,an),Xe(Je.Q,an,Je.u),Re=Je.w,Be=Je.d,Oe=Ve(Je.u,(1<<an)-1,Ce+Pe,e,Oe,Je.v);var nn=je.V(Je.v,0,Ce,Je.C);Fe=(1<<nn)-1;var cn=je.V(Je.v,Ce,Pe,Je.D);ke=(1<<cn)-1,ze(Je.C,nn),Xe(Je.C,nn,Re),ze(Je.D,cn),Xe(Je.D,cn,Be)}for(;;){var dn=Re[We(e,Oe)&Fe];Oe+=dn&15;var bn=dn>>>4;if(!(bn>>>8))t[Ie++]=bn;else{if(bn==256)break;var pn=Ie+bn-254;if(bn>264){var _n=Je.q[bn-257];pn=Ie+(_n>>>3)+Ge(e,Oe,_n&7),Oe+=_n&7}var Nn=Be[We(e,Oe)&ke];Oe+=Nn&15;var Un=Nn>>>4,xn=Je.c[Un],St=(xn>>>4)+He(e,Oe,xn&15);for(Oe+=xn&15;Ie<pn;)t[Ie]=t[Ie++-St],t[Ie]=t[Ie++-St],t[Ie]=t[Ie++-St],t[Ie]=t[Ie++-St];Ie=pn}}}return t.length==Ie?t:t.slice(0,Ie)},xe.H.W=function(e,t){var Se=e.length;if(t<=Se)return e;var _e=new Uint8Array(Se<<1);return _e.set(e,0),_e},xe.H.R=function(e,t,Se,_e,Ae,Ce){for(var Pe=xe.H.e,Ee=xe.H.Z,Fe=0;Fe<Se;){var ke=e[Ee(_e,Ae)&t];Ae+=ke&15;var Ie=ke>>>4;if(Ie<=15)Ce[Fe]=Ie,Fe++;else{var Oe=0,Re=0;Ie==16?(Re=3+Pe(_e,Ae,2),Ae+=2,Oe=Ce[Fe-1]):Ie==17?(Re=3+Pe(_e,Ae,3),Ae+=3):Ie==18&&(Re=11+Pe(_e,Ae,7),Ae+=7);for(var Be=Fe+Re;Fe<Be;)Ce[Fe]=Oe,Fe++}}return Ae},xe.H.V=function(e,t,Se,_e){for(var Ae=0,Ce=0,Pe=_e.length>>>1;Ce<Se;){var Ee=e[Ce+t];_e[Ce<<1]=0,_e[(Ce<<1)+1]=Ee,Ee>Ae&&(Ae=Ee),Ce++}for(;Ce<Pe;)_e[Ce<<1]=0,_e[(Ce<<1)+1]=0,Ce++;return Ae},xe.H.n=function(e,t){for(var Se=xe.H.m,_e=e.length,Ae,Ce,Pe,Ee,Fe,ke=Se.j,Ee=0;Ee<=t;Ee++)ke[Ee]=0;for(Ee=1;Ee<_e;Ee+=2)ke[e[Ee]]++;var Ie=Se.K;for(Ae=0,ke[0]=0,Ce=1;Ce<=t;Ce++)Ae=Ae+ke[Ce-1]<<1,Ie[Ce]=Ae;for(Pe=0;Pe<_e;Pe+=2)Fe=e[Pe+1],Fe!=0&&(e[Pe]=Ie[Fe],Ie[Fe]++)},xe.H.A=function(e,t,Se){for(var _e=e.length,Ae=xe.H.m,Ce=Ae.r,Pe=0;Pe<_e;Pe+=2)if(e[Pe+1]!=0)for(var Ee=Pe>>1,Fe=e[Pe+1],ke=Ee<<4|Fe,Ie=t-Fe,Oe=e[Pe]<<Ie,Re=Oe+(1<<Ie);Oe!=Re;){var Be=Ce[Oe]>>>15-t;Se[Be]=ke,Oe++}},xe.H.l=function(e,t){for(var Se=xe.H.m.r,_e=15-t,Ae=0;Ae<e.length;Ae+=2){var Ce=e[Ae]<<t-e[Ae+1];e[Ae]=Se[Ce]>>>_e}},xe.H.M=function(e,t,Se){Se=Se<<(t&7);var _e=t>>>3;e[_e]|=Se,e[_e+1]|=Se>>>8},xe.H.I=function(e,t,Se){Se=Se<<(t&7);var _e=t>>>3;e[_e]|=Se,e[_e+1]|=Se>>>8,e[_e+2]|=Se>>>16},xe.H.e=function(e,t,Se){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(t&7)&(1<<Se)-1},xe.H.b=function(e,t,Se){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)&(1<<Se)-1},xe.H.Z=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)},xe.H.i=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16|e[(t>>>3)+3]<<24)>>>(t&7)},xe.H.m=function(){var e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var e=xe.H.m,t=32768,Se=0;Se<t;Se++){var _e=Se;_e=(_e&2863311530)>>>1|(_e&1431655765)<<1,_e=(_e&3435973836)>>>2|(_e&858993459)<<2,_e=(_e&4042322160)>>>4|(_e&252645135)<<4,_e=(_e&4278255360)>>>8|(_e&16711935)<<8,e.r[Se]=(_e>>>16|_e<<16)>>>17}function Ae(Ce,Pe,Ee){for(;Pe--!=0;)Ce.push(0,Ee)}for(var Se=0;Se<32;Se++)e.q[Se]=e.S[Se]<<3|e.T[Se],e.c[Se]=e.p[Se]<<4|e.z[Se];Ae(e._,144,8),Ae(e._,112,9),Ae(e._,24,7),Ae(e._,8,8),xe.H.n(e._,9),xe.H.A(e._,9,e.J),xe.H.l(e._,9),Ae(e.$,32,5),xe.H.n(e.$,5),xe.H.A(e.$,5,e.h),xe.H.l(e.$,5),Ae(e.Q,19,0),Ae(e.C,286,0),Ae(e.D,30,0),Ae(e.v,320,0)}(),xe.H.N}();UPNG.decode._readInterlace=function(xe,e){for(var t=e.width,Se=e.height,_e=UPNG.decode._getBPP(e),Ae=_e>>3,Ce=Math.ceil(t*_e/8),Pe=new Uint8Array(Se*Ce),Ee=0,Fe=[0,0,4,0,2,0,1],ke=[0,4,0,2,0,1,0],Ie=[8,8,8,4,4,2,2],Oe=[8,8,4,4,2,2,1],Re=0;Re<7;){for(var Be=Ie[Re],je=Oe[Re],He=0,Ge=0,Ve=Fe[Re];Ve<Se;)Ve+=Be,Ge++;for(var ze=ke[Re];ze<t;)ze+=je,He++;var Xe=Math.ceil(He*_e/8);UPNG.decode._filterZero(xe,e,Ee,He,Ge);for(var We=0,Je=Fe[Re];Je<Se;){for(var Qe=ke[Re],Ze=Ee+We*Xe<<3;Qe<t;){if(_e==1){var on=xe[Ze>>3];on=on>>7-(Ze&7)&1,Pe[Je*Ce+(Qe>>3)]|=on<<7-((Qe&7)<<0)}if(_e==2){var on=xe[Ze>>3];on=on>>6-(Ze&7)&3,Pe[Je*Ce+(Qe>>2)]|=on<<6-((Qe&3)<<1)}if(_e==4){var on=xe[Ze>>3];on=on>>4-(Ze&7)&15,Pe[Je*Ce+(Qe>>1)]|=on<<4-((Qe&1)<<2)}if(_e>=8)for(var an=Je*Ce+Qe*Ae,rn=0;rn<Ae;rn++)Pe[an+rn]=xe[(Ze>>3)+rn];Ze+=_e,Qe+=je}We++,Je+=Be}He*Ge!=0&&(Ee+=Ge*(1+Xe)),Re=Re+1}return Pe};UPNG.decode._getBPP=function(xe){var e=[1,null,3,1,2,null,4][xe.ctype];return e*xe.depth};UPNG.decode._filterZero=function(xe,e,t,Se,_e){var Ae=UPNG.decode._getBPP(e),Ce=Math.ceil(Se*Ae/8),Pe=UPNG.decode._paeth;Ae=Math.ceil(Ae/8);var Ee=0,Fe=1,ke=xe[t],Ie=0;if(ke>1&&(xe[t]=[0,0,1][ke-2]),ke==3)for(Ie=Ae;Ie<Ce;Ie++)xe[Ie+1]=xe[Ie+1]+(xe[Ie+1-Ae]>>>1)&255;for(var Oe=0;Oe<_e;Oe++)if(Ee=t+Oe*Ce,Fe=Ee+Oe+1,ke=xe[Fe-1],Ie=0,ke==0)for(;Ie<Ce;Ie++)xe[Ee+Ie]=xe[Fe+Ie];else if(ke==1){for(;Ie<Ae;Ie++)xe[Ee+Ie]=xe[Fe+Ie];for(;Ie<Ce;Ie++)xe[Ee+Ie]=xe[Fe+Ie]+xe[Ee+Ie-Ae]}else if(ke==2)for(;Ie<Ce;Ie++)xe[Ee+Ie]=xe[Fe+Ie]+xe[Ee+Ie-Ce];else if(ke==3){for(;Ie<Ae;Ie++)xe[Ee+Ie]=xe[Fe+Ie]+(xe[Ee+Ie-Ce]>>>1);for(;Ie<Ce;Ie++)xe[Ee+Ie]=xe[Fe+Ie]+(xe[Ee+Ie-Ce]+xe[Ee+Ie-Ae]>>>1)}else{for(;Ie<Ae;Ie++)xe[Ee+Ie]=xe[Fe+Ie]+Pe(0,xe[Ee+Ie-Ce],0);for(;Ie<Ce;Ie++)xe[Ee+Ie]=xe[Fe+Ie]+Pe(xe[Ee+Ie-Ae],xe[Ee+Ie-Ce],xe[Ee+Ie-Ae-Ce])}return xe};UPNG.decode._paeth=function(xe,e,t){var Se=xe+e-t,_e=Se-xe,Ae=Se-e,Ce=Se-t;return _e*_e<=Ae*Ae&&_e*_e<=Ce*Ce?xe:Ae*Ae<=Ce*Ce?e:t};UPNG.decode._IHDR=function(xe,e,t){var Se=UPNG._bin;t.width=Se.readUint(xe,e),e+=4,t.height=Se.readUint(xe,e),e+=4,t.depth=xe[e],e++,t.ctype=xe[e],e++,t.compress=xe[e],e++,t.filter=xe[e],e++,t.interlace=xe[e],e++};UPNG._bin={nextZero:function(xe,e){for(;xe[e]!=0;)e++;return e},readUshort:function(xe,e){return xe[e]<<8|xe[e+1]},writeUshort:function(xe,e,t){xe[e]=t>>8&255,xe[e+1]=t&255},readUint:function(xe,e){return xe[e]*(256*256*256)+(xe[e+1]<<16|xe[e+2]<<8|xe[e+3])},writeUint:function(xe,e,t){xe[e]=t>>24&255,xe[e+1]=t>>16&255,xe[e+2]=t>>8&255,xe[e+3]=t&255},readASCII:function(xe,e,t){for(var Se="",_e=0;_e<t;_e++)Se+=String.fromCharCode(xe[e+_e]);return Se},writeASCII:function(xe,e,t){for(var Se=0;Se<t.length;Se++)xe[e+Se]=t.charCodeAt(Se)},readBytes:function(xe,e,t){for(var Se=[],_e=0;_e<t;_e++)Se.push(xe[e+_e]);return Se},pad:function(xe){return xe.length<2?"0"+xe:xe},readUTF8:function(xe,e,t){for(var Se="",_e,Ae=0;Ae<t;Ae++)Se+="%"+UPNG._bin.pad(xe[e+Ae].toString(16));try{_e=decodeURIComponent(Se)}catch{return UPNG._bin.readASCII(xe,e,t)}return _e}};UPNG._copyTile=function(xe,e,t,Se,_e,Ae,Ce,Pe,Ee){for(var Fe=Math.min(e,_e),ke=Math.min(t,Ae),Ie=0,Oe=0,Re=0;Re<ke;Re++)for(var Be=0;Be<Fe;Be++)if(Ce>=0&&Pe>=0?(Ie=Re*e+Be<<2,Oe=(Pe+Re)*_e+Ce+Be<<2):(Ie=(-Pe+Re)*e-Ce+Be<<2,Oe=Re*_e+Be<<2),Ee==0)Se[Oe]=xe[Ie],Se[Oe+1]=xe[Ie+1],Se[Oe+2]=xe[Ie+2],Se[Oe+3]=xe[Ie+3];else if(Ee==1){var je=xe[Ie+3]*.00392156862745098,He=xe[Ie]*je,Ge=xe[Ie+1]*je,Ve=xe[Ie+2]*je,ze=Se[Oe+3]*(1/255),Xe=Se[Oe]*ze,We=Se[Oe+1]*ze,Je=Se[Oe+2]*ze,Qe=1-je,Ze=je+ze*Qe,on=Ze==0?0:1/Ze;Se[Oe+3]=255*Ze,Se[Oe+0]=(He+Xe*Qe)*on,Se[Oe+1]=(Ge+We*Qe)*on,Se[Oe+2]=(Ve+Je*Qe)*on}else if(Ee==2){var je=xe[Ie+3],He=xe[Ie],Ge=xe[Ie+1],Ve=xe[Ie+2],ze=Se[Oe+3],Xe=Se[Oe],We=Se[Oe+1],Je=Se[Oe+2];je==ze&&He==Xe&&Ge==We&&Ve==Je?(Se[Oe]=0,Se[Oe+1]=0,Se[Oe+2]=0,Se[Oe+3]=0):(Se[Oe]=He,Se[Oe+1]=Ge,Se[Oe+2]=Ve,Se[Oe+3]=je)}else if(Ee==3){var je=xe[Ie+3],He=xe[Ie],Ge=xe[Ie+1],Ve=xe[Ie+2],ze=Se[Oe+3],Xe=Se[Oe],We=Se[Oe+1],Je=Se[Oe+2];if(je==ze&&He==Xe&&Ge==We&&Ve==Je)continue;if(je<220&&ze>20)return!1}return!0};UPNG.encode=function(xe,e,t,Se,_e,Ae,Ce){Se==null&&(Se=0),Ce==null&&(Ce=!1);var Pe=UPNG.encode.compress(xe,e,t,Se,[!1,!1,!1,0,Ce]);return UPNG.encode.compressPNG(Pe,-1),UPNG.encode._main(Pe,e,t,_e,Ae)};UPNG.encodeLL=function(xe,e,t,Se,_e,Ae,Ce,Pe){for(var Ee={ctype:0+(Se==1?0:2)+(_e==0?0:4),depth:Ae,frames:[]},Fe=(Se+_e)*Ae,ke=Fe*e,Ie=0;Ie<xe.length;Ie++)Ee.frames.push({rect:{x:0,y:0,width:e,height:t},img:new Uint8Array(xe[Ie]),blend:0,dispose:1,bpp:Math.ceil(Fe/8),bpl:Math.ceil(ke/8)});UPNG.encode.compressPNG(Ee,0,!0);var Oe=UPNG.encode._main(Ee,e,t,Ce,Pe);return Oe};UPNG.encode._main=function(xe,e,t,Se,_e){_e==null&&(_e={});var Ae=UPNG.crc.crc,Ce=UPNG._bin.writeUint,Pe=UPNG._bin.writeUshort,Ee=UPNG._bin.writeASCII,Fe=8,ke=xe.frames.length>1,Ie=!1,Oe=33+(ke?20:0);if(_e.sRGB!=null&&(Oe+=13),_e.pHYs!=null&&(Oe+=21),xe.ctype==3){for(var Re=xe.plte.length,Be=0;Be<Re;Be++)xe.plte[Be]>>>24!=255&&(Ie=!0);Oe+=8+Re*3+4+(Ie?8+Re*1+4:0)}for(var je=0;je<xe.frames.length;je++){var He=xe.frames[je];ke&&(Oe+=38),Oe+=He.cimg.length+12,je!=0&&(Oe+=4)}Oe+=12;for(var Ge=new Uint8Array(Oe),Ve=[137,80,78,71,13,10,26,10],Be=0;Be<8;Be++)Ge[Be]=Ve[Be];if(Ce(Ge,Fe,13),Fe+=4,Ee(Ge,Fe,"IHDR"),Fe+=4,Ce(Ge,Fe,e),Fe+=4,Ce(Ge,Fe,t),Fe+=4,Ge[Fe]=xe.depth,Fe++,Ge[Fe]=xe.ctype,Fe++,Ge[Fe]=0,Fe++,Ge[Fe]=0,Fe++,Ge[Fe]=0,Fe++,Ce(Ge,Fe,Ae(Ge,Fe-17,17)),Fe+=4,_e.sRGB!=null&&(Ce(Ge,Fe,1),Fe+=4,Ee(Ge,Fe,"sRGB"),Fe+=4,Ge[Fe]=_e.sRGB,Fe++,Ce(Ge,Fe,Ae(Ge,Fe-5,5)),Fe+=4),_e.pHYs!=null&&(Ce(Ge,Fe,9),Fe+=4,Ee(Ge,Fe,"pHYs"),Fe+=4,Ce(Ge,Fe,_e.pHYs[0]),Fe+=4,Ce(Ge,Fe,_e.pHYs[1]),Fe+=4,Ge[Fe]=_e.pHYs[2],Fe++,Ce(Ge,Fe,Ae(Ge,Fe-13,13)),Fe+=4),ke&&(Ce(Ge,Fe,8),Fe+=4,Ee(Ge,Fe,"acTL"),Fe+=4,Ce(Ge,Fe,xe.frames.length),Fe+=4,Ce(Ge,Fe,_e.loop!=null?_e.loop:0),Fe+=4,Ce(Ge,Fe,Ae(Ge,Fe-12,12)),Fe+=4),xe.ctype==3){var Re=xe.plte.length;Ce(Ge,Fe,Re*3),Fe+=4,Ee(Ge,Fe,"PLTE"),Fe+=4;for(var Be=0;Be<Re;Be++){var ze=Be*3,Xe=xe.plte[Be],We=Xe&255,Je=Xe>>>8&255,Qe=Xe>>>16&255;Ge[Fe+ze+0]=We,Ge[Fe+ze+1]=Je,Ge[Fe+ze+2]=Qe}if(Fe+=Re*3,Ce(Ge,Fe,Ae(Ge,Fe-Re*3-4,Re*3+4)),Fe+=4,Ie){Ce(Ge,Fe,Re),Fe+=4,Ee(Ge,Fe,"tRNS"),Fe+=4;for(var Be=0;Be<Re;Be++)Ge[Fe+Be]=xe.plte[Be]>>>24&255;Fe+=Re,Ce(Ge,Fe,Ae(Ge,Fe-Re-4,Re+4)),Fe+=4}}for(var Ze=0,je=0;je<xe.frames.length;je++){var He=xe.frames[je];ke&&(Ce(Ge,Fe,26),Fe+=4,Ee(Ge,Fe,"fcTL"),Fe+=4,Ce(Ge,Fe,Ze++),Fe+=4,Ce(Ge,Fe,He.rect.width),Fe+=4,Ce(Ge,Fe,He.rect.height),Fe+=4,Ce(Ge,Fe,He.rect.x),Fe+=4,Ce(Ge,Fe,He.rect.y),Fe+=4,Pe(Ge,Fe,Se[je]),Fe+=2,Pe(Ge,Fe,1e3),Fe+=2,Ge[Fe]=He.dispose,Fe++,Ge[Fe]=He.blend,Fe++,Ce(Ge,Fe,Ae(Ge,Fe-30,30)),Fe+=4);var on=He.cimg,Re=on.length;Ce(Ge,Fe,Re+(je==0?0:4)),Fe+=4;var an=Fe;Ee(Ge,Fe,je==0?"IDAT":"fdAT"),Fe+=4,je!=0&&(Ce(Ge,Fe,Ze++),Fe+=4),Ge.set(on,Fe),Fe+=Re,Ce(Ge,Fe,Ae(Ge,an,Fe-an)),Fe+=4}return Ce(Ge,Fe,0),Fe+=4,Ee(Ge,Fe,"IEND"),Fe+=4,Ce(Ge,Fe,Ae(Ge,Fe-4,4)),Fe+=4,Ge.buffer};UPNG.encode.compressPNG=function(xe,e,t){for(var Se=0;Se<xe.frames.length;Se++){var _e=xe.frames[Se];_e.rect.width;var Ae=_e.rect.height,Ce=new Uint8Array(Ae*_e.bpl+Ae);_e.cimg=UPNG.encode._filterZero(_e.img,Ae,_e.bpp,_e.bpl,Ce,e,t)}};UPNG.encode.compress=function(xe,e,t,Se,_e){for(var Ae=_e[0],Ce=_e[1],Pe=_e[2],Ee=_e[3],Fe=_e[4],ke=6,Ie=8,Oe=255,Re=0;Re<xe.length;Re++)for(var Be=new Uint8Array(xe[Re]),je=Be.length,He=0;He<je;He+=4)Oe&=Be[He+3];var Ge=Oe!=255,Ve=UPNG.encode.framize(xe,e,t,Ae,Ce,Pe),ze={},Xe=[],We=[];if(Se!=0){for(var Je=[],He=0;He<Ve.length;He++)Je.push(Ve[He].img.buffer);for(var Qe=UPNG.encode.concatRGBA(Je),Ze=UPNG.quantize(Qe,Se),on=0,an=new Uint8Array(Ze.abuf),He=0;He<Ve.length;He++){var rn=Ve[He].img,fn=rn.length;We.push(new Uint8Array(Ze.inds.buffer,on>>2,fn>>2));for(var Re=0;Re<fn;Re+=4)rn[Re]=an[on+Re],rn[Re+1]=an[on+Re+1],rn[Re+2]=an[on+Re+2],rn[Re+3]=an[on+Re+3];on+=fn}for(var He=0;He<Ze.plte.length;He++)Xe.push(Ze.plte[He].est.rgba)}else for(var Re=0;Re<Ve.length;Re++){var nn=Ve[Re],cn=new Uint32Array(nn.img.buffer),dn=nn.rect.width,je=cn.length,bn=new Uint8Array(je);We.push(bn);for(var He=0;He<je;He++){var pn=cn[He];if(He!=0&&pn==cn[He-1])bn[He]=bn[He-1];else if(He>dn&&pn==cn[He-dn])bn[He]=bn[He-dn];else{var _n=ze[pn];if(_n==null&&(ze[pn]=_n=Xe.length,Xe.push(pn),Xe.length>=300))break;bn[He]=_n}}}var Nn=Xe.length;Nn<=256&&Fe==!1&&(Nn<=2?Ie=1:Nn<=4?Ie=2:Nn<=16?Ie=4:Ie=8,Ie=Math.max(Ie,Ee));for(var Re=0;Re<Ve.length;Re++){var nn=Ve[Re];nn.rect.x,nn.rect.y;var dn=nn.rect.width,Un=nn.rect.height,xn=nn.img;new Uint32Array(xn.buffer);var St=4*dn,sn=4;if(Nn<=256&&Fe==!1){St=Math.ceil(Ie*dn/8);for(var gn=new Uint8Array(St*Un),Pn=We[Re],Fn=0;Fn<Un;Fn++){var He=Fn*St,vn=Fn*dn;if(Ie==8)for(var kn=0;kn<dn;kn++)gn[He+kn]=Pn[vn+kn];else if(Ie==4)for(var kn=0;kn<dn;kn++)gn[He+(kn>>1)]|=Pn[vn+kn]<<4-(kn&1)*4;else if(Ie==2)for(var kn=0;kn<dn;kn++)gn[He+(kn>>2)]|=Pn[vn+kn]<<6-(kn&3)*2;else if(Ie==1)for(var kn=0;kn<dn;kn++)gn[He+(kn>>3)]|=Pn[vn+kn]<<7-(kn&7)*1}xn=gn,ke=3,sn=1}else if(Ge==!1&&Ve.length==1){for(var gn=new Uint8Array(dn*Un*3),Bn=dn*Un,He=0;He<Bn;He++){var rn=He*3,er=He*4;gn[rn]=xn[er],gn[rn+1]=xn[er+1],gn[rn+2]=xn[er+2]}xn=gn,ke=2,sn=3,St=3*dn}nn.img=xn,nn.bpl=St,nn.bpp=sn}return{ctype:ke,depth:Ie,plte:Xe,frames:Ve}};UPNG.encode.framize=function(xe,e,t,Se,_e,Ae){for(var Ce=[],Pe=0;Pe<xe.length;Pe++){var Ee=new Uint8Array(xe[Pe]),Fe=new Uint32Array(Ee.buffer),ke,Ie=0,Oe=0,Re=e,Be=t,je=Se?1:0;if(Pe!=0){for(var He=Ae||Se||Pe==1||Ce[Pe-2].dispose!=0?1:2,Ge=0,Ve=1e9,ze=0;ze<He;ze++){for(var nn=new Uint8Array(xe[Pe-1-ze]),Xe=new Uint32Array(xe[Pe-1-ze]),We=e,Je=t,Qe=-1,Ze=-1,on=0;on<t;on++)for(var an=0;an<e;an++){var rn=on*e+an;Fe[rn]!=Xe[rn]&&(an<We&&(We=an),an>Qe&&(Qe=an),on<Je&&(Je=on),on>Ze&&(Ze=on))}Qe==-1&&(We=Je=Qe=Ze=0),_e&&((We&1)==1&&We--,(Je&1)==1&&Je--);var fn=(Qe-We+1)*(Ze-Je+1);fn<Ve&&(Ve=fn,Ge=ze,Ie=We,Oe=Je,Re=Qe-We+1,Be=Ze-Je+1)}var nn=new Uint8Array(xe[Pe-1-Ge]);Ge==1&&(Ce[Pe-1].dispose=2),ke=new Uint8Array(Re*Be*4),UPNG._copyTile(nn,e,t,ke,Re,Be,-Ie,-Oe,0),je=UPNG._copyTile(Ee,e,t,ke,Re,Be,-Ie,-Oe,3)?1:0,je==1?UPNG.encode._prepareDiff(Ee,e,t,ke,{x:Ie,y:Oe,width:Re,height:Be}):UPNG._copyTile(Ee,e,t,ke,Re,Be,-Ie,-Oe,0)}else ke=Ee.slice(0);Ce.push({rect:{x:Ie,y:Oe,width:Re,height:Be},img:ke,blend:je,dispose:0})}if(Se)for(var Pe=0;Pe<Ce.length;Pe++){var cn=Ce[Pe];if(cn.blend!=1){var dn=cn.rect,bn=Ce[Pe-1].rect,pn=Math.min(dn.x,bn.x),_n=Math.min(dn.y,bn.y),Nn=Math.max(dn.x+dn.width,bn.x+bn.width),Un=Math.max(dn.y+dn.height,bn.y+bn.height),xn={x:pn,y:_n,width:Nn-pn,height:Un-_n};Ce[Pe-1].dispose=1,Pe-1!=0&&UPNG.encode._updateFrame(xe,e,t,Ce,Pe-1,xn,_e),UPNG.encode._updateFrame(xe,e,t,Ce,Pe,xn,_e)}}var St=0;if(xe.length!=1)for(var rn=0;rn<Ce.length;rn++){var cn=Ce[rn];St+=cn.rect.width*cn.rect.height}return Ce};UPNG.encode._updateFrame=function(xe,e,t,Se,_e,Ae,Ce){for(var Pe=Uint8Array,Ee=Uint32Array,Fe=new Pe(xe[_e-1]),ke=new Ee(xe[_e-1]),Ie=_e+1<xe.length?new Pe(xe[_e+1]):null,Oe=new Pe(xe[_e]),Re=new Ee(Oe.buffer),Be=e,je=t,He=-1,Ge=-1,Ve=0;Ve<Ae.height;Ve++)for(var ze=0;ze<Ae.width;ze++){var Xe=Ae.x+ze,We=Ae.y+Ve,Je=We*e+Xe,Qe=Re[Je];Qe==0||Se[_e-1].dispose==0&&ke[Je]==Qe&&(Ie==null||Ie[Je*4+3]!=0)||(Xe<Be&&(Be=Xe),Xe>He&&(He=Xe),We<je&&(je=We),We>Ge&&(Ge=We))}He==-1&&(Be=je=He=Ge=0),Ce&&((Be&1)==1&&Be--,(je&1)==1&&je--),Ae={x:Be,y:je,width:He-Be+1,height:Ge-je+1};var Ze=Se[_e];Ze.rect=Ae,Ze.blend=1,Ze.img=new Uint8Array(Ae.width*Ae.height*4),Se[_e-1].dispose==0?(UPNG._copyTile(Fe,e,t,Ze.img,Ae.width,Ae.height,-Ae.x,-Ae.y,0),UPNG.encode._prepareDiff(Oe,e,t,Ze.img,Ae)):UPNG._copyTile(Oe,e,t,Ze.img,Ae.width,Ae.height,-Ae.x,-Ae.y,0)};UPNG.encode._prepareDiff=function(xe,e,t,Se,_e){UPNG._copyTile(xe,e,t,Se,_e.width,_e.height,-_e.x,-_e.y,2)};UPNG.encode._filterZero=function(xe,e,t,Se,_e,Ae,Ce){var Pe=[],Ee=[0,1,2,3,4];Ae!=-1?Ee=[Ae]:(e*Se>5e5||t==1)&&(Ee=[0]);var Fe;Ce&&(Fe={level:0});for(var ke=Ce&&UZIP!=null?UZIP:pako,Ie=0;Ie<Ee.length;Ie++){for(var Oe=0;Oe<e;Oe++)UPNG.encode._filterLine(_e,xe,Oe,Se,t,Ee[Ie]);Pe.push(ke.deflate(_e,Fe))}for(var Re,Be=1e9,Ie=0;Ie<Pe.length;Ie++)Pe[Ie].length<Be&&(Re=Ie,Be=Pe[Ie].length);return Pe[Re]};UPNG.encode._filterLine=function(xe,e,t,Se,_e,Ae){var Ce=t*Se,Pe=Ce+t,Ee=UPNG.decode._paeth;if(xe[Pe]=Ae,Pe++,Ae==0)if(Se<500)for(var Fe=0;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe];else xe.set(new Uint8Array(e.buffer,Ce,Se),Pe);else if(Ae==1){for(var Fe=0;Fe<_e;Fe++)xe[Pe+Fe]=e[Ce+Fe];for(var Fe=_e;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe]-e[Ce+Fe-_e]+256&255}else if(t==0){for(var Fe=0;Fe<_e;Fe++)xe[Pe+Fe]=e[Ce+Fe];if(Ae==2)for(var Fe=_e;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe];if(Ae==3)for(var Fe=_e;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe]-(e[Ce+Fe-_e]>>1)+256&255;if(Ae==4)for(var Fe=_e;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe]-Ee(e[Ce+Fe-_e],0,0)+256&255}else{if(Ae==2)for(var Fe=0;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe]+256-e[Ce+Fe-Se]&255;if(Ae==3){for(var Fe=0;Fe<_e;Fe++)xe[Pe+Fe]=e[Ce+Fe]+256-(e[Ce+Fe-Se]>>1)&255;for(var Fe=_e;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe]+256-(e[Ce+Fe-Se]+e[Ce+Fe-_e]>>1)&255}if(Ae==4){for(var Fe=0;Fe<_e;Fe++)xe[Pe+Fe]=e[Ce+Fe]+256-Ee(0,e[Ce+Fe-Se],0)&255;for(var Fe=_e;Fe<Se;Fe++)xe[Pe+Fe]=e[Ce+Fe]+256-Ee(e[Ce+Fe-_e],e[Ce+Fe-Se],e[Ce+Fe-_e-Se])&255}}};UPNG.crc={table:function(){for(var xe=new Uint32Array(256),e=0;e<256;e++){for(var t=e,Se=0;Se<8;Se++)t&1?t=3988292384^t>>>1:t=t>>>1;xe[e]=t}return xe}(),update:function(xe,e,t,Se){for(var _e=0;_e<Se;_e++)xe=UPNG.crc.table[(xe^e[t+_e])&255]^xe>>>8;return xe},crc:function(xe,e,t){return UPNG.crc.update(4294967295,xe,e,t)^4294967295}};UPNG.quantize=function(xe,e){var t=new Uint8Array(xe),Se=t.slice(0),_e=new Uint32Array(Se.buffer),Ae=UPNG.quantize.getKDtree(Se,e),Ce=Ae[0],Pe=Ae[1];UPNG.quantize.planeDst;for(var Ee=t,Fe=_e,ke=Ee.length,Ie=new Uint8Array(t.length>>2),Oe=0;Oe<ke;Oe+=4){var Re=Ee[Oe]*.00392156862745098,Be=Ee[Oe+1]*(1/255),je=Ee[Oe+2]*(1/255),He=Ee[Oe+3]*(1/255),Ge=UPNG.quantize.getNearest(Ce,Re,Be,je,He);Ie[Oe>>2]=Ge.ind,Fe[Oe>>2]=Ge.est.rgba}return{abuf:Se.buffer,inds:Ie,plte:Pe}};UPNG.quantize.getKDtree=function(xe,e,t){t==null&&(t=1e-4);var Se=new Uint32Array(xe.buffer),_e={i0:0,i1:xe.length,bst:null,est:null,tdst:0,left:null,right:null};_e.bst=UPNG.quantize.stats(xe,_e.i0,_e.i1),_e.est=UPNG.quantize.estats(_e.bst);for(var Ae=[_e];Ae.length<e;){for(var Ce=0,Pe=0,Ee=0;Ee<Ae.length;Ee++)Ae[Ee].est.L>Ce&&(Ce=Ae[Ee].est.L,Pe=Ee);if(Ce<t)break;var Fe=Ae[Pe],ke=UPNG.quantize.splitPixels(xe,Se,Fe.i0,Fe.i1,Fe.est.e,Fe.est.eMq255),Ie=Fe.i0>=ke||Fe.i1<=ke;if(Ie){Fe.est.L=0;continue}var Oe={i0:Fe.i0,i1:ke,bst:null,est:null,tdst:0,left:null,right:null};Oe.bst=UPNG.quantize.stats(xe,Oe.i0,Oe.i1),Oe.est=UPNG.quantize.estats(Oe.bst);var Re={i0:ke,i1:Fe.i1,bst:null,est:null,tdst:0,left:null,right:null};Re.bst={R:[],m:[],N:Fe.bst.N-Oe.bst.N};for(var Ee=0;Ee<16;Ee++)Re.bst.R[Ee]=Fe.bst.R[Ee]-Oe.bst.R[Ee];for(var Ee=0;Ee<4;Ee++)Re.bst.m[Ee]=Fe.bst.m[Ee]-Oe.bst.m[Ee];Re.est=UPNG.quantize.estats(Re.bst),Fe.left=Oe,Fe.right=Re,Ae[Pe]=Oe,Ae.push(Re)}Ae.sort(function(Be,je){return je.bst.N-Be.bst.N});for(var Ee=0;Ee<Ae.length;Ee++)Ae[Ee].ind=Ee;return[_e,Ae]};UPNG.quantize.getNearest=function(xe,e,t,Se,_e){if(xe.left==null)return xe.tdst=UPNG.quantize.dist(xe.est.q,e,t,Se,_e),xe;var Ae=UPNG.quantize.planeDst(xe.est,e,t,Se,_e),Ce=xe.left,Pe=xe.right;Ae>0&&(Ce=xe.right,Pe=xe.left);var Ee=UPNG.quantize.getNearest(Ce,e,t,Se,_e);if(Ee.tdst<=Ae*Ae)return Ee;var Fe=UPNG.quantize.getNearest(Pe,e,t,Se,_e);return Fe.tdst<Ee.tdst?Fe:Ee};UPNG.quantize.planeDst=function(xe,e,t,Se,_e){var Ae=xe.e;return Ae[0]*e+Ae[1]*t+Ae[2]*Se+Ae[3]*_e-xe.eMq};UPNG.quantize.dist=function(xe,e,t,Se,_e){var Ae=e-xe[0],Ce=t-xe[1],Pe=Se-xe[2],Ee=_e-xe[3];return Ae*Ae+Ce*Ce+Pe*Pe+Ee*Ee};UPNG.quantize.splitPixels=function(xe,e,t,Se,_e,Ae){var Ce=UPNG.quantize.vecDot;for(Se-=4;t<Se;){for(;Ce(xe,t,_e)<=Ae;)t+=4;for(;Ce(xe,Se,_e)>Ae;)Se-=4;if(t>=Se)break;var Pe=e[t>>2];e[t>>2]=e[Se>>2],e[Se>>2]=Pe,t+=4,Se-=4}for(;Ce(xe,t,_e)>Ae;)t-=4;return t+4};UPNG.quantize.vecDot=function(xe,e,t){return xe[e]*t[0]+xe[e+1]*t[1]+xe[e+2]*t[2]+xe[e+3]*t[3]};UPNG.quantize.stats=function(xe,e,t){for(var Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=[0,0,0,0],Ae=t-e>>2,Ce=e;Ce<t;Ce+=4){var Pe=xe[Ce]*.00392156862745098,Ee=xe[Ce+1]*(1/255),Fe=xe[Ce+2]*(1/255),ke=xe[Ce+3]*(1/255);_e[0]+=Pe,_e[1]+=Ee,_e[2]+=Fe,_e[3]+=ke,Se[0]+=Pe*Pe,Se[1]+=Pe*Ee,Se[2]+=Pe*Fe,Se[3]+=Pe*ke,Se[5]+=Ee*Ee,Se[6]+=Ee*Fe,Se[7]+=Ee*ke,Se[10]+=Fe*Fe,Se[11]+=Fe*ke,Se[15]+=ke*ke}return Se[4]=Se[1],Se[8]=Se[2],Se[9]=Se[6],Se[12]=Se[3],Se[13]=Se[7],Se[14]=Se[11],{R:Se,m:_e,N:Ae}};UPNG.quantize.estats=function(xe){var e=xe.R,t=xe.m,Se=xe.N,_e=t[0],Ae=t[1],Ce=t[2],Pe=t[3],Ee=Se==0?0:1/Se,Fe=[e[0]-_e*_e*Ee,e[1]-_e*Ae*Ee,e[2]-_e*Ce*Ee,e[3]-_e*Pe*Ee,e[4]-Ae*_e*Ee,e[5]-Ae*Ae*Ee,e[6]-Ae*Ce*Ee,e[7]-Ae*Pe*Ee,e[8]-Ce*_e*Ee,e[9]-Ce*Ae*Ee,e[10]-Ce*Ce*Ee,e[11]-Ce*Pe*Ee,e[12]-Pe*_e*Ee,e[13]-Pe*Ae*Ee,e[14]-Pe*Ce*Ee,e[15]-Pe*Pe*Ee],ke=Fe,Ie=UPNG.M4,Oe=[.5,.5,.5,.5],Re=0,Be=0;if(Se!=0)for(var je=0;je<10&&(Oe=Ie.multVec(ke,Oe),Be=Math.sqrt(Ie.dot(Oe,Oe)),Oe=Ie.sml(1/Be,Oe),!(Math.abs(Be-Re)<1e-9));je++)Re=Be;var He=[_e*Ee,Ae*Ee,Ce*Ee,Pe*Ee],Ge=Ie.dot(Ie.sml(255,He),Oe);return{Cov:Fe,q:He,e:Oe,L:Re,eMq255:Ge,eMq:Ie.dot(Oe,He),rgba:(Math.round(255*He[3])<<24|Math.round(255*He[2])<<16|Math.round(255*He[1])<<8|Math.round(255*He[0])<<0)>>>0}};UPNG.M4={multVec:function(xe,e){return[xe[0]*e[0]+xe[1]*e[1]+xe[2]*e[2]+xe[3]*e[3],xe[4]*e[0]+xe[5]*e[1]+xe[6]*e[2]+xe[7]*e[3],xe[8]*e[0]+xe[9]*e[1]+xe[10]*e[2]+xe[11]*e[3],xe[12]*e[0]+xe[13]*e[1]+xe[14]*e[2]+xe[15]*e[3]]},dot:function(xe,e){return xe[0]*e[0]+xe[1]*e[1]+xe[2]*e[2]+xe[3]*e[3]},sml:function(xe,e){return[xe*e[0],xe*e[1],xe*e[2],xe*e[3]]}};UPNG.encode.concatRGBA=function(xe){for(var e=0,t=0;t<xe.length;t++)e+=xe[t].byteLength;for(var Se=new Uint8Array(e),_e=0,t=0;t<xe.length;t++){for(var Ae=new Uint8Array(xe[t]),Ce=Ae.length,Pe=0;Pe<Ce;Pe+=4){var Ee=Ae[Pe],Fe=Ae[Pe+1],ke=Ae[Pe+2],Ie=Ae[Pe+3];Ie==0&&(Ee=Fe=ke=0),Se[_e+Pe]=Ee,Se[_e+Pe+1]=Fe,Se[_e+Pe+2]=ke,Se[_e+Pe+3]=Ie}_e+=Ce}return Se.buffer};var getImageType=function(xe){if(xe===0)return PngType.Greyscale;if(xe===2)return PngType.Truecolour;if(xe===3)return PngType.IndexedColour;if(xe===4)return PngType.GreyscaleWithAlpha;if(xe===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+xe)},splitAlphaChannel=function(xe){for(var e=Math.floor(xe.length/4),t=new Uint8Array(e*3),Se=new Uint8Array(e*1),_e=0,Ae=0,Ce=0;_e<xe.length;)t[Ae++]=xe[_e++],t[Ae++]=xe[_e++],t[Ae++]=xe[_e++],Se[Ce++]=xe[_e++];return{rgbChannel:t,alphaChannel:Se}},PngType;(function(xe){xe.Greyscale="Greyscale",xe.Truecolour="Truecolour",xe.IndexedColour="IndexedColour",xe.GreyscaleWithAlpha="GreyscaleWithAlpha",xe.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function xe(e){var t=UPNG.decode(e),Se=UPNG.toRGBA8(t);if(Se.length>1)throw new Error("Animated PNGs are not supported");var _e=new Uint8Array(Se[0]),Ae=splitAlphaChannel(_e),Ce=Ae.rgbChannel,Pe=Ae.alphaChannel;this.rgbChannel=Ce;var Ee=Pe.some(function(Fe){return Fe<255});Ee&&(this.alphaChannel=Pe),this.type=getImageType(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return xe.load=function(e){return new xe(e)},xe}(),PngEmbedder=function(){function xe(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return xe.for=function(e){return __awaiter$1(this,void 0,void 0,function(){var t;return __generator(this,function(Se){return t=PNG.load(e),[2,new xe(t)]})})},xe.prototype.embedIntoContext=function(e,t){return __awaiter$1(this,void 0,void 0,function(){var Se,_e;return __generator(this,function(Ae){return Se=this.embedAlphaChannel(e),_e=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:Se}),t?(e.assign(t,_e),[2,t]):[2,e.register(_e)]})})},xe.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},xe}(),Stream=function(){function xe(e,t,Se){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&Se?t+Se:this.bytes.length}return Object.defineProperty(xe.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(xe.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),xe.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},xe.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},xe.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),Se=this.getByte(),_e=this.getByte();return(e<<24)+(t<<16)+(Se<<8)+_e},xe.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var Se=this.bytes,_e=this.pos,Ae=this.end;if(e){var Pe=_e+e;Pe>Ae&&(Pe=Ae),this.pos=Pe;var Ce=Se.subarray(_e,Pe);return t?new Uint8ClampedArray(Ce):Ce}else{var Ce=Se.subarray(_e,Ae);return t?new Uint8ClampedArray(Ce):Ce}},xe.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},xe.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var Se=this.getBytes(e,t);return this.pos-=Se.length,Se},xe.prototype.skip=function(e){e||(e=1),this.pos+=e},xe.prototype.reset=function(){this.pos=this.start},xe.prototype.moveStart=function(){this.start=this.pos},xe.prototype.makeSubStream=function(e,t){return new xe(this.bytes,e,t)},xe.prototype.decode=function(){return this.bytes},xe}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function xe(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(xe.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),xe.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},xe.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},xe.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),Se=this.getByte(),_e=this.getByte();return(e<<24)+(t<<16)+(Se<<8)+_e},xe.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var Se,_e=this.pos;if(e){for(this.ensureBuffer(_e+e),Se=_e+e;!this.eof&&this.bufferLength<Se;)this.readBlock();var Ae=this.bufferLength;Se>Ae&&(Se=Ae)}else{for(;!this.eof;)this.readBlock();Se=this.bufferLength}this.pos=Se;var Ce=this.buffer.subarray(_e,Se);return t&&!(Ce instanceof Uint8ClampedArray)?new Uint8ClampedArray(Ce):Ce},xe.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},xe.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var Se=this.getBytes(e,t);return this.pos-=Se.length,Se},xe.prototype.skip=function(e){e||(e=1),this.pos+=e},xe.prototype.reset=function(){this.pos=0},xe.prototype.makeSubStream=function(e,t){for(var Se=e+t;this.bufferLength<=Se&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t)},xe.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},xe.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},xe.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var Se=this.minBufferLength;Se<e;)Se*=2;var _e=new Uint8Array(Se);return _e.set(t),this.buffer=_e},xe}(),isSpace=function(xe){return xe===32||xe===9||xe===13||xe===10},Ascii85Stream=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this,Se)||this;return _e.stream=t,_e.input=new Uint8Array(5),Se&&(Se=.8*Se),_e}return e.prototype.readBlock=function(){for(var t=126,Se=122,_e=-1,Ae=this.stream,Ce=Ae.getByte();isSpace(Ce);)Ce=Ae.getByte();if(Ce===_e||Ce===t){this.eof=!0;return}var Pe=this.bufferLength,Ee,Fe;if(Ce===Se){for(Ee=this.ensureBuffer(Pe+4),Fe=0;Fe<4;++Fe)Ee[Pe+Fe]=0;this.bufferLength+=4}else{var ke=this.input;for(ke[0]=Ce,Fe=1;Fe<5;++Fe){for(Ce=Ae.getByte();isSpace(Ce);)Ce=Ae.getByte();if(ke[Fe]=Ce,Ce===_e||Ce===t)break}if(Ee=this.ensureBuffer(Pe+Fe-1),this.bufferLength+=Fe-1,Fe<5){for(;Fe<5;++Fe)ke[Fe]=117;this.eof=!0}var Ie=0;for(Fe=0;Fe<5;++Fe)Ie=Ie*85+(ke[Fe]-33);for(Fe=3;Fe>=0;--Fe)Ee[Pe+Fe]=Ie&255,Ie>>=8}},e}(DecodeStream),AsciiHexStream=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this,Se)||this;return _e.stream=t,_e.firstDigit=-1,Se&&(Se=.5*Se),_e}return e.prototype.readBlock=function(){var t=8e3,Se=this.stream.getBytes(t);if(!Se.length){this.eof=!0;return}for(var _e=Se.length+1>>1,Ae=this.ensureBuffer(this.bufferLength+_e),Ce=this.bufferLength,Pe=this.firstDigit,Ee=0,Fe=Se.length;Ee<Fe;Ee++){var ke=Se[Ee],Ie=void 0;if(ke>=48&&ke<=57)Ie=ke&15;else if(ke>=65&&ke<=70||ke>=97&&ke<=102)Ie=(ke&15)+9;else if(ke===62){this.eof=!0;break}else continue;Pe<0?Pe=Ie:(Ae[Ce++]=Pe<<4|Ie,Pe=-1)}Pe>=0&&this.eof&&(Ae[Ce++]=Pe<<4,Pe=-1),this.firstDigit=Pe,this.bufferLength=Ce},e}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this,Se)||this;_e.stream=t;var Ae=t.getByte(),Ce=t.getByte();if(Ae===-1||Ce===-1)throw new Error("Invalid header in flate stream: "+Ae+", "+Ce);if((Ae&15)!==8)throw new Error("Unknown compression method in flate stream: "+Ae+", "+Ce);if(((Ae<<8)+Ce)%31!==0)throw new Error("Bad FCHECK in flate stream: "+Ae+", "+Ce);if(Ce&32)throw new Error("FDICT bit set in flate stream: "+Ae+", "+Ce);return _e.codeSize=0,_e.codeBuf=0,_e}return e.prototype.readBlock=function(){var t,Se,_e=this.stream,Ae=this.getBits(3);if(Ae&1&&(this.eof=!0),Ae>>=1,Ae===0){var Ce=void 0;if((Ce=_e.getByte())===-1)throw new Error("Bad block header in flate stream");var Pe=Ce;if((Ce=_e.getByte())===-1)throw new Error("Bad block header in flate stream");if(Pe|=Ce<<8,(Ce=_e.getByte())===-1)throw new Error("Bad block header in flate stream");var Ee=Ce;if((Ce=_e.getByte())===-1)throw new Error("Bad block header in flate stream");if(Ee|=Ce<<8,Ee!==(~Pe&65535)&&(Pe!==0||Ee!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var Fe=this.bufferLength;t=this.ensureBuffer(Fe+Pe);var ke=Fe+Pe;if(this.bufferLength=ke,Pe===0)_e.peekByte()===-1&&(this.eof=!0);else for(var Ie=Fe;Ie<ke;++Ie){if((Ce=_e.getByte())===-1){this.eof=!0;break}t[Ie]=Ce}return}var Oe,Re;if(Ae===1)Oe=fixedLitCodeTab,Re=fixedDistCodeTab;else if(Ae===2){var Be=this.getBits(5)+257,je=this.getBits(5)+1,He=this.getBits(4)+4,Ge=new Uint8Array(codeLenCodeMap.length),Ve=void 0;for(Ve=0;Ve<He;++Ve)Ge[codeLenCodeMap[Ve]]=this.getBits(3);var ze=this.generateHuffmanTable(Ge);Se=0,Ve=0;for(var Xe=Be+je,We=new Uint8Array(Xe),Je=void 0,Qe=void 0,Ze=void 0;Ve<Xe;){var on=this.getCode(ze);if(on===16)Je=2,Qe=3,Ze=Se;else if(on===17)Je=3,Qe=3,Ze=Se=0;else if(on===18)Je=7,Qe=11,Ze=Se=0;else{We[Ve++]=Se=on;continue}for(var an=this.getBits(Je)+Qe;an-- >0;)We[Ve++]=Ze}Oe=this.generateHuffmanTable(We.subarray(0,Be)),Re=this.generateHuffmanTable(We.subarray(Be,Xe))}else throw new Error("Unknown block type in flate stream");t=this.buffer;for(var rn=t?t.length:0,fn=this.bufferLength;;){var nn=this.getCode(Oe);if(nn<256){fn+1>=rn&&(t=this.ensureBuffer(fn+1),rn=t.length),t[fn++]=nn;continue}if(nn===256){this.bufferLength=fn;return}nn-=257,nn=lengthDecode[nn];var cn=nn>>16;cn>0&&(cn=this.getBits(cn)),Se=(nn&65535)+cn,nn=this.getCode(Re),nn=distDecode[nn],cn=nn>>16,cn>0&&(cn=this.getBits(cn));var dn=(nn&65535)+cn;fn+Se>=rn&&(t=this.ensureBuffer(fn+Se),rn=t.length);for(var bn=0;bn<Se;++bn,++fn)t[fn]=t[fn-dn]}},e.prototype.getBits=function(t){for(var Se=this.stream,_e=this.codeSize,Ae=this.codeBuf,Ce;_e<t;){if((Ce=Se.getByte())===-1)throw new Error("Bad encoding in flate stream");Ae|=Ce<<_e,_e+=8}return Ce=Ae&(1<<t)-1,this.codeBuf=Ae>>t,this.codeSize=_e-=t,Ce},e.prototype.getCode=function(t){for(var Se=this.stream,_e=t[0],Ae=t[1],Ce=this.codeSize,Pe=this.codeBuf,Ee;Ce<Ae&&(Ee=Se.getByte())!==-1;)Pe|=Ee<<Ce,Ce+=8;var Fe=_e[Pe&(1<<Ae)-1];typeof _e=="number"&&console.log("FLATE:",Fe);var ke=Fe>>16,Ie=Fe&65535;if(ke<1||Ce<ke)throw new Error("Bad encoding in flate stream");return this.codeBuf=Pe>>ke,this.codeSize=Ce-ke,Ie},e.prototype.generateHuffmanTable=function(t){var Se=t.length,_e=0,Ae;for(Ae=0;Ae<Se;++Ae)t[Ae]>_e&&(_e=t[Ae]);for(var Ce=1<<_e,Pe=new Int32Array(Ce),Ee=1,Fe=0,ke=2;Ee<=_e;++Ee,Fe<<=1,ke<<=1)for(var Ie=0;Ie<Se;++Ie)if(t[Ie]===Ee){var Oe=0,Re=Fe;for(Ae=0;Ae<Ee;++Ae)Oe=Oe<<1|Re&1,Re>>=1;for(Ae=Oe;Ae<Ce;Ae+=ke)Pe[Ae]=Ee<<16|Ie;++Fe}return[Pe,_e]},e}(DecodeStream),LZWStream=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,Se)||this;Ae.stream=t,Ae.cachedData=0,Ae.bitsCached=0;for(var Ce=4096,Pe={earlyChange:_e,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Ce),dictionaryLengths:new Uint16Array(Ce),dictionaryPrevCodes:new Uint16Array(Ce),currentSequence:new Uint8Array(Ce),currentSequenceLength:0},Ee=0;Ee<256;++Ee)Pe.dictionaryValues[Ee]=Ee,Pe.dictionaryLengths[Ee]=1;return Ae.lzwState=Pe,Ae}return e.prototype.readBlock=function(){var t=512,Se=t*2,_e=t,Ae,Ce,Pe,Ee=this.lzwState;if(Ee){var Fe=Ee.earlyChange,ke=Ee.nextCode,Ie=Ee.dictionaryValues,Oe=Ee.dictionaryLengths,Re=Ee.dictionaryPrevCodes,Be=Ee.codeLength,je=Ee.prevCode,He=Ee.currentSequence,Ge=Ee.currentSequenceLength,Ve=0,ze=this.bufferLength,Xe=this.ensureBuffer(this.bufferLength+Se);for(Ae=0;Ae<t;Ae++){var We=this.readBits(Be),Je=Ge>0;if(!We||We<256)He[0]=We,Ge=1;else if(We>=258)if(We<ke)for(Ge=Oe[We],Ce=Ge-1,Pe=We;Ce>=0;Ce--)He[Ce]=Ie[Pe],Pe=Re[Pe];else He[Ge++]=He[0];else if(We===256){Be=9,ke=258,Ge=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Je&&(Re[ke]=je,Oe[ke]=Oe[je]+1,Ie[ke]=He[0],ke++,Be=ke+Fe&ke+Fe-1?Be:Math.min(Math.log(ke+Fe)/.6931471805599453+1,12)|0),je=We,Ve+=Ge,Se<Ve){do Se+=_e;while(Se<Ve);Xe=this.ensureBuffer(this.bufferLength+Se)}for(Ce=0;Ce<Ge;Ce++)Xe[ze++]=He[Ce]}Ee.nextCode=ke,Ee.codeLength=Be,Ee.prevCode=je,Ee.currentSequenceLength=Ge,this.bufferLength=ze}},e.prototype.readBits=function(t){for(var Se=this.bitsCached,_e=this.cachedData;Se<t;){var Ae=this.stream.getByte();if(Ae===-1)return this.eof=!0,null;_e=_e<<8|Ae,Se+=8}return this.bitsCached=Se-=t,this.cachedData=_e,_e>>>Se&(1<<t)-1},e}(DecodeStream),RunLengthStream=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this,Se)||this;return _e.stream=t,_e}return e.prototype.readBlock=function(){var t=this.stream.getBytes(2);if(!t||t.length<2||t[0]===128){this.eof=!0;return}var Se,_e=this.bufferLength,Ae=t[0];if(Ae<128){if(Se=this.ensureBuffer(_e+Ae+1),Se[_e++]=t[1],Ae>0){var Ce=this.stream.getBytes(Ae);Se.set(Ce,_e),_e+=Ae}}else{Ae=257-Ae;var Pe=t[1];Se=this.ensureBuffer(_e+Ae+1);for(var Ee=0;Ee<Ae;Ee++)Se[_e++]=Pe}this.bufferLength=_e},e}(DecodeStream),decodeStream=function(xe,e,t){if(e===PDFName.of("FlateDecode"))return new FlateStream(xe);if(e===PDFName.of("LZWDecode")){var Se=1;if(t instanceof PDFDict){var _e=t.lookup(PDFName.of("EarlyChange"));_e instanceof PDFNumber&&(Se=_e.asNumber())}return new LZWStream(xe,void 0,Se)}if(e===PDFName.of("ASCII85Decode"))return new Ascii85Stream(xe);if(e===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(xe);if(e===PDFName.of("RunLengthDecode"))return new RunLengthStream(xe);throw new UnsupportedEncodingError(e.asString())},decodePDFRawStream=function(xe){var e=xe.dict,t=xe.contents,Se=new Stream(t),_e=e.lookup(PDFName.of("Filter")),Ae=e.lookup(PDFName.of("DecodeParms"));if(_e instanceof PDFName)Se=decodeStream(Se,_e,Ae);else if(_e instanceof PDFArray)for(var Ce=0,Pe=_e.size();Ce<Pe;Ce++)Se=decodeStream(Se,_e.lookup(Ce,PDFName),Ae&&Ae.lookupMaybe(Ce,PDFDict));else if(_e)throw new UnexpectedObjectTypeError([PDFName,PDFArray],_e);return Se},fullPageBoundingBox=function(xe){var e=xe.MediaBox(),t=e.lookup(2,PDFNumber).asNumber()-e.lookup(0,PDFNumber).asNumber(),Se=e.lookup(3,PDFNumber).asNumber()-e.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:t,top:Se}},boundingBoxAdjustedMatrix=function(xe){return[1,0,0,1,-xe.left,-xe.bottom]},PDFPageEmbedder=function(){function xe(e,t,Se){this.page=e;var _e=t??fullPageBoundingBox(e);this.width=_e.right-_e.left,this.height=_e.top-_e.bottom,this.boundingBox=_e,this.transformationMatrix=Se??boundingBoxAdjustedMatrix(_e)}return xe.for=function(e,t,Se){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(_e){return[2,new xe(e,t,Se)]})})},xe.prototype.embedIntoContext=function(e,t){return __awaiter$1(this,void 0,void 0,function(){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe;return __generator(this,function(Re){if(Se=this.page.normalizedEntries(),_e=Se.Contents,Ae=Se.Resources,!_e)throw new MissingPageContentsEmbeddingError;return Ce=this.decodeContents(_e),Pe=this.boundingBox,Ee=Pe.left,Fe=Pe.bottom,ke=Pe.right,Ie=Pe.top,Oe=e.flateStream(Ce,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[Ee,Fe,ke,Ie],Matrix:this.transformationMatrix,Resources:Ae}),t?(e.assign(t,Oe),[2,t]):[2,e.register(Oe)]})})},xe.prototype.decodeContents=function(e){for(var t=Uint8Array.of(CharCodes$1.Newline),Se=[],_e=0,Ae=e.size();_e<Ae;_e++){var Ce=e.lookup(_e,PDFStream),Pe=void 0;if(Ce instanceof PDFRawStream)Pe=decodePDFRawStream(Ce).decode();else if(Ce instanceof PDFContentStream)Pe=Ce.getUnencodedContents();else throw new UnrecognizedStreamTypeError(Ce);Se.push(Pe,t)}return mergeIntoTypedArray.apply(void 0,Se)},xe}(),asEnum=function(xe,e){if(xe!==void 0)return e[xe]},NonFullScreenPageMode;(function(xe){xe.UseNone="UseNone",xe.UseOutlines="UseOutlines",xe.UseThumbs="UseThumbs",xe.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(xe){xe.L2R="L2R",xe.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(xe){xe.None="None",xe.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(xe){xe.Simplex="Simplex",xe.DuplexFlipShortEdge="DuplexFlipShortEdge",xe.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function xe(e){this.dict=e}return xe.prototype.lookupBool=function(e){var t=this.dict.lookup(PDFName.of(e));if(t instanceof PDFBool)return t},xe.prototype.lookupName=function(e){var t=this.dict.lookup(PDFName.of(e));if(t instanceof PDFName)return t},xe.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},xe.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},xe.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},xe.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},xe.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},xe.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},xe.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},xe.prototype.Direction=function(){return this.lookupName("Direction")},xe.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},xe.prototype.Duplex=function(){return this.lookupName("Duplex")},xe.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},xe.prototype.PrintPageRange=function(){var e=this.dict.lookup(PDFName.of("PrintPageRange"));if(e instanceof PDFArray)return e},xe.prototype.NumCopies=function(){var e=this.dict.lookup(PDFName.of("NumCopies"));if(e instanceof PDFNumber)return e},xe.prototype.getHideToolbar=function(){var e,t;return(t=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},xe.prototype.getHideMenubar=function(){var e,t;return(t=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},xe.prototype.getHideWindowUI=function(){var e,t;return(t=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},xe.prototype.getFitWindow=function(){var e,t;return(t=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},xe.prototype.getCenterWindow=function(){var e,t;return(t=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},xe.prototype.getDisplayDocTitle=function(){var e,t;return(t=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},xe.prototype.getNonFullScreenPageMode=function(){var e,t,Se=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(t=asEnum(Se,NonFullScreenPageMode))!==null&&t!==void 0?t:NonFullScreenPageMode.UseNone},xe.prototype.getReadingDirection=function(){var e,t,Se=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(t=asEnum(Se,ReadingDirection))!==null&&t!==void 0?t:ReadingDirection.L2R},xe.prototype.getPrintScaling=function(){var e,t,Se=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(t=asEnum(Se,PrintScaling))!==null&&t!==void 0?t:PrintScaling.AppDefault},xe.prototype.getDuplex=function(){var e,t=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return asEnum(t,Duplex)},xe.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},xe.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],Se=0;Se<e.size();Se+=2){var _e=e.lookup(Se,PDFNumber).asNumber(),Ae=e.lookup(Se+1,PDFNumber).asNumber();t.push({start:_e,end:Ae})}return t},xe.prototype.getNumCopies=function(){var e,t;return(t=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},xe.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("HideToolbar"),t)},xe.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("HideMenubar"),t)},xe.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("HideWindowUI"),t)},xe.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("FitWindow"),t)},xe.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("CenterWindow"),t)},xe.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("DisplayDocTitle"),t)},xe.prototype.setNonFullScreenPageMode=function(e){assertIsOneOf(e,"nonFullScreenPageMode",NonFullScreenPageMode);var t=PDFName.of(e);this.dict.set(PDFName.of("NonFullScreenPageMode"),t)},xe.prototype.setReadingDirection=function(e){assertIsOneOf(e,"readingDirection",ReadingDirection);var t=PDFName.of(e);this.dict.set(PDFName.of("Direction"),t)},xe.prototype.setPrintScaling=function(e){assertIsOneOf(e,"printScaling",PrintScaling);var t=PDFName.of(e);this.dict.set(PDFName.of("PrintScaling"),t)},xe.prototype.setDuplex=function(e){assertIsOneOf(e,"duplex",Duplex);var t=PDFName.of(e);this.dict.set(PDFName.of("Duplex"),t)},xe.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("PickTrayByPDFSize"),t)},xe.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],Se=0,_e=e.length;Se<_e;Se++)t.push(e[Se].start),t.push(e[Se].end);assertEachIs(t,"printPageRange",["number"]);var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("PrintPageRange"),Ae)},xe.prototype.setNumCopies=function(e){assertRange(e,"numCopies",1,Number.MAX_VALUE),assertInteger(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(PDFName.of("NumCopies"),t)},xe.fromDict=function(e){return new xe(e)},xe.create=function(e){var t=e.obj({});return new xe(t)},xe}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function xe(e,t){this.dict=e,this.ref=t}return xe.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},xe.prototype.Ff=function(){var e=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(e,PDFNumber)},xe.prototype.V=function(){var e=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(e)},xe.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},xe.prototype.DA=function(){var e=this.dict.lookup(PDFName.of("DA"));if(e instanceof PDFString||e instanceof PDFHexString)return e},xe.prototype.setKids=function(e){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(e))},xe.prototype.getParent=function(){var e=this.dict.get(PDFName.of("Parent"));if(e instanceof PDFRef){var t=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new xe(t,e)}},xe.prototype.setParent=function(e){e?this.dict.set(PDFName.of("Parent"),e):this.dict.delete(PDFName.of("Parent"))},xe.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},xe.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},xe.prototype.setPartialName=function(e){e?this.dict.set(PDFName.of("T"),PDFHexString.fromText(e)):this.dict.delete(PDFName.of("T"))},xe.prototype.setDefaultAppearance=function(e){this.dict.set(PDFName.of("DA"),PDFString.of(e))},xe.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof PDFHexString?e.decodeText():e==null?void 0:e.asString()},xe.prototype.setFontSize=function(e){var t,Se=(t=this.getFullyQualifiedName())!==null&&t!==void 0?t:"",_e=this.getDefaultAppearance();if(!_e)throw new MissingDAEntryError(Se);var Ae=findLastMatch(_e,tfRegex$1);if(!Ae.match)throw new MissingTfOperatorError(Se);var Ce=_e.slice(0,Ae.pos-Ae.match[0].length),Pe=Ae.pos<=_e.length?_e.slice(Ae.pos):"",Ee=Ae.match[1],Fe=Ce+" /"+Ee+" "+e+" Tf "+Pe;this.setDefaultAppearance(Fe)},xe.prototype.getFlags=function(){var e,t;return(t=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},xe.prototype.setFlags=function(e){this.dict.set(PDFName.of("Ff"),PDFNumber.of(e))},xe.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},xe.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},xe.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},xe.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},xe.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(Se){t||(t=Se.dict.get(e))}),t},xe.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},xe}(),BorderStyle=function(){function xe(e){this.dict=e}return xe.prototype.W=function(){var e=this.dict.lookup(PDFName.of("W"));if(e instanceof PDFNumber)return e},xe.prototype.getWidth=function(){var e,t;return(t=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},xe.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("W"),t)},xe.fromDict=function(e){return new xe(e)},xe}(),PDFAnnotation=function(){function xe(e){this.dict=e}return xe.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},xe.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},xe.prototype.F=function(){var e=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(e,PDFNumber)},xe.prototype.getRectangle=function(){var e,t=this.Rect();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},xe.prototype.setRectangle=function(e){var t=e.x,Se=e.y,_e=e.width,Ae=e.height,Ce=this.dict.context.obj([t,Se,t+_e,Se+Ae]);this.dict.set(PDFName.of("Rect"),Ce)},xe.prototype.getAppearanceState=function(){var e=this.dict.lookup(PDFName.of("AS"));if(e instanceof PDFName)return e},xe.prototype.setAppearanceState=function(e){this.dict.set(PDFName.of("AS"),e)},xe.prototype.setAppearances=function(e){this.dict.set(PDFName.of("AP"),e)},xe.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),e)),e},xe.prototype.getNormalAppearance=function(){var e=this.ensureAP(),t=e.get(PDFName.of("N"));if(t instanceof PDFRef||t instanceof PDFDict)return t;throw new Error("Unexpected N type: "+(t==null?void 0:t.constructor.name))},xe.prototype.setNormalAppearance=function(e){var t=this.ensureAP();t.set(PDFName.of("N"),e)},xe.prototype.setRolloverAppearance=function(e){var t=this.ensureAP();t.set(PDFName.of("R"),e)},xe.prototype.setDownAppearance=function(e){var t=this.ensureAP();t.set(PDFName.of("D"),e)},xe.prototype.removeRolloverAppearance=function(){var e=this.AP();e==null||e.delete(PDFName.of("R"))},xe.prototype.removeDownAppearance=function(){var e=this.AP();e==null||e.delete(PDFName.of("D"))},xe.prototype.getAppearances=function(){var e=this.AP();if(e){var t=e.lookup(PDFName.of("N"),PDFDict,PDFStream),Se=e.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),_e=e.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:t,rollover:Se,down:_e}}},xe.prototype.getFlags=function(){var e,t;return(t=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},xe.prototype.setFlags=function(e){this.dict.set(PDFName.of("F"),PDFNumber.of(e))},xe.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},xe.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},xe.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},xe.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},xe.fromDict=function(e){return new xe(e)},xe}(),AppearanceCharacteristics=function(){function xe(e){this.dict=e}return xe.prototype.R=function(){var e=this.dict.lookup(PDFName.of("R"));if(e instanceof PDFNumber)return e},xe.prototype.BC=function(){var e=this.dict.lookup(PDFName.of("BC"));if(e instanceof PDFArray)return e},xe.prototype.BG=function(){var e=this.dict.lookup(PDFName.of("BG"));if(e instanceof PDFArray)return e},xe.prototype.CA=function(){var e=this.dict.lookup(PDFName.of("CA"));if(e instanceof PDFHexString||e instanceof PDFString)return e},xe.prototype.RC=function(){var e=this.dict.lookup(PDFName.of("RC"));if(e instanceof PDFHexString||e instanceof PDFString)return e},xe.prototype.AC=function(){var e=this.dict.lookup(PDFName.of("AC"));if(e instanceof PDFHexString||e instanceof PDFString)return e},xe.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},xe.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],Se=0,_e=e==null?void 0:e.size();Se<_e;Se++){var Ae=e.get(Se);Ae instanceof PDFNumber&&t.push(Ae.asNumber())}return t}},xe.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],Se=0,_e=e==null?void 0:e.size();Se<_e;Se++){var Ae=e.get(Se);Ae instanceof PDFNumber&&t.push(Ae.asNumber())}return t}},xe.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),Se=this.AC();return{normal:e==null?void 0:e.decodeText(),rollover:t==null?void 0:t.decodeText(),down:Se==null?void 0:Se.decodeText()}},xe.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("R"),t)},xe.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("BC"),t)},xe.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(PDFName.of("BG"),t)},xe.prototype.setCaptions=function(e){var t=PDFHexString.fromText(e.normal);if(this.dict.set(PDFName.of("CA"),t),e.rollover){var Se=PDFHexString.fromText(e.rollover);this.dict.set(PDFName.of("RC"),Se)}else this.dict.delete(PDFName.of("RC"));if(e.down){var _e=PDFHexString.fromText(e.down);this.dict.set(PDFName.of("AC"),_e)}else this.dict.delete(PDFName.of("AC"))},xe.fromDict=function(e){return new xe(e)},xe}(),PDFWidgetAnnotation=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.MK=function(){var t=this.dict.lookup(PDFName.of("MK"));if(t instanceof PDFDict)return t},e.prototype.BS=function(){var t=this.dict.lookup(PDFName.of("BS"));if(t instanceof PDFDict)return t},e.prototype.DA=function(){var t=this.dict.lookup(PDFName.of("DA"));if(t instanceof PDFString||t instanceof PDFHexString)return t},e.prototype.P=function(){var t=this.dict.get(PDFName.of("P"));if(t instanceof PDFRef)return t},e.prototype.setP=function(t){this.dict.set(PDFName.of("P"),t)},e.prototype.setDefaultAppearance=function(t){this.dict.set(PDFName.of("DA"),PDFString.of(t))},e.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof PDFHexString?t.decodeText():t==null?void 0:t.asString()},e.prototype.getAppearanceCharacteristics=function(){var t=this.MK();if(t)return AppearanceCharacteristics.fromDict(t)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var t=this.MK();if(t)return AppearanceCharacteristics.fromDict(t);var Se=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),Se.dict),Se},e.prototype.getBorderStyle=function(){var t=this.BS();if(t)return BorderStyle.fromDict(t)},e.prototype.getOrCreateBorderStyle=function(){var t=this.BS();if(t)return BorderStyle.fromDict(t);var Se=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),Se.dict),Se},e.prototype.getOnValue=function(){var t,Se=(t=this.getAppearances())===null||t===void 0?void 0:t.normal;if(Se instanceof PDFDict)for(var _e=Se.keys(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae];if(Pe!==PDFName.of("Off"))return Pe}},e.fromDict=function(t){return new e(t)},e.create=function(t,Se){var _e=t.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:Se});return new e(_e)},e}(PDFAnnotation),PDFAcroTerminal=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.FT=function(){var t=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(t,PDFName)},e.prototype.getWidgets=function(){var t=this.Kids();if(!t)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var Se=new Array(t.size()),_e=0,Ae=t.size();_e<Ae;_e++){var Ce=t.lookup(_e,PDFDict);Se[_e]=PDFWidgetAnnotation.fromDict(Ce)}return Se},e.prototype.addWidget=function(t){var Se=this.normalizedEntries().Kids;Se.push(t)},e.prototype.removeWidget=function(t){var Se=this.Kids();if(Se){if(t<0||t>Se.size())throw new IndexOutOfBoundsError(t,0,Se.size());Se.remove(t)}else{if(t!==0)throw new IndexOutOfBoundsError(t,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,Se){return new e(t,Se)},e}(PDFAcroField),PDFAcroButton=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},e.prototype.setOpt=function(t){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(t))},e.prototype.getExportValues=function(){var t=this.Opt();if(t){if(t instanceof PDFString||t instanceof PDFHexString)return[t];for(var Se=[],_e=0,Ae=t.size();_e<Ae;_e++){var Ce=t.lookup(_e);(Ce instanceof PDFString||Ce instanceof PDFHexString)&&Se.push(Ce)}return Se}},e.prototype.removeExportValue=function(t){var Se=this.Opt();if(Se)if(Se instanceof PDFString||Se instanceof PDFHexString){if(t!==0)throw new IndexOutOfBoundsError(t,0,0);this.setOpt([])}else{if(t<0||t>Se.size())throw new IndexOutOfBoundsError(t,0,Se.size());Se.remove(t)}},e.prototype.normalizeExportValues=function(){for(var t,Se,_e,Ae,Ce=(t=this.getExportValues())!==null&&t!==void 0?t:[],Pe=[],Ee=this.getWidgets(),Fe=0,ke=Ee.length;Fe<ke;Fe++){var Ie=Ee[Fe],Oe=(Se=Ce[Fe])!==null&&Se!==void 0?Se:PDFHexString.fromText((Ae=(_e=Ie.getOnValue())===null||_e===void 0?void 0:_e.decodeText())!==null&&Ae!==void 0?Ae:"");Pe.push(Oe)}this.setOpt(Pe)},e.prototype.addOpt=function(t,Se){var _e;this.normalizeExportValues();var Ae=t.decodeText(),Ce;if(Se)for(var Pe=(_e=this.getExportValues())!==null&&_e!==void 0?_e:[],Ee=0,Fe=Pe.length;Ee<Fe;Ee++){var ke=Pe[Ee];ke.decodeText()===Ae&&(Ce=Ee)}var Ie=this.Opt();return Ie.push(t),Ce??Ie.size()-1},e.prototype.addWidgetWithOpt=function(t,Se,_e){var Ae=this.addOpt(Se,_e),Ce=PDFName.of(String(Ae));return this.addWidget(t),Ce},e}(PDFAcroTerminal),PDFAcroCheckBox=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.setValue=function(t){var Se,_e=(Se=this.getOnValue())!==null&&Se!==void 0?Se:PDFName.of("Yes");if(t!==_e&&t!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),t);for(var Ae=this.getWidgets(),Ce=0,Pe=Ae.length;Ce<Pe;Ce++){var Ee=Ae[Ce],Fe=Ee.getOnValue()===t?t:PDFName.of("Off");Ee.setAppearanceState(Fe)}},e.prototype.getValue=function(){var t=this.V();return t instanceof PDFName?t:PDFName.of("Off")},e.prototype.getOnValue=function(){var t=this.getWidgets()[0];return t==null?void 0:t.getOnValue()},e.fromDict=function(t,Se){return new e(t,Se)},e.create=function(t){var Se=t.obj({FT:"Btn",Kids:[]}),_e=t.register(Se);return new e(Se,_e)},e}(PDFAcroButton),flag$1=function(xe){return 1<<xe},AcroFieldFlags;(function(xe){xe[xe.ReadOnly=flag$1(0)]="ReadOnly",xe[xe.Required=flag$1(1)]="Required",xe[xe.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(xe){xe[xe.NoToggleToOff=flag$1(14)]="NoToggleToOff",xe[xe.Radio=flag$1(15)]="Radio",xe[xe.PushButton=flag$1(16)]="PushButton",xe[xe.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(xe){xe[xe.Multiline=flag$1(12)]="Multiline",xe[xe.Password=flag$1(13)]="Password",xe[xe.FileSelect=flag$1(20)]="FileSelect",xe[xe.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",xe[xe.DoNotScroll=flag$1(23)]="DoNotScroll",xe[xe.Comb=flag$1(24)]="Comb",xe[xe.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(xe){xe[xe.Combo=flag$1(17)]="Combo",xe[xe.Edit=flag$1(18)]="Edit",xe[xe.Sort=flag$1(19)]="Sort",xe[xe.MultiSelect=flag$1(21)]="MultiSelect",xe[xe.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",xe[xe.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.setValues=function(t){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(t))throw new InvalidAcroFieldValueError;if(t.length===0&&this.dict.delete(PDFName.of("V")),t.length===1&&this.dict.set(PDFName.of("V"),t[0]),t.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(t))}this.updateSelectedIndices(t)},e.prototype.valuesAreValid=function(t){for(var Se=this.getOptions(),_e=function(Ee,Fe){var ke=t[Ee].decodeText();if(!Se.find(function(Ie){return ke===(Ie.display||Ie.value).decodeText()}))return{value:!1}},Ae=0,Ce=t.length;Ae<Ce;Ae++){var Pe=_e(Ae);if(typeof Pe=="object")return Pe.value}return!0},e.prototype.updateSelectedIndices=function(t){if(t.length>1){for(var Se=new Array(t.length),_e=this.getOptions(),Ae=function(Ee,Fe){var ke=t[Ee].decodeText();Se[Ee]=_e.findIndex(function(Ie){return ke===(Ie.display||Ie.value).decodeText()})},Ce=0,Pe=t.length;Ce<Pe;Ce++)Ae(Ce,Pe);this.dict.set(PDFName.of("I"),this.dict.context.obj(Se.sort()))}else this.dict.delete(PDFName.of("I"))},e.prototype.getValues=function(){var t=this.V();if(t instanceof PDFString||t instanceof PDFHexString)return[t];if(t instanceof PDFArray){for(var Se=[],_e=0,Ae=t.size();_e<Ae;_e++){var Ce=t.lookup(_e);(Ce instanceof PDFString||Ce instanceof PDFHexString)&&Se.push(Ce)}return Se}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},e.prototype.setOptions=function(t){for(var Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++){var Ce=t[_e],Pe=Ce.value,Ee=Ce.display;Se[_e]=this.dict.context.obj([Pe,Ee||Pe])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(Se))},e.prototype.getOptions=function(){var t=this.Opt();if(t instanceof PDFString||t instanceof PDFHexString)return[{value:t,display:t}];if(t instanceof PDFArray){for(var Se=[],_e=0,Ae=t.size();_e<Ae;_e++){var Ce=t.lookup(_e);if((Ce instanceof PDFString||Ce instanceof PDFHexString)&&Se.push({value:Ce,display:Ce}),Ce instanceof PDFArray&&Ce.size()>0){var Pe=Ce.lookup(0,PDFString,PDFHexString),Ee=Ce.lookupMaybe(1,PDFString,PDFHexString);Se.push({value:Pe,display:Ee||Pe})}}return Se}return[]},e}(PDFAcroTerminal),PDFAcroComboBox=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.fromDict=function(t,Se){return new e(t,Se)},e.create=function(t){var Se=t.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),_e=t.register(Se);return new e(Se,_e)},e}(PDFAcroChoice),PDFAcroNonTerminal=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.addField=function(t){var Se=this.normalizedEntries().Kids;Se==null||Se.push(t)},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,Se){return new e(t,Se)},e.create=function(t){var Se=t.obj({}),_e=t.register(Se);return new e(Se,_e)},e}(PDFAcroField),PDFAcroSignature=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.fromDict=function(t,Se){return new e(t,Se)},e}(PDFAcroTerminal),PDFAcroText=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var t=this.dict.lookup(PDFName.of("MaxLen"));if(t instanceof PDFNumber)return t},e.prototype.Q=function(){var t=this.dict.lookup(PDFName.of("Q"));if(t instanceof PDFNumber)return t},e.prototype.setMaxLength=function(t){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(t))},e.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},e.prototype.getMaxLength=function(){var t;return(t=this.MaxLen())===null||t===void 0?void 0:t.asNumber()},e.prototype.setQuadding=function(t){this.dict.set(PDFName.of("Q"),PDFNumber.of(t))},e.prototype.getQuadding=function(){var t;return(t=this.Q())===null||t===void 0?void 0:t.asNumber()},e.prototype.setValue=function(t){this.dict.set(PDFName.of("V"),t)},e.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},e.prototype.getValue=function(){var t=this.V();if(t instanceof PDFString||t instanceof PDFHexString)return t},e.fromDict=function(t,Se){return new e(t,Se)},e.create=function(t){var Se=t.obj({FT:"Tx",Kids:[]}),_e=t.register(Se);return new e(Se,_e)},e}(PDFAcroTerminal),PDFAcroPushButton=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.fromDict=function(t,Se){return new e(t,Se)},e.create=function(t){var Se=t.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),_e=t.register(Se);return new e(Se,_e)},e}(PDFAcroButton),PDFAcroRadioButton=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.setValue=function(t){var Se=this.getOnValues();if(!Se.includes(t)&&t!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),t);for(var _e=this.getWidgets(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae],Ee=Pe.getOnValue()===t?t:PDFName.of("Off");Pe.setAppearanceState(Ee)}},e.prototype.getValue=function(){var t=this.V();return t instanceof PDFName?t:PDFName.of("Off")},e.prototype.getOnValues=function(){for(var t=this.getWidgets(),Se=[],_e=0,Ae=t.length;_e<Ae;_e++){var Ce=t[_e].getOnValue();Ce&&Se.push(Ce)}return Se},e.fromDict=function(t,Se){return new e(t,Se)},e.create=function(t){var Se=t.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),_e=t.register(Se);return new e(Se,_e)},e}(PDFAcroButton),PDFAcroListBox=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.fromDict=function(t,Se){return new e(t,Se)},e.create=function(t){var Se=t.obj({FT:"Ch",Kids:[]}),_e=t.register(Se);return new e(Se,_e)},e}(PDFAcroChoice),createPDFAcroFields=function(xe){if(!xe)return[];for(var e=[],t=0,Se=xe.size();t<Se;t++){var _e=xe.get(t),Ae=xe.lookup(t);_e instanceof PDFRef&&Ae instanceof PDFDict&&e.push([createPDFAcroField(Ae,_e),_e])}return e},createPDFAcroField=function(xe,e){var t=isNonTerminalAcroField(xe);return t?PDFAcroNonTerminal.fromDict(xe,e):createPDFAcroTerminal(xe,e)},isNonTerminalAcroField=function(xe){var e=xe.lookup(PDFName.of("Kids"));if(e instanceof PDFArray)for(var t=0,Se=e.size();t<Se;t++){var _e=e.lookup(t),Ae=_e instanceof PDFDict&&_e.has(PDFName.of("T"));if(Ae)return!0}return!1},createPDFAcroTerminal=function(xe,e){var t=getInheritableAttribute(xe,PDFName.of("FT")),Se=xe.context.lookup(t,PDFName);return Se===PDFName.of("Btn")?createPDFAcroButton(xe,e):Se===PDFName.of("Ch")?createPDFAcroChoice(xe,e):Se===PDFName.of("Tx")?PDFAcroText.fromDict(xe,e):Se===PDFName.of("Sig")?PDFAcroSignature.fromDict(xe,e):PDFAcroTerminal.fromDict(xe,e)},createPDFAcroButton=function(xe,e){var t,Se=getInheritableAttribute(xe,PDFName.of("Ff")),_e=xe.context.lookupMaybe(Se,PDFNumber),Ae=(t=_e==null?void 0:_e.asNumber())!==null&&t!==void 0?t:0;return flagIsSet(Ae,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(xe,e):flagIsSet(Ae,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(xe,e):PDFAcroCheckBox.fromDict(xe,e)},createPDFAcroChoice=function(xe,e){var t,Se=getInheritableAttribute(xe,PDFName.of("Ff")),_e=xe.context.lookupMaybe(Se,PDFNumber),Ae=(t=_e==null?void 0:_e.asNumber())!==null&&t!==void 0?t:0;return flagIsSet(Ae,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(xe,e):PDFAcroListBox.fromDict(xe,e)},flagIsSet=function(xe,e){return(xe&e)!==0},getInheritableAttribute=function(xe,e){var t;return ascend(xe,function(Se){t||(t=Se.get(e))}),t},ascend=function(xe,e){e(xe);var t=xe.lookupMaybe(PDFName.of("Parent"),PDFDict);t&&ascend(t,e)},PDFAcroForm=function(){function xe(e){this.dict=e}return xe.prototype.Fields=function(){var e=this.dict.lookup(PDFName.of("Fields"));if(e instanceof PDFArray)return e},xe.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=new Array(e.size()),Se=0,_e=e.size();Se<_e;Se++){var Ae=e.get(Se),Ce=e.lookup(Se,PDFDict);t[Se]=[createPDFAcroField(Ce,Ae),Ae]}return t},xe.prototype.getAllFields=function(){var e=[],t=function(Se){if(Se)for(var _e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e];e.push(Ce);var Pe=Ce[0];Pe instanceof PDFAcroNonTerminal&&t(createPDFAcroFields(Pe.Kids()))}};return t(this.getFields()),e},xe.prototype.addField=function(e){var t=this.normalizedEntries().Fields;t==null||t.push(e)},xe.prototype.removeField=function(e){var t=e.getParent(),Se=t===void 0?this.normalizedEntries().Fields:t.Kids(),_e=Se==null?void 0:Se.indexOf(e.ref);if(Se===void 0||_e===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());Se.remove(_e),t!==void 0&&Se.size()===0&&this.removeField(t)},xe.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),e)),{Fields:e}},xe.fromDict=function(e){return new xe(e)},xe.create=function(e){var t=e.obj({Fields:[]});return new xe(t)},xe}(),PDFCatalog=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},e.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},e.prototype.getAcroForm=function(){var t=this.AcroForm();if(t)return PDFAcroForm.fromDict(t)},e.prototype.getOrCreateAcroForm=function(){var t=this.getAcroForm();if(!t){t=PDFAcroForm.create(this.context);var Se=this.context.register(t.dict);this.set(PDFName.of("AcroForm"),Se)}return t},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},e.prototype.getViewerPreferences=function(){var t=this.ViewerPreferences();if(t)return ViewerPreferences.fromDict(t)},e.prototype.getOrCreateViewerPreferences=function(){var t=this.getViewerPreferences();if(!t){t=ViewerPreferences.create(this.context);var Se=this.context.register(t.dict);this.set(PDFName.of("ViewerPreferences"),Se)}return t},e.prototype.insertLeafNode=function(t,Se){var _e=this.get(PDFName.of("Pages")),Ae=this.Pages().insertLeafNode(t,Se);return Ae||_e},e.prototype.removeLeafNode=function(t){this.Pages().removeLeafNode(t)},e.withContextAndPages=function(t,Se){var _e=new Map;return _e.set(PDFName.of("Type"),PDFName.of("Catalog")),_e.set(PDFName.of("Pages"),Se),new e(_e,t)},e.fromMapWithContext=function(t,Se){return new e(t,Se)},e}(PDFDict),PDFPageTree=function(xe){__extends(e,xe);function e(){return xe!==null&&xe.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},e.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},e.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},e.prototype.pushTreeNode=function(t){var Se=this.Kids();Se.push(t)},e.prototype.pushLeafNode=function(t){var Se=this.Kids();this.insertLeafKid(Se.size(),t)},e.prototype.insertLeafNode=function(t,Se){var _e=this.Kids(),Ae=this.Count().asNumber();if(Se>Ae)throw new InvalidTargetIndexError(Se,Ae);for(var Ce=Se,Pe=0,Ee=_e.size();Pe<Ee;Pe++){if(Ce===0){this.insertLeafKid(Pe,t);return}var Fe=_e.get(Pe),ke=this.context.lookup(Fe);if(ke instanceof e){if(ke.Count().asNumber()>Ce)return ke.insertLeafNode(t,Ce)||Fe;Ce-=ke.Count().asNumber()}ke instanceof PDFPageLeaf&&(Ce-=1)}if(Ce===0){this.insertLeafKid(_e.size(),t);return}throw new CorruptPageTreeError(Se,"insertLeafNode")},e.prototype.removeLeafNode=function(t,Se){Se===void 0&&(Se=!0);var _e=this.Kids(),Ae=this.Count().asNumber();if(t>=Ae)throw new InvalidTargetIndexError(t,Ae);for(var Ce=t,Pe=0,Ee=_e.size();Pe<Ee;Pe++){var Fe=_e.get(Pe),ke=this.context.lookup(Fe);if(ke instanceof e)if(ke.Count().asNumber()>Ce){ke.removeLeafNode(Ce,Se),Se&&ke.Kids().size()===0&&_e.remove(Pe);return}else Ce-=ke.Count().asNumber();if(ke instanceof PDFPageLeaf)if(Ce===0){this.removeKid(Pe);return}else Ce-=1}throw new CorruptPageTreeError(t,"removeLeafNode")},e.prototype.ascend=function(t){t(this);var Se=this.Parent();Se&&Se.ascend(t)},e.prototype.traverse=function(t){for(var Se=this.Kids(),_e=0,Ae=Se.size();_e<Ae;_e++){var Ce=Se.get(_e),Pe=this.context.lookup(Ce);Pe instanceof e&&Pe.traverse(t),t(Pe,Ce)}},e.prototype.insertLeafKid=function(t,Se){var _e=this.Kids();this.ascend(function(Ae){var Ce=Ae.Count().asNumber()+1;Ae.set(PDFName.of("Count"),PDFNumber.of(Ce))}),_e.insert(t,Se)},e.prototype.removeKid=function(t){var Se=this.Kids(),_e=Se.lookup(t);_e instanceof PDFPageLeaf&&this.ascend(function(Ae){var Ce=Ae.Count().asNumber()-1;Ae.set(PDFName.of("Count"),PDFNumber.of(Ce))}),Se.remove(t)},e.withContext=function(t,Se){var _e=new Map;return _e.set(PDFName.of("Type"),PDFName.of("Pages")),_e.set(PDFName.of("Kids"),t.obj([])),_e.set(PDFName.of("Count"),t.obj(0)),Se&&_e.set(PDFName.of("Parent"),Se),new e(_e,t)},e.fromMapWithContext=function(t,Se){return new e(t,Se)},e}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function xe(e,t){t===void 0&&(t=!1),this.bytes=e,this.capNumbers=t}return xe.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!IsDigit[t])break;e+=charFromCode(this.bytes.next())}var Se=Number(e);if(!e||!isFinite(Se))throw new NumberParsingError(this.bytes.position(),e);return Se},xe.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!IsNumeric[t]||(e+=charFromCode(this.bytes.next()),t===CharCodes$1.Period))break}for(;!this.bytes.done();){var t=this.bytes.peek();if(!IsDigit[t])break;e+=charFromCode(this.bytes.next())}var Se=Number(e);if(!e||!isFinite(Se))throw new NumberParsingError(this.bytes.position(),e);if(Se>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var _e="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(_e),Number.MAX_SAFE_INTEGER}else{var _e="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(_e)}return Se},xe.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},xe.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Newline$1||e===CarriageReturn$1)return;this.bytes.next()}},xe.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Newline$1||e===CarriageReturn$1)return!0;this.bytes.next()}return!0},xe.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},xe.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),Se=0,_e=e.length;Se<_e;Se++)if(this.bytes.done()||this.bytes.next()!==e[Se])return this.bytes.moveTo(t),!1;return!0},xe}(),ByteStream=function(){function xe(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return xe.prototype.moveTo=function(e){this.idx=e},xe.prototype.next=function(){var e=this.bytes[this.idx++];return e===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,e},xe.prototype.assertNext=function(e){if(this.peek()!==e)throw new NextByteAssertionError(this.position(),e,this.peek());return this.next()},xe.prototype.peek=function(){return this.bytes[this.idx]},xe.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},xe.prototype.peekAt=function(e){return this.bytes[e]},xe.prototype.done=function(){return this.idx>=this.length},xe.prototype.offset=function(){return this.idx},xe.prototype.slice=function(e,t){return this.bytes.slice(e,t)},xe.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},xe.of=function(e){return new xe(e)},xe.fromPDFRawStream=function(e){return xe.of(decodePDFRawStream(e).decode())},xe}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(xe){__extends(e,xe);function e(t,Se,_e){_e===void 0&&(_e=!1);var Ae=xe.call(this,t,_e)||this;return Ae.context=Se,Ae}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var t=this.bytes.peek();if(t===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(t===CharCodes$1.LessThan)return this.parseHexString();if(t===CharCodes$1.LeftParen)return this.parseString();if(t===CharCodes$1.ForwardSlash)return this.parseName();if(t===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[t])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),t)},e.prototype.parseNumberOrRef=function(){var t=this.parseRawNumber();this.skipWhitespaceAndComments();var Se=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var _e=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(t,_e)}return this.bytes.moveTo(Se),PDFNumber.of(t)},e.prototype.parseHexString=function(){var t="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)t+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(t)},e.prototype.parseString=function(){for(var t=0,Se=!1,_e="";!this.bytes.done();){var Ae=this.bytes.next();if(_e+=charFromCode(Ae),Se||(Ae===CharCodes$1.LeftParen&&(t+=1),Ae===CharCodes$1.RightParen&&(t-=1)),Ae===CharCodes$1.BackSlash?Se=!Se:Se&&(Se=!1),t===0)return PDFString.of(_e.substring(1,_e.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var t="";!this.bytes.done();){var Se=this.bytes.peek();if(IsWhitespace[Se]||IsDelimiter[Se])break;t+=charFromCode(Se),this.bytes.next()}return PDFName.of(t)},e.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var t=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var Se=this.parseObject();t.push(Se),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),t},e.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var t=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var Se=this.parseName(),_e=this.parseObject();t.set(Se,_e),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var Ae=t.get(PDFName.of("Type"));return Ae===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(t,this.context):Ae===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(t,this.context):Ae===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(t,this.context):PDFDict.fromMapWithContext(t,this.context)},e.prototype.parseDictOrStream=function(){var t=this.bytes.position(),Se=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return Se;var _e=this.bytes.offset(),Ae,Ce=Se.get(PDFName.of("Length"));Ce instanceof PDFNumber?(Ae=_e+Ce.asNumber(),this.bytes.moveTo(Ae),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(_e),Ae=this.findEndOfStreamFallback(t))):Ae=this.findEndOfStreamFallback(t);var Pe=this.bytes.slice(_e,Ae);return PDFRawStream.of(Se,Pe)},e.prototype.findEndOfStreamFallback=function(t){for(var Se=1,_e=this.bytes.offset();!this.bytes.done()&&(_e=this.bytes.offset(),this.matchKeyword(Keywords.stream)?Se+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?Se-=1:this.bytes.next(),Se!==0););if(Se!==0)throw new PDFStreamParsingError(t);return _e},e.forBytes=function(t,Se,_e){return new e(ByteStream.of(t),Se,_e)},e.forByteStream=function(t,Se,_e){return _e===void 0&&(_e=!1),new e(t,Se,_e)},e}(BaseParser),PDFObjectStreamParser=function(xe){__extends(e,xe);function e(t,Se){var _e=xe.call(this,ByteStream.fromPDFRawStream(t),t.dict.context)||this,Ae=t.dict;return _e.alreadyParsed=!1,_e.shouldWaitForTick=Se||function(){return!1},_e.firstOffset=Ae.lookup(PDFName.of("First"),PDFNumber).asNumber(),_e.objectCount=Ae.lookup(PDFName.of("N"),PDFNumber).asNumber(),_e}return e.prototype.parseIntoContext=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae,Ce,Pe,Ee,Fe;return __generator(this,function(ke){switch(ke.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,t=this.parseOffsetsAndObjectNumbers(),Se=0,_e=t.length,ke.label=1;case 1:return Se<_e?(Ae=t[Se],Ce=Ae.objectNumber,Pe=Ae.offset,this.bytes.moveTo(this.firstOffset+Pe),Ee=this.parseObject(),Fe=PDFRef.of(Ce,0),this.context.assign(Fe,Ee),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:ke.sent(),ke.label=3;case 3:return Se++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var t=[],Se=0,_e=this.objectCount;Se<_e;Se++){this.skipWhitespaceAndComments();var Ae=this.parseRawInt();this.skipWhitespaceAndComments();var Ce=this.parseRawInt();t.push({objectNumber:Ae,offset:Ce})}return t},e.forStream=function(t,Se){return new e(t,Se)},e}(PDFObjectParser),PDFXRefStreamParser=function(){function xe(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=ByteStream.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(PDFName.of("Size"),PDFNumber),Se=this.dict.lookup(PDFName.of("Index"));if(Se instanceof PDFArray){this.subsections=[];for(var _e=0,Ae=Se.size();_e<Ae;_e+=2){var Ce=Se.lookup(_e+0,PDFNumber).asNumber(),Pe=Se.lookup(_e+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:Ce,length:Pe})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var Ee=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var _e=0,Ae=Ee.size();_e<Ae;_e++)this.byteWidths[_e]=Ee.lookup(_e,PDFNumber).asNumber()}return xe.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var e=this.parseEntries();return e},xe.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,Se=t[0],_e=t[1],Ae=t[2],Ce=0,Pe=this.subsections.length;Ce<Pe;Ce++)for(var Ee=this.subsections[Ce],Fe=Ee.firstObjectNumber,ke=Ee.length,Ie=0;Ie<ke;Ie++){for(var Oe=0,Re=0,Be=Se;Re<Be;Re++)Oe=Oe<<8|this.bytes.next();for(var je=0,Re=0,Be=_e;Re<Be;Re++)je=je<<8|this.bytes.next();for(var He=0,Re=0,Be=Ae;Re<Be;Re++)He=He<<8|this.bytes.next();Se===0&&(Oe=1);var Ge=Fe+Ie,Ve={ref:PDFRef.of(Ge,He),offset:je,deleted:Oe===0,inObjectStream:Oe===2};e.push(Ve)}return e},xe.forStream=function(e){return new xe(e)},xe}(),PDFParser=function(xe){__extends(e,xe);function e(t,Se,_e,Ae){Se===void 0&&(Se=1/0),_e===void 0&&(_e=!1),Ae===void 0&&(Ae=!1);var Ce=xe.call(this,ByteStream.of(t),PDFContext.create(),Ae)||this;return Ce.alreadyParsed=!1,Ce.parsedObjects=0,Ce.shouldWaitForTick=function(){return Ce.parsedObjects+=1,Ce.parsedObjects%Ce.objectsPerTick===0},Ce.objectsPerTick=Se,Ce.throwOnInvalidObject=_e,Ce}return e.prototype.parseDocument=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Se;return __generator(this,function(_e){switch(_e.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),_e.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(_e.sent(),Se=this.bytes.offset(),Se===t)throw new StalledParserError(this.bytes.position());return t=Se,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var t=function(ke){return ke instanceof PDFDict&&ke.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},Se=this.context.lookup(this.context.trailerInfo.Root);if(!t(Se))for(var _e=this.context.enumerateIndirectObjects(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae],Ee=Pe[0],Fe=Pe[1];t(Fe)&&(this.context.trailerInfo.Root=Ee)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var t=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var Se=this.parseRawInt(),_e=PDFHeader.forVersion(t,Se);return this.skipBinaryHeaderComment(),_e}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var t=this.parseRawInt();this.skipWhitespaceAndComments();var Se=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(t,Se)},e.prototype.matchIndirectObjectHeader=function(){var t=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(t),!1}},e.prototype.parseIndirectObject=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Se;return __generator(this,function(_e){switch(_e.label){case 0:return t=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),Se=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),Se instanceof PDFRawStream&&Se.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(Se,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return _e.sent(),[3,3];case 2:Se instanceof PDFRawStream&&Se.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(Se).parseIntoContext():this.context.assign(t,Se),_e.label=3;case 3:return[2,t]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var t=this.bytes.position(),Se="Trying to parse invalid object: "+JSON.stringify(t)+")";if(this.throwOnInvalidObject)throw new Error(Se);console.warn(Se);var _e=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+_e),this.skipWhitespaceAndComments();for(var Ae=this.bytes.offset(),Ce=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(Ce=!1),!!Ce);)this.bytes.next();if(Ce)throw new PDFInvalidObjectParsingError(t);var Pe=this.bytes.offset()-Keywords.endobj.length,Ee=PDFInvalidObject.of(this.bytes.slice(Ae,Pe));return this.context.assign(_e,Ee),_e},e.prototype.parseIndirectObjects=function(){return __awaiter$1(this,void 0,void 0,function(){var t;return __generator(this,function(Se){switch(Se.label){case 0:this.skipWhitespaceAndComments(),Se.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];t=this.bytes.offset(),Se.label=2;case 2:return Se.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return Se.sent(),[3,5];case 4:return Se.sent(),this.bytes.moveTo(t),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:Se.sent(),Se.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var t=-1,Se=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var _e=this.parseRawInt();this.skipWhitespaceAndComments();var Ae=this.parseRawInt();this.skipWhitespaceAndComments();var Ce=this.bytes.peek();if(Ce===CharCodes$1.n||Ce===CharCodes$1.f){var Pe=PDFRef.of(t,Ae);this.bytes.next()===CharCodes$1.n?Se.addEntry(Pe,_e):Se.addDeletedEntry(Pe,_e),t+=1}else t=_e;this.skipWhitespaceAndComments()}return Se}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var t=this.parseDict(),Se=this.context;Se.trailerInfo={Root:t.get(PDFName.of("Root"))||Se.trailerInfo.Root,Encrypt:t.get(PDFName.of("Encrypt"))||Se.trailerInfo.Encrypt,Info:t.get(PDFName.of("Info"))||Se.trailerInfo.Info,ID:t.get(PDFName.of("ID"))||Se.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var t=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(t)}},e.prototype.parseDocumentSection=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.parseIndirectObjects()];case 1:return t.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var t=this.bytes.offset(),Se=this.bytes.peek(),_e=Se>=CharCodes$1.Space&&Se<=CharCodes$1.Tilde;if(_e&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(t);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var t=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(t)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(t,Se,_e,Ae){return new e(t,Se,_e,Ae)},e}(PDFObjectParser),flag=function(xe){return 1<<xe},AnnotationFlags;(function(xe){xe[xe.Invisible=flag(0)]="Invisible",xe[xe.Hidden=flag(1)]="Hidden",xe[xe.Print=flag(2)]="Print",xe[xe.NoZoom=flag(3)]="NoZoom",xe[xe.NoRotate=flag(4)]="NoRotate",xe[xe.NoView=flag(5)]="NoView",xe[xe.ReadOnly=flag(6)]="ReadOnly",xe[xe.Locked=flag(7)]="Locked",xe[xe.ToggleNoView=flag(8)]="ToggleNoView",xe[xe.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(xe){return xe instanceof PDFName?xe:PDFName.of(xe)},asPDFNumber=function(xe){return xe instanceof PDFNumber?xe:PDFNumber.of(xe)},asNumber=function(xe){return xe instanceof PDFNumber?xe.asNumber():xe},RotationTypes;(function(xe){xe.Degrees="degrees",xe.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(xe){return assertIs(xe,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:xe}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(xe){return xe*Math.PI/180},radiansToDegrees=function(xe){return xe*180/Math.PI},toRadians=function(xe){return xe.type===Radians?xe.angle:xe.type===Degrees?degreesToRadians(xe.angle):error$1("Invalid rotation: "+JSON.stringify(xe))},toDegrees=function(xe){return xe.type===Radians?radiansToDegrees(xe.angle):xe.type===Degrees?xe.angle:error$1("Invalid rotation: "+JSON.stringify(xe))},reduceRotation=function(xe){xe===void 0&&(xe=0);var e=xe/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},adjustDimsForRotation=function(xe,e){e===void 0&&(e=0);var t=reduceRotation(e);return t===90||t===270?{width:xe.height,height:xe.width}:{width:xe.width,height:xe.height}},rotateRectangle=function(xe,e,t){e===void 0&&(e=0),t===void 0&&(t=0);var Se=xe.x,_e=xe.y,Ae=xe.width,Ce=xe.height,Pe=reduceRotation(t),Ee=e/2;return Pe===0?{x:Se-Ee,y:_e-Ee,width:Ae,height:Ce}:Pe===90?{x:Se-Ce+Ee,y:_e-Ee,width:Ce,height:Ae}:Pe===180?{x:Se-Ae+Ee,y:_e-Ce+Ee,width:Ae,height:Ce}:Pe===270?{x:Se-Ee,y:_e-Ae+Ee,width:Ce,height:Ae}:{x:Se-Ee,y:_e-Ee,width:Ae,height:Ce}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(xe,e,t,Se,_e,Ae){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t),asPDFNumber(Se),asPDFNumber(_e),asPDFNumber(Ae)])},translate=function(xe,e){return concatTransformationMatrix(1,0,0,1,xe,e)},scale=function(xe,e){return concatTransformationMatrix(xe,0,0,e,0,0)},rotateRadians=function(xe){return concatTransformationMatrix(cos(asNumber(xe)),sin(asNumber(xe)),-sin(asNumber(xe)),cos(asNumber(xe)),0,0)},rotateDegrees=function(xe){return rotateRadians(degreesToRadians(asNumber(xe)))},skewRadians=function(xe,e){return concatTransformationMatrix(1,tan(asNumber(xe)),tan(asNumber(e)),1,0,0)},setDashPattern=function(xe,e){return PDFOperator.of(Ops.SetLineDashPattern,["["+xe.map(asPDFNumber).join(" ")+"]",asPDFNumber(e)])},LineCapStyle;(function(xe){xe[xe.Butt=0]="Butt",xe[xe.Round=1]="Round",xe[xe.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(xe){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(xe)])},LineJoinStyle;(function(xe){xe[xe.Miter=0]="Miter",xe[xe.Round=1]="Round",xe[xe.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(xe){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(xe)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(xe){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(xe)])},appendBezierCurve=function(xe,e,t,Se,_e,Ae){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t),asPDFNumber(Se),asPDFNumber(_e),asPDFNumber(Ae)])},appendQuadraticCurve=function(xe,e,t,Se){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t),asPDFNumber(Se)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(xe,e){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(xe),asPDFNumber(e)])},lineTo=function(xe,e){return PDFOperator.of(Ops.LineTo,[asPDFNumber(xe),asPDFNumber(e)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(xe){return PDFOperator.of(Ops.ShowText,[xe])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(xe,e){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(xe),asPDFNumber(e)])},setLineHeight=function(xe){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(xe)])},TextRenderingMode$1;(function(xe){xe[xe.Fill=0]="Fill",xe[xe.Outline=1]="Outline",xe[xe.FillAndOutline=2]="FillAndOutline",xe[xe.Invisible=3]="Invisible",xe[xe.FillAndClip=4]="FillAndClip",xe[xe.OutlineAndClip=5]="OutlineAndClip",xe[xe.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",xe[xe.Clip=7]="Clip"})(TextRenderingMode$1||(TextRenderingMode$1={}));var setTextMatrix=function(xe,e,t,Se,_e,Ae){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t),asPDFNumber(Se),asPDFNumber(_e),asPDFNumber(Ae)])},rotateAndSkewTextRadiansAndTranslate=function(xe,e,t,Se,_e){return setTextMatrix(cos(asNumber(xe)),sin(asNumber(xe))+tan(asNumber(e)),-sin(asNumber(xe))+tan(asNumber(t)),cos(asNumber(xe)),Se,_e)},drawObject=function(xe){return PDFOperator.of(Ops.DrawObject,[asPDFName(xe)])},setFillingGrayscaleColor=function(xe){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(xe)])},setStrokingGrayscaleColor=function(xe){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(xe)])},setFillingRgbColor=function(xe,e,t){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t)])},setStrokingRgbColor=function(xe,e,t){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t)])},setFillingCmykColor=function(xe,e,t,Se){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t),asPDFNumber(Se)])},setStrokingCmykColor=function(xe,e,t,Se){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(xe),asPDFNumber(e),asPDFNumber(t),asPDFNumber(Se)])},beginMarkedContent=function(xe){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(xe)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(xe){xe.Grayscale="Grayscale",xe.RGB="RGB",xe.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(xe){return assertRange(xe,"gray",0,1),{type:ColorTypes.Grayscale,gray:xe}},rgb=function(xe,e,t){return assertRange(xe,"red",0,1),assertRange(e,"green",0,1),assertRange(t,"blue",0,1),{type:ColorTypes.RGB,red:xe,green:e,blue:t}},cmyk=function(xe,e,t,Se){return assertRange(xe,"cyan",0,1),assertRange(e,"magenta",0,1),assertRange(t,"yellow",0,1),assertRange(Se,"key",0,1),{type:ColorTypes.CMYK,cyan:xe,magenta:e,yellow:t,key:Se}},Grayscale$1=ColorTypes.Grayscale,RGB$1=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(xe){return xe.type===Grayscale$1?setFillingGrayscaleColor(xe.gray):xe.type===RGB$1?setFillingRgbColor(xe.red,xe.green,xe.blue):xe.type===CMYK?setFillingCmykColor(xe.cyan,xe.magenta,xe.yellow,xe.key):error$1("Invalid color: "+JSON.stringify(xe))},setStrokingColor=function(xe){return xe.type===Grayscale$1?setStrokingGrayscaleColor(xe.gray):xe.type===RGB$1?setStrokingRgbColor(xe.red,xe.green,xe.blue):xe.type===CMYK?setStrokingCmykColor(xe.cyan,xe.magenta,xe.yellow,xe.key):error$1("Invalid color: "+JSON.stringify(xe))},componentsToColor=function(xe,e){return e===void 0&&(e=1),(xe==null?void 0:xe.length)===1?grayscale(xe[0]*e):(xe==null?void 0:xe.length)===3?rgb(xe[0]*e,xe[1]*e,xe[2]*e):(xe==null?void 0:xe.length)===4?cmyk(xe[0]*e,xe[1]*e,xe[2]*e,xe[3]*e):void 0},colorToComponents=function(xe){return xe.type===Grayscale$1?[xe.gray]:xe.type===RGB$1?[xe.red,xe.green,xe.blue]:xe.type===CMYK?[xe.cyan,xe.magenta,xe.yellow,xe.key]:error$1("Invalid color: "+JSON.stringify(xe))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(xe){for(var e,t=[],Se=[],_e="",Ae=!1,Ce=0,Pe=0,Ee=xe;Pe<Ee.length;Pe++){var Fe=Ee[Pe];if(parameters.has(Fe))Ce=parameters.get(Fe),e&&(_e.length>0&&(Se[Se.length]=+_e),t[t.length]={cmd:e,args:Se},Se=[],_e="",Ae=!1),e=Fe;else if([" ",","].includes(Fe)||Fe==="-"&&_e.length>0&&_e[_e.length-1]!=="e"||Fe==="."&&Ae){if(_e.length===0)continue;Se.length===Ce?(t[t.length]={cmd:e,args:Se},Se=[+_e],e==="M"&&(e="L"),e==="m"&&(e="l")):Se[Se.length]=+_e,Ae=Fe===".",_e=["-","."].includes(Fe)?Fe:""}else _e+=Fe,Fe==="."&&(Ae=!0)}return _e.length>0&&(Se.length===Ce?(t[t.length]={cmd:e,args:Se},Se=[+_e],e==="M"&&(e="L"),e==="m"&&(e="l")):Se[Se.length]=+_e),t[t.length]={cmd:e,args:Se},t},apply=function(xe){cx=cy=px=py=sx=sy=0;for(var e=[],t=0;t<xe.length;t++){var Se=xe[t];if(Se.cmd&&typeof runners[Se.cmd]=="function"){var _e=runners[Se.cmd](Se.args);Array.isArray(_e)?e=e.concat(_e):e.push(_e)}}return e},runners={M:function(xe){return cx=xe[0],cy=xe[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(xe){return cx+=xe[0],cy+=xe[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(xe){return cx=xe[4],cy=xe[5],px=xe[2],py=xe[3],appendBezierCurve(xe[0],xe[1],xe[2],xe[3],xe[4],xe[5])},c:function(xe){var e=appendBezierCurve(xe[0]+cx,xe[1]+cy,xe[2]+cx,xe[3]+cy,xe[4]+cx,xe[5]+cy);return px=cx+xe[2],py=cy+xe[3],cx+=xe[4],cy+=xe[5],e},S:function(xe){(px===null||py===null)&&(px=cx,py=cy);var e=appendBezierCurve(cx-(px-cx),cy-(py-cy),xe[0],xe[1],xe[2],xe[3]);return px=xe[0],py=xe[1],cx=xe[2],cy=xe[3],e},s:function(xe){(px===null||py===null)&&(px=cx,py=cy);var e=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+xe[0],cy+xe[1],cx+xe[2],cy+xe[3]);return px=cx+xe[0],py=cy+xe[1],cx+=xe[2],cy+=xe[3],e},Q:function(xe){return px=xe[0],py=xe[1],cx=xe[2],cy=xe[3],appendQuadraticCurve(xe[0],xe[1],cx,cy)},q:function(xe){var e=appendQuadraticCurve(xe[0]+cx,xe[1]+cy,xe[2]+cx,xe[3]+cy);return px=cx+xe[0],py=cy+xe[1],cx+=xe[2],cy+=xe[3],e},T:function(xe){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var e=appendQuadraticCurve(px,py,xe[0],xe[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=xe[0],cy=xe[1],e},t:function(xe){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var e=appendQuadraticCurve(px,py,cx+xe[0],cy+xe[1]);return cx+=xe[0],cy+=xe[1],e},A:function(xe){var e=solveArc(cx,cy,xe);return cx=xe[5],cy=xe[6],e},a:function(xe){xe[5]+=cx,xe[6]+=cy;var e=solveArc(cx,cy,xe);return cx=xe[5],cy=xe[6],e},L:function(xe){return cx=xe[0],cy=xe[1],px=py=null,lineTo(cx,cy)},l:function(xe){return cx+=xe[0],cy+=xe[1],px=py=null,lineTo(cx,cy)},H:function(xe){return cx=xe[0],px=py=null,lineTo(cx,cy)},h:function(xe){return cx+=xe[0],px=py=null,lineTo(cx,cy)},V:function(xe){return cy=xe[0],px=py=null,lineTo(cx,cy)},v:function(xe){return cy+=xe[0],px=py=null,lineTo(cx,cy)},Z:function(){var xe=closePath();return cx=sx,cy=sy,xe},z:function(){var xe=closePath();return cx=sx,cy=sy,xe}},solveArc=function(xe,e,t){for(var Se=t[0],_e=t[1],Ae=t[2],Ce=t[3],Pe=t[4],Ee=t[5],Fe=t[6],ke=arcToSegments(Ee,Fe,Se,_e,Ce,Pe,Ae,xe,e),Ie=[],Oe=0,Re=ke;Oe<Re.length;Oe++){var Be=Re[Oe],je=segmentToBezier.apply(void 0,Be);Ie.push(appendBezierCurve.apply(void 0,je))}return Ie},arcToSegments=function(xe,e,t,Se,_e,Ae,Ce,Pe,Ee){var Fe=Ce*(Math.PI/180),ke=Math.sin(Fe),Ie=Math.cos(Fe);t=Math.abs(t),Se=Math.abs(Se),px=Ie*(Pe-xe)*.5+ke*(Ee-e)*.5,py=Ie*(Ee-e)*.5-ke*(Pe-xe)*.5;var Oe=px*px/(t*t)+py*py/(Se*Se);Oe>1&&(Oe=Math.sqrt(Oe),t*=Oe,Se*=Oe);var Re=Ie/t,Be=ke/t,je=-ke/Se,He=Ie/Se,Ge=Re*Pe+Be*Ee,Ve=je*Pe+He*Ee,ze=Re*xe+Be*e,Xe=je*xe+He*e,We=(ze-Ge)*(ze-Ge)+(Xe-Ve)*(Xe-Ve),Je=1/We-.25;Je<0&&(Je=0);var Qe=Math.sqrt(Je);Ae===_e&&(Qe=-Qe);var Ze=.5*(Ge+ze)-Qe*(Xe-Ve),on=.5*(Ve+Xe)+Qe*(ze-Ge),an=Math.atan2(Ve-on,Ge-Ze),rn=Math.atan2(Xe-on,ze-Ze),fn=rn-an;fn<0&&Ae===1?fn+=2*Math.PI:fn>0&&Ae===0&&(fn-=2*Math.PI);for(var nn=Math.ceil(Math.abs(fn/(Math.PI*.5+.001))),cn=[],dn=0;dn<nn;dn++){var bn=an+dn*fn/nn,pn=an+(dn+1)*fn/nn;cn[dn]=[Ze,on,bn,pn,t,Se,ke,Ie]}return cn},segmentToBezier=function(xe,e,t,Se,_e,Ae,Ce,Pe){var Ee=Pe*_e,Fe=-Ce*Ae,ke=Ce*_e,Ie=Pe*Ae,Oe=.5*(Se-t),Re=8/3*Math.sin(Oe*.5)*Math.sin(Oe*.5)/Math.sin(Oe),Be=xe+Math.cos(t)-Re*Math.sin(t),je=e+Math.sin(t)+Re*Math.cos(t),He=xe+Math.cos(Se),Ge=e+Math.sin(Se),Ve=He+Re*Math.sin(Se),ze=Ge-Re*Math.cos(Se),Xe=[Ee*Be+Fe*je,ke*Be+Ie*je,Ee*Ve+Fe*ze,ke*Ve+Ie*ze,Ee*He+Fe*Ge,ke*He+Ie*Ge];return Xe},svgPathToOperators=function(xe){return apply(parse(xe))},drawLinesOfText=function(xe,e){for(var t=[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),beginText(),setFillingColor(e.color),setFontAndSize(e.font,e.size),setLineHeight(e.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(e.rotate),toRadians(e.xSkew),toRadians(e.ySkew),e.x,e.y)].filter(Boolean),Se=0,_e=xe.length;Se<_e;Se++)t.push(showText(xe[Se]),nextLine());return t.push(endText(),popGraphicsState()),t},drawImage=function(xe,e){return[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians(e.rotate)),scale(e.width,e.height),skewRadians(toRadians(e.xSkew),toRadians(e.ySkew)),drawObject(xe),popGraphicsState()].filter(Boolean)},drawPage=function(xe,e){return[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians(e.rotate)),scale(e.xScale,e.yScale),skewRadians(toRadians(e.xSkew),toRadians(e.ySkew)),drawObject(xe),popGraphicsState()].filter(Boolean)},drawLine=function(xe){var e,t;return[pushGraphicsState(),xe.graphicsState&&setGraphicsState(xe.graphicsState),xe.color&&setStrokingColor(xe.color),setLineWidth(xe.thickness),setDashPattern((e=xe.dashArray)!==null&&e!==void 0?e:[],(t=xe.dashPhase)!==null&&t!==void 0?t:0),moveTo(xe.start.x,xe.start.y),xe.lineCap&&setLineCap(xe.lineCap),moveTo(xe.start.x,xe.start.y),lineTo(xe.end.x,xe.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(xe){var e,t;return[pushGraphicsState(),xe.graphicsState&&setGraphicsState(xe.graphicsState),xe.color&&setFillingColor(xe.color),xe.borderColor&&setStrokingColor(xe.borderColor),setLineWidth(xe.borderWidth),xe.borderLineCap&&setLineCap(xe.borderLineCap),setDashPattern((e=xe.borderDashArray)!==null&&e!==void 0?e:[],(t=xe.borderDashPhase)!==null&&t!==void 0?t:0),translate(xe.x,xe.y),rotateRadians(toRadians(xe.rotate)),skewRadians(toRadians(xe.xSkew),toRadians(xe.ySkew)),moveTo(0,0),lineTo(0,xe.height),lineTo(xe.width,xe.height),lineTo(xe.width,0),closePath(),xe.color&&xe.borderWidth?fillAndStroke():xe.color?fill():xe.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(xe){var e=asNumber(xe.x),t=asNumber(xe.y),Se=asNumber(xe.xScale),_e=asNumber(xe.yScale);e-=Se,t-=_e;var Ae=Se*KAPPA,Ce=_e*KAPPA,Pe=e+Se*2,Ee=t+_e*2,Fe=e+Se,ke=t+_e;return[pushGraphicsState(),moveTo(e,ke),appendBezierCurve(e,ke-Ce,Fe-Ae,t,Fe,t),appendBezierCurve(Fe+Ae,t,Pe,ke-Ce,Pe,ke),appendBezierCurve(Pe,ke+Ce,Fe+Ae,Ee,Fe,Ee),appendBezierCurve(Fe-Ae,Ee,e,ke+Ce,e,ke),popGraphicsState()]},drawEllipseCurves=function(xe){var e=asNumber(xe.x),t=asNumber(xe.y),Se=asNumber(xe.xScale),_e=asNumber(xe.yScale),Ae=-Se,Ce=-_e,Pe=Se*KAPPA,Ee=_e*KAPPA,Fe=Ae+Se*2,ke=Ce+_e*2,Ie=Ae+Se,Oe=Ce+_e;return[translate(e,t),rotateRadians(toRadians(xe.rotate)),moveTo(Ae,Oe),appendBezierCurve(Ae,Oe-Ee,Ie-Pe,Ce,Ie,Ce),appendBezierCurve(Ie+Pe,Ce,Fe,Oe-Ee,Fe,Oe),appendBezierCurve(Fe,Oe+Ee,Ie+Pe,ke,Ie,ke),appendBezierCurve(Ie-Pe,ke,Ae,Oe+Ee,Ae,Oe)]},drawEllipse=function(xe){var e,t,Se;return __spreadArrays([pushGraphicsState(),xe.graphicsState&&setGraphicsState(xe.graphicsState),xe.color&&setFillingColor(xe.color),xe.borderColor&&setStrokingColor(xe.borderColor),setLineWidth(xe.borderWidth),xe.borderLineCap&&setLineCap(xe.borderLineCap),setDashPattern((e=xe.borderDashArray)!==null&&e!==void 0?e:[],(t=xe.borderDashPhase)!==null&&t!==void 0?t:0)],xe.rotate===void 0?drawEllipsePath({x:xe.x,y:xe.y,xScale:xe.xScale,yScale:xe.yScale}):drawEllipseCurves({x:xe.x,y:xe.y,xScale:xe.xScale,yScale:xe.yScale,rotate:(Se=xe.rotate)!==null&&Se!==void 0?Se:degrees(0)}),[xe.color&&xe.borderWidth?fillAndStroke():xe.color?fill():xe.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(xe,e){var t,Se,_e;return __spreadArrays([pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians((t=e.rotate)!==null&&t!==void 0?t:degrees(0))),e.scale?scale(e.scale,-e.scale):scale(1,-1),e.color&&setFillingColor(e.color),e.borderColor&&setStrokingColor(e.borderColor),e.borderWidth&&setLineWidth(e.borderWidth),e.borderLineCap&&setLineCap(e.borderLineCap),setDashPattern((Se=e.borderDashArray)!==null&&Se!==void 0?Se:[],(_e=e.borderDashPhase)!==null&&_e!==void 0?_e:0)],svgPathToOperators(xe),[e.color&&e.borderWidth?fillAndStroke():e.color?fill():e.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(xe){var e=asNumber(xe.size),t=-1+.75,Se=-1+.51,_e=1-.525,Ae=1-.31,Ce=-1+.325,Pe=-((Ce-t)*(Ae-t))/(_e-Se)+Se;return[pushGraphicsState(),xe.color&&setStrokingColor(xe.color),setLineWidth(xe.thickness),translate(xe.x,xe.y),moveTo(Ce*e,Pe*e),lineTo(t*e,Se*e),lineTo(Ae*e,_e*e),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(xe){return xe.rotation===0?[translate(0,0),rotateDegrees(0)]:xe.rotation===90?[translate(xe.width,0),rotateDegrees(90)]:xe.rotation===180?[translate(xe.width,xe.height),rotateDegrees(180)]:xe.rotation===270?[translate(0,xe.height),rotateDegrees(270)]:[]},drawCheckBox=function(xe){var e=drawRectangle({x:xe.x,y:xe.y,width:xe.width,height:xe.height,borderWidth:xe.borderWidth,color:xe.color,borderColor:xe.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!xe.filled)return e;var t=asNumber(xe.width),Se=asNumber(xe.height),_e=Math.min(t,Se)/2,Ae=drawCheckMark({x:t/2,y:Se/2,size:_e,thickness:xe.thickness,color:xe.markColor});return __spreadArrays([pushGraphicsState()],e,Ae,[popGraphicsState()])},drawRadioButton=function(xe){var e=asNumber(xe.width),t=asNumber(xe.height),Se=Math.min(e,t)/2,_e=drawEllipse({x:xe.x,y:xe.y,xScale:Se,yScale:Se,color:xe.color,borderColor:xe.borderColor,borderWidth:xe.borderWidth});if(!xe.filled)return _e;var Ae=drawEllipse({x:xe.x,y:xe.y,xScale:Se*.45,yScale:Se*.45,color:xe.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],_e,Ae,[popGraphicsState()])},drawButton=function(xe){var e=asNumber(xe.x),t=asNumber(xe.y),Se=asNumber(xe.width),_e=asNumber(xe.height),Ae=drawRectangle({x:e,y:t,width:Se,height:_e,borderWidth:xe.borderWidth,color:xe.color,borderColor:xe.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Ce=drawTextLines(xe.textLines,{color:xe.textColor,font:xe.font,size:xe.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],Ae,Ce,[popGraphicsState()])},drawTextLines=function(xe,e){for(var t=[beginText(),setFillingColor(e.color),setFontAndSize(e.font,e.size)],Se=0,_e=xe.length;Se<_e;Se++){var Ae=xe[Se],Ce=Ae.encoded,Pe=Ae.x,Ee=Ae.y;t.push(rotateAndSkewTextRadiansAndTranslate(toRadians(e.rotate),toRadians(e.xSkew),toRadians(e.ySkew),Pe,Ee),showText(Ce))}return t.push(endText()),t},drawTextField=function(xe){var e=asNumber(xe.x),t=asNumber(xe.y),Se=asNumber(xe.width),_e=asNumber(xe.height),Ae=asNumber(xe.borderWidth),Ce=asNumber(xe.padding),Pe=e+Ae/2+Ce,Ee=t+Ae/2+Ce,Fe=Se-(Ae/2+Ce)*2,ke=_e-(Ae/2+Ce)*2,Ie=[moveTo(Pe,Ee),lineTo(Pe,Ee+ke),lineTo(Pe+Fe,Ee+ke),lineTo(Pe+Fe,Ee),closePath(),clip(),endPath()],Oe=drawRectangle({x:e,y:t,width:Se,height:_e,borderWidth:xe.borderWidth,color:xe.color,borderColor:xe.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Re=drawTextLines(xe.textLines,{color:xe.textColor,font:xe.font,size:xe.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Be=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],Re,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],Oe,Ie,Be,[popGraphicsState()])},drawOptionList=function(xe){for(var e=asNumber(xe.x),t=asNumber(xe.y),Se=asNumber(xe.width),_e=asNumber(xe.height),Ae=asNumber(xe.lineHeight),Ce=asNumber(xe.borderWidth),Pe=asNumber(xe.padding),Ee=e+Ce/2+Pe,Fe=t+Ce/2+Pe,ke=Se-(Ce/2+Pe)*2,Ie=_e-(Ce/2+Pe)*2,Oe=[moveTo(Ee,Fe),lineTo(Ee,Fe+Ie),lineTo(Ee+ke,Fe+Ie),lineTo(Ee+ke,Fe),closePath(),clip(),endPath()],Re=drawRectangle({x:e,y:t,width:Se,height:_e,borderWidth:xe.borderWidth,color:xe.color,borderColor:xe.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Be=[],je=0,He=xe.selectedLines.length;je<He;je++){var Ge=xe.textLines[xe.selectedLines[je]];Be.push.apply(Be,drawRectangle({x:Ge.x-Pe,y:Ge.y-(Ae-Ge.height)/2,width:Se-Ce,height:Ge.height+(Ae-Ge.height)/2,borderWidth:0,color:xe.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var Ve=drawTextLines(xe.textLines,{color:xe.textColor,font:xe.font,size:xe.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),ze=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],Ve,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],Re,Be,Oe,ze,[popGraphicsState()])},EncryptedPDFError=function(xe){__extends(e,xe);function e(){var t=this,Se="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return t=xe.call(this,Se)||this,t}return e}(Error),FontkitNotRegisteredError=function(xe){__extends(e,xe);function e(){var t=this,Se="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return t=xe.call(this,Se)||this,t}return e}(Error),ForeignPageError=function(xe){__extends(e,xe);function e(){var t=this,Se="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return t=xe.call(this,Se)||this,t}return e}(Error),RemovePageFromEmptyDocumentError=function(xe){__extends(e,xe);function e(){var t=this,Se="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return t=xe.call(this,Se)||this,t}return e}(Error),NoSuchFieldError=function(xe){__extends(e,xe);function e(t){var Se=this,_e='PDFDocument has no form field with the name "'+t+'"';return Se=xe.call(this,_e)||this,Se}return e}(Error),UnexpectedFieldTypeError=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae,Ce,Pe=this,Ee=Se==null?void 0:Se.name,Fe=(Ce=(Ae=_e==null?void 0:_e.constructor)===null||Ae===void 0?void 0:Ae.name)!==null&&Ce!==void 0?Ce:_e,ke='Expected field "'+t+'" to be of type '+Ee+", "+("but it is actually of type "+Fe);return Pe=xe.call(this,ke)||this,Pe}return e}(Error);(function(xe){__extends(e,xe);function e(t){var Se=this,_e='Failed to select check box due to missing onValue: "'+t+'"';return Se=xe.call(this,_e)||this,Se}return e})(Error);var FieldAlreadyExistsError=function(xe){__extends(e,xe);function e(t){var Se=this,_e='A field already exists with the specified name: "'+t+'"';return Se=xe.call(this,_e)||this,Se}return e}(Error),InvalidFieldNamePartError=function(xe){__extends(e,xe);function e(t){var Se=this,_e='Field name contains invalid component: "'+t+'"';return Se=xe.call(this,_e)||this,Se}return e}(Error);(function(xe){__extends(e,xe);function e(t){var Se=this,_e='A non-terminal field already exists with the specified name: "'+t+'"';return Se=xe.call(this,_e)||this,Se}return e})(Error);var RichTextFieldReadError=function(xe){__extends(e,xe);function e(t){var Se=this,_e="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return Se=xe.call(this,_e)||this,Se}return e}(Error),CombedTextLayoutError=function(xe){__extends(e,xe);function e(t,Se){var _e=this,Ae="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+Se;return _e=xe.call(this,Ae)||this,_e}return e}(Error),ExceededMaxLengthError=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=this,Ce="Attempted to set text with length="+t+" for TextField with maxLength="+Se+" and name="+_e;return Ae=xe.call(this,Ce)||this,Ae}return e}(Error),InvalidMaxLengthError=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=this,Ce="Attempted to set maxLength="+Se+", which is less than "+t+", the length of this field's current value (name="+_e+")";return Ae=xe.call(this,Ce)||this,Ae}return e}(Error),TextAlignment;(function(xe){xe[xe.Left=0]="Left",xe[xe.Center=1]="Center",xe[xe.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE$1=4,MAX_FONT_SIZE$1=500,computeFontSize=function(xe,e,t,Se){Se===void 0&&(Se=!1);for(var _e=MIN_FONT_SIZE$1;_e<MAX_FONT_SIZE$1;){for(var Ae=0,Ce=0,Pe=xe.length;Ce<Pe;Ce++){Ae+=1;for(var Ee=xe[Ce],Fe=Ee.split(" "),ke=t.width,Ie=0,Oe=Fe.length;Ie<Oe;Ie++){var Re=Ie===Oe-1,Be=Re?Fe[Ie]:Fe[Ie]+" ",je=e.widthOfTextAtSize(Be,_e);ke-=je,ke<=0&&(Ae+=1,ke=t.width-je)}}if(!Se&&Ae>xe.length)return _e-1;var He=e.heightAtSize(_e),Ge=He+He*.2,Ve=Ge*Ae;if(Ve>Math.abs(t.height))return _e-1;_e+=1}return _e},computeCombedFontSize=function(xe,e,t,Se){for(var _e=t.width/Se,Ae=t.height,Ce=MIN_FONT_SIZE$1,Pe=charSplit(xe);Ce<MAX_FONT_SIZE$1;){for(var Ee=0,Fe=Pe.length;Ee<Fe;Ee++){var ke=Pe[Ee],Ie=e.widthOfTextAtSize(ke,Ce)>_e*.75;if(Ie)return Ce-1}var Oe=e.heightAtSize(Ce,{descender:!1});if(Oe>Ae)return Ce-1;Ce+=1}return Ce},lastIndexOfWhitespace=function(xe){for(var e=xe.length;e>0;e--)if(/\s/.test(xe[e]))return e},splitOutLines=function(xe,e,t,Se){for(var _e,Ae=xe.length;Ae>0;){var Ce=xe.substring(0,Ae),Pe=t.encodeText(Ce),Ee=t.widthOfTextAtSize(Ce,Se);if(Ee<e){var Fe=xe.substring(Ae)||void 0;return{line:Ce,encoded:Pe,width:Ee,remainder:Fe}}Ae=(_e=lastIndexOfWhitespace(Ce))!==null&&_e!==void 0?_e:0}return{line:xe,encoded:t.encodeText(xe),width:t.widthOfTextAtSize(xe,Se),remainder:void 0}},layoutMultilineText=function(xe,e){var t=e.alignment,Se=e.fontSize,_e=e.font,Ae=e.bounds,Ce=lineSplit(cleanText(xe));(Se===void 0||Se===0)&&(Se=computeFontSize(Ce,_e,Ae,!0));for(var Pe=_e.heightAtSize(Se),Ee=Pe+Pe*.2,Fe=[],ke=Ae.x,Ie=Ae.y,Oe=Ae.x+Ae.width,Re=Ae.y+Ae.height,Be=Ae.y+Ae.height,je=0,He=Ce.length;je<He;je++)for(var Ge=Ce[je];Ge!==void 0;){var Ve=splitOutLines(Ge,Ae.width,_e,Se),ze=Ve.line,Xe=Ve.encoded,We=Ve.width,Je=Ve.remainder,Qe=t===TextAlignment.Left?Ae.x:t===TextAlignment.Center?Ae.x+Ae.width/2-We/2:t===TextAlignment.Right?Ae.x+Ae.width-We:Ae.x;Be-=Ee,Qe<ke&&(ke=Qe),Be<Ie&&(Ie=Be),Qe+We>Oe&&(Oe=Qe+We),Be+Pe>Re&&(Re=Be+Pe),Fe.push({text:ze,encoded:Xe,width:We,height:Pe,x:Qe,y:Be}),Ge=Je==null?void 0:Je.trim()}return{fontSize:Se,lineHeight:Ee,lines:Fe,bounds:{x:ke,y:Ie,width:Oe-ke,height:Re-Ie}}},layoutCombedText=function(xe,e){var t=e.fontSize,Se=e.font,_e=e.bounds,Ae=e.cellCount,Ce=mergeLines(cleanText(xe));if(Ce.length>Ae)throw new CombedTextLayoutError(Ce.length,Ae);(t===void 0||t===0)&&(t=computeCombedFontSize(Ce,Se,_e,Ae));for(var Pe=_e.width/Ae,Ee=Se.heightAtSize(t,{descender:!1}),Fe=_e.y+(_e.height/2-Ee/2),ke=[],Ie=_e.x,Oe=_e.y,Re=_e.x+_e.width,Be=_e.y+_e.height,je=0,He=0;je<Ae;){var Ge=charAtIndex(Ce,He),Ve=Ge[0],ze=Ge[1],Xe=Se.encodeText(Ve),We=Se.widthOfTextAtSize(Ve,t),Je=_e.x+(Pe*je+Pe/2),Qe=Je-We/2;Qe<Ie&&(Ie=Qe),Fe<Oe&&(Oe=Fe),Qe+We>Re&&(Re=Qe+We),Fe+Ee>Be&&(Be=Fe+Ee),ke.push({text:Ce,encoded:Xe,width:We,height:Ee,x:Qe,y:Fe}),je+=1,He+=ze}return{fontSize:t,cells:ke,bounds:{x:Ie,y:Oe,width:Re-Ie,height:Be-Oe}}},layoutSinglelineText=function(xe,e){var t=e.alignment,Se=e.fontSize,_e=e.font,Ae=e.bounds,Ce=mergeLines(cleanText(xe));(Se===void 0||Se===0)&&(Se=computeFontSize([Ce],_e,Ae));var Pe=_e.encodeText(Ce),Ee=_e.widthOfTextAtSize(Ce,Se),Fe=_e.heightAtSize(Se,{descender:!1}),ke=t===TextAlignment.Left?Ae.x:t===TextAlignment.Center?Ae.x+Ae.width/2-Ee/2:t===TextAlignment.Right?Ae.x+Ae.width-Ee:Ae.x,Ie=Ae.y+(Ae.height/2-Fe/2);return{fontSize:Se,line:{text:Ce,encoded:Pe,width:Ee,height:Fe,x:ke,y:Ie},bounds:{x:ke,y:Ie,width:Ee,height:Fe}}},normalizeAppearance=function(xe){return"normal"in xe?xe:{normal:xe}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(xe){var e,t,Se=(e=xe.getDefaultAppearance())!==null&&e!==void 0?e:"",_e=(t=findLastMatch(Se,tfRegex).match)!==null&&t!==void 0?t:[],Ae=Number(_e[2]);return isFinite(Ae)?Ae:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(xe){var e,t=(e=xe.getDefaultAppearance())!==null&&e!==void 0?e:"",Se=findLastMatch(t,colorRegex).match,_e=Se??[],Ae=_e[1],Ce=_e[2],Pe=_e[3],Ee=_e[4],Fe=_e[5];if(Fe==="g"&&Ae)return grayscale(Number(Ae));if(Fe==="rg"&&Ae&&Ce&&Pe)return rgb(Number(Ae),Number(Ce),Number(Pe));if(Fe==="k"&&Ae&&Ce&&Pe&&Ee)return cmyk(Number(Ae),Number(Ce),Number(Pe),Number(Ee))},updateDefaultAppearance=function(xe,e,t,Se){var _e;Se===void 0&&(Se=0);var Ae=[setFillingColor(e).toString(),setFontAndSize((_e=t==null?void 0:t.name)!==null&&_e!==void 0?_e:"dummy__noop",Se).toString()].join(`
`);xe.setDefaultAppearance(Ae)},defaultCheckBoxAppearanceProvider=function(xe,e){var t,Se,_e,Ae=getDefaultColor(e),Ce=getDefaultColor(xe.acroField),Pe=e.getRectangle(),Ee=e.getAppearanceCharacteristics(),Fe=e.getBorderStyle(),ke=(t=Fe==null?void 0:Fe.getWidth())!==null&&t!==void 0?t:0,Ie=reduceRotation(Ee==null?void 0:Ee.getRotation()),Oe=adjustDimsForRotation(Pe,Ie),Re=Oe.width,Be=Oe.height,je=rotateInPlace(__assign(__assign({},Pe),{rotation:Ie})),He=rgb(0,0,0),Ge=(Se=componentsToColor(Ee==null?void 0:Ee.getBorderColor()))!==null&&Se!==void 0?Se:He,Ve=componentsToColor(Ee==null?void 0:Ee.getBackgroundColor()),ze=componentsToColor(Ee==null?void 0:Ee.getBackgroundColor(),.8),Xe=(_e=Ae??Ce)!==null&&_e!==void 0?_e:He;updateDefaultAppearance(Ae?e:xe.acroField,Xe);var We={x:0+ke/2,y:0+ke/2,width:Re-ke,height:Be-ke,thickness:1.5,borderWidth:ke,borderColor:Ge,markColor:Xe};return{normal:{on:__spreadArrays(je,drawCheckBox(__assign(__assign({},We),{color:Ve,filled:!0}))),off:__spreadArrays(je,drawCheckBox(__assign(__assign({},We),{color:Ve,filled:!1})))},down:{on:__spreadArrays(je,drawCheckBox(__assign(__assign({},We),{color:ze,filled:!0}))),off:__spreadArrays(je,drawCheckBox(__assign(__assign({},We),{color:ze,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(xe,e){var t,Se,_e,Ae=getDefaultColor(e),Ce=getDefaultColor(xe.acroField),Pe=e.getRectangle(),Ee=e.getAppearanceCharacteristics(),Fe=e.getBorderStyle(),ke=(t=Fe==null?void 0:Fe.getWidth())!==null&&t!==void 0?t:0,Ie=reduceRotation(Ee==null?void 0:Ee.getRotation()),Oe=adjustDimsForRotation(Pe,Ie),Re=Oe.width,Be=Oe.height,je=rotateInPlace(__assign(__assign({},Pe),{rotation:Ie})),He=rgb(0,0,0),Ge=(Se=componentsToColor(Ee==null?void 0:Ee.getBorderColor()))!==null&&Se!==void 0?Se:He,Ve=componentsToColor(Ee==null?void 0:Ee.getBackgroundColor()),ze=componentsToColor(Ee==null?void 0:Ee.getBackgroundColor(),.8),Xe=(_e=Ae??Ce)!==null&&_e!==void 0?_e:He;updateDefaultAppearance(Ae?e:xe.acroField,Xe);var We={x:Re/2,y:Be/2,width:Re-ke,height:Be-ke,borderWidth:ke,borderColor:Ge,dotColor:Xe};return{normal:{on:__spreadArrays(je,drawRadioButton(__assign(__assign({},We),{color:Ve,filled:!0}))),off:__spreadArrays(je,drawRadioButton(__assign(__assign({},We),{color:Ve,filled:!1})))},down:{on:__spreadArrays(je,drawRadioButton(__assign(__assign({},We),{color:ze,filled:!0}))),off:__spreadArrays(je,drawRadioButton(__assign(__assign({},We),{color:ze,filled:!1})))}}},defaultButtonAppearanceProvider=function(xe,e,t){var Se,_e,Ae,Ce,Pe,Ee=getDefaultColor(e),Fe=getDefaultColor(xe.acroField),ke=getDefaultFontSize(e),Ie=getDefaultFontSize(xe.acroField),Oe=e.getRectangle(),Re=e.getAppearanceCharacteristics(),Be=e.getBorderStyle(),je=Re==null?void 0:Re.getCaptions(),He=(Se=je==null?void 0:je.normal)!==null&&Se!==void 0?Se:"",Ge=(Ae=(_e=je==null?void 0:je.down)!==null&&_e!==void 0?_e:He)!==null&&Ae!==void 0?Ae:"",Ve=(Ce=Be==null?void 0:Be.getWidth())!==null&&Ce!==void 0?Ce:0,ze=reduceRotation(Re==null?void 0:Re.getRotation()),Xe=adjustDimsForRotation(Oe,ze),We=Xe.width,Je=Xe.height,Qe=rotateInPlace(__assign(__assign({},Oe),{rotation:ze})),Ze=rgb(0,0,0),on=componentsToColor(Re==null?void 0:Re.getBorderColor()),an=componentsToColor(Re==null?void 0:Re.getBackgroundColor()),rn=componentsToColor(Re==null?void 0:Re.getBackgroundColor(),.8),fn={x:Ve,y:Ve,width:We-Ve*2,height:Je-Ve*2},nn=layoutSinglelineText(He,{alignment:TextAlignment.Center,fontSize:ke??Ie,font:t,bounds:fn}),cn=layoutSinglelineText(Ge,{alignment:TextAlignment.Center,fontSize:ke??Ie,font:t,bounds:fn}),dn=Math.min(nn.fontSize,cn.fontSize),bn=(Pe=Ee??Fe)!==null&&Pe!==void 0?Pe:Ze;updateDefaultAppearance(Ee||ke!==void 0?e:xe.acroField,bn,t,dn);var pn={x:0+Ve/2,y:0+Ve/2,width:We-Ve,height:Je-Ve,borderWidth:Ve,borderColor:on,textColor:bn,font:t.name,fontSize:dn};return{normal:__spreadArrays(Qe,drawButton(__assign(__assign({},pn),{color:an,textLines:[nn.line]}))),down:__spreadArrays(Qe,drawButton(__assign(__assign({},pn),{color:rn,textLines:[cn.line]})))}},defaultTextFieldAppearanceProvider=function(xe,e,t){var Se,_e,Ae,Ce,Pe=getDefaultColor(e),Ee=getDefaultColor(xe.acroField),Fe=getDefaultFontSize(e),ke=getDefaultFontSize(xe.acroField),Ie=e.getRectangle(),Oe=e.getAppearanceCharacteristics(),Re=e.getBorderStyle(),Be=(Se=xe.getText())!==null&&Se!==void 0?Se:"",je=(_e=Re==null?void 0:Re.getWidth())!==null&&_e!==void 0?_e:0,He=reduceRotation(Oe==null?void 0:Oe.getRotation()),Ge=adjustDimsForRotation(Ie,He),Ve=Ge.width,ze=Ge.height,Xe=rotateInPlace(__assign(__assign({},Ie),{rotation:He})),We=rgb(0,0,0),Je=componentsToColor(Oe==null?void 0:Oe.getBorderColor()),Qe=componentsToColor(Oe==null?void 0:Oe.getBackgroundColor()),Ze,on,an=xe.isCombed()?0:1,rn={x:je+an,y:je+an,width:Ve-(je+an)*2,height:ze-(je+an)*2};if(xe.isMultiline()){var fn=layoutMultilineText(Be,{alignment:xe.getAlignment(),fontSize:Fe??ke,font:t,bounds:rn});Ze=fn.lines,on=fn.fontSize}else if(xe.isCombed()){var fn=layoutCombedText(Be,{fontSize:Fe??ke,font:t,bounds:rn,cellCount:(Ae=xe.getMaxLength())!==null&&Ae!==void 0?Ae:0});Ze=fn.cells,on=fn.fontSize}else{var fn=layoutSinglelineText(Be,{alignment:xe.getAlignment(),fontSize:Fe??ke,font:t,bounds:rn});Ze=[fn.line],on=fn.fontSize}var nn=(Ce=Pe??Ee)!==null&&Ce!==void 0?Ce:We;updateDefaultAppearance(Pe||Fe!==void 0?e:xe.acroField,nn,t,on);var cn={x:0+je/2,y:0+je/2,width:Ve-je,height:ze-je,borderWidth:je??0,borderColor:Je,textColor:nn,font:t.name,fontSize:on,color:Qe,textLines:Ze,padding:an};return __spreadArrays(Xe,drawTextField(cn))},defaultDropdownAppearanceProvider=function(xe,e,t){var Se,_e,Ae,Ce=getDefaultColor(e),Pe=getDefaultColor(xe.acroField),Ee=getDefaultFontSize(e),Fe=getDefaultFontSize(xe.acroField),ke=e.getRectangle(),Ie=e.getAppearanceCharacteristics(),Oe=e.getBorderStyle(),Re=(Se=xe.getSelected()[0])!==null&&Se!==void 0?Se:"",Be=(_e=Oe==null?void 0:Oe.getWidth())!==null&&_e!==void 0?_e:0,je=reduceRotation(Ie==null?void 0:Ie.getRotation()),He=adjustDimsForRotation(ke,je),Ge=He.width,Ve=He.height,ze=rotateInPlace(__assign(__assign({},ke),{rotation:je})),Xe=rgb(0,0,0),We=componentsToColor(Ie==null?void 0:Ie.getBorderColor()),Je=componentsToColor(Ie==null?void 0:Ie.getBackgroundColor()),Qe=1,Ze={x:Be+Qe,y:Be+Qe,width:Ge-(Be+Qe)*2,height:Ve-(Be+Qe)*2},on=layoutSinglelineText(Re,{alignment:TextAlignment.Left,fontSize:Ee??Fe,font:t,bounds:Ze}),an=on.line,rn=on.fontSize,fn=(Ae=Ce??Pe)!==null&&Ae!==void 0?Ae:Xe;updateDefaultAppearance(Ce||Ee!==void 0?e:xe.acroField,fn,t,rn);var nn={x:0+Be/2,y:0+Be/2,width:Ge-Be,height:Ve-Be,borderWidth:Be??0,borderColor:We,textColor:fn,font:t.name,fontSize:rn,color:Je,textLines:[an],padding:Qe};return __spreadArrays(ze,drawTextField(nn))},defaultOptionListAppearanceProvider=function(xe,e,t){var Se,_e,Ae=getDefaultColor(e),Ce=getDefaultColor(xe.acroField),Pe=getDefaultFontSize(e),Ee=getDefaultFontSize(xe.acroField),Fe=e.getRectangle(),ke=e.getAppearanceCharacteristics(),Ie=e.getBorderStyle(),Oe=(Se=Ie==null?void 0:Ie.getWidth())!==null&&Se!==void 0?Se:0,Re=reduceRotation(ke==null?void 0:ke.getRotation()),Be=adjustDimsForRotation(Fe,Re),je=Be.width,He=Be.height,Ge=rotateInPlace(__assign(__assign({},Fe),{rotation:Re})),Ve=rgb(0,0,0),ze=componentsToColor(ke==null?void 0:ke.getBorderColor()),Xe=componentsToColor(ke==null?void 0:ke.getBackgroundColor()),We=xe.getOptions(),Je=xe.getSelected();xe.isSorted()&&We.sort();for(var Qe="",Ze=0,on=We.length;Ze<on;Ze++)Qe+=We[Ze],Ze<on-1&&(Qe+=`
`);for(var an=1,rn={x:Oe+an,y:Oe+an,width:je-(Oe+an)*2,height:He-(Oe+an)*2},fn=layoutMultilineText(Qe,{alignment:TextAlignment.Left,fontSize:Pe??Ee,font:t,bounds:rn}),nn=fn.lines,cn=fn.fontSize,dn=fn.lineHeight,bn=[],Ze=0,on=nn.length;Ze<on;Ze++){var pn=nn[Ze];Je.includes(pn.text)&&bn.push(Ze)}var _n=rgb(153/255,193/255,218/255),Nn=(_e=Ae??Ce)!==null&&_e!==void 0?_e:Ve;return updateDefaultAppearance(Ae||Pe!==void 0?e:xe.acroField,Nn,t,cn),__spreadArrays(Ge,drawOptionList({x:0+Oe/2,y:0+Oe/2,width:je-Oe,height:He-Oe,borderWidth:Oe??0,borderColor:ze,textColor:Nn,font:t.name,fontSize:cn,color:Xe,textLines:nn,lineHeight:dn,selectedColor:_n,selectedLines:bn,padding:an}))},PDFEmbeddedPage=function(){function xe(e,t,Se){this.alreadyEmbedded=!1,assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(t,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(Se,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=Se.width,this.height=Se.height,this.embedder=Se}return xe.prototype.scale=function(e){return assertIs(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},xe.prototype.size=function(){return this.scale(1)},xe.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},xe.of=function(e,t,Se){return new xe(e,t,Se)},xe}(),PDFFont=function(){function xe(e,t,Se){this.modified=!0,assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(t,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(Se,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=Se.fontName,this.embedder=Se}return xe.prototype.encodeText=function(e){return assertIs(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},xe.prototype.widthOfTextAtSize=function(e,t){return assertIs(e,"text",["string"]),assertIs(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},xe.prototype.heightAtSize=function(e,t){var Se;return assertIs(e,"size",["number"]),assertOrUndefined(t==null?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(Se=t==null?void 0:t.descender)!==null&&Se!==void 0?Se:!0})},xe.prototype.sizeAtHeight=function(e){return assertIs(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},xe.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},xe.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},xe.of=function(e,t,Se){return new xe(e,t,Se)},xe}(),PDFImage=function(){function xe(e,t,Se){assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(t,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(Se,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=Se.width,this.height=Se.height,this.embedder=Se}return xe.prototype.scale=function(e){return assertIs(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},xe.prototype.scaleToFit=function(e,t){assertIs(e,"width",["number"]),assertIs(t,"height",["number"]);var Se=e/this.width,_e=t/this.height,Ae=Math.min(Se,_e);return this.scale(Ae)},xe.prototype.size=function(){return this.scale(1)},xe.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var e,t,Se;return __generator(this,function(_e){switch(_e.label){case 0:return this.embedder?(this.embedTask||(e=this,t=e.doc,Se=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,Se)),[4,this.embedTask]):[2];case 1:return _e.sent(),this.embedder=void 0,[2]}})})},xe.of=function(e,t,Se){return new xe(e,t,Se)},xe}(),ImageAlignment;(function(xe){xe[xe.Left=0]="Left",xe[xe.Center=1]="Center",xe[xe.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(xe){assertOrUndefined(xe==null?void 0:xe.x,"options.x",["number"]),assertOrUndefined(xe==null?void 0:xe.y,"options.y",["number"]),assertOrUndefined(xe==null?void 0:xe.width,"options.width",["number"]),assertOrUndefined(xe==null?void 0:xe.height,"options.height",["number"]),assertOrUndefined(xe==null?void 0:xe.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(xe==null?void 0:xe.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(xe==null?void 0:xe.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(xe==null?void 0:xe.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(xe==null?void 0:xe.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function xe(e,t,Se){assertIs(e,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(Se,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=Se}return xe.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},xe.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},xe.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},xe.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},xe.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},xe.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},xe.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},xe.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},xe.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},xe.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},xe.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},xe.prototype.defaultUpdateAppearances=function(e){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},xe.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},xe.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},xe.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},xe.prototype.createWidget=function(e){var t,Se=e.textColor,_e=e.backgroundColor,Ae=e.borderColor,Ce=e.borderWidth,Pe=toDegrees(e.rotate),Ee=e.caption,Fe=e.x,ke=e.y,Ie=e.width+Ce,Oe=e.height+Ce,Re=!!e.hidden,Be=e.page;assertMultiple(Pe,"degreesAngle",90);var je=PDFWidgetAnnotation.create(this.doc.context,this.ref),He=rotateRectangle({x:Fe,y:ke,width:Ie,height:Oe},Ce,Pe);je.setRectangle(He),Be&&je.setP(Be);var Ge=je.getOrCreateAppearanceCharacteristics();_e&&Ge.setBackgroundColor(colorToComponents(_e)),Ge.setRotation(Pe),Ee&&Ge.setCaptions({normal:Ee}),Ae&&Ge.setBorderColor(colorToComponents(Ae));var Ve=je.getOrCreateBorderStyle();if(Ce!==void 0&&Ve.setWidth(Ce),je.setFlagTo(AnnotationFlags.Print,!0),je.setFlagTo(AnnotationFlags.Hidden,Re),je.setFlagTo(AnnotationFlags.Invisible,!1),Se){var ze=(t=this.acroField.getDefaultAppearance())!==null&&t!==void 0?t:"",Xe=ze+`
`+setFillingColor(Se).toString();this.acroField.setDefaultAppearance(Xe)}return je},xe.prototype.updateWidgetAppearanceWithFont=function(e,t,Se){var _e=Se.normal,Ae=Se.rollover,Ce=Se.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,_e,t),rollover:Ae&&this.createAppearanceStream(e,Ae,t),down:Ce&&this.createAppearanceStream(e,Ce,t)})},xe.prototype.updateOnOffWidgetAppearance=function(e,t,Se){var _e=Se.normal,Ae=Se.rollover,Ce=Se.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,_e,t),rollover:Ae&&this.createAppearanceDict(e,Ae,t),down:Ce&&this.createAppearanceDict(e,Ce,t)})},xe.prototype.updateWidgetAppearances=function(e,t){var Se=t.normal,_e=t.rollover,Ae=t.down;e.setNormalAppearance(Se),_e?e.setRolloverAppearance(_e):e.removeRolloverAppearance(),Ae?e.setDownAppearance(Ae):e.removeDownAppearance()},xe.prototype.createAppearanceStream=function(e,t,Se){var _e,Ae=this.acroField.dict.context,Ce=e.getRectangle(),Pe=Ce.width,Ee=Ce.height,Fe=Se&&{Font:(_e={},_e[Se.name]=Se.ref,_e)},ke=Ae.formXObject(t,{Resources:Fe,BBox:Ae.obj([0,0,Pe,Ee]),Matrix:Ae.obj([1,0,0,1,0,0])}),Ie=Ae.register(ke);return Ie},xe.prototype.createImageAppearanceStream=function(e,t,Se){var _e,Ae,Ce=this.acroField.dict.context,Pe=e.getRectangle(),Ee=e.getAppearanceCharacteristics(),Fe=e.getBorderStyle(),ke=(Ae=Fe==null?void 0:Fe.getWidth())!==null&&Ae!==void 0?Ae:0,Ie=reduceRotation(Ee==null?void 0:Ee.getRotation()),Oe=rotateInPlace(__assign(__assign({},Pe),{rotation:Ie})),Re=adjustDimsForRotation(Pe,Ie),Be=t.scaleToFit(Re.width-ke*2,Re.height-ke*2),je={x:ke,y:ke,width:Be.width,height:Be.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};Se===ImageAlignment.Center?(je.x+=(Re.width-ke*2)/2-Be.width/2,je.y+=(Re.height-ke*2)/2-Be.height/2):Se===ImageAlignment.Right&&(je.x=Re.width-ke-Be.width,je.y=Re.height-ke-Be.height);var He=this.doc.context.addRandomSuffix("Image",10),Ge=__spreadArrays(Oe,drawImage(He,je)),Ve={XObject:(_e={},_e[He]=t.ref,_e)},ze=Ce.formXObject(Ge,{Resources:Ve,BBox:Ce.obj([0,0,Pe.width,Pe.height]),Matrix:Ce.obj([1,0,0,1,0,0])});return Ce.register(ze)},xe.prototype.createAppearanceDict=function(e,t,Se){var _e=this.acroField.dict.context,Ae=this.createAppearanceStream(e,t.on),Ce=this.createAppearanceStream(e,t.off),Pe=_e.obj({});return Pe.set(Se,Ae),Pe.set(PDFName.of("Off"),Ce),Pe},xe}(),PDFCheckBox=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,t,Se,_e)||this;return assertIs(t,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),Ae.acroField=t,Ae}return e.prototype.check=function(){var t,Se=(t=this.acroField.getOnValue())!==null&&t!==void 0?t:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(Se)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},e.prototype.isChecked=function(){var t=this.acroField.getOnValue();return!!t&&t===this.acroField.getValue()},e.prototype.addToPage=function(t,Se){var _e,Ae,Ce,Pe,Ee,Fe;assertIs(t,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Se),Se||(Se={}),"textColor"in Se||(Se.textColor=rgb(0,0,0)),"backgroundColor"in Se||(Se.backgroundColor=rgb(1,1,1)),"borderColor"in Se||(Se.borderColor=rgb(0,0,0)),"borderWidth"in Se||(Se.borderWidth=1);var ke=this.createWidget({x:(_e=Se.x)!==null&&_e!==void 0?_e:0,y:(Ae=Se.y)!==null&&Ae!==void 0?Ae:0,width:(Ce=Se.width)!==null&&Ce!==void 0?Ce:50,height:(Pe=Se.height)!==null&&Pe!==void 0?Pe:50,textColor:Se.textColor,backgroundColor:Se.backgroundColor,borderColor:Se.borderColor,borderWidth:(Ee=Se.borderWidth)!==null&&Ee!==void 0?Ee:0,rotate:(Fe=Se.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:Se.hidden,page:t.ref}),Ie=this.doc.context.register(ke.dict);this.acroField.addWidget(Ie),ke.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(ke,PDFName.of("Yes")),t.node.addAnnot(Ie)},e.prototype.needsAppearancesUpdate=function(){for(var t,Se=this.acroField.getWidgets(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=Ce.getAppearanceState(),Ee=(t=Ce.getAppearances())===null||t===void 0?void 0:t.normal;if(!(Ee instanceof PDFDict)||Pe&&!Ee.has(Pe))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){var Se;assertOrUndefined(t,"provider",[Function]);for(var _e=this.acroField.getWidgets(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae],Ee=(Se=Pe.getOnValue())!==null&&Se!==void 0?Se:PDFName.of("Yes");Ee&&this.updateWidgetAppearance(Pe,Ee,t)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,Se,_e){var Ae=_e??defaultCheckBoxAppearanceProvider,Ce=normalizeAppearance(Ae(this,t));this.updateOnOffWidgetAppearance(t,Se,Ce)},e.of=function(t,Se,_e){return new e(t,Se,_e)},e}(PDFField),PDFDropdown=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,t,Se,_e)||this;return assertIs(t,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),Ae.acroField=t,Ae}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),Se=new Array(t.length),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=t[_e],Pe=Ce.display,Ee=Ce.value;Se[_e]=(Pe??Ee).decodeText()}return Se},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++)Se[_e]=t[_e].decodeText();return Se},e.prototype.setOptions=function(t){assertIs(t,"options",[Array]);for(var Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++)Se[_e]={value:PDFHexString.fromText(t[_e])};this.acroField.setOptions(Se)},e.prototype.addOptions=function(t){assertIs(t,"options",["string",Array]);for(var Se=Array.isArray(t)?t:[t],_e=this.acroField.getOptions(),Ae=new Array(Se.length),Ce=0,Pe=Se.length;Ce<Pe;Ce++)Ae[Ce]={value:PDFHexString.fromText(Se[Ce])};this.acroField.setOptions(_e.concat(Ae))},e.prototype.select=function(t,Se){Se===void 0&&(Se=!1),assertIs(t,"options",["string",Array]),assertIs(Se,"merge",["boolean"]);var _e=Array.isArray(t)?t:[t],Ae=this.getOptions(),Ce=_e.find(function(Ie){return!Ae.includes(Ie)});Ce&&this.enableEditing(),this.markAsDirty(),(_e.length>1||_e.length===1&&Se)&&this.enableMultiselect();for(var Pe=new Array(_e.length),Ee=0,Fe=_e.length;Ee<Fe;Ee++)Pe[Ee]=PDFHexString.fromText(_e[Ee]);if(Se){var ke=this.acroField.getValues();this.acroField.setValues(ke.concat(Pe))}else this.acroField.setValues(Pe)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){assertPositive(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,Se){var _e,Ae,Ce,Pe,Ee,Fe,ke;assertIs(t,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Se),Se||(Se={}),"textColor"in Se||(Se.textColor=rgb(0,0,0)),"backgroundColor"in Se||(Se.backgroundColor=rgb(1,1,1)),"borderColor"in Se||(Se.borderColor=rgb(0,0,0)),"borderWidth"in Se||(Se.borderWidth=1);var Ie=this.createWidget({x:(_e=Se.x)!==null&&_e!==void 0?_e:0,y:(Ae=Se.y)!==null&&Ae!==void 0?Ae:0,width:(Ce=Se.width)!==null&&Ce!==void 0?Ce:200,height:(Pe=Se.height)!==null&&Pe!==void 0?Pe:50,textColor:Se.textColor,backgroundColor:Se.backgroundColor,borderColor:Se.borderColor,borderWidth:(Ee=Se.borderWidth)!==null&&Ee!==void 0?Ee:0,rotate:(Fe=Se.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:Se.hidden,page:t.ref}),Oe=this.doc.context.register(Ie.dict);this.acroField.addWidget(Oe);var Re=(ke=Se.font)!==null&&ke!==void 0?ke:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ie,Re),t.node.addAnnot(Oe)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var Se=this.acroField.getWidgets(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=((t=Ce.getAppearances())===null||t===void 0?void 0:t.normal)instanceof PDFStream;if(!Pe)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){assertIs(t,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,Se){assertIs(t,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Se,"provider",[Function]);for(var _e=this.acroField.getWidgets(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae];this.updateWidgetAppearance(Pe,t,Se)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,Se,_e){var Ae=_e??defaultDropdownAppearanceProvider,Ce=normalizeAppearance(Ae(this,t,Se));this.updateWidgetAppearanceWithFont(t,Se,Ce)},e.of=function(t,Se,_e){return new e(t,Se,_e)},e}(PDFField),PDFOptionList=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,t,Se,_e)||this;return assertIs(t,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),Ae.acroField=t,Ae}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),Se=new Array(t.length),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=t[_e],Pe=Ce.display,Ee=Ce.value;Se[_e]=(Pe??Ee).decodeText()}return Se},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++)Se[_e]=t[_e].decodeText();return Se},e.prototype.setOptions=function(t){assertIs(t,"options",[Array]),this.markAsDirty();for(var Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++)Se[_e]={value:PDFHexString.fromText(t[_e])};this.acroField.setOptions(Se)},e.prototype.addOptions=function(t){assertIs(t,"options",["string",Array]),this.markAsDirty();for(var Se=Array.isArray(t)?t:[t],_e=this.acroField.getOptions(),Ae=new Array(Se.length),Ce=0,Pe=Se.length;Ce<Pe;Ce++)Ae[Ce]={value:PDFHexString.fromText(Se[Ce])};this.acroField.setOptions(_e.concat(Ae))},e.prototype.select=function(t,Se){Se===void 0&&(Se=!1),assertIs(t,"options",["string",Array]),assertIs(Se,"merge",["boolean"]);var _e=Array.isArray(t)?t:[t],Ae=this.getOptions();assertIsSubset(_e,"option",Ae),this.markAsDirty(),(_e.length>1||_e.length===1&&Se)&&this.enableMultiselect();for(var Ce=new Array(_e.length),Pe=0,Ee=_e.length;Pe<Ee;Pe++)Ce[Pe]=PDFHexString.fromText(_e[Pe]);if(Se){var Fe=this.acroField.getValues();this.acroField.setValues(Fe.concat(Ce))}else this.acroField.setValues(Ce)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){assertPositive(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,Se){var _e,Ae,Ce,Pe,Ee,Fe,ke;assertIs(t,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Se),Se||(Se={}),"textColor"in Se||(Se.textColor=rgb(0,0,0)),"backgroundColor"in Se||(Se.backgroundColor=rgb(1,1,1)),"borderColor"in Se||(Se.borderColor=rgb(0,0,0)),"borderWidth"in Se||(Se.borderWidth=1);var Ie=this.createWidget({x:(_e=Se.x)!==null&&_e!==void 0?_e:0,y:(Ae=Se.y)!==null&&Ae!==void 0?Ae:0,width:(Ce=Se.width)!==null&&Ce!==void 0?Ce:200,height:(Pe=Se.height)!==null&&Pe!==void 0?Pe:100,textColor:Se.textColor,backgroundColor:Se.backgroundColor,borderColor:Se.borderColor,borderWidth:(Ee=Se.borderWidth)!==null&&Ee!==void 0?Ee:0,rotate:(Fe=Se.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:Se.hidden,page:t.ref}),Oe=this.doc.context.register(Ie.dict);this.acroField.addWidget(Oe);var Re=(ke=Se.font)!==null&&ke!==void 0?ke:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ie,Re),t.node.addAnnot(Oe)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var Se=this.acroField.getWidgets(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=((t=Ce.getAppearances())===null||t===void 0?void 0:t.normal)instanceof PDFStream;if(!Pe)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){assertIs(t,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,Se){assertIs(t,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Se,"provider",[Function]);for(var _e=this.acroField.getWidgets(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae];this.updateWidgetAppearance(Pe,t,Se)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,Se,_e){var Ae=_e??defaultOptionListAppearanceProvider,Ce=normalizeAppearance(Ae(this,t,Se));this.updateWidgetAppearanceWithFont(t,Se,Ce)},e.of=function(t,Se,_e){return new e(t,Se,_e)},e}(PDFField),PDFRadioGroup=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,t,Se,_e)||this;return assertIs(t,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),Ae.acroField=t,Ae}return e.prototype.getOptions=function(){var t=this.acroField.getExportValues();if(t){for(var Se=new Array(t.length),_e=0,Ae=t.length;_e<Ae;_e++)Se[_e]=t[_e].decodeText();return Se}for(var Ce=this.acroField.getOnValues(),Pe=new Array(Ce.length),_e=0,Ae=Pe.length;_e<Ae;_e++)Pe[_e]=Ce[_e].decodeText();return Pe},e.prototype.getSelected=function(){var t=this.acroField.getValue();if(t!==PDFName.of("Off")){var Se=this.acroField.getExportValues();if(Se){for(var _e=this.acroField.getOnValues(),Ae=0,Ce=_e.length;Ae<Ce;Ae++)if(_e[Ae]===t)return Se[Ae].decodeText()}return t.decodeText()}},e.prototype.select=function(t){assertIs(t,"option",["string"]);var Se=this.getOptions();assertIsOneOf(t,"option",Se),this.markAsDirty();var _e=this.acroField.getOnValues(),Ae=this.acroField.getExportValues();if(Ae)for(var Ce=0,Pe=Ae.length;Ce<Pe;Ce++)Ae[Ce].decodeText()===t&&this.acroField.setValue(_e[Ce]);else for(var Ce=0,Pe=_e.length;Ce<Pe;Ce++){var Ee=_e[Ce];Ee.decodeText()===t&&this.acroField.setValue(Ee)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(t,Se,_e){var Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re;assertIs(t,"option",["string"]),assertIs(Se,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(_e);var Be=this.createWidget({x:(Ae=_e==null?void 0:_e.x)!==null&&Ae!==void 0?Ae:0,y:(Ce=_e==null?void 0:_e.y)!==null&&Ce!==void 0?Ce:0,width:(Pe=_e==null?void 0:_e.width)!==null&&Pe!==void 0?Pe:50,height:(Ee=_e==null?void 0:_e.height)!==null&&Ee!==void 0?Ee:50,textColor:(Fe=_e==null?void 0:_e.textColor)!==null&&Fe!==void 0?Fe:rgb(0,0,0),backgroundColor:(ke=_e==null?void 0:_e.backgroundColor)!==null&&ke!==void 0?ke:rgb(1,1,1),borderColor:(Ie=_e==null?void 0:_e.borderColor)!==null&&Ie!==void 0?Ie:rgb(0,0,0),borderWidth:(Oe=_e==null?void 0:_e.borderWidth)!==null&&Oe!==void 0?Oe:1,rotate:(Re=_e==null?void 0:_e.rotate)!==null&&Re!==void 0?Re:degrees(0),hidden:_e==null?void 0:_e.hidden,page:Se.ref}),je=this.doc.context.register(Be.dict),He=this.acroField.addWidgetWithOpt(je,PDFHexString.fromText(t),!this.isMutuallyExclusive());Be.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(Be,He),Se.node.addAnnot(je)},e.prototype.needsAppearancesUpdate=function(){for(var t,Se=this.acroField.getWidgets(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=Ce.getAppearanceState(),Ee=(t=Ce.getAppearances())===null||t===void 0?void 0:t.normal;if(!(Ee instanceof PDFDict)||Pe&&!Ee.has(Pe))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){assertOrUndefined(t,"provider",[Function]);for(var Se=this.acroField.getWidgets(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=Ce.getOnValue();Pe&&this.updateWidgetAppearance(Ce,Pe,t)}},e.prototype.updateWidgetAppearance=function(t,Se,_e){var Ae=_e??defaultRadioGroupAppearanceProvider,Ce=normalizeAppearance(Ae(this,t));this.updateOnOffWidgetAppearance(t,Se,Ce)},e.of=function(t,Se,_e){return new e(t,Se,_e)},e}(PDFField),PDFSignature=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,t,Se,_e)||this;return assertIs(t,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),Ae.acroField=t,Ae}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(t,Se,_e){return new e(t,Se,_e)},e}(PDFField),PDFTextField=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,t,Se,_e)||this;return assertIs(t,"acroText",[[PDFAcroText,"PDFAcroText"]]),Ae.acroField=t,Ae}return e.prototype.getText=function(){var t=this.acroField.getValue();if(!t&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return t==null?void 0:t.decodeText()},e.prototype.setText=function(t){assertOrUndefined(t,"text",["string"]);var Se=this.getMaxLength();if(Se!==void 0&&t&&t.length>Se)throw new ExceededMaxLengthError(t.length,Se,this.getName());this.markAsDirty(),this.disableRichFormatting(),t?this.acroField.setValue(PDFHexString.fromText(t)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var t=this.acroField.getQuadding();return t===0?TextAlignment.Left:t===1?TextAlignment.Center:t===2?TextAlignment.Right:TextAlignment.Left},e.prototype.setAlignment=function(t){assertIsOneOf(t,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(t)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(t){if(assertRangeOrUndefined(t,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),t===void 0)this.acroField.removeMaxLength();else{var Se=this.getText();if(Se&&Se.length>t)throw new InvalidMaxLengthError(Se.length,t,this.getName());this.acroField.setMaxLength(t)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(t){for(var Se=this.getAlignment(),_e=Se===TextAlignment.Center?ImageAlignment.Center:Se===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,Ae=this.acroField.getWidgets(),Ce=0,Pe=Ae.length;Ce<Pe;Ce++){var Ee=Ae[Ce],Fe=this.createImageAppearanceStream(Ee,t,_e);this.updateWidgetAppearances(Ee,{normal:Fe})}this.markAsClean()},e.prototype.setFontSize=function(t){assertPositive(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var t="PDFTextFields must have a max length in order to be combed";console.warn(t)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},e.prototype.addToPage=function(t,Se){var _e,Ae,Ce,Pe,Ee,Fe,ke;assertIs(t,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Se),Se||(Se={}),"textColor"in Se||(Se.textColor=rgb(0,0,0)),"backgroundColor"in Se||(Se.backgroundColor=rgb(1,1,1)),"borderColor"in Se||(Se.borderColor=rgb(0,0,0)),"borderWidth"in Se||(Se.borderWidth=1);var Ie=this.createWidget({x:(_e=Se.x)!==null&&_e!==void 0?_e:0,y:(Ae=Se.y)!==null&&Ae!==void 0?Ae:0,width:(Ce=Se.width)!==null&&Ce!==void 0?Ce:200,height:(Pe=Se.height)!==null&&Pe!==void 0?Pe:50,textColor:Se.textColor,backgroundColor:Se.backgroundColor,borderColor:Se.borderColor,borderWidth:(Ee=Se.borderWidth)!==null&&Ee!==void 0?Ee:0,rotate:(Fe=Se.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:Se.hidden,page:t.ref}),Oe=this.doc.context.register(Ie.dict);this.acroField.addWidget(Oe);var Re=(ke=Se.font)!==null&&ke!==void 0?ke:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ie,Re),t.node.addAnnot(Oe)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var Se=this.acroField.getWidgets(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=((t=Ce.getAppearances())===null||t===void 0?void 0:t.normal)instanceof PDFStream;if(!Pe)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){assertIs(t,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,Se){assertIs(t,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Se,"provider",[Function]);for(var _e=this.acroField.getWidgets(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae];this.updateWidgetAppearance(Pe,t,Se)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,Se,_e){var Ae=_e??defaultTextFieldAppearanceProvider,Ce=normalizeAppearance(Ae(this,t,Se));this.updateWidgetAppearanceWithFont(t,Se,Ce)},e.of=function(t,Se,_e){return new e(t,Se,_e)},e}(PDFField),StandardFonts;(function(xe){xe.Courier="Courier",xe.CourierBold="Courier-Bold",xe.CourierOblique="Courier-Oblique",xe.CourierBoldOblique="Courier-BoldOblique",xe.Helvetica="Helvetica",xe.HelveticaBold="Helvetica-Bold",xe.HelveticaOblique="Helvetica-Oblique",xe.HelveticaBoldOblique="Helvetica-BoldOblique",xe.TimesRoman="Times-Roman",xe.TimesRomanBold="Times-Bold",xe.TimesRomanItalic="Times-Italic",xe.TimesRomanBoldItalic="Times-BoldItalic",xe.Symbol="Symbol",xe.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function xe(e,t){var Se=this;this.embedDefaultFont=function(){return Se.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(e,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(t,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return xe.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},xe.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},xe.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],Se=0,_e=e.length;Se<_e;Se++){var Ae=e[Se],Ce=Ae[0],Pe=Ae[1],Ee=convertToPDFField(Ce,Pe,this.doc);Ee&&t.push(Ee)}return t},xe.prototype.getFieldMaybe=function(e){assertIs(e,"name",["string"]);for(var t=this.getFields(),Se=0,_e=t.length;Se<_e;Se++){var Ae=t[Se];if(Ae.getName()===e)return Ae}},xe.prototype.getField=function(e){assertIs(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new NoSuchFieldError(e)},xe.prototype.getButton=function(e){assertIs(e,"name",["string"]);var t=this.getField(e);if(t instanceof PDFButton)return t;throw new UnexpectedFieldTypeError(e,PDFButton,t)},xe.prototype.getCheckBox=function(e){assertIs(e,"name",["string"]);var t=this.getField(e);if(t instanceof PDFCheckBox)return t;throw new UnexpectedFieldTypeError(e,PDFCheckBox,t)},xe.prototype.getDropdown=function(e){assertIs(e,"name",["string"]);var t=this.getField(e);if(t instanceof PDFDropdown)return t;throw new UnexpectedFieldTypeError(e,PDFDropdown,t)},xe.prototype.getOptionList=function(e){assertIs(e,"name",["string"]);var t=this.getField(e);if(t instanceof PDFOptionList)return t;throw new UnexpectedFieldTypeError(e,PDFOptionList,t)},xe.prototype.getRadioGroup=function(e){assertIs(e,"name",["string"]);var t=this.getField(e);if(t instanceof PDFRadioGroup)return t;throw new UnexpectedFieldTypeError(e,PDFRadioGroup,t)},xe.prototype.getSignature=function(e){assertIs(e,"name",["string"]);var t=this.getField(e);if(t instanceof PDFSignature)return t;throw new UnexpectedFieldTypeError(e,PDFSignature,t)},xe.prototype.getTextField=function(e){assertIs(e,"name",["string"]);var t=this.getField(e);if(t instanceof PDFTextField)return t;throw new UnexpectedFieldTypeError(e,PDFTextField,t)},xe.prototype.createButton=function(e){assertIs(e,"name",["string"]);var t=splitFieldName(e),Se=this.findOrCreateNonTerminals(t.nonTerminal),_e=PDFAcroPushButton.create(this.doc.context);return _e.setPartialName(t.terminal),addFieldToParent(Se,[_e,_e.ref],t.terminal),PDFButton.of(_e,_e.ref,this.doc)},xe.prototype.createCheckBox=function(e){assertIs(e,"name",["string"]);var t=splitFieldName(e),Se=this.findOrCreateNonTerminals(t.nonTerminal),_e=PDFAcroCheckBox.create(this.doc.context);return _e.setPartialName(t.terminal),addFieldToParent(Se,[_e,_e.ref],t.terminal),PDFCheckBox.of(_e,_e.ref,this.doc)},xe.prototype.createDropdown=function(e){assertIs(e,"name",["string"]);var t=splitFieldName(e),Se=this.findOrCreateNonTerminals(t.nonTerminal),_e=PDFAcroComboBox.create(this.doc.context);return _e.setPartialName(t.terminal),addFieldToParent(Se,[_e,_e.ref],t.terminal),PDFDropdown.of(_e,_e.ref,this.doc)},xe.prototype.createOptionList=function(e){assertIs(e,"name",["string"]);var t=splitFieldName(e),Se=this.findOrCreateNonTerminals(t.nonTerminal),_e=PDFAcroListBox.create(this.doc.context);return _e.setPartialName(t.terminal),addFieldToParent(Se,[_e,_e.ref],t.terminal),PDFOptionList.of(_e,_e.ref,this.doc)},xe.prototype.createRadioGroup=function(e){assertIs(e,"name",["string"]);var t=splitFieldName(e),Se=this.findOrCreateNonTerminals(t.nonTerminal),_e=PDFAcroRadioButton.create(this.doc.context);return _e.setPartialName(t.terminal),addFieldToParent(Se,[_e,_e.ref],t.terminal),PDFRadioGroup.of(_e,_e.ref,this.doc)},xe.prototype.createTextField=function(e){assertIs(e,"name",["string"]);var t=splitFieldName(e),Se=this.findOrCreateNonTerminals(t.nonTerminal),_e=PDFAcroText.create(this.doc.context);return _e.setPartialName(t.terminal),addFieldToParent(Se,[_e,_e.ref],t.terminal),PDFTextField.of(_e,_e.ref,this.doc)},xe.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),Se=0,_e=t.length;Se<_e;Se++){for(var Ae=t[Se],Ce=Ae.acroField.getWidgets(),Pe=0,Ee=Ce.length;Pe<Ee;Pe++){var Fe=Ce[Pe],ke=this.findWidgetPage(Fe),Ie=this.findWidgetAppearanceRef(Ae,Fe),Oe=ke.node.newXObject("FlatWidget",Ie),Re=Fe.getRectangle(),Be=__spreadArrays([pushGraphicsState(),translate(Re.x,Re.y)],rotateInPlace(__assign(__assign({},Re),{rotation:0})),[drawObject(Oe),popGraphicsState()]).filter(Boolean);ke.pushOperators.apply(ke,Be)}this.removeField(Ae)}},xe.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),Se=new Set,_e=0,Ae=t.length;_e<Ae;_e++){var Ce=t[_e],Pe=this.findWidgetAppearanceRef(e,Ce),Ee=this.findWidgetPage(Ce);Se.add(Ee),Ee.node.removeAnnot(Pe)}Se.forEach(function(Re){return Re.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var Fe=e.acroField.normalizedEntries().Kids,ke=Fe.size(),Ie=0;Ie<ke;Ie++){var Oe=Fe.get(Ie);Oe instanceof PDFRef&&this.doc.context.delete(Oe)}this.doc.context.delete(e.ref)},xe.prototype.updateFieldAppearances=function(e){assertOrUndefined(e,"font",[[PDFFont,"PDFFont"]]),e=e??this.getDefaultFont();for(var t=this.getFields(),Se=0,_e=t.length;Se<_e;Se++){var Ae=t[Se];Ae.needsAppearancesUpdate()&&Ae.defaultUpdateAppearances(e)}},xe.prototype.markFieldAsDirty=function(e){assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(e)},xe.prototype.markFieldAsClean=function(e){assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(e)},xe.prototype.fieldIsDirty=function(e){return assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(e)},xe.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},xe.prototype.findWidgetPage=function(e){var t=e.P(),Se=this.doc.getPages().find(function(Ae){return Ae.ref===t});if(Se===void 0){var _e=this.doc.context.getObjectRef(e.dict);if(_e===void 0)throw new Error("Could not find PDFRef for PDFObject");if(Se=this.doc.findPageForAnnotationRef(_e),Se===void 0)throw new Error("Could not find page for PDFRef "+_e)}return Se},xe.prototype.findWidgetAppearanceRef=function(e,t){var Se,_e=t.getNormalAppearance();if(_e instanceof PDFDict&&(e instanceof PDFCheckBox||e instanceof PDFRadioGroup)){var Ae=e.acroField.getValue(),Ce=(Se=_e.get(Ae))!==null&&Se!==void 0?Se:_e.get(PDFName.of("Off"));Ce instanceof PDFRef&&(_e=Ce)}if(!(_e instanceof PDFRef)){var Pe=e.getName();throw new Error("Failed to extract appearance ref for: "+Pe)}return _e},xe.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],Se=0,_e=e.length;Se<_e;Se++){var Ae=e[Se];if(!Ae)throw new InvalidFieldNamePartError(Ae);var Ce=t[0],Pe=t[1],Ee=this.findNonTerminal(Ae,Ce);if(Ee)t=Ee;else{var Fe=PDFAcroNonTerminal.create(this.doc.context);Fe.setPartialName(Ae),Fe.setParent(Pe);var ke=this.doc.context.register(Fe.dict);Ce.addField(ke),t=[Fe,ke]}}return t},xe.prototype.findNonTerminal=function(e,t){for(var Se=t instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(t.Kids()),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=Ce[0],Ee=Ce[1];if(Pe.getPartialName()===e){if(Pe instanceof PDFAcroNonTerminal)return[Pe,Ee];throw new FieldAlreadyExistsError(e)}}},xe.of=function(e,t){return new xe(e,t)},xe}(),convertToPDFField=function(xe,e,t){if(xe instanceof PDFAcroPushButton)return PDFButton.of(xe,e,t);if(xe instanceof PDFAcroCheckBox)return PDFCheckBox.of(xe,e,t);if(xe instanceof PDFAcroComboBox)return PDFDropdown.of(xe,e,t);if(xe instanceof PDFAcroListBox)return PDFOptionList.of(xe,e,t);if(xe instanceof PDFAcroText)return PDFTextField.of(xe,e,t);if(xe instanceof PDFAcroRadioButton)return PDFRadioGroup.of(xe,e,t);if(xe instanceof PDFAcroSignature)return PDFSignature.of(xe,e,t)},splitFieldName=function(xe){if(xe.length===0)throw new Error("PDF field names must not be empty strings");for(var e=xe.split("."),t=0,Se=e.length;t<Se;t++)if(e[t]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+xe+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},addFieldToParent=function(xe,e,t){for(var Se=xe[0],_e=xe[1],Ae=e[0],Ce=e[1],Pe=Se.normalizedEntries(),Ee=createPDFAcroFields("Kids"in Pe?Pe.Kids:Pe.Fields),Fe=0,ke=Ee.length;Fe<ke;Fe++)if(Ee[Fe][0].getPartialName()===t)throw new FieldAlreadyExistsError(t);Se.addField(Ce),Ae.setParent(_e)},PageSizes={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},ParseSpeeds;(function(xe){xe[xe.Fastest=1/0]="Fastest",xe[xe.Fast=1500]="Fast",xe[xe.Medium=500]="Medium",xe[xe.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function xe(e,t,Se){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=Se}return xe.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var e,t,Se,_e,Ae;return __generator(this,function(Ce){switch(Ce.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=Ce.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),t=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),t.has(PDFName.of("EmbeddedFiles"))||t.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),Se=t.lookup(PDFName.of("EmbeddedFiles"),PDFDict),Se.has(PDFName.of("Names"))||Se.set(PDFName.of("Names"),this.doc.context.obj([])),_e=Se.lookup(PDFName.of("Names"),PDFArray),_e.push(PDFHexString.fromText(this.embedder.fileName)),_e.push(e),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),Ae=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),Ae.push(e),this.alreadyEmbedded=!0,Ce.label=2;case 2:return[2]}})})},xe.of=function(e,t,Se){return new xe(e,t,Se)},xe}(),PDFJavaScript=function(){function xe(e,t,Se){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=Se}return xe.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var e,t,Se,_e,Ae,Ce,Pe;return __generator(this,function(Ee){switch(Ee.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,Se=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:_e=Ee.sent(),t.has(PDFName.of("Names"))||t.set(PDFName.of("Names"),Se.obj({})),Ae=t.lookup(PDFName.of("Names"),PDFDict),Ae.has(PDFName.of("JavaScript"))||Ae.set(PDFName.of("JavaScript"),Se.obj({})),Ce=Ae.lookup(PDFName.of("JavaScript"),PDFDict),Ce.has(PDFName.of("Names"))||Ce.set(PDFName.of("Names"),Se.obj([])),Pe=Ce.lookup(PDFName.of("Names"),PDFArray),Pe.push(PDFHexString.fromText(this.embedder.scriptName)),Pe.push(_e),this.alreadyEmbedded=!0,Ee.label=2;case 2:return[2]}})})},xe.of=function(e,t,Se){return new xe(e,t,Se)},xe}(),JavaScriptEmbedder=function(){function xe(e,t){this.script=e,this.scriptName=t}return xe.for=function(e,t){return new xe(e,t)},xe.prototype.embedIntoContext=function(e,t){return __awaiter$1(this,void 0,void 0,function(){var Se;return __generator(this,function(_e){return Se=e.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),t?(e.assign(t,Se),[2,t]):[2,e.register(Se)]})})},xe}(),PDFDocument=function(){function xe(e,t,Se){var _e=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var Ae=[];return _e.catalog.Pages().traverse(function(Ce,Pe){if(Ce instanceof PDFPageLeaf){var Ee=_e.pageMap.get(Ce);Ee||(Ee=PDFPage.of(Ce,Pe,_e),_e.pageMap.set(Ce,Ee)),Ae.push(Ee)}}),Ae},this.getOrCreateForm=function(){var Ae=_e.catalog.getOrCreateAcroForm();return PDFForm.of(Ae,_e)},assertIs(e,"context",[[PDFContext,"PDFContext"]]),assertIs(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new EncryptedPDFError;Se&&this.updateInfoDict()}return xe.load=function(e,t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be;return __generator(this,function(je){switch(je.label){case 0:return Se=t.ignoreEncryption,_e=Se===void 0?!1:Se,Ae=t.parseSpeed,Ce=Ae===void 0?ParseSpeeds.Slow:Ae,Pe=t.throwOnInvalidObject,Ee=Pe===void 0?!1:Pe,Fe=t.updateMetadata,ke=Fe===void 0?!0:Fe,Ie=t.capNumbers,Oe=Ie===void 0?!1:Ie,assertIs(e,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(_e,"ignoreEncryption",["boolean"]),assertIs(Ce,"parseSpeed",["number"]),assertIs(Ee,"throwOnInvalidObject",["boolean"]),Re=toUint8Array(e),[4,PDFParser.forBytesWithOptions(Re,Ce,Ee,Oe).parseDocument()];case 1:return Be=je.sent(),[2,new xe(Be,_e,ke)]}})})},xe.create=function(e){return e===void 0&&(e={}),__awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae,Ce,Pe;return __generator(this,function(Ee){return t=e.updateMetadata,Se=t===void 0?!0:t,_e=PDFContext.create(),Ae=PDFPageTree.withContext(_e),Ce=_e.register(Ae),Pe=PDFCatalog.withContextAndPages(_e,Ce),_e.trailerInfo.Root=_e.register(Pe),[2,new xe(_e,!1,Se)]})})},xe.prototype.registerFontkit=function(e){this.fontkit=e},xe.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},xe.prototype.getTitle=function(){var e=this.getInfoDict().lookup(PDFName.Title);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},xe.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(PDFName.Author);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},xe.prototype.getSubject=function(){var e=this.getInfoDict().lookup(PDFName.Subject);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},xe.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(PDFName.Keywords);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},xe.prototype.getCreator=function(){var e=this.getInfoDict().lookup(PDFName.Creator);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},xe.prototype.getProducer=function(){var e=this.getInfoDict().lookup(PDFName.Producer);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},xe.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(PDFName.CreationDate);if(e)return assertIsLiteralOrHexString(e),e.decodeDate()},xe.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(PDFName.ModDate);if(e)return assertIsLiteralOrHexString(e),e.decodeDate()},xe.prototype.setTitle=function(e,t){assertIs(e,"title",["string"]);var Se=PDFName.of("Title");if(this.getInfoDict().set(Se,PDFHexString.fromText(e)),t!=null&&t.showInWindowTitleBar){var _e=this.catalog.getOrCreateViewerPreferences();_e.setDisplayDocTitle(!0)}},xe.prototype.setAuthor=function(e){assertIs(e,"author",["string"]);var t=PDFName.of("Author");this.getInfoDict().set(t,PDFHexString.fromText(e))},xe.prototype.setSubject=function(e){assertIs(e,"author",["string"]);var t=PDFName.of("Subject");this.getInfoDict().set(t,PDFHexString.fromText(e))},xe.prototype.setKeywords=function(e){assertIs(e,"keywords",[Array]);var t=PDFName.of("Keywords");this.getInfoDict().set(t,PDFHexString.fromText(e.join(" ")))},xe.prototype.setCreator=function(e){assertIs(e,"creator",["string"]);var t=PDFName.of("Creator");this.getInfoDict().set(t,PDFHexString.fromText(e))},xe.prototype.setProducer=function(e){assertIs(e,"creator",["string"]);var t=PDFName.of("Producer");this.getInfoDict().set(t,PDFHexString.fromText(e))},xe.prototype.setLanguage=function(e){assertIs(e,"language",["string"]);var t=PDFName.of("Lang");this.catalog.set(t,PDFString.of(e))},xe.prototype.setCreationDate=function(e){assertIs(e,"creationDate",[[Date,"Date"]]);var t=PDFName.of("CreationDate");this.getInfoDict().set(t,PDFString.fromDate(e))},xe.prototype.setModificationDate=function(e){assertIs(e,"modificationDate",[[Date,"Date"]]);var t=PDFName.of("ModDate");this.getInfoDict().set(t,PDFString.fromDate(e))},xe.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},xe.prototype.getPages=function(){return this.pageCache.access()},xe.prototype.getPage=function(e){var t=this.getPages();return assertRange(e,"index",0,t.length-1),t[e]},xe.prototype.getPageIndices=function(){return range(0,this.getPageCount())},xe.prototype.removePage=function(e){var t=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},xe.prototype.addPage=function(e){return assertIs(e,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},xe.prototype.insertPage=function(e,t){var Se=this.getPageCount();if(assertRange(e,"index",0,Se),assertIs(t,"page",["undefined",[PDFPage,"PDFPage"],Array]),!t||Array.isArray(t)){var _e=Array.isArray(t)?t:PageSizes.A4;t=PDFPage.create(this),t.setSize.apply(t,_e)}else if(t.doc!==this)throw new ForeignPageError;var Ae=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(Ae),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=Se+1,t},xe.prototype.copyPages=function(e,t){return __awaiter$1(this,void 0,void 0,function(){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke;return __generator(this,function(Ie){switch(Ie.label){case 0:return assertIs(e,"srcDoc",[[xe,"PDFDocument"]]),assertIs(t,"indices",[Array]),[4,e.flush()];case 1:for(Ie.sent(),Se=PDFObjectCopier.for(e.context,this.context),_e=e.getPages(),Ae=new Array(t.length),Ce=0,Pe=t.length;Ce<Pe;Ce++)Ee=_e[t[Ce]],Fe=Se.copy(Ee.node),ke=this.context.register(Fe),Ae[Ce]=PDFPage.of(Fe,ke,this);return[2,Ae]}})})},xe.prototype.copy=function(){return __awaiter$1(this,void 0,void 0,function(){var e,t,Se,_e;return __generator(this,function(Ae){switch(Ae.label){case 0:return[4,xe.create()];case 1:return e=Ae.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(t=Ae.sent(),Se=0,_e=t.length;Se<_e;Se++)e.addPage(t[Se]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},xe.prototype.addJavaScript=function(e,t){assertIs(e,"name",["string"]),assertIs(t,"script",["string"]);var Se=JavaScriptEmbedder.for(t,e),_e=this.context.nextRef(),Ae=PDFJavaScript.of(_e,this,Se);this.javaScripts.push(Ae)},xe.prototype.attach=function(e,t,Se){return Se===void 0&&(Se={}),__awaiter$1(this,void 0,void 0,function(){var _e,Ae,Ce,Pe;return __generator(this,function(Ee){return assertIs(e,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(t,"name",["string"]),assertOrUndefined(Se.mimeType,"mimeType",["string"]),assertOrUndefined(Se.description,"description",["string"]),assertOrUndefined(Se.creationDate,"options.creationDate",[Date]),assertOrUndefined(Se.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(Se.afRelationship,"options.afRelationship",AFRelationship),_e=toUint8Array(e),Ae=FileEmbedder.for(_e,t,Se),Ce=this.context.nextRef(),Pe=PDFEmbeddedFile.of(Ce,this,Ae),this.embeddedFiles.push(Pe),[2]})})},xe.prototype.embedFont=function(e,t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe;return __generator(this,function(Re){switch(Re.label){case 0:return Se=t.subset,_e=Se===void 0?!1:Se,Ae=t.customName,Ce=t.features,assertIs(e,"font",["string",Uint8Array,ArrayBuffer]),assertIs(_e,"subset",["boolean"]),isStandardFont(e)?(Pe=StandardFontEmbedder.for(e,Ae),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(e)?(Ee=toUint8Array(e),Fe=this.assertFontkit(),_e?[4,CustomFontSubsetEmbedder.for(Fe,Ee,Ae,Ce)]:[3,3]):[3,6];case 2:return ke=Re.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(Fe,Ee,Ae,Ce)];case 4:ke=Re.sent(),Re.label=5;case 5:return Pe=ke,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return Ie=this.context.nextRef(),Oe=PDFFont.of(Ie,this,Pe),this.fonts.push(Oe),[2,Oe]}})})},xe.prototype.embedStandardFont=function(e,t){if(assertIs(e,"font",["string"]),!isStandardFont(e))throw new TypeError("`font` must be one of type `StandardFonts`");var Se=StandardFontEmbedder.for(e,t),_e=this.context.nextRef(),Ae=PDFFont.of(_e,this,Se);return this.fonts.push(Ae),Ae},xe.prototype.embedJpg=function(e){return __awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae;return __generator(this,function(Ce){switch(Ce.label){case 0:return assertIs(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=toUint8Array(e),[4,JpegEmbedder.for(t)];case 1:return Se=Ce.sent(),_e=this.context.nextRef(),Ae=PDFImage.of(_e,this,Se),this.images.push(Ae),[2,Ae]}})})},xe.prototype.embedPng=function(e){return __awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae;return __generator(this,function(Ce){switch(Ce.label){case 0:return assertIs(e,"png",["string",Uint8Array,ArrayBuffer]),t=toUint8Array(e),[4,PngEmbedder.for(t)];case 1:return Se=Ce.sent(),_e=this.context.nextRef(),Ae=PDFImage.of(_e,this,Se),this.images.push(Ae),[2,Ae]}})})},xe.prototype.embedPdf=function(e,t){return t===void 0&&(t=[0]),__awaiter$1(this,void 0,void 0,function(){var Se,_e,Ae;return __generator(this,function(Ce){switch(Ce.label){case 0:return assertIs(e,"pdf",["string",Uint8Array,ArrayBuffer,[xe,"PDFDocument"]]),assertIs(t,"indices",[Array]),e instanceof xe?(_e=e,[3,3]):[3,1];case 1:return[4,xe.load(e)];case 2:_e=Ce.sent(),Ce.label=3;case 3:return Se=_e,Ae=pluckIndices(Se.getPages(),t),[2,this.embedPages(Ae)]}})})},xe.prototype.embedPage=function(e,t,Se){return __awaiter$1(this,void 0,void 0,function(){var _e;return __generator(this,function(Ae){switch(Ae.label){case 0:return assertIs(e,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([e],[t],[Se])];case 1:return _e=Ae.sent()[0],[2,_e]}})})},xe.prototype.embedPages=function(e,t,Se){return t===void 0&&(t=[]),Se===void 0&&(Se=[]),__awaiter$1(this,void 0,void 0,function(){var Fe,ke,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je,He;return __generator(this,function(Ge){switch(Ge.label){case 0:if(e.length===0)return[2,[]];for(Fe=0,ke=e.length-1;Fe<ke;Fe++)if(_e=e[Fe],Ae=e[Fe+1],_e.node.context!==Ae.node.context)throw new PageEmbeddingMismatchedContextError;Ce=e[0].node.context,Pe=Ce===this.context?function(Ve){return Ve}:PDFObjectCopier.for(Ce,this.context).copy,Ee=new Array(e.length),Fe=0,ke=e.length,Ge.label=1;case 1:return Fe<ke?(Ie=Pe(e[Fe].node),Oe=t[Fe],Re=Se[Fe],[4,PDFPageEmbedder.for(Ie,Oe,Re)]):[3,4];case 2:Be=Ge.sent(),je=this.context.nextRef(),Ee[Fe]=PDFEmbeddedPage.of(je,this,Be),Ge.label=3;case 3:return Fe++,[3,1];case 4:return(He=this.embeddedPages).push.apply(He,Ee),[2,Ee]}})})},xe.prototype.flush=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},xe.prototype.save=function(e){return e===void 0&&(e={}),__awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie;return __generator(this,function(Oe){switch(Oe.label){case 0:return t=e.useObjectStreams,Se=t===void 0?!0:t,_e=e.addDefaultPage,Ae=_e===void 0?!0:_e,Ce=e.objectsPerTick,Pe=Ce===void 0?50:Ce,Ee=e.updateFieldAppearances,Fe=Ee===void 0?!0:Ee,assertIs(Se,"useObjectStreams",["boolean"]),assertIs(Ae,"addDefaultPage",["boolean"]),assertIs(Pe,"objectsPerTick",["number"]),assertIs(Fe,"updateFieldAppearances",["boolean"]),Ae&&this.getPageCount()===0&&this.addPage(),Fe&&(ke=this.formCache.getValue(),ke&&ke.updateFieldAppearances()),[4,this.flush()];case 1:return Oe.sent(),Ie=Se?PDFStreamWriter:PDFWriter,[2,Ie.forContext(this.context,Pe).serializeToBuffer()]}})})},xe.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),__awaiter$1(this,void 0,void 0,function(){var t,Se,_e,Ae,Ce;return __generator(this,function(Pe){switch(Pe.label){case 0:return t=e.dataUri,Se=t===void 0?!1:t,_e=__rest$2(e,["dataUri"]),assertIs(Se,"dataUri",["boolean"]),[4,this.save(_e)];case 1:return Ae=Pe.sent(),Ce=encodeToBase64(Ae),[2,Se?"data:application/pdf;base64,"+Ce:Ce]}})})},xe.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),Se=0,_e=t.length;Se<_e;Se++){var Ae=t[Se],Ce=Ae.node.Annots();if((Ce==null?void 0:Ce.indexOf(e))!==void 0)return Ae}},xe.prototype.embedAll=function(e){return __awaiter$1(this,void 0,void 0,function(){var t,Se;return __generator(this,function(_e){switch(_e.label){case 0:t=0,Se=e.length,_e.label=1;case 1:return t<Se?[4,e[t].embed()]:[3,4];case 2:_e.sent(),_e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},xe.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,Se=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),Se.get(PDFName.of("Creator"))||this.setCreator(e),Se.get(PDFName.of("CreationDate"))||this.setCreationDate(t)},xe.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof PDFDict)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},xe.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},xe}();function assertIsLiteralOrHexString(xe){if(!(xe instanceof PDFHexString)&&!(xe instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],xe)}var BlendMode;(function(xe){xe.Normal="Normal",xe.Multiply="Multiply",xe.Screen="Screen",xe.Overlay="Overlay",xe.Darken="Darken",xe.Lighten="Lighten",xe.ColorDodge="ColorDodge",xe.ColorBurn="ColorBurn",xe.HardLight="HardLight",xe.SoftLight="SoftLight",xe.Difference="Difference",xe.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function xe(e,t,Se){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(e,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(Se,"doc",[[PDFDocument,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=Se}return xe.prototype.setRotation=function(e){var t=toDegrees(e);assertMultiple(t,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(t))},xe.prototype.getRotation=function(){var e=this.node.Rotate();return degrees(e?e.asNumber():0)},xe.prototype.setSize=function(e,t){assertIs(e,"width",["number"]),assertIs(t,"height",["number"]);var Se=this.getMediaBox();this.setMediaBox(Se.x,Se.y,e,t);var _e=this.getCropBox(),Ae=this.getBleedBox(),Ce=this.getTrimBox(),Pe=this.getArtBox(),Ee=this.node.CropBox(),Fe=this.node.BleedBox(),ke=this.node.TrimBox(),Ie=this.node.ArtBox();Ee&&rectanglesAreEqual(_e,Se)&&this.setCropBox(Se.x,Se.y,e,t),Fe&&rectanglesAreEqual(Ae,Se)&&this.setBleedBox(Se.x,Se.y,e,t),ke&&rectanglesAreEqual(Ce,Se)&&this.setTrimBox(Se.x,Se.y,e,t),Ie&&rectanglesAreEqual(Pe,Se)&&this.setArtBox(Se.x,Se.y,e,t)},xe.prototype.setWidth=function(e){assertIs(e,"width",["number"]),this.setSize(e,this.getSize().height)},xe.prototype.setHeight=function(e){assertIs(e,"height",["number"]),this.setSize(this.getSize().width,e)},xe.prototype.setMediaBox=function(e,t,Se,_e){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),assertIs(Se,"width",["number"]),assertIs(_e,"height",["number"]);var Ae=this.doc.context.obj([e,t,e+Se,t+_e]);this.node.set(PDFName.MediaBox,Ae)},xe.prototype.setCropBox=function(e,t,Se,_e){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),assertIs(Se,"width",["number"]),assertIs(_e,"height",["number"]);var Ae=this.doc.context.obj([e,t,e+Se,t+_e]);this.node.set(PDFName.CropBox,Ae)},xe.prototype.setBleedBox=function(e,t,Se,_e){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),assertIs(Se,"width",["number"]),assertIs(_e,"height",["number"]);var Ae=this.doc.context.obj([e,t,e+Se,t+_e]);this.node.set(PDFName.BleedBox,Ae)},xe.prototype.setTrimBox=function(e,t,Se,_e){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),assertIs(Se,"width",["number"]),assertIs(_e,"height",["number"]);var Ae=this.doc.context.obj([e,t,e+Se,t+_e]);this.node.set(PDFName.TrimBox,Ae)},xe.prototype.setArtBox=function(e,t,Se,_e){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),assertIs(Se,"width",["number"]),assertIs(_e,"height",["number"]);var Ae=this.doc.context.obj([e,t,e+Se,t+_e]);this.node.set(PDFName.ArtBox,Ae)},xe.prototype.getSize=function(){var e=this.getMediaBox(),t=e.width,Se=e.height;return{width:t,height:Se}},xe.prototype.getWidth=function(){return this.getSize().width},xe.prototype.getHeight=function(){return this.getSize().height},xe.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},xe.prototype.getCropBox=function(){var e,t=this.node.CropBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},xe.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},xe.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},xe.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},xe.prototype.translateContent=function(e,t){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),this.node.normalize(),this.getContentStream();var Se=this.createContentStream(pushGraphicsState(),translate(e,t)),_e=this.doc.context.register(Se),Ae=this.createContentStream(popGraphicsState()),Ce=this.doc.context.register(Ae);this.node.wrapContentStreams(_e,Ce)},xe.prototype.scale=function(e,t){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},xe.prototype.scaleContent=function(e,t){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),this.node.normalize(),this.getContentStream();var Se=this.createContentStream(pushGraphicsState(),scale(e,t)),_e=this.doc.context.register(Se),Ae=this.createContentStream(popGraphicsState()),Ce=this.doc.context.register(Ae);this.node.wrapContentStreams(_e,Ce)},xe.prototype.scaleAnnotations=function(e,t){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]);var Se=this.node.Annots();if(Se)for(var _e=0;_e<Se.size();_e++){var Ae=Se.lookup(_e);Ae instanceof PDFDict&&this.scaleAnnot(Ae,e,t)}},xe.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},xe.prototype.setFont=function(e){assertIs(e,"font",[[PDFFont,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},xe.prototype.setFontSize=function(e){assertIs(e,"fontSize",["number"]),this.fontSize=e},xe.prototype.setFontColor=function(e){assertIs(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},xe.prototype.setLineHeight=function(e){assertIs(e,"lineHeight",["number"]),this.lineHeight=e},xe.prototype.getPosition=function(){return{x:this.x,y:this.y}},xe.prototype.getX=function(){return this.x},xe.prototype.getY=function(){return this.y},xe.prototype.moveTo=function(e,t){assertIs(e,"x",["number"]),assertIs(t,"y",["number"]),this.x=e,this.y=t},xe.prototype.moveDown=function(e){assertIs(e,"yDecrease",["number"]),this.y-=e},xe.prototype.moveUp=function(e){assertIs(e,"yIncrease",["number"]),this.y+=e},xe.prototype.moveLeft=function(e){assertIs(e,"xDecrease",["number"]),this.x-=e},xe.prototype.moveRight=function(e){assertIs(e,"xIncrease",["number"]),this.x+=e},xe.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];assertEachIs(e,"operator",[[PDFOperator,"PDFOperator"]]);var Se=this.getContentStream();Se.push.apply(Se,e)},xe.prototype.drawText=function(e,t){var Se,_e,Ae,Ce,Pe,Ee,Fe;t===void 0&&(t={}),assertIs(e,"text",["string"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(t.size,"options.size",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(t.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(t.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);for(var ke=this.setOrEmbedFont(t.font),Ie=ke.oldFont,Oe=ke.newFont,Re=ke.newFontKey,Be=t.size||this.fontSize,je=t.wordBreaks||this.doc.defaultWordBreaks,He=function(Qe){return Oe.widthOfTextAtSize(Qe,Be)},Ge=t.maxWidth===void 0?lineSplit(cleanText(e)):breakTextIntoLines(e,je,t.maxWidth,He),Ve=new Array(Ge.length),ze=0,Xe=Ge.length;ze<Xe;ze++)Ve[ze]=Oe.encodeText(Ge[ze]);var We=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),Je=this.getContentStream();Je.push.apply(Je,drawLinesOfText(Ve,{color:(Se=t.color)!==null&&Se!==void 0?Se:this.fontColor,font:Re,size:Be,rotate:(_e=t.rotate)!==null&&_e!==void 0?_e:degrees(0),xSkew:(Ae=t.xSkew)!==null&&Ae!==void 0?Ae:degrees(0),ySkew:(Ce=t.ySkew)!==null&&Ce!==void 0?Ce:degrees(0),x:(Pe=t.x)!==null&&Pe!==void 0?Pe:this.x,y:(Ee=t.y)!==null&&Ee!==void 0?Ee:this.y,lineHeight:(Fe=t.lineHeight)!==null&&Fe!==void 0?Fe:this.lineHeight,graphicsState:We})),t.font&&(Ie?this.setFont(Ie):this.resetFont())},xe.prototype.drawImage=function(e,t){var Se,_e,Ae,Ce,Pe,Ee,Fe;t===void 0&&(t={}),assertIs(e,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.width,"options.width",["number"]),assertOrUndefined(t.height,"options.height",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var ke=this.node.newXObject("Image",e.ref),Ie=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),Oe=this.getContentStream();Oe.push.apply(Oe,drawImage(ke,{x:(Se=t.x)!==null&&Se!==void 0?Se:this.x,y:(_e=t.y)!==null&&_e!==void 0?_e:this.y,width:(Ae=t.width)!==null&&Ae!==void 0?Ae:e.size().width,height:(Ce=t.height)!==null&&Ce!==void 0?Ce:e.size().height,rotate:(Pe=t.rotate)!==null&&Pe!==void 0?Pe:degrees(0),xSkew:(Ee=t.xSkew)!==null&&Ee!==void 0?Ee:degrees(0),ySkew:(Fe=t.ySkew)!==null&&Fe!==void 0?Fe:degrees(0),graphicsState:Ie}))},xe.prototype.drawPage=function(e,t){var Se,_e,Ae,Ce,Pe;t===void 0&&(t={}),assertIs(e,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.xScale,"options.xScale",["number"]),assertOrUndefined(t.yScale,"options.yScale",["number"]),assertOrUndefined(t.width,"options.width",["number"]),assertOrUndefined(t.height,"options.height",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var Ee=this.node.newXObject("EmbeddedPdfPage",e.ref),Fe=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),ke=t.width!==void 0?t.width/e.width:t.xScale!==void 0?t.xScale:1,Ie=t.height!==void 0?t.height/e.height:t.yScale!==void 0?t.yScale:1,Oe=this.getContentStream();Oe.push.apply(Oe,drawPage(Ee,{x:(Se=t.x)!==null&&Se!==void 0?Se:this.x,y:(_e=t.y)!==null&&_e!==void 0?_e:this.y,xScale:ke,yScale:Ie,rotate:(Ae=t.rotate)!==null&&Ae!==void 0?Ae:degrees(0),xSkew:(Ce=t.xSkew)!==null&&Ce!==void 0?Ce:degrees(0),ySkew:(Pe=t.ySkew)!==null&&Pe!==void 0?Pe:degrees(0),graphicsState:Fe}))},xe.prototype.drawSvgPath=function(e,t){var Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie;t===void 0&&(t={}),assertIs(e,"path",["string"]),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.scale,"options.scale",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(t.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(t.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(t.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(t.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var Oe=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.borderColor=rgb(0,0,0));var Re=this.getContentStream();Re.push.apply(Re,drawSvgPath(e,{x:(Se=t.x)!==null&&Se!==void 0?Se:this.x,y:(_e=t.y)!==null&&_e!==void 0?_e:this.y,scale:t.scale,rotate:(Ae=t.rotate)!==null&&Ae!==void 0?Ae:degrees(0),color:(Ce=t.color)!==null&&Ce!==void 0?Ce:void 0,borderColor:(Pe=t.borderColor)!==null&&Pe!==void 0?Pe:void 0,borderWidth:(Ee=t.borderWidth)!==null&&Ee!==void 0?Ee:0,borderDashArray:(Fe=t.borderDashArray)!==null&&Fe!==void 0?Fe:void 0,borderDashPhase:(ke=t.borderDashPhase)!==null&&ke!==void 0?ke:void 0,borderLineCap:(Ie=t.borderLineCap)!==null&&Ie!==void 0?Ie:void 0,graphicsState:Oe}))},xe.prototype.drawLine=function(e){var t,Se,_e,Ae,Ce;assertIs(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(e.start.x,"options.start.x",["number"]),assertIs(e.start.y,"options.start.y",["number"]),assertIs(e.end.x,"options.end.x",["number"]),assertIs(e.end.y,"options.end.y",["number"]),assertOrUndefined(e.thickness,"options.thickness",["number"]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertOrUndefined(e.dashArray,"options.dashArray",[Array]),assertOrUndefined(e.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(e.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var Pe=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=rgb(0,0,0));var Ee=this.getContentStream();Ee.push.apply(Ee,drawLine({start:e.start,end:e.end,thickness:(t=e.thickness)!==null&&t!==void 0?t:1,color:(Se=e.color)!==null&&Se!==void 0?Se:void 0,dashArray:(_e=e.dashArray)!==null&&_e!==void 0?_e:void 0,dashPhase:(Ae=e.dashPhase)!==null&&Ae!==void 0?Ae:void 0,lineCap:(Ce=e.lineCap)!==null&&Ce!==void 0?Ce:void 0,graphicsState:Pe}))},xe.prototype.drawRectangle=function(e){var t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be;e===void 0&&(e={}),assertOrUndefined(e.x,"options.x",["number"]),assertOrUndefined(e.y,"options.y",["number"]),assertOrUndefined(e.width,"options.width",["number"]),assertOrUndefined(e.height,"options.height",["number"]),assertOrUndefined(e.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(e.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertOrUndefined(e.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(e.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(e.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(e.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(e.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var je=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=rgb(0,0,0));var He=this.getContentStream();He.push.apply(He,drawRectangle({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(Se=e.y)!==null&&Se!==void 0?Se:this.y,width:(_e=e.width)!==null&&_e!==void 0?_e:150,height:(Ae=e.height)!==null&&Ae!==void 0?Ae:100,rotate:(Ce=e.rotate)!==null&&Ce!==void 0?Ce:degrees(0),xSkew:(Pe=e.xSkew)!==null&&Pe!==void 0?Pe:degrees(0),ySkew:(Ee=e.ySkew)!==null&&Ee!==void 0?Ee:degrees(0),borderWidth:(Fe=e.borderWidth)!==null&&Fe!==void 0?Fe:0,color:(ke=e.color)!==null&&ke!==void 0?ke:void 0,borderColor:(Ie=e.borderColor)!==null&&Ie!==void 0?Ie:void 0,borderDashArray:(Oe=e.borderDashArray)!==null&&Oe!==void 0?Oe:void 0,borderDashPhase:(Re=e.borderDashPhase)!==null&&Re!==void 0?Re:void 0,graphicsState:je,borderLineCap:(Be=e.borderLineCap)!==null&&Be!==void 0?Be:void 0}))},xe.prototype.drawSquare=function(e){e===void 0&&(e={});var t=e.size;assertOrUndefined(t,"size",["number"]),this.drawRectangle(__assign(__assign({},e),{width:t,height:t}))},xe.prototype.drawEllipse=function(e){var t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe;e===void 0&&(e={}),assertOrUndefined(e.x,"options.x",["number"]),assertOrUndefined(e.y,"options.y",["number"]),assertOrUndefined(e.xScale,"options.xScale",["number"]),assertOrUndefined(e.yScale,"options.yScale",["number"]),assertOrUndefined(e.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertOrUndefined(e.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(e.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(e.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(e.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(e.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(e.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var Re=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=rgb(0,0,0));var Be=this.getContentStream();Be.push.apply(Be,drawEllipse({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(Se=e.y)!==null&&Se!==void 0?Se:this.y,xScale:(_e=e.xScale)!==null&&_e!==void 0?_e:100,yScale:(Ae=e.yScale)!==null&&Ae!==void 0?Ae:100,rotate:(Ce=e.rotate)!==null&&Ce!==void 0?Ce:void 0,color:(Pe=e.color)!==null&&Pe!==void 0?Pe:void 0,borderColor:(Ee=e.borderColor)!==null&&Ee!==void 0?Ee:void 0,borderWidth:(Fe=e.borderWidth)!==null&&Fe!==void 0?Fe:0,borderDashArray:(ke=e.borderDashArray)!==null&&ke!==void 0?ke:void 0,borderDashPhase:(Ie=e.borderDashPhase)!==null&&Ie!==void 0?Ie:void 0,borderLineCap:(Oe=e.borderLineCap)!==null&&Oe!==void 0?Oe:void 0,graphicsState:Re}))},xe.prototype.drawCircle=function(e){e===void 0&&(e={});var t=e.size,Se=t===void 0?100:t;assertOrUndefined(Se,"size",["number"]),this.drawEllipse(__assign(__assign({},e),{xScale:Se,yScale:Se}))},xe.prototype.setOrEmbedFont=function(e){var t=this.font,Se=this.fontKey;e?this.setFont(e):this.getFont();var _e=this.font,Ae=this.fontKey;return{oldFont:t,oldFontKey:Se,newFont:_e,newFontKey:Ae}},xe.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},xe.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},xe.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},xe.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var Se=this.doc.context.obj({}),_e=PDFContentStream.of(Se,e);return _e},xe.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,Se=e.borderOpacity,_e=e.blendMode;if(!(t===void 0&&Se===void 0&&_e===void 0)){var Ae=this.doc.context.obj({Type:"ExtGState",ca:t,CA:Se,BM:_e}),Ce=this.node.newExtGState("GS",Ae);return Ce}},xe.prototype.scaleAnnot=function(e,t,Se){for(var _e=["RD","CL","Vertices","QuadPoints","L","Rect"],Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=e.lookup(PDFName.of(_e[Ae]));Pe instanceof PDFArray&&Pe.scalePDFNumbers(t,Se)}var Ee=e.lookup(PDFName.of("InkList"));if(Ee instanceof PDFArray)for(var Ae=0,Ce=Ee.size();Ae<Ce;Ae++){var Fe=Ee.lookup(Ae);Fe instanceof PDFArray&&Fe.scalePDFNumbers(t,Se)}},xe.of=function(e,t,Se){return new xe(e,t,Se)},xe.create=function(e){assertIs(e,"doc",[[PDFDocument,"PDFDocument"]]);var t=PDFRef.of(-1),Se=PDFPageLeaf.withContextAndParent(e.context,t),_e=e.context.register(Se);return new xe(Se,_e,e)},xe}(),PDFButton=function(xe){__extends(e,xe);function e(t,Se,_e){var Ae=xe.call(this,t,Se,_e)||this;return assertIs(t,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),Ae.acroField=t,Ae}return e.prototype.setImage=function(t,Se){Se===void 0&&(Se=ImageAlignment.Center);for(var _e=this.acroField.getWidgets(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae],Ee=this.createImageAppearanceStream(Pe,t,Se);this.updateWidgetAppearances(Pe,{normal:Ee})}this.markAsClean()},e.prototype.setFontSize=function(t){assertPositive(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.addToPage=function(t,Se,_e){var Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be,je;assertOrUndefined(t,"text",["string"]),assertOrUndefined(Se,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(_e);var He=this.createWidget({x:((Ae=_e==null?void 0:_e.x)!==null&&Ae!==void 0?Ae:0)-((Ce=_e==null?void 0:_e.borderWidth)!==null&&Ce!==void 0?Ce:0)/2,y:((Pe=_e==null?void 0:_e.y)!==null&&Pe!==void 0?Pe:0)-((Ee=_e==null?void 0:_e.borderWidth)!==null&&Ee!==void 0?Ee:0)/2,width:(Fe=_e==null?void 0:_e.width)!==null&&Fe!==void 0?Fe:100,height:(ke=_e==null?void 0:_e.height)!==null&&ke!==void 0?ke:50,textColor:(Ie=_e==null?void 0:_e.textColor)!==null&&Ie!==void 0?Ie:rgb(0,0,0),backgroundColor:(Oe=_e==null?void 0:_e.backgroundColor)!==null&&Oe!==void 0?Oe:rgb(.75,.75,.75),borderColor:_e==null?void 0:_e.borderColor,borderWidth:(Re=_e==null?void 0:_e.borderWidth)!==null&&Re!==void 0?Re:0,rotate:(Be=_e==null?void 0:_e.rotate)!==null&&Be!==void 0?Be:degrees(0),caption:t,hidden:_e==null?void 0:_e.hidden,page:Se.ref}),Ge=this.doc.context.register(He.dict);this.acroField.addWidget(Ge);var Ve=(je=_e==null?void 0:_e.font)!==null&&je!==void 0?je:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(He,Ve),Se.node.addAnnot(Ge)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var Se=this.acroField.getWidgets(),_e=0,Ae=Se.length;_e<Ae;_e++){var Ce=Se[_e],Pe=((t=Ce.getAppearances())===null||t===void 0?void 0:t.normal)instanceof PDFStream;if(!Pe)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){assertIs(t,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,Se){assertIs(t,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Se,"provider",[Function]);for(var _e=this.acroField.getWidgets(),Ae=0,Ce=_e.length;Ae<Ce;Ae++){var Pe=_e[Ae];this.updateWidgetAppearance(Pe,t,Se)}},e.prototype.updateWidgetAppearance=function(t,Se,_e){var Ae=_e??defaultButtonAppearanceProvider,Ce=normalizeAppearance(Ae(this,t,Se));this.updateWidgetAppearanceWithFont(t,Se,Ce)},e.of=function(t,Se,_e){return new e(t,Se,_e)},e}(PDFField),__webpack_require__={};__webpack_require__.d=(xe,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(xe,t)&&Object.defineProperty(xe,t,{enumerable:!0,get:e[t]})};__webpack_require__.o=(xe,e)=>Object.prototype.hasOwnProperty.call(xe,e);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer$1,AnnotationMode:()=>AnnotationMode,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,OutputScale:()=>OutputScale,PDFDataRangeTransport:()=>PDFDataRangeTransport$1,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses$1,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer$1,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util$1,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(xe){Number.isInteger(xe)&&(verbosity=xe)}function getVerbosityLevel(){return verbosity}function info(xe){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${xe}`)}function warn(xe){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${xe}`)}function unreachable(xe){throw new Error(xe)}function assert(xe,e){xe||unreachable(e)}function _isValidProtocol(xe){switch(xe==null?void 0:xe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(xe,e=null,t=null){if(!xe)return null;try{if(t&&typeof xe=="string"){if(t.addDefaultProtocol&&xe.startsWith("www.")){const _e=xe.match(/\./g);(_e==null?void 0:_e.length)>=2&&(xe=`http://${xe}`)}if(t.tryConvertEncoding)try{xe=stringToUTF8String(xe)}catch{}}const Se=e?new URL(xe,e):new URL(xe);if(_isValidProtocol(Se))return Se}catch{}return null}function shadow(xe,e,t,Se=!1){return Object.defineProperty(xe,e,{value:t,enumerable:!Se,configurable:!0,writable:!1}),t}const BaseException=function xe(){function e(t,Se){this.message=t,this.name=Se}return e.prototype=new Error,e.constructor=e,e}();class PasswordException extends BaseException{constructor(e,t){super(e,"PasswordException"),this.code=t}}class UnknownErrorException extends BaseException{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class InvalidPDFException extends BaseException{constructor(e){super(e,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(e){super(e,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class FormatError extends BaseException{constructor(e){super(e,"FormatError")}}class AbortException extends BaseException{constructor(e){super(e,"AbortException")}}function bytesToString(xe){(typeof xe!="object"||(xe==null?void 0:xe.length)===void 0)&&unreachable("Invalid argument for bytesToString");const e=xe.length,t=8192;if(e<t)return String.fromCharCode.apply(null,xe);const Se=[];for(let _e=0;_e<e;_e+=t){const Ae=Math.min(_e+t,e),Ce=xe.subarray(_e,Ae);Se.push(String.fromCharCode.apply(null,Ce))}return Se.join("")}function stringToBytes(xe){typeof xe!="string"&&unreachable("Invalid argument for stringToBytes");const e=xe.length,t=new Uint8Array(e);for(let Se=0;Se<e;++Se)t[Se]=xe.charCodeAt(Se)&255;return t}function string32(xe){return String.fromCharCode(xe>>24&255,xe>>16&255,xe>>8&255,xe&255)}function objectFromMap(xe){const e=Object.create(null);for(const[t,Se]of xe)e[t]=Se;return e}function isLittleEndian(){const xe=new Uint8Array(4);return xe[0]=1,new Uint32Array(xe.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):shadow(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return shadow(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),xe=>xe.toString(16).padStart(2,"0"));var df,U2,wv,ay;let Util$1=(U2=class{static makeHexColor(e,t,Se){return`#${hexNumbers[e]}${hexNumbers[t]}${hexNumbers[Se]}`}static scaleMinMax(e,t){let Se;e[0]?(e[0]<0&&(Se=t[0],t[0]=t[2],t[2]=Se),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(Se=t[1],t[1]=t[3],t[3]=Se),t[1]*=e[3],t[3]*=e[3]):(Se=t[0],t[0]=t[1],t[1]=Se,Se=t[2],t[2]=t[3],t[3]=Se,e[1]<0&&(Se=t[1],t[1]=t[3],t[3]=Se),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(Se=t[0],t[0]=t[2],t[2]=Se),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const Se=e[0]*t[0]+e[1]*t[2]+t[4],_e=e[0]*t[1]+e[1]*t[3]+t[5];return[Se,_e]}static applyInverseTransform(e,t){const Se=t[0]*t[3]-t[1]*t[2],_e=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/Se,Ae=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/Se;return[_e,Ae]}static getAxialAlignedBoundingBox(e,t){const Se=this.applyTransform(e,t),_e=this.applyTransform(e.slice(2,4),t),Ae=this.applyTransform([e[0],e[3]],t),Ce=this.applyTransform([e[2],e[1]],t);return[Math.min(Se[0],_e[0],Ae[0],Ce[0]),Math.min(Se[1],_e[1],Ae[1],Ce[1]),Math.max(Se[0],_e[0],Ae[0],Ce[0]),Math.max(Se[1],_e[1],Ae[1],Ce[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],Se=e[0]*t[0]+e[1]*t[2],_e=e[0]*t[1]+e[1]*t[3],Ae=e[2]*t[0]+e[3]*t[2],Ce=e[2]*t[1]+e[3]*t[3],Pe=(Se+Ce)/2,Ee=Math.sqrt((Se+Ce)**2-4*(Se*Ce-Ae*_e))/2,Fe=Pe+Ee||1,ke=Pe-Ee||1;return[Math.sqrt(Fe),Math.sqrt(ke)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const Se=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),_e=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(Se>_e)return null;const Ae=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),Ce=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return Ae>Ce?null:[Se,Ae,_e,Ce]}static bezierBoundingBox(e,t,Se,_e,Ae,Ce,Pe,Ee,Fe){return Fe?(Fe[0]=Math.min(Fe[0],e,Pe),Fe[1]=Math.min(Fe[1],t,Ee),Fe[2]=Math.max(Fe[2],e,Pe),Fe[3]=Math.max(Fe[3],t,Ee)):Fe=[Math.min(e,Pe),Math.min(t,Ee),Math.max(e,Pe),Math.max(t,Ee)],On(this,df,ay).call(this,e,Se,Ae,Pe,t,_e,Ce,Ee,3*(-e+3*(Se-Ae)+Pe),6*(e-2*Se+Ae),3*(Se-e),Fe),On(this,df,ay).call(this,e,Se,Ae,Pe,t,_e,Ce,Ee,3*(-t+3*(_e-Ce)+Ee),6*(t-2*_e+Ce),3*(_e-t),Fe),Fe}},df=new WeakSet,wv=function(e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke){if(Fe<=0||Fe>=1)return;const Ie=1-Fe,Oe=Fe*Fe,Re=Oe*Fe,Be=Ie*(Ie*(Ie*e+3*Fe*t)+3*Oe*Se)+Re*_e,je=Ie*(Ie*(Ie*Ae+3*Fe*Ce)+3*Oe*Pe)+Re*Ee;ke[0]=Math.min(ke[0],Be),ke[1]=Math.min(ke[1],je),ke[2]=Math.max(ke[2],Be),ke[3]=Math.max(ke[3],je)},ay=function(e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie,Oe){if(Math.abs(Fe)<1e-12){Math.abs(ke)>=1e-12&&On(this,df,wv).call(this,e,t,Se,_e,Ae,Ce,Pe,Ee,-Ie/ke,Oe);return}const Re=ke**2-4*Ie*Fe;if(Re<0)return;const Be=Math.sqrt(Re),je=2*Fe;On(this,df,wv).call(this,e,t,Se,_e,Ae,Ce,Pe,Ee,(-ke+Be)/je,Oe),On(this,df,wv).call(this,e,t,Se,_e,Ae,Ce,Pe,Ee,(-ke-Be)/je,Oe)},jn(U2,df),U2);function stringToUTF8String(xe){return decodeURIComponent(escape(xe))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(xe){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),xe.replaceAll(NormalizeRegex,(e,t,Se)=>t?t.normalize("NFKC"):NormalizationMap.get(Se))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const xe=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(xe);else for(let e=0;e<32;e++)xe[e]=Math.floor(Math.random()*255);return bytesToString(xe)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function toBase64Util(xe){return Uint8Array.prototype.toBase64?xe.toBase64():btoa(bytesToString(xe))}const SVG_NS="http://www.w3.org/2000/svg",Lp=class Lp{};yi(Lp,"CSS",96),yi(Lp,"PDF",72),yi(Lp,"PDF_TO_CSS_UNITS",Lp.CSS/Lp.PDF);let PixelsPerInch=Lp;async function fetchData(xe,e="text"){if(isValidFetchUrl(xe,document.baseURI)){const t=await fetch(xe);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,Se)=>{const _e=new XMLHttpRequest;_e.open("GET",xe,!0),_e.responseType=e,_e.onreadystatechange=()=>{if(_e.readyState===XMLHttpRequest.DONE){if(_e.status===200||_e.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(_e.response);return}t(_e.responseText);return}Se(new Error(_e.statusText))}},_e.send(null)})}class PageViewport{constructor({viewBox:e,scale:t,rotation:Se,offsetX:_e=0,offsetY:Ae=0,dontFlip:Ce=!1}){this.viewBox=e,this.scale=t,this.rotation=Se,this.offsetX=_e,this.offsetY=Ae;const Pe=(e[2]+e[0])/2,Ee=(e[3]+e[1])/2;let Fe,ke,Ie,Oe;switch(Se%=360,Se<0&&(Se+=360),Se){case 180:Fe=-1,ke=0,Ie=0,Oe=1;break;case 90:Fe=0,ke=1,Ie=1,Oe=0;break;case 270:Fe=0,ke=-1,Ie=-1,Oe=0;break;case 0:Fe=1,ke=0,Ie=0,Oe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ce&&(Ie=-Ie,Oe=-Oe);let Re,Be,je,He;Fe===0?(Re=Math.abs(Ee-e[1])*t+_e,Be=Math.abs(Pe-e[0])*t+Ae,je=(e[3]-e[1])*t,He=(e[2]-e[0])*t):(Re=Math.abs(Pe-e[0])*t+_e,Be=Math.abs(Ee-e[1])*t+Ae,je=(e[2]-e[0])*t,He=(e[3]-e[1])*t),this.transform=[Fe*t,ke*t,Ie*t,Oe*t,Re-Fe*t*Pe-Ie*t*Ee,Be-ke*t*Pe-Oe*t*Ee],this.width=je,this.height=He}get rawDims(){const{viewBox:e}=this;return shadow(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:Se=this.offsetX,offsetY:_e=this.offsetY,dontFlip:Ae=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:Se,offsetY:_e,dontFlip:Ae})}convertToViewportPoint(e,t){return Util$1.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Util$1.applyTransform([e[0],e[1]],this.transform),Se=Util$1.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],Se[0],Se[1]]}convertToPdfPoint(e,t){return Util$1.applyInverseTransform([e,t],this.transform)}}class RenderingCancelledException extends BaseException{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function isDataScheme(xe){const e=xe.length;let t=0;for(;t<e&&xe[t].trim()==="";)t++;return xe.substring(t,t+5).toLowerCase()==="data:"}function isPdfFile(xe){return typeof xe=="string"&&/\.pdf$/i.test(xe)}function getFilenameFromUrl(xe){return[xe]=xe.split(/[#?]/,1),xe.substring(xe.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(xe,e="document.pdf"){if(typeof xe!="string")return e;if(isDataScheme(xe))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Se=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,_e=t.exec(xe);let Ae=Se.exec(_e[1])||Se.exec(_e[2])||Se.exec(_e[3]);if(Ae&&(Ae=Ae[0],Ae.includes("%")))try{Ae=Se.exec(decodeURIComponent(Ae))[0]}catch{}return Ae||e}class StatTimer{constructor(){yi(this,"started",Object.create(null));yi(this,"times",[])}time(e){e in this.started&&warn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||warn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:Se}of this.times)t=Math.max(Se.length,t);for(const{name:Se,start:_e,end:Ae}of this.times)e.push(`${Se.padEnd(t)} ${Ae-_e}ms
`);return e.join("")}}function isValidFetchUrl(xe,e){try{const{protocol:t}=e?new URL(xe,e):new URL(xe);return t==="http:"||t==="https:"}catch{return!1}}function noContextMenu(xe){xe.preventDefault()}function deprecated(xe){console.log("Deprecated API usage: "+xe)}var k1;class PDFDateString{static toDateObject(e){if(!e||typeof e!="string")return null;qe(this,k1)||Mn(this,k1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=qe(this,k1).exec(e);if(!t)return null;const Se=parseInt(t[1],10);let _e=parseInt(t[2],10);_e=_e>=1&&_e<=12?_e-1:0;let Ae=parseInt(t[3],10);Ae=Ae>=1&&Ae<=31?Ae:1;let Ce=parseInt(t[4],10);Ce=Ce>=0&&Ce<=23?Ce:0;let Pe=parseInt(t[5],10);Pe=Pe>=0&&Pe<=59?Pe:0;let Ee=parseInt(t[6],10);Ee=Ee>=0&&Ee<=59?Ee:0;const Fe=t[7]||"Z";let ke=parseInt(t[8],10);ke=ke>=0&&ke<=23?ke:0;let Ie=parseInt(t[9],10)||0;return Ie=Ie>=0&&Ie<=59?Ie:0,Fe==="-"?(Ce+=ke,Pe+=Ie):Fe==="+"&&(Ce-=ke,Pe-=Ie),new Date(Date.UTC(Se,_e,Ae,Ce,Pe,Ee))}}k1=new WeakMap,jn(PDFDateString,k1);function getXfaPageViewport(xe,{scale:e=1,rotation:t=0}){const{width:Se,height:_e}=xe.attributes.style,Ae=[0,0,parseInt(Se),parseInt(_e)];return new PageViewport({viewBox:Ae,scale:e,rotation:t})}function getRGB(xe){if(xe.startsWith("#")){const e=parseInt(xe.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return xe.startsWith("rgb(")?xe.slice(4,-1).split(",").map(e=>parseInt(e)):xe.startsWith("rgba(")?xe.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(warn(`Not a valid color format: "${xe}"`),[0,0,0])}function getColorValues(xe){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of xe.keys()){e.style.color=t;const Se=window.getComputedStyle(e).color;xe.set(t,getRGB(Se))}e.remove()}function getCurrentTransform(xe){const{a:e,b:t,c:Se,d:_e,e:Ae,f:Ce}=xe.getTransform();return[e,t,Se,_e,Ae,Ce]}function getCurrentTransformInverse(xe){const{a:e,b:t,c:Se,d:_e,e:Ae,f:Ce}=xe.getTransform().invertSelf();return[e,t,Se,_e,Ae,Ce]}function setLayerDimensions(xe,e,t=!1,Se=!0){if(e instanceof PageViewport){const{pageWidth:_e,pageHeight:Ae}=e.rawDims,{style:Ce}=xe,Pe=util_FeatureTest.isCSSRoundSupported,Ee=`var(--scale-factor) * ${_e}px`,Fe=`var(--scale-factor) * ${Ae}px`,ke=Pe?`round(down, ${Ee}, var(--scale-round-x, 1px))`:`calc(${Ee})`,Ie=Pe?`round(down, ${Fe}, var(--scale-round-y, 1px))`:`calc(${Fe})`;!t||e.rotation%180===0?(Ce.width=ke,Ce.height=Ie):(Ce.width=Ie,Ce.height=ke)}Se&&xe.setAttribute("data-main-rotation",e.rotation)}class OutputScale{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var jf,Op,yh,Mp,R1,D1,Yv,lb,hc,cb,ub,Sv,hb,oy;const Ud=class Ud{constructor(e){jn(this,hc);jn(this,jf,null);jn(this,Op,null);jn(this,yh);jn(this,Mp,null);jn(this,R1,null);Mn(this,yh,e),qe(Ud,D1)||Mn(Ud,D1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=Mn(this,jf,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=qe(this,yh)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:t}),e.addEventListener("pointerdown",On(Ud,Yv,lb),{signal:t});const Se=Mn(this,Mp,document.createElement("div"));Se.className="buttons",e.append(Se);const _e=qe(this,yh).toolbarPosition;if(_e){const{style:Ae}=e,Ce=qe(this,yh)._uiManager.direction==="ltr"?1-_e[0]:_e[0];Ae.insetInlineEnd=`${100*Ce}%`,Ae.top=`calc(${100*_e[1]}% + var(--editor-toolbar-vert-offset))`}return On(this,hc,hb).call(this),e}get div(){return qe(this,jf)}hide(){var e;qe(this,jf).classList.add("hidden"),(e=qe(this,Op))==null||e.hideDropdown()}show(){var e;qe(this,jf).classList.remove("hidden"),(e=qe(this,R1))==null||e.shown()}async addAltText(e){const t=await e.render();On(this,hc,Sv).call(this,t),qe(this,Mp).prepend(t,qe(this,hc,oy)),Mn(this,R1,e)}addColorPicker(e){Mn(this,Op,e);const t=e.renderButton();On(this,hc,Sv).call(this,t),qe(this,Mp).prepend(t,qe(this,hc,oy))}remove(){var e;qe(this,jf).remove(),(e=qe(this,Op))==null||e.destroy(),Mn(this,Op,null)}};jf=new WeakMap,Op=new WeakMap,yh=new WeakMap,Mp=new WeakMap,R1=new WeakMap,D1=new WeakMap,Yv=new WeakSet,lb=function(e){e.stopPropagation()},hc=new WeakSet,cb=function(e){qe(this,yh)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},ub=function(e){qe(this,yh)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Sv=function(e){const t=qe(this,yh)._uiManager._signal;e.addEventListener("focusin",On(this,hc,cb).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",On(this,hc,ub).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",noContextMenu,{signal:t})},hb=function(){const{editorType:e,_uiManager:t}=qe(this,yh),Se=document.createElement("button");Se.className="delete",Se.tabIndex=0,Se.setAttribute("data-l10n-id",qe(Ud,D1)[e]),On(this,hc,Sv).call(this,Se),Se.addEventListener("click",_e=>{t.delete()},{signal:t._signal}),qe(this,Mp).append(Se)},oy=function(){const e=document.createElement("div");return e.className="divider",e},jn(Ud,Yv),jn(Ud,D1,null);let EditorToolbar=Ud;var N1,Bp,Up,fp,db,fb,pb;class HighlightToolbar{constructor(e){jn(this,fp);jn(this,N1,null);jn(this,Bp,null);jn(this,Up);Mn(this,Up,e)}show(e,t,Se){const[_e,Ae]=On(this,fp,fb).call(this,t,Se),{style:Ce}=qe(this,Bp)||Mn(this,Bp,On(this,fp,db).call(this));e.append(qe(this,Bp)),Ce.insetInlineEnd=`${100*_e}%`,Ce.top=`calc(${100*Ae}% + var(--editor-toolbar-vert-offset))`}hide(){qe(this,Bp).remove()}}N1=new WeakMap,Bp=new WeakMap,Up=new WeakMap,fp=new WeakSet,db=function(){const e=Mn(this,Bp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",noContextMenu,{signal:qe(this,Up)._signal});const t=Mn(this,N1,document.createElement("div"));return t.className="buttons",e.append(t),On(this,fp,pb).call(this),e},fb=function(e,t){let Se=0,_e=0;for(const Ae of e){const Ce=Ae.y+Ae.height;if(Ce<Se)continue;const Pe=Ae.x+(t?Ae.width:0);if(Ce>Se){_e=Pe,Se=Ce;continue}t?Pe>_e&&(_e=Pe):Pe<_e&&(_e=Pe)}return[t?1-_e:_e,Se]},pb=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const Se=qe(this,Up)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:Se}),e.addEventListener("click",()=>{qe(this,Up).highlightSelection("floating_button")},{signal:Se}),qe(this,N1).append(e)};function bindEvents(xe,e,t){for(const Se of t)e.addEventListener(Se,xe[Se].bind(xe))}function opacityToHex(xe){return Math.round(Math.min(255,Math.max(1,255*xe))).toString(16).padStart(2,"0")}var Zv;class IdManager{constructor(){jn(this,Zv,0)}get id(){return`${AnnotationEditorPrefix}${Sl(this,Zv)._++}`}}Zv=new WeakMap;var sg,L1,jl,ag,xv;const s5=class s5{constructor(){jn(this,ag);jn(this,sg,getUuid());jn(this,L1,0);jn(this,jl,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Se=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),_e=new Image;_e.src=e;const Ae=_e.decode().then(()=>(Se.drawImage(_e,0,0,1,1,0,0,1,3),new Uint32Array(Se.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",Ae)}async getFromFile(e){const{lastModified:t,name:Se,size:_e,type:Ae}=e;return On(this,ag,xv).call(this,`${t}_${Se}_${_e}_${Ae}`,e)}async getFromUrl(e){return On(this,ag,xv).call(this,e,e)}async getFromBlob(e,t){const Se=await t;return On(this,ag,xv).call(this,e,Se)}async getFromId(e){qe(this,jl)||Mn(this,jl,new Map);const t=qe(this,jl).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:Se}=t;return delete t.blobPromise,this.getFromBlob(t.id,Se)}return this.getFromUrl(t.url)}getFromCanvas(e,t){qe(this,jl)||Mn(this,jl,new Map);let Se=qe(this,jl).get(e);if(Se!=null&&Se.bitmap)return Se.refCounter+=1,Se;const _e=new OffscreenCanvas(t.width,t.height);return _e.getContext("2d").drawImage(t,0,0),Se={bitmap:_e.transferToImageBitmap(),id:`image_${qe(this,sg)}_${Sl(this,L1)._++}`,refCounter:1,isSvg:!1},qe(this,jl).set(e,Se),qe(this,jl).set(Se.id,Se),Se}getSvgUrl(e){const t=qe(this,jl).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var _e;qe(this,jl)||Mn(this,jl,new Map);const t=qe(this,jl).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:Se}=t;if(!t.url&&!t.file){const Ae=new OffscreenCanvas(Se.width,Se.height);Ae.getContext("bitmaprenderer").transferFromImageBitmap(Se),t.blobPromise=Ae.convertToBlob()}(_e=Se.close)==null||_e.call(Se),t.bitmap=null}isValidId(e){return e.startsWith(`image_${qe(this,sg)}_`)}};sg=new WeakMap,L1=new WeakMap,jl=new WeakMap,ag=new WeakSet,xv=async function(e,t){qe(this,jl)||Mn(this,jl,new Map);let Se=qe(this,jl).get(e);if(Se===null)return null;if(Se!=null&&Se.bitmap)return Se.refCounter+=1,Se;try{Se||(Se={bitmap:null,id:`image_${qe(this,sg)}_${Sl(this,L1)._++}`,refCounter:0,isSvg:!1});let _e;if(typeof t=="string"?(Se.url=t,_e=await fetchData(t,"blob")):t instanceof File?_e=Se.file=t:t instanceof Blob&&(_e=t),_e.type==="image/svg+xml"){const Ae=s5._isSVGFittingCanvas,Ce=new FileReader,Pe=new Image,Ee=new Promise((Fe,ke)=>{Pe.onload=()=>{Se.bitmap=Pe,Se.isSvg=!0,Fe()},Ce.onload=async()=>{const Ie=Se.svgUrl=Ce.result;Pe.src=await Ae?`${Ie}#svgView(preserveAspectRatio(none))`:Ie},Pe.onerror=Ce.onerror=ke});Ce.readAsDataURL(_e),await Ee}else Se.bitmap=await createImageBitmap(_e);Se.refCounter=1}catch(_e){console.error(_e),Se=null}return qe(this,jl).set(e,Se),Se&&qe(this,jl).set(Se.id,Se),Se};let ImageManager=s5;var Jo,qf,I1,Qo;class CommandManager{constructor(e=128){jn(this,Jo,[]);jn(this,qf,!1);jn(this,I1);jn(this,Qo,-1);Mn(this,I1,e)}add({cmd:e,undo:t,post:Se,mustExec:_e,type:Ae=NaN,overwriteIfSameType:Ce=!1,keepUndo:Pe=!1}){if(_e&&e(),qe(this,qf))return;const Ee={cmd:e,undo:t,post:Se,type:Ae};if(qe(this,Qo)===-1){qe(this,Jo).length>0&&(qe(this,Jo).length=0),Mn(this,Qo,0),qe(this,Jo).push(Ee);return}if(Ce&&qe(this,Jo)[qe(this,Qo)].type===Ae){Pe&&(Ee.undo=qe(this,Jo)[qe(this,Qo)].undo),qe(this,Jo)[qe(this,Qo)]=Ee;return}const Fe=qe(this,Qo)+1;Fe===qe(this,I1)?qe(this,Jo).splice(0,1):(Mn(this,Qo,Fe),Fe<qe(this,Jo).length&&qe(this,Jo).splice(Fe)),qe(this,Jo).push(Ee)}undo(){if(qe(this,Qo)===-1)return;Mn(this,qf,!0);const{undo:e,post:t}=qe(this,Jo)[qe(this,Qo)];e(),t==null||t(),Mn(this,qf,!1),Mn(this,Qo,qe(this,Qo)-1)}redo(){if(qe(this,Qo)<qe(this,Jo).length-1){Mn(this,Qo,qe(this,Qo)+1),Mn(this,qf,!0);const{cmd:e,post:t}=qe(this,Jo)[qe(this,Qo)];e(),t==null||t(),Mn(this,qf,!1)}}hasSomethingToUndo(){return qe(this,Qo)!==-1}hasSomethingToRedo(){return qe(this,Qo)<qe(this,Jo).length-1}destroy(){Mn(this,Jo,null)}}Jo=new WeakMap,qf=new WeakMap,I1=new WeakMap,Qo=new WeakMap;var Jv,gb;class KeyboardManager{constructor(e){jn(this,Jv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=util_FeatureTest.platform;for(const[Se,_e,Ae={}]of e)for(const Ce of Se){const Pe=Ce.startsWith("mac+");t&&Pe?(this.callbacks.set(Ce.slice(4),{callback:_e,options:Ae}),this.allKeys.add(Ce.split("+").at(-1))):!t&&!Pe&&(this.callbacks.set(Ce,{callback:_e,options:Ae}),this.allKeys.add(Ce.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const Se=this.callbacks.get(On(this,Jv,gb).call(this,t));if(!Se)return;const{callback:_e,options:{bubbles:Ae=!1,args:Ce=[],checker:Pe=null}}=Se;Pe&&!Pe(e,t)||(_e.bind(e,...Ce,t)(),Ae||(t.stopPropagation(),t.preventDefault()))}}Jv=new WeakSet,gb=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Qv=class Qv{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(e),shadow(this,"_colors",e)}convert(e){const t=getRGB(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[Se,_e]of this._colors)if(_e.every((Ae,Ce)=>Ae===t[Ce]))return Qv._colorsMapping.get(Se);return t}getHexCode(e){const t=this._colors.get(e);return t?Util$1.makeHexColor(...t):e}};yi(Qv,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=Qv;var og,tu,Mo,_l,lg,qd,cg,bh,zf,ug,jp,ed,wh,qp,O1,M1,hg,B1,nd,Gf,dg,Hf,rd,$v,Vf,U1,Wf,zp,j1,q1,$o,Ws,zd,Gp,z1,G1,Kf,id,Gd,H1,Uu,hi,_v,ly,mb,vb,Av,yb,bb,wb,uy,Sb,hy,dy,xb,cc,Bf,Ab,Cb,fy,Pb,g1,gy;const ig=class ig{constructor(e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie){jn(this,hi);jn(this,og,new AbortController);jn(this,tu,null);jn(this,Mo,new Map);jn(this,_l,new Map);jn(this,lg,null);jn(this,qd,null);jn(this,cg,null);jn(this,bh,new CommandManager);jn(this,zf,null);jn(this,ug,0);jn(this,jp,new Set);jn(this,ed,null);jn(this,wh,null);jn(this,qp,new Set);jn(this,O1,!1);jn(this,M1,!1);jn(this,hg,!1);jn(this,B1,null);jn(this,nd,null);jn(this,Gf,null);jn(this,dg,null);jn(this,Hf,!1);jn(this,rd,null);jn(this,$v,new IdManager);jn(this,Vf,!1);jn(this,U1,!1);jn(this,Wf,null);jn(this,zp,null);jn(this,j1,null);jn(this,q1,null);jn(this,$o,AnnotationEditorType.NONE);jn(this,Ws,new Set);jn(this,zd,null);jn(this,Gp,null);jn(this,z1,null);jn(this,G1,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});jn(this,Kf,[0,0]);jn(this,id,null);jn(this,Gd,null);jn(this,H1,null);jn(this,Uu,null);const Oe=this._signal=qe(this,og).signal;Mn(this,Gd,e),Mn(this,H1,t),Mn(this,lg,Se),this._eventBus=_e,_e._on("editingaction",this.onEditingAction.bind(this),{signal:Oe}),_e._on("pagechanging",this.onPageChanging.bind(this),{signal:Oe}),_e._on("scalechanging",this.onScaleChanging.bind(this),{signal:Oe}),_e._on("rotationchanging",this.onRotationChanging.bind(this),{signal:Oe}),_e._on("setpreference",this.onSetPreference.bind(this),{signal:Oe}),_e._on("switchannotationeditorparams",Re=>this.updateParams(Re.type,Re.value),{signal:Oe}),On(this,hi,yb).call(this),On(this,hi,xb).call(this),On(this,hi,uy).call(this),Mn(this,qd,Ae.annotationStorage),Mn(this,B1,Ae.filterFactory),Mn(this,Gp,Ce),Mn(this,dg,Pe||null),Mn(this,O1,Ee),Mn(this,M1,Fe),Mn(this,hg,ke),Mn(this,q1,Ie||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ig.prototype,t=Ce=>qe(Ce,Gd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Ce.hasSomethingToControl(),Se=(Ce,{target:Pe})=>{if(Pe instanceof HTMLInputElement){const{type:Ee}=Pe;return Ee!=="text"&&Ee!=="number"}return!0},_e=this.TRANSLATE_SMALL,Ae=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:Se}],[["ctrl+z","mac+meta+z"],e.undo,{checker:Se}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:Se}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:Se}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(Ce,{target:Pe})=>!(Pe instanceof HTMLButtonElement)&&qe(Ce,Gd).contains(Pe)&&!Ce.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(Ce,{target:Pe})=>!(Pe instanceof HTMLButtonElement)&&qe(Ce,Gd).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-_e,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-Ae,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[_e,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[Ae,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-_e],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-Ae],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,_e],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,Ae],checker:t}]]))}destroy(){var e,t,Se,_e;(e=qe(this,Uu))==null||e.resolve(),Mn(this,Uu,null),(t=qe(this,og))==null||t.abort(),Mn(this,og,null),this._signal=null;for(const Ae of qe(this,_l).values())Ae.destroy();qe(this,_l).clear(),qe(this,Mo).clear(),qe(this,qp).clear(),Mn(this,tu,null),qe(this,Ws).clear(),qe(this,bh).destroy(),(Se=qe(this,lg))==null||Se.destroy(),(_e=qe(this,rd))==null||_e.hide(),Mn(this,rd,null),qe(this,nd)&&(clearTimeout(qe(this,nd)),Mn(this,nd,null)),qe(this,id)&&(clearTimeout(qe(this,id)),Mn(this,id,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return qe(this,q1)}get useNewAltTextFlow(){return qe(this,M1)}get useNewAltTextWhenAddingImage(){return qe(this,hg)}get hcmFilter(){return shadow(this,"hcmFilter",qe(this,Gp)?qe(this,B1).addHCMFilter(qe(this,Gp).foreground,qe(this,Gp).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(qe(this,Gd)).direction)}get highlightColors(){return shadow(this,"highlightColors",qe(this,dg)?new Map(qe(this,dg).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){Mn(this,j1,e)}editAltText(e,t=!1){var Se;(Se=qe(this,lg))==null||Se.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":Mn(this,hg,t);break}}onPageChanging({pageNumber:e}){Mn(this,ug,e-1)}focusMainContainer(){qe(this,Gd).focus()}findParent(e,t){for(const Se of qe(this,_l).values()){const{x:_e,y:Ae,width:Ce,height:Pe}=Se.div.getBoundingClientRect();if(e>=_e&&e<=_e+Ce&&t>=Ae&&t<=Ae+Pe)return Se}return null}disableUserSelect(e=!1){qe(this,H1).classList.toggle("noUserSelect",e)}addShouldRescale(e){qe(this,qp).add(e)}removeShouldRescale(e){qe(this,qp).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*PixelsPerInch.PDF_TO_CSS_UNITS;for(const t of qe(this,qp))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:Se,anchorOffset:_e,focusNode:Ae,focusOffset:Ce}=t,Pe=t.toString(),Fe=On(this,hi,_v).call(this,t).closest(".textLayer"),ke=this.getSelectionBoxes(Fe);if(!ke)return;t.empty();const Ie=On(this,hi,ly).call(this,Fe),Oe=qe(this,$o)===AnnotationEditorType.NONE,Re=()=>{Ie==null||Ie.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:ke,anchorNode:Se,anchorOffset:_e,focusNode:Ae,focusOffset:Ce,text:Pe}),Oe&&this.showAllEditors("highlight",!0,!0)};if(Oe){this.switchToMode(AnnotationEditorType.HIGHLIGHT,Re);return}Re()}addToAnnotationStorage(e){!e.isEmpty()&&qe(this,qd)&&!qe(this,qd).has(e.id)&&qe(this,qd).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,qe(this,Hf)&&(Mn(this,Hf,!1),On(this,hi,Av).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of qe(this,Ws))if(t.div.contains(e)){Mn(this,zp,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!qe(this,zp))return;const[e,t]=qe(this,zp);Mn(this,zp,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){On(this,hi,uy).call(this),On(this,hi,hy).call(this)}removeEditListeners(){On(this,hi,Sb).call(this),On(this,hi,dy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const Se of qe(this,wh))if(Se.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const Se of qe(this,wh))if(Se.isHandlingMimeForPasting(t.type)){Se.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var Se;if(e.preventDefault(),(Se=qe(this,tu))==null||Se.commitOrRemove(),!this.hasSelection)return;const t=[];for(const _e of qe(this,Ws)){const Ae=_e.serialize(!0);Ae&&t.push(Ae)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const Ae of t.items)for(const Ce of qe(this,wh))if(Ce.isHandlingMimeForPasting(Ae.type)){Ce.paste(Ae,this.currentLayer);return}let Se=t.getData("application/pdfjs");if(!Se)return;try{Se=JSON.parse(Se)}catch(Ae){warn(`paste: "${Ae.message}".`);return}if(!Array.isArray(Se))return;this.unselectAll();const _e=this.currentLayer;try{const Ae=[];for(const Ee of Se){const Fe=await _e.deserialize(Ee);if(!Fe)return;Ae.push(Fe)}const Ce=()=>{for(const Ee of Ae)On(this,hi,fy).call(this,Ee);On(this,hi,gy).call(this,Ae)},Pe=()=>{for(const Ee of Ae)Ee.remove()};this.addCommands({cmd:Ce,undo:Pe,mustExec:!0})}catch(Ae){warn(`paste: "${Ae.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),qe(this,$o)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&ig._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,qe(this,Hf)&&(Mn(this,Hf,!1),On(this,hi,Av).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(On(this,hi,bb).call(this),On(this,hi,hy).call(this),On(this,hi,cc).call(this,{isEditing:qe(this,$o)!==AnnotationEditorType.NONE,isEmpty:On(this,hi,g1).call(this),hasSomethingToUndo:qe(this,bh).hasSomethingToUndo(),hasSomethingToRedo:qe(this,bh).hasSomethingToRedo(),hasSelectedEditor:!1})):(On(this,hi,wb).call(this),On(this,hi,dy).call(this),On(this,hi,cc).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!qe(this,wh)){Mn(this,wh,e);for(const t of qe(this,wh))On(this,hi,Bf).call(this,t.defaultPropertiesToUpdate)}}getId(){return qe(this,$v).id}get currentLayer(){return qe(this,_l).get(qe(this,ug))}getLayer(e){return qe(this,_l).get(e)}get currentPageIndex(){return qe(this,ug)}addLayer(e){qe(this,_l).set(e.pageIndex,e),qe(this,Vf)?e.enable():e.disable()}removeLayer(e){qe(this,_l).delete(e.pageIndex)}async updateMode(e,t=null,Se=!1){if(qe(this,$o)!==e&&!(qe(this,Uu)&&(await qe(this,Uu).promise,!qe(this,Uu)))){if(Mn(this,Uu,Promise.withResolvers()),Mn(this,$o,e),e===AnnotationEditorType.NONE){this.setEditingState(!1),On(this,hi,Cb).call(this),qe(this,Uu).resolve();return}this.setEditingState(!0),await On(this,hi,Ab).call(this),this.unselectAll();for(const _e of qe(this,_l).values())_e.updateMode(e);if(!t){Se&&this.addNewEditorFromKeyboard(),qe(this,Uu).resolve();return}for(const _e of qe(this,Mo).values())_e.annotationElementId===t?(this.setSelected(_e),_e.enterInEditMode()):_e.unselect();qe(this,Uu).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==qe(this,$o)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var Se;if(qe(this,wh)){switch(e){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(Se=qe(this,j1))==null||Se.updateColor(t);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(qe(this,z1)||Mn(this,z1,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const _e of qe(this,Ws))_e.updateParams(e,t);for(const _e of qe(this,wh))_e.updateDefaultParams(e,t)}}showAllEditors(e,t,Se=!1){var Ae;for(const Ce of qe(this,Mo).values())Ce.editorType===e&&Ce.show(t);(((Ae=qe(this,z1))==null?void 0:Ae.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==t&&On(this,hi,Bf).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(qe(this,U1)!==e){Mn(this,U1,e);for(const t of qe(this,_l).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const Se of qe(this,Mo).values())Se.pageIndex===e&&t.push(Se);return t}getEditor(e){return qe(this,Mo).get(e)}addEditor(e){qe(this,Mo).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(qe(this,nd)&&clearTimeout(qe(this,nd)),Mn(this,nd,setTimeout(()=>{this.focusMainContainer(),Mn(this,nd,null)},0))),qe(this,Mo).delete(e.id),this.unselect(e),(!e.annotationElementId||!qe(this,jp).has(e.annotationElementId))&&((t=qe(this,qd))==null||t.remove(e.id))}addDeletedAnnotationElement(e){qe(this,jp).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return qe(this,jp).has(e)}removeDeletedAnnotationElement(e){qe(this,jp).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){qe(this,tu)!==e&&(Mn(this,tu,e),e&&On(this,hi,Bf).call(this,e.propertiesToUpdate))}updateUI(e){qe(this,hi,Pb)===e&&On(this,hi,Bf).call(this,e.propertiesToUpdate)}toggleSelected(e){if(qe(this,Ws).has(e)){qe(this,Ws).delete(e),e.unselect(),On(this,hi,cc).call(this,{hasSelectedEditor:this.hasSelection});return}qe(this,Ws).add(e),e.select(),On(this,hi,Bf).call(this,e.propertiesToUpdate),On(this,hi,cc).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of qe(this,Ws))t!==e&&t.unselect();qe(this,Ws).clear(),qe(this,Ws).add(e),e.select(),On(this,hi,Bf).call(this,e.propertiesToUpdate),On(this,hi,cc).call(this,{hasSelectedEditor:!0})}isSelected(e){return qe(this,Ws).has(e)}get firstSelectedEditor(){return qe(this,Ws).values().next().value}unselect(e){e.unselect(),qe(this,Ws).delete(e),On(this,hi,cc).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return qe(this,Ws).size!==0}get isEnterHandled(){return qe(this,Ws).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){qe(this,bh).undo(),On(this,hi,cc).call(this,{hasSomethingToUndo:qe(this,bh).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:On(this,hi,g1).call(this)})}redo(){qe(this,bh).redo(),On(this,hi,cc).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:qe(this,bh).hasSomethingToRedo(),isEmpty:On(this,hi,g1).call(this)})}addCommands(e){qe(this,bh).add(e),On(this,hi,cc).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:On(this,hi,g1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...qe(this,Ws)],t=()=>{for(const _e of e)_e.remove()},Se=()=>{for(const _e of e)On(this,hi,fy).call(this,_e)};this.addCommands({cmd:t,undo:Se,mustExec:!0})}commitOrRemove(){var e;(e=qe(this,tu))==null||e.commitOrRemove()}hasSomethingToControl(){return qe(this,tu)||this.hasSelection}selectAll(){for(const e of qe(this,Ws))e.commit();On(this,hi,gy).call(this,qe(this,Mo).values())}unselectAll(){if(!(qe(this,tu)&&(qe(this,tu).commitOrRemove(),qe(this,$o)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const e of qe(this,Ws))e.unselect();qe(this,Ws).clear(),On(this,hi,cc).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,Se=!1){if(Se||this.commitOrRemove(),!this.hasSelection)return;qe(this,Kf)[0]+=e,qe(this,Kf)[1]+=t;const[_e,Ae]=qe(this,Kf),Ce=[...qe(this,Ws)],Pe=1e3;qe(this,id)&&clearTimeout(qe(this,id)),Mn(this,id,setTimeout(()=>{Mn(this,id,null),qe(this,Kf)[0]=qe(this,Kf)[1]=0,this.addCommands({cmd:()=>{for(const Ee of Ce)qe(this,Mo).has(Ee.id)&&Ee.translateInPage(_e,Ae)},undo:()=>{for(const Ee of Ce)qe(this,Mo).has(Ee.id)&&Ee.translateInPage(-_e,-Ae)},mustExec:!1})},Pe));for(const Ee of Ce)Ee.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Mn(this,ed,new Map);for(const e of qe(this,Ws))qe(this,ed).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!qe(this,ed))return!1;this.disableUserSelect(!1);const e=qe(this,ed);Mn(this,ed,null);let t=!1;for(const[{x:_e,y:Ae,pageIndex:Ce},Pe]of e)Pe.newX=_e,Pe.newY=Ae,Pe.newPageIndex=Ce,t||(t=_e!==Pe.savedX||Ae!==Pe.savedY||Ce!==Pe.savedPageIndex);if(!t)return!1;const Se=(_e,Ae,Ce,Pe)=>{if(qe(this,Mo).has(_e.id)){const Ee=qe(this,_l).get(Pe);Ee?_e._setParentAndPosition(Ee,Ae,Ce):(_e.pageIndex=Pe,_e.x=Ae,_e.y=Ce)}};return this.addCommands({cmd:()=>{for(const[_e,{newX:Ae,newY:Ce,newPageIndex:Pe}]of e)Se(_e,Ae,Ce,Pe)},undo:()=>{for(const[_e,{savedX:Ae,savedY:Ce,savedPageIndex:Pe}]of e)Se(_e,Ae,Ce,Pe)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(qe(this,ed))for(const Se of qe(this,ed).keys())Se.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||qe(this,Ws).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return qe(this,tu)===e}getActive(){return qe(this,tu)}getMode(){return qe(this,$o)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let Fe=0,ke=t.rangeCount;Fe<ke;Fe++)if(!e.contains(t.getRangeAt(Fe).commonAncestorContainer))return null;const{x:Se,y:_e,width:Ae,height:Ce}=e.getBoundingClientRect();let Pe;switch(e.getAttribute("data-main-rotation")){case"90":Pe=(Fe,ke,Ie,Oe)=>({x:(ke-_e)/Ce,y:1-(Fe+Ie-Se)/Ae,width:Oe/Ce,height:Ie/Ae});break;case"180":Pe=(Fe,ke,Ie,Oe)=>({x:1-(Fe+Ie-Se)/Ae,y:1-(ke+Oe-_e)/Ce,width:Ie/Ae,height:Oe/Ce});break;case"270":Pe=(Fe,ke,Ie,Oe)=>({x:1-(ke+Oe-_e)/Ce,y:(Fe-Se)/Ae,width:Oe/Ce,height:Ie/Ae});break;default:Pe=(Fe,ke,Ie,Oe)=>({x:(Fe-Se)/Ae,y:(ke-_e)/Ce,width:Ie/Ae,height:Oe/Ce});break}const Ee=[];for(let Fe=0,ke=t.rangeCount;Fe<ke;Fe++){const Ie=t.getRangeAt(Fe);if(!Ie.collapsed)for(const{x:Oe,y:Re,width:Be,height:je}of Ie.getClientRects())Be===0||je===0||Ee.push(Pe(Oe,Re,Be,je))}return Ee.length===0?null:Ee}addChangedExistingAnnotation({annotationElementId:e,id:t}){(qe(this,cg)||Mn(this,cg,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=qe(this,cg))==null||t.delete(e)}renderAnnotationElement(e){var _e;const t=(_e=qe(this,cg))==null?void 0:_e.get(e.data.id);if(!t)return;const Se=qe(this,qd).getRawValue(t);Se&&(qe(this,$o)===AnnotationEditorType.NONE&&!Se.hasBeenModified||Se.renderAnnotationElement(e))}};og=new WeakMap,tu=new WeakMap,Mo=new WeakMap,_l=new WeakMap,lg=new WeakMap,qd=new WeakMap,cg=new WeakMap,bh=new WeakMap,zf=new WeakMap,ug=new WeakMap,jp=new WeakMap,ed=new WeakMap,wh=new WeakMap,qp=new WeakMap,O1=new WeakMap,M1=new WeakMap,hg=new WeakMap,B1=new WeakMap,nd=new WeakMap,Gf=new WeakMap,dg=new WeakMap,Hf=new WeakMap,rd=new WeakMap,$v=new WeakMap,Vf=new WeakMap,U1=new WeakMap,Wf=new WeakMap,zp=new WeakMap,j1=new WeakMap,q1=new WeakMap,$o=new WeakMap,Ws=new WeakMap,zd=new WeakMap,Gp=new WeakMap,z1=new WeakMap,G1=new WeakMap,Kf=new WeakMap,id=new WeakMap,Gd=new WeakMap,H1=new WeakMap,Uu=new WeakMap,hi=new WeakSet,_v=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ly=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const Se of qe(this,_l).values())if(Se.hasTextLayer(e))return Se;return null},mb=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const Se=On(this,hi,_v).call(this,e).closest(".textLayer"),_e=this.getSelectionBoxes(Se);_e&&(qe(this,rd)||Mn(this,rd,new HighlightToolbar(this)),qe(this,rd).show(Se,_e,this.direction==="ltr"))},vb=function(){var Ae,Ce,Pe;const e=document.getSelection();if(!e||e.isCollapsed){qe(this,zd)&&((Ae=qe(this,rd))==null||Ae.hide(),Mn(this,zd,null),On(this,hi,cc).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===qe(this,zd))return;const _e=On(this,hi,_v).call(this,e).closest(".textLayer");if(!_e){qe(this,zd)&&((Ce=qe(this,rd))==null||Ce.hide(),Mn(this,zd,null),On(this,hi,cc).call(this,{hasSelectedText:!1}));return}if((Pe=qe(this,rd))==null||Pe.hide(),Mn(this,zd,t),On(this,hi,cc).call(this,{hasSelectedText:!0}),!(qe(this,$o)!==AnnotationEditorType.HIGHLIGHT&&qe(this,$o)!==AnnotationEditorType.NONE)&&(qe(this,$o)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Mn(this,Hf,this.isShiftKeyDown),!this.isShiftKeyDown)){const Ee=qe(this,$o)===AnnotationEditorType.HIGHLIGHT?On(this,hi,ly).call(this,_e):null;Ee==null||Ee.toggleDrawing();const Fe=new AbortController,ke=this.combinedSignal(Fe),Ie=Oe=>{Oe.type==="pointerup"&&Oe.button!==0||(Fe.abort(),Ee==null||Ee.toggleDrawing(!0),Oe.type==="pointerup"&&On(this,hi,Av).call(this,"main_toolbar"))};window.addEventListener("pointerup",Ie,{signal:ke}),window.addEventListener("blur",Ie,{signal:ke})}},Av=function(e=""){qe(this,$o)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(e):qe(this,O1)&&On(this,hi,mb).call(this)},yb=function(){document.addEventListener("selectionchange",On(this,hi,vb).bind(this),{signal:this._signal})},bb=function(){if(qe(this,Gf))return;Mn(this,Gf,new AbortController);const e=this.combinedSignal(qe(this,Gf));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},wb=function(){var e;(e=qe(this,Gf))==null||e.abort(),Mn(this,Gf,null)},uy=function(){if(qe(this,Wf))return;Mn(this,Wf,new AbortController);const e=this.combinedSignal(qe(this,Wf));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Sb=function(){var e;(e=qe(this,Wf))==null||e.abort(),Mn(this,Wf,null)},hy=function(){if(qe(this,zf))return;Mn(this,zf,new AbortController);const e=this.combinedSignal(qe(this,zf));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},dy=function(){var e;(e=qe(this,zf))==null||e.abort(),Mn(this,zf,null)},xb=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},cc=function(e){Object.entries(e).some(([Se,_e])=>qe(this,G1)[Se]!==_e)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(qe(this,G1),e)}),qe(this,$o)===AnnotationEditorType.HIGHLIGHT&&e.hasSelectedEditor===!1&&On(this,hi,Bf).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},Bf=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Ab=async function(){if(!qe(this,Vf)){Mn(this,Vf,!0);const e=[];for(const t of qe(this,_l).values())e.push(t.enable());await Promise.all(e);for(const t of qe(this,Mo).values())t.enable()}},Cb=function(){if(this.unselectAll(),qe(this,Vf)){Mn(this,Vf,!1);for(const e of qe(this,_l).values())e.disable();for(const e of qe(this,Mo).values())e.disable()}},fy=function(e){const t=qe(this,_l).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Pb=function(){let e=null;for(e of qe(this,Ws));return e},g1=function(){if(qe(this,Mo).size===0)return!0;if(qe(this,Mo).size===1)for(const e of qe(this,Mo).values())return e.isEmpty();return!1},gy=function(e){for(const t of qe(this,Ws))t.unselect();qe(this,Ws).clear();for(const t of e)t.isEmpty()||(qe(this,Ws).add(t),t.select());On(this,hi,cc).call(this,{hasSelectedEditor:this.hasSelection})},yi(ig,"TRANSLATE_SMALL",1),yi(ig,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=ig;var el,sd,Sh,fg,ad,nu,pg,od,Oc,Hd,Hp,ld,Xf,Rh,m1,Cv;const uc=class uc{constructor(e){jn(this,Rh);jn(this,el,null);jn(this,sd,!1);jn(this,Sh,null);jn(this,fg,null);jn(this,ad,null);jn(this,nu,null);jn(this,pg,!1);jn(this,od,null);jn(this,Oc,null);jn(this,Hd,null);jn(this,Hp,null);jn(this,ld,!1);Mn(this,Oc,e),Mn(this,ld,e._uiManager.useNewAltTextFlow),qe(uc,Xf)||Mn(uc,Xf,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){uc._l10n??(uc._l10n=e)}async render(){const e=Mn(this,Sh,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=Mn(this,fg,document.createElement("span"));e.append(t),qe(this,ld)?(e.classList.add("new"),e.setAttribute("data-l10n-id",qe(uc,Xf).missing),t.setAttribute("data-l10n-id",qe(uc,Xf)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const Se=qe(this,Oc)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:Se}),e.addEventListener("pointerdown",Ae=>Ae.stopPropagation(),{signal:Se});const _e=Ae=>{Ae.preventDefault(),qe(this,Oc)._uiManager.editAltText(qe(this,Oc)),qe(this,ld)&&qe(this,Oc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:qe(this,Rh,m1)}})};return e.addEventListener("click",_e,{capture:!0,signal:Se}),e.addEventListener("keydown",Ae=>{Ae.target===e&&Ae.key==="Enter"&&(Mn(this,pg,!0),_e(Ae))},{signal:Se}),await On(this,Rh,Cv).call(this),e}finish(){qe(this,Sh)&&(qe(this,Sh).focus({focusVisible:qe(this,pg)}),Mn(this,pg,!1))}isEmpty(){return qe(this,ld)?qe(this,el)===null:!qe(this,el)&&!qe(this,sd)}hasData(){return qe(this,ld)?qe(this,el)!==null||!!qe(this,Hd):this.isEmpty()}get guessedText(){return qe(this,Hd)}async setGuessedText(e){qe(this,el)===null&&(Mn(this,Hd,e),Mn(this,Hp,await uc._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),On(this,Rh,Cv).call(this))}toggleAltTextBadge(e=!1){var t;if(!qe(this,ld)||qe(this,el)){(t=qe(this,od))==null||t.remove(),Mn(this,od,null);return}if(!qe(this,od)){const Se=Mn(this,od,document.createElement("div"));Se.className="noAltTextBadge",qe(this,Oc).div.append(Se)}qe(this,od).classList.toggle("hidden",!e)}serialize(e){let t=qe(this,el);return!e&&qe(this,Hd)===t&&(t=qe(this,Hp)),{altText:t,decorative:qe(this,sd),guessedText:qe(this,Hd),textWithDisclaimer:qe(this,Hp)}}get data(){return{altText:qe(this,el),decorative:qe(this,sd)}}set data({altText:e,decorative:t,guessedText:Se,textWithDisclaimer:_e,cancel:Ae=!1}){Se&&(Mn(this,Hd,Se),Mn(this,Hp,_e)),!(qe(this,el)===e&&qe(this,sd)===t)&&(Ae||(Mn(this,el,e),Mn(this,sd,t)),On(this,Rh,Cv).call(this))}toggle(e=!1){qe(this,Sh)&&(!e&&qe(this,nu)&&(clearTimeout(qe(this,nu)),Mn(this,nu,null)),qe(this,Sh).disabled=!e)}shown(){qe(this,Oc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:qe(this,Rh,m1)}})}destroy(){var e,t;(e=qe(this,Sh))==null||e.remove(),Mn(this,Sh,null),Mn(this,fg,null),Mn(this,ad,null),(t=qe(this,od))==null||t.remove(),Mn(this,od,null)}};el=new WeakMap,sd=new WeakMap,Sh=new WeakMap,fg=new WeakMap,ad=new WeakMap,nu=new WeakMap,pg=new WeakMap,od=new WeakMap,Oc=new WeakMap,Hd=new WeakMap,Hp=new WeakMap,ld=new WeakMap,Xf=new WeakMap,Rh=new WeakSet,m1=function(){return qe(this,el)&&"added"||qe(this,el)===null&&this.guessedText&&"review"||"missing"},Cv=async function(){var _e,Ae,Ce;const e=qe(this,Sh);if(!e)return;if(qe(this,ld)){if(e.classList.toggle("done",!!qe(this,el)),e.setAttribute("data-l10n-id",qe(uc,Xf)[qe(this,Rh,m1)]),(_e=qe(this,fg))==null||_e.setAttribute("data-l10n-id",qe(uc,Xf)[`${qe(this,Rh,m1)}-label`]),!qe(this,el)){(Ae=qe(this,ad))==null||Ae.remove();return}}else{if(!qe(this,el)&&!qe(this,sd)){e.classList.remove("done"),(Ce=qe(this,ad))==null||Ce.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=qe(this,ad);if(!t){Mn(this,ad,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${qe(this,Oc).id}`;const Pe=100,Ee=qe(this,Oc)._uiManager._signal;Ee.addEventListener("abort",()=>{clearTimeout(qe(this,nu)),Mn(this,nu,null)},{once:!0}),e.addEventListener("mouseenter",()=>{Mn(this,nu,setTimeout(()=>{Mn(this,nu,null),qe(this,ad).classList.add("show"),qe(this,Oc)._reportTelemetry({action:"alt_text_tooltip"})},Pe))},{signal:Ee}),e.addEventListener("mouseleave",()=>{var Fe;qe(this,nu)&&(clearTimeout(qe(this,nu)),Mn(this,nu,null)),(Fe=qe(this,ad))==null||Fe.classList.remove("show")},{signal:Ee})}qe(this,sd)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=qe(this,el)),t.parentNode||e.append(t);const Se=qe(this,Oc).getImageForAltText();Se==null||Se.setAttribute("aria-describedby",t.id)},jn(uc,Xf,null),yi(uc,"_l10n",null);let AltText=uc;var Vp,xh,Ba,gg,Wp,Al,Kp,Yf,V1,Xp,Zf,W1,Yp,Vd,cd,mg,vg,ju,K1,e2,Ji,my,X1,vy,yy,Eb,Fb,by,wy,Sy,Tb,xy,kb,Rb,Db,_y,v1;const Us=class Us{constructor(e){jn(this,Ji);jn(this,Vp,null);jn(this,xh,null);jn(this,Ba,null);jn(this,gg,!1);jn(this,Wp,!1);jn(this,Al,null);jn(this,Kp,null);jn(this,Yf,null);jn(this,V1,"");jn(this,Xp,!1);jn(this,Zf,null);jn(this,W1,!1);jn(this,Yp,!1);jn(this,Vd,!1);jn(this,cd,null);jn(this,mg,0);jn(this,vg,0);jn(this,ju,null);yi(this,"_editToolbar",null);yi(this,"_initialOptions",Object.create(null));yi(this,"_initialData",null);yi(this,"_isVisible",!0);yi(this,"_uiManager",null);yi(this,"_focusEventsAllowed",!0);jn(this,K1,!1);jn(this,e2,Us._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:Se,pageHeight:_e,pageX:Ae,pageY:Ce}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Se,_e],this.pageTranslation=[Ae,Ce];const[Pe,Ee]=this.parentDimensions;this.x=e.x/Pe,this.y=e.y/Ee,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Us.prototype._resizeWithKeyboard,t=AnnotationEditorUIManager.TRANSLATE_SMALL,Se=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-Se,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[Se,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-Se]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,Se]}],[["Escape","mac+Escape"],Us.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new FakeEditor({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Us._l10n??(Us._l10n=e),Us._l10nResizer||(Us._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Us._borderLineWidth!==-1)return;const Se=getComputedStyle(document.documentElement);Us._borderLineWidth=parseFloat(Se.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return qe(this,K1)}set _isDraggable(e){var t;Mn(this,K1,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=qe(this,e2)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):On(this,Ji,v1).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(qe(this,Xp)?Mn(this,Xp,!1):this.parent.setSelected(this))}focusout(e){var Se;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(Se=this.parent)!=null&&Se.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,Se,_e){const[Ae,Ce]=this.parentDimensions;[Se,_e]=this.screenToPageTranslation(Se,_e),this.x=(e+Se)/Ae,this.y=(t+_e)/Ce,this.fixAndSetPosition()}translate(e,t){On(this,Ji,my).call(this,this.parentDimensions,e,t)}translateInPage(e,t){qe(this,Zf)||Mn(this,Zf,[this.x,this.y]),On(this,Ji,my).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){qe(this,Zf)||Mn(this,Zf,[this.x,this.y]);const[Se,_e]=this.parentDimensions;if(this.x+=e/Se,this.y+=t/_e,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Fe,y:ke}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Fe,ke)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ae,y:Ce}=this;const[Pe,Ee]=this.getBaseTranslation();Ae+=Pe,Ce+=Ee,this.div.style.left=`${(100*Ae).toFixed(2)}%`,this.div.style.top=`${(100*Ce).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!qe(this,Zf)&&(qe(this,Zf)[0]!==this.x||qe(this,Zf)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:Se}=Us,_e=Se/e,Ae=Se/t;switch(this.rotation){case 90:return[-_e,Ae];case 180:return[_e,Ae];case 270:return[_e,-Ae];default:return[-_e,-Ae]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,Se]=this.pageDimensions;let{x:_e,y:Ae,width:Ce,height:Pe}=this;if(Ce*=t,Pe*=Se,_e*=t,Ae*=Se,this._mustFixPosition)switch(e){case 0:_e=Math.max(0,Math.min(t-Ce,_e)),Ae=Math.max(0,Math.min(Se-Pe,Ae));break;case 90:_e=Math.max(0,Math.min(t-Pe,_e)),Ae=Math.min(Se,Math.max(Ce,Ae));break;case 180:_e=Math.min(t,Math.max(Ce,_e)),Ae=Math.min(Se,Math.max(Pe,Ae));break;case 270:_e=Math.min(t,Math.max(Pe,_e)),Ae=Math.max(0,Math.min(Se-Ce,Ae));break}this.x=_e/=t,this.y=Ae/=Se;const[Ee,Fe]=this.getBaseTranslation();_e+=Ee,Ae+=Fe;const{style:ke}=this.div;ke.left=`${(100*_e).toFixed(2)}%`,ke.top=`${(100*Ae).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var Se;return On(Se=Us,X1,vy).call(Se,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var Se;return On(Se=Us,X1,vy).call(Se,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,Se]}=this;return[t*e,Se*e]}setDims(e,t){const[Se,_e]=this.parentDimensions;this.div.style.width=`${(100*e/Se).toFixed(2)}%`,qe(this,Wp)||(this.div.style.height=`${(100*t/_e).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:Se}=e,_e=Se.endsWith("%"),Ae=!qe(this,Wp)&&t.endsWith("%");if(_e&&Ae)return;const[Ce,Pe]=this.parentDimensions;_e||(e.width=`${(100*parseFloat(Se)/Ce).toFixed(2)}%`),!qe(this,Wp)&&!Ae&&(e.height=`${(100*parseFloat(t)/Pe).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=qe(this,Ba))==null||e.finish()}async addEditToolbar(){return this._editToolbar||qe(this,Yp)?this._editToolbar:(this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render()),qe(this,Ba)&&await this._editToolbar.addAltText(qe(this,Ba)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=qe(this,Ba))==null||e.destroy())}addContainer(e){var Se;const t=(Se=this._editToolbar)==null?void 0:Se.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){qe(this,Ba)||(AltText.initialize(Us._l10n),Mn(this,Ba,new AltText(this)),qe(this,Vp)&&(qe(this,Ba).data=qe(this,Vp),Mn(this,Vp,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=qe(this,Ba))==null?void 0:e.data}set altTextData(e){qe(this,Ba)&&(qe(this,Ba).data=e)}get guessedAltText(){var e;return(e=qe(this,Ba))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=qe(this,Ba))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=qe(this,Ba))==null?void 0:t.serialize(e)}hasAltText(){return!!qe(this,Ba)&&!qe(this,Ba).isEmpty()}hasAltTextData(){var e;return((e=qe(this,Ba))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=qe(this,gg)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),On(this,Ji,xy).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[Se,_e]=this.getInitialTranslation();return this.translate(Se,_e),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(Mn(this,Xp,!0),this._isDraggable){On(this,Ji,Tb).call(this,e);return}On(this,Ji,Sy).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){qe(this,cd)&&clearTimeout(qe(this,cd)),Mn(this,cd,setTimeout(()=>{var e;Mn(this,cd,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,Se){e.changeParent(this),this.x=t,this.y=Se,this.fixAndSetPosition()}getRect(e,t,Se=this.rotation){const _e=this.parentScale,[Ae,Ce]=this.pageDimensions,[Pe,Ee]=this.pageTranslation,Fe=e/_e,ke=t/_e,Ie=this.x*Ae,Oe=this.y*Ce,Re=this.width*Ae,Be=this.height*Ce;switch(Se){case 0:return[Ie+Fe+Pe,Ce-Oe-ke-Be+Ee,Ie+Fe+Re+Pe,Ce-Oe-ke+Ee];case 90:return[Ie+ke+Pe,Ce-Oe+Fe+Ee,Ie+ke+Be+Pe,Ce-Oe+Fe+Re+Ee];case 180:return[Ie-Fe-Re+Pe,Ce-Oe+ke+Ee,Ie-Fe+Pe,Ce-Oe+ke+Be+Ee];case 270:return[Ie-ke-Be+Pe,Ce-Oe-Fe-Re+Ee,Ie-ke+Pe,Ce-Oe-Fe+Ee];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[Se,_e,Ae,Ce]=e,Pe=Ae-Se,Ee=Ce-_e;switch(this.rotation){case 0:return[Se,t-Ce,Pe,Ee];case 90:return[Se,t-_e,Ee,Pe];case 180:return[Ae,t-_e,Pe,Ee];case 270:return[Ae,t-Ce,Ee,Pe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Mn(this,Yp,!0)}disableEditMode(){Mn(this,Yp,!1)}isInEditMode(){return qe(this,Yp)}shouldGetKeyboardEvents(){return qe(this,Vd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){On(this,Ji,xy).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){unreachable("An editor must be serializable")}static async deserialize(e,t,Se){const _e=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:Se});_e.rotation=e.rotation,Mn(_e,Vp,e.accessibilityData);const[Ae,Ce]=_e.pageDimensions,[Pe,Ee,Fe,ke]=_e.getRectInCurrentCoords(e.rect,Ce);return _e.x=Pe/Ae,_e.y=Ee/Ce,_e.width=Fe/Ae,_e.height=ke/Ce,_e}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=qe(this,Yf))==null||e.abort(),Mn(this,Yf,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),qe(this,cd)&&(clearTimeout(qe(this,cd)),Mn(this,cd,null)),On(this,Ji,v1).call(this),this.removeEditToolbar(),qe(this,ju)){for(const t of qe(this,ju).values())clearTimeout(t);Mn(this,ju,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(On(this,Ji,Eb).call(this),qe(this,Al).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),Mn(this,Kp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=qe(this,Al).children;if(!qe(this,xh)){Mn(this,xh,Array.from(t));const Ce=On(this,Ji,kb).bind(this),Pe=On(this,Ji,Rb).bind(this),Ee=this._uiManager._signal;for(const Fe of qe(this,xh)){const ke=Fe.getAttribute("data-resizer-name");Fe.setAttribute("role","spinbutton"),Fe.addEventListener("keydown",Ce,{signal:Ee}),Fe.addEventListener("blur",Pe,{signal:Ee}),Fe.addEventListener("focus",On(this,Ji,Db).bind(this,ke),{signal:Ee}),Fe.setAttribute("data-l10n-id",Us._l10nResizer[ke])}}const Se=qe(this,xh)[0];let _e=0;for(const Ce of t){if(Ce===Se)break;_e++}const Ae=(360-this.rotation+this.parentRotation)%360/90*(qe(this,xh).length/4);if(Ae!==_e){if(Ae<_e)for(let Pe=0;Pe<_e-Ae;Pe++)qe(this,Al).append(qe(this,Al).firstChild);else if(Ae>_e)for(let Pe=0;Pe<Ae-_e;Pe++)qe(this,Al).firstChild.before(qe(this,Al).lastChild);let Ce=0;for(const Pe of t){const Fe=qe(this,xh)[Ce++].getAttribute("data-resizer-name");Pe.setAttribute("data-l10n-id",Us._l10nResizer[Fe])}}On(this,Ji,_y).call(this,0),Mn(this,Vd,!0),qe(this,Al).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){qe(this,Vd)&&On(this,Ji,wy).call(this,qe(this,V1),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){On(this,Ji,v1).call(this),this.div.focus()}select(){var e,t,Se;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var _e,Ae;(_e=this.div)!=null&&_e.classList.contains("selectedEditor")&&((Ae=this._editToolbar)==null||Ae.show())});return}(t=this._editToolbar)==null||t.show(),(Se=qe(this,Ba))==null||Se.toggleAltTextBadge(!1)}unselect(){var e,t,Se,_e,Ae;(e=qe(this,Al))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(Se=this.div)!=null&&Se.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(_e=this._editToolbar)==null||_e.hide(),(Ae=qe(this,Ba))==null||Ae.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return qe(this,W1)}set isEditing(e){Mn(this,W1,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){Mn(this,Wp,!0);const Se=e/t,{style:_e}=this.div;_e.aspectRatio=Se,_e.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){qe(this,ju)||Mn(this,ju,new Map);const{action:Se}=e;let _e=qe(this,ju).get(Se);_e&&clearTimeout(_e),_e=setTimeout(()=>{this._reportTelemetry(e),qe(this,ju).delete(Se),qe(this,ju).size===0&&Mn(this,ju,null)},Us._telemetryTimeout),qe(this,ju).set(Se,_e);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),Mn(this,gg,!1)}disable(){this.div&&(this.div.tabIndex=-1),Mn(this,gg,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const Se=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),Se.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Vp=new WeakMap,xh=new WeakMap,Ba=new WeakMap,gg=new WeakMap,Wp=new WeakMap,Al=new WeakMap,Kp=new WeakMap,Yf=new WeakMap,V1=new WeakMap,Xp=new WeakMap,Zf=new WeakMap,W1=new WeakMap,Yp=new WeakMap,Vd=new WeakMap,cd=new WeakMap,mg=new WeakMap,vg=new WeakMap,ju=new WeakMap,K1=new WeakMap,e2=new WeakMap,Ji=new WeakSet,my=function([e,t],Se,_e){[Se,_e]=this.screenToPageTranslation(Se,_e),this.x+=Se/e,this.y+=_e/t,this.fixAndSetPosition()},X1=new WeakSet,vy=function(e,t,Se){switch(Se){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},yy=function(e){switch(e){case 90:{const[t,Se]=this.pageDimensions;return[0,-t/Se,Se/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,Se]=this.pageDimensions;return[0,t/Se,-Se/t,0]}default:return[1,0,0,1]}},Eb=function(){if(qe(this,Al))return;Mn(this,Al,document.createElement("div")),qe(this,Al).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const Se of e){const _e=document.createElement("div");qe(this,Al).append(_e),_e.classList.add("resizer",Se),_e.setAttribute("data-resizer-name",Se),_e.addEventListener("pointerdown",On(this,Ji,Fb).bind(this,Se),{signal:t}),_e.addEventListener("contextmenu",noContextMenu,{signal:t}),_e.tabIndex=-1}this.div.prepend(qe(this,Al))},Fb=function(e,t){var Be;t.preventDefault();const{isMac:Se}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&Se)return;(Be=qe(this,Ba))==null||Be.toggle(!1);const _e=this._isDraggable;this._isDraggable=!1;const Ae=new AbortController,Ce=this._uiManager.combinedSignal(Ae);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",On(this,Ji,wy).bind(this,e),{passive:!0,capture:!0,signal:Ce}),window.addEventListener("contextmenu",noContextMenu,{signal:Ce});const Pe=this.x,Ee=this.y,Fe=this.width,ke=this.height,Ie=this.parent.div.style.cursor,Oe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const Re=()=>{var je;Ae.abort(),this.parent.togglePointerEvents(!0),(je=qe(this,Ba))==null||je.toggle(!0),this._isDraggable=_e,this.parent.div.style.cursor=Ie,this.div.style.cursor=Oe,On(this,Ji,by).call(this,Pe,Ee,Fe,ke)};window.addEventListener("pointerup",Re,{signal:Ce}),window.addEventListener("blur",Re,{signal:Ce})},by=function(e,t,Se,_e){const Ae=this.x,Ce=this.y,Pe=this.width,Ee=this.height;Ae===e&&Ce===t&&Pe===Se&&Ee===_e||this.addCommands({cmd:()=>{this.width=Pe,this.height=Ee,this.x=Ae,this.y=Ce;const[Fe,ke]=this.parentDimensions;this.setDims(Fe*Pe,ke*Ee),this.fixAndSetPosition()},undo:()=>{this.width=Se,this.height=_e,this.x=e,this.y=t;const[Fe,ke]=this.parentDimensions;this.setDims(Fe*Se,ke*_e),this.fixAndSetPosition()},mustExec:!0})},wy=function(e,t){const[Se,_e]=this.parentDimensions,Ae=this.x,Ce=this.y,Pe=this.width,Ee=this.height,Fe=Us.MIN_SIZE/Se,ke=Us.MIN_SIZE/_e,Ie=pn=>Math.round(pn*1e4)/1e4,Oe=On(this,Ji,yy).call(this,this.rotation),Re=(pn,_n)=>[Oe[0]*pn+Oe[2]*_n,Oe[1]*pn+Oe[3]*_n],Be=On(this,Ji,yy).call(this,360-this.rotation),je=(pn,_n)=>[Be[0]*pn+Be[2]*_n,Be[1]*pn+Be[3]*_n];let He,Ge,Ve=!1,ze=!1;switch(e){case"topLeft":Ve=!0,He=(pn,_n)=>[0,0],Ge=(pn,_n)=>[pn,_n];break;case"topMiddle":He=(pn,_n)=>[pn/2,0],Ge=(pn,_n)=>[pn/2,_n];break;case"topRight":Ve=!0,He=(pn,_n)=>[pn,0],Ge=(pn,_n)=>[0,_n];break;case"middleRight":ze=!0,He=(pn,_n)=>[pn,_n/2],Ge=(pn,_n)=>[0,_n/2];break;case"bottomRight":Ve=!0,He=(pn,_n)=>[pn,_n],Ge=(pn,_n)=>[0,0];break;case"bottomMiddle":He=(pn,_n)=>[pn/2,_n],Ge=(pn,_n)=>[pn/2,0];break;case"bottomLeft":Ve=!0,He=(pn,_n)=>[0,_n],Ge=(pn,_n)=>[pn,0];break;case"middleLeft":ze=!0,He=(pn,_n)=>[0,_n/2],Ge=(pn,_n)=>[pn,_n/2];break}const Xe=He(Pe,Ee),We=Ge(Pe,Ee);let Je=Re(...We);const Qe=Ie(Ae+Je[0]),Ze=Ie(Ce+Je[1]);let on=1,an=1,[rn,fn]=this.screenToPageTranslation(t.movementX,t.movementY);if([rn,fn]=je(rn/Se,fn/_e),Ve){const pn=Math.hypot(Pe,Ee);on=an=Math.max(Math.min(Math.hypot(We[0]-Xe[0]-rn,We[1]-Xe[1]-fn)/pn,1/Pe,1/Ee),Fe/Pe,ke/Ee)}else ze?on=Math.max(Fe,Math.min(1,Math.abs(We[0]-Xe[0]-rn)))/Pe:an=Math.max(ke,Math.min(1,Math.abs(We[1]-Xe[1]-fn)))/Ee;const nn=Ie(Pe*on),cn=Ie(Ee*an);Je=Re(...Ge(nn,cn));const dn=Qe-Je[0],bn=Ze-Je[1];this.width=nn,this.height=cn,this.x=dn,this.y=bn,this.setDims(Se*nn,_e*cn),this.fixAndSetPosition()},Sy=function(e){const{isMac:t}=util_FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Tb=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const Se=new AbortController,_e=this._uiManager.combinedSignal(Se);if(t){this.div.classList.add("moving"),Mn(this,mg,e.clientX),Mn(this,vg,e.clientY);const Ce=Pe=>{const{clientX:Ee,clientY:Fe}=Pe,[ke,Ie]=this.screenToPageTranslation(Ee-qe(this,mg),Fe-qe(this,vg));Mn(this,mg,Ee),Mn(this,vg,Fe),this._uiManager.dragSelectedEditors(ke,Ie)};window.addEventListener("pointermove",Ce,{passive:!0,capture:!0,signal:_e})}const Ae=()=>{Se.abort(),t&&this.div.classList.remove("moving"),Mn(this,Xp,!1),this._uiManager.endDragSession()||On(this,Ji,Sy).call(this,e)};window.addEventListener("pointerup",Ae,{signal:_e}),window.addEventListener("blur",Ae,{signal:_e})},xy=function(){if(qe(this,Yf)||!this.div)return;Mn(this,Yf,new AbortController);const e=this._uiManager.combinedSignal(qe(this,Yf));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},kb=function(e){Us._resizerKeyboardManager.exec(this,e)},Rb=function(e){var t;qe(this,Vd)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==qe(this,Al)&&On(this,Ji,v1).call(this)},Db=function(e){Mn(this,V1,qe(this,Vd)?e:"")},_y=function(e){if(qe(this,xh))for(const t of qe(this,xh))t.tabIndex=e},v1=function(){if(Mn(this,Vd,!1),On(this,Ji,_y).call(this,-1),qe(this,Kp)){const{savedX:e,savedY:t,savedWidth:Se,savedHeight:_e}=qe(this,Kp);On(this,Ji,by).call(this,e,t,Se,_e),Mn(this,Kp,null)}},jn(Us,X1),yi(Us,"_l10n",null),yi(Us,"_l10nResizer",null),yi(Us,"_borderLineWidth",-1),yi(Us,"_colorManager",new ColorManager),yi(Us,"_zIndex",1),yi(Us,"_telemetryTimeout",1e3);let AnnotationEditor=Us;class FakeEditor extends AnnotationEditor{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(e){this.h1=e?e&4294967295:SEED,this.h2=e?e&4294967295:SEED}update(e){let t,Se;if(typeof e=="string"){t=new Uint8Array(e.length*2),Se=0;for(let je=0,He=e.length;je<He;je++){const Ge=e.charCodeAt(je);Ge<=255?t[Se++]=Ge:(t[Se++]=Ge>>>8,t[Se++]=Ge&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),Se=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const _e=Se>>2,Ae=Se-_e*4,Ce=new Uint32Array(t.buffer,0,_e);let Pe=0,Ee=0,Fe=this.h1,ke=this.h2;const Ie=3432918353,Oe=461845907,Re=Ie&MASK_LOW,Be=Oe&MASK_LOW;for(let je=0;je<_e;je++)je&1?(Pe=Ce[je],Pe=Pe*Ie&MASK_HIGH|Pe*Re&MASK_LOW,Pe=Pe<<15|Pe>>>17,Pe=Pe*Oe&MASK_HIGH|Pe*Be&MASK_LOW,Fe^=Pe,Fe=Fe<<13|Fe>>>19,Fe=Fe*5+3864292196):(Ee=Ce[je],Ee=Ee*Ie&MASK_HIGH|Ee*Re&MASK_LOW,Ee=Ee<<15|Ee>>>17,Ee=Ee*Oe&MASK_HIGH|Ee*Be&MASK_LOW,ke^=Ee,ke=ke<<13|ke>>>19,ke=ke*5+3864292196);switch(Pe=0,Ae){case 3:Pe^=t[_e*4+2]<<16;case 2:Pe^=t[_e*4+1]<<8;case 1:Pe^=t[_e*4],Pe=Pe*Ie&MASK_HIGH|Pe*Re&MASK_LOW,Pe=Pe<<15|Pe>>>17,Pe=Pe*Oe&MASK_HIGH|Pe*Be&MASK_LOW,_e&1?Fe^=Pe:ke^=Pe}this.h1=Fe,this.h2=ke}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&MASK_HIGH|e*36045&MASK_LOW,t=t*4283543511&MASK_HIGH|((t<<16|e>>>16)*2950163797&MASK_HIGH)>>>16,e^=t>>>1,e=e*444984403&MASK_HIGH|e*60499&MASK_LOW,t=t*3301882366&MASK_HIGH|((t<<16|e>>>16)*3120437893&MASK_HIGH)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var Zp,Jp,tl,t2,Nb;class AnnotationStorage{constructor(){jn(this,t2);jn(this,Zp,!1);jn(this,Jp,null);jn(this,tl,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const Se=qe(this,tl).get(e);return Se===void 0?t:Object.assign(t,Se)}getRawValue(e){return qe(this,tl).get(e)}remove(e){if(qe(this,tl).delete(e),qe(this,tl).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of qe(this,tl).values())if(t instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const Se=qe(this,tl).get(e);let _e=!1;if(Se!==void 0)for(const[Ae,Ce]of Object.entries(t))Se[Ae]!==Ce&&(_e=!0,Se[Ae]=Ce);else _e=!0,qe(this,tl).set(e,t);_e&&On(this,t2,Nb).call(this),t instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return qe(this,tl).has(e)}getAll(){return qe(this,tl).size>0?objectFromMap(qe(this,tl)):null}setAll(e){for(const[t,Se]of Object.entries(e))this.setValue(t,Se)}get size(){return qe(this,tl).size}resetModified(){qe(this,Zp)&&(Mn(this,Zp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(qe(this,tl).size===0)return SerializableEmpty;const e=new Map,t=new MurmurHash3_64,Se=[],_e=Object.create(null);let Ae=!1;for(const[Ce,Pe]of qe(this,tl)){const Ee=Pe instanceof AnnotationEditor?Pe.serialize(!1,_e):Pe;Ee&&(e.set(Ce,Ee),t.update(`${Ce}:${JSON.stringify(Ee)}`),Ae||(Ae=!!Ee.bitmap))}if(Ae)for(const Ce of e.values())Ce.bitmap&&Se.push(Ce.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:Se}:SerializableEmpty}get editorStats(){let e=null;const t=new Map;for(const Se of qe(this,tl).values()){if(!(Se instanceof AnnotationEditor))continue;const _e=Se.telemetryFinalData;if(!_e)continue;const{type:Ae}=_e;t.has(Ae)||t.set(Ae,Object.getPrototypeOf(Se).constructor),e||(e=Object.create(null));const Ce=e[Ae]||(e[Ae]=new Map);for(const[Pe,Ee]of Object.entries(_e)){if(Pe==="type")continue;let Fe=Ce.get(Pe);Fe||(Fe=new Map,Ce.set(Pe,Fe));const ke=Fe.get(Ee)??0;Fe.set(Ee,ke+1)}}for(const[Se,_e]of t)e[Se]=_e.computeTelemetryFinalData(e[Se]);return e}resetModifiedIds(){Mn(this,Jp,null)}get modifiedIds(){if(qe(this,Jp))return qe(this,Jp);const e=[];for(const t of qe(this,tl).values())!(t instanceof AnnotationEditor)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return Mn(this,Jp,{ids:new Set(e),hash:e.join(",")})}}Zp=new WeakMap,Jp=new WeakMap,tl=new WeakMap,t2=new WeakSet,Nb=function(){qe(this,Zp)||(Mn(this,Zp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Y1;class PrintAnnotationStorage extends AnnotationStorage{constructor(t){super();jn(this,Y1);const{map:Se,hash:_e,transfer:Ae}=t.serializable,Ce=structuredClone(Se,Ae?{transfer:Ae}:null);Mn(this,Y1,{map:Ce,hash:_e,transfer:Ae})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return qe(this,Y1)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}Y1=new WeakMap;var yg;class FontLoader{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){jn(this,yg,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),qe(this,yg).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||qe(this,yg).has(e.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Se,src:_e,style:Ae}=e,Ce=new FontFace(Se,_e,Ae);this.addNativeFontFace(Ce);try{await Ce.load(),qe(this,yg).add(Se),t==null||t(e)}catch{warn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Ce)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const Se=e.createNativeFontFace();if(Se){this.addNativeFontFace(Se);try{await Se.loaded}catch(_e){throw warn(`Failed to load font '${Se.family}': '${_e}'.`),e.disableFontFace=!0,_e}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(Se=>{const _e=this._queueLoadingCallback(Se);this._prepareFontLoadEvent(e,_e)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return shadow(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),shadow(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(assert(!_e.done,"completeRequest() cannot be called twice."),_e.done=!0;Se.length>0&&Se[0].done;){const Ae=Se.shift();setTimeout(Ae.callback,0)}}const{loadingRequests:Se}=this,_e={done:!1,complete:t,callback:e};return Se.push(_e),_e}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function Se(Xe,We){return Xe.charCodeAt(We)<<24|Xe.charCodeAt(We+1)<<16|Xe.charCodeAt(We+2)<<8|Xe.charCodeAt(We+3)&255}function _e(Xe,We,Je,Qe){const Ze=Xe.substring(0,We),on=Xe.substring(We+Je);return Ze+Qe+on}let Ae,Ce;const Pe=this._document.createElement("canvas");Pe.width=1,Pe.height=1;const Ee=Pe.getContext("2d");let Fe=0;function ke(Xe,We){if(++Fe>30){warn("Load test font never loaded."),We();return}if(Ee.font="30px "+Xe,Ee.fillText(".",0,20),Ee.getImageData(0,0,1,1).data[3]>0){We();return}setTimeout(ke.bind(null,Xe,We))}const Ie=`lt${Date.now()}${this.loadTestFontId++}`;let Oe=this._loadTestFont;Oe=_e(Oe,976,Ie.length,Ie);const Be=16,je=1482184792;let He=Se(Oe,Be);for(Ae=0,Ce=Ie.length-3;Ae<Ce;Ae+=4)He=He-je+Se(Ie,Ae)|0;Ae<Ie.length&&(He=He-je+Se(Ie+"XXX",Ae)|0),Oe=_e(Oe,Be,4,string32(He));const Ge=`url(data:font/opentype;base64,${btoa(Oe)});`,Ve=`@font-face {font-family:"${Ie}";src:${Ge}}`;this.insertRule(Ve);const ze=this._document.createElement("div");ze.style.visibility="hidden",ze.style.width=ze.style.height="10px",ze.style.position="absolute",ze.style.top=ze.style.left="0px";for(const Xe of[e.loadedName,Ie]){const We=this._document.createElement("span");We.textContent="Hi",We.style.fontFamily=Xe,ze.append(We)}this._document.body.append(ze),ke(Ie,()=>{ze.remove(),t.complete()})}}yg=new WeakMap;class FontFaceObject{constructor(e,{disableFontFace:t=!1,inspectFont:Se=null}){this.compiledGlyphs=Object.create(null);for(const _e in e)this[_e]=e[_e];this.disableFontFace=t===!0,this._inspectFont=Se}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const Se={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Se.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,Se)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var Se;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${e}}`}return(Se=this._inspectFont)==null||Se.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let Se;try{Se=e.get(this.loadedName+"_path_"+t)}catch(Ae){warn(`getPathGenerator - ignoring character: "${Ae}".`)}if(!Array.isArray(Se)||Se.length===0)return this.compiledGlyphs[t]=function(Ae,Ce){};const _e=[];for(let Ae=0,Ce=Se.length;Ae<Ce;)switch(Se[Ae++]){case FontRenderOps.BEZIER_CURVE_TO:{const[Pe,Ee,Fe,ke,Ie,Oe]=Se.slice(Ae,Ae+6);_e.push(Re=>Re.bezierCurveTo(Pe,Ee,Fe,ke,Ie,Oe)),Ae+=6}break;case FontRenderOps.MOVE_TO:{const[Pe,Ee]=Se.slice(Ae,Ae+2);_e.push(Fe=>Fe.moveTo(Pe,Ee)),Ae+=2}break;case FontRenderOps.LINE_TO:{const[Pe,Ee]=Se.slice(Ae,Ae+2);_e.push(Fe=>Fe.lineTo(Pe,Ee)),Ae+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[Pe,Ee,Fe,ke]=Se.slice(Ae,Ae+4);_e.push(Ie=>Ie.quadraticCurveTo(Pe,Ee,Fe,ke)),Ae+=4}break;case FontRenderOps.RESTORE:_e.push(Pe=>Pe.restore());break;case FontRenderOps.SAVE:_e.push(Pe=>Pe.save());break;case FontRenderOps.SCALE:assert(_e.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[Pe,Ee,Fe,ke,Ie,Oe]=Se.slice(Ae,Ae+6);_e.push(Re=>Re.transform(Pe,Ee,Fe,ke,Ie,Oe)),Ae+=6}break;case FontRenderOps.TRANSLATE:{const[Pe,Ee]=Se.slice(Ae,Ae+2);_e.push(Fe=>Fe.translate(Pe,Ee)),Ae+=2}break}return this.compiledGlyphs[t]=function(Ce,Pe){_e[0](Ce),_e[1](Ce),Ce.scale(Pe,-Pe);for(let Ee=2,Fe=_e.length;Ee<Fe;Ee++)_e[Ee](Ce)}}}var Z1;class BaseCanvasFactory{constructor({enableHWA:e=!1}){jn(this,Z1,!1);Mn(this,Z1,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const Se=this._createCanvas(e,t);return{canvas:Se,context:Se.getContext("2d",{willReadFrequently:!qe(this,Z1)})}}reset(e,t,Se){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||Se<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=Se}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){unreachable("Abstract method `_createCanvas` called.")}}Z1=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const Se=this._document.createElement("canvas");return Se.width=e,Se.height=t,Se}}class BaseCMapReaderFactory{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(Se=>({cMapData:Se,isCompressed:this.isCompressed})).catch(Se=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){const t=await fetchData(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):stringToBytes(t)}}class BaseFilterFactory{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,Se,_e,Ae){return"none"}destroy(e=!1){}}var Qp,$p,ud,Wd,ql,n2,e0,bi,Ul,Z0,J0,Pv,Q0,Lb,Ay,$0,y1,b1,Cy,w1;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:t,ownerDocument:Se=globalThis.document}){super();jn(this,bi);jn(this,Qp);jn(this,$p);jn(this,ud);jn(this,Wd);jn(this,ql);jn(this,n2);jn(this,e0,0);Mn(this,Wd,t),Mn(this,ql,Se)}addFilter(t){if(!t)return"none";let Se=qe(this,bi,Ul).get(t);if(Se)return Se;const[_e,Ae,Ce]=On(this,bi,Pv).call(this,t),Pe=t.length===1?_e:`${_e}${Ae}${Ce}`;if(Se=qe(this,bi,Ul).get(Pe),Se)return qe(this,bi,Ul).set(t,Se),Se;const Ee=`g_${qe(this,Wd)}_transfer_map_${Sl(this,e0)._++}`,Fe=On(this,bi,Q0).call(this,Ee);qe(this,bi,Ul).set(t,Fe),qe(this,bi,Ul).set(Pe,Fe);const ke=On(this,bi,$0).call(this,Ee);return On(this,bi,b1).call(this,_e,Ae,Ce,ke),Fe}addHCMFilter(t,Se){var Be;const _e=`${t}-${Se}`,Ae="base";let Ce=qe(this,bi,Z0).get(Ae);if((Ce==null?void 0:Ce.key)===_e||(Ce?((Be=Ce.filter)==null||Be.remove(),Ce.key=_e,Ce.url="none",Ce.filter=null):(Ce={key:_e,url:"none",filter:null},qe(this,bi,Z0).set(Ae,Ce)),!t||!Se))return Ce.url;const Pe=On(this,bi,w1).call(this,t);t=Util$1.makeHexColor(...Pe);const Ee=On(this,bi,w1).call(this,Se);if(Se=Util$1.makeHexColor(...Ee),qe(this,bi,J0).style.color="",t==="#000000"&&Se==="#ffffff"||t===Se)return Ce.url;const Fe=new Array(256);for(let je=0;je<=255;je++){const He=je/255;Fe[je]=He<=.03928?He/12.92:((He+.055)/1.055)**2.4}const ke=Fe.join(","),Ie=`g_${qe(this,Wd)}_hcm_filter`,Oe=Ce.filter=On(this,bi,$0).call(this,Ie);On(this,bi,b1).call(this,ke,ke,ke,Oe),On(this,bi,Ay).call(this,Oe);const Re=(je,He)=>{const Ge=Pe[je]/255,Ve=Ee[je]/255,ze=new Array(He+1);for(let Xe=0;Xe<=He;Xe++)ze[Xe]=Ge+Xe/He*(Ve-Ge);return ze.join(",")};return On(this,bi,b1).call(this,Re(0,5),Re(1,5),Re(2,5),Oe),Ce.url=On(this,bi,Q0).call(this,Ie),Ce.url}addAlphaFilter(t){let Se=qe(this,bi,Ul).get(t);if(Se)return Se;const[_e]=On(this,bi,Pv).call(this,[t]),Ae=`alpha_${_e}`;if(Se=qe(this,bi,Ul).get(Ae),Se)return qe(this,bi,Ul).set(t,Se),Se;const Ce=`g_${qe(this,Wd)}_alpha_map_${Sl(this,e0)._++}`,Pe=On(this,bi,Q0).call(this,Ce);qe(this,bi,Ul).set(t,Pe),qe(this,bi,Ul).set(Ae,Pe);const Ee=On(this,bi,$0).call(this,Ce);return On(this,bi,Cy).call(this,_e,Ee),Pe}addLuminosityFilter(t){let Se=qe(this,bi,Ul).get(t||"luminosity");if(Se)return Se;let _e,Ae;if(t?([_e]=On(this,bi,Pv).call(this,[t]),Ae=`luminosity_${_e}`):Ae="luminosity",Se=qe(this,bi,Ul).get(Ae),Se)return qe(this,bi,Ul).set(t,Se),Se;const Ce=`g_${qe(this,Wd)}_luminosity_map_${Sl(this,e0)._++}`,Pe=On(this,bi,Q0).call(this,Ce);qe(this,bi,Ul).set(t,Pe),qe(this,bi,Ul).set(Ae,Pe);const Ee=On(this,bi,$0).call(this,Ce);return On(this,bi,Lb).call(this,Ee),t&&On(this,bi,Cy).call(this,_e,Ee),Pe}addHighlightHCMFilter(t,Se,_e,Ae,Ce){var Ve;const Pe=`${Se}-${_e}-${Ae}-${Ce}`;let Ee=qe(this,bi,Z0).get(t);if((Ee==null?void 0:Ee.key)===Pe||(Ee?((Ve=Ee.filter)==null||Ve.remove(),Ee.key=Pe,Ee.url="none",Ee.filter=null):(Ee={key:Pe,url:"none",filter:null},qe(this,bi,Z0).set(t,Ee)),!Se||!_e))return Ee.url;const[Fe,ke]=[Se,_e].map(On(this,bi,w1).bind(this));let Ie=Math.round(.2126*Fe[0]+.7152*Fe[1]+.0722*Fe[2]),Oe=Math.round(.2126*ke[0]+.7152*ke[1]+.0722*ke[2]),[Re,Be]=[Ae,Ce].map(On(this,bi,w1).bind(this));Oe<Ie&&([Ie,Oe,Re,Be]=[Oe,Ie,Be,Re]),qe(this,bi,J0).style.color="";const je=(ze,Xe,We)=>{const Je=new Array(256),Qe=(Oe-Ie)/We,Ze=ze/255,on=(Xe-ze)/(255*We);let an=0;for(let rn=0;rn<=We;rn++){const fn=Math.round(Ie+rn*Qe),nn=Ze+rn*on;for(let cn=an;cn<=fn;cn++)Je[cn]=nn;an=fn+1}for(let rn=an;rn<256;rn++)Je[rn]=Je[an-1];return Je.join(",")},He=`g_${qe(this,Wd)}_hcm_${t}_filter`,Ge=Ee.filter=On(this,bi,$0).call(this,He);return On(this,bi,Ay).call(this,Ge),On(this,bi,b1).call(this,je(Re[0],Be[0],5),je(Re[1],Be[1],5),je(Re[2],Be[2],5),Ge),Ee.url=On(this,bi,Q0).call(this,He),Ee.url}destroy(t=!1){t&&qe(this,bi,Z0).size!==0||(qe(this,ud)&&(qe(this,ud).parentNode.parentNode.remove(),Mn(this,ud,null)),qe(this,$p)&&(qe(this,$p).clear(),Mn(this,$p,null)),Mn(this,e0,0))}}Qp=new WeakMap,$p=new WeakMap,ud=new WeakMap,Wd=new WeakMap,ql=new WeakMap,n2=new WeakMap,e0=new WeakMap,bi=new WeakSet,Ul=function(){return qe(this,$p)||Mn(this,$p,new Map)},Z0=function(){return qe(this,n2)||Mn(this,n2,new Map)},J0=function(){if(!qe(this,ud)){const t=qe(this,ql).createElement("div"),{style:Se}=t;Se.visibility="hidden",Se.contain="strict",Se.width=Se.height=0,Se.position="absolute",Se.top=Se.left=0,Se.zIndex=-1;const _e=qe(this,ql).createElementNS(SVG_NS,"svg");_e.setAttribute("width",0),_e.setAttribute("height",0),Mn(this,ud,qe(this,ql).createElementNS(SVG_NS,"defs")),t.append(_e),_e.append(qe(this,ud)),qe(this,ql).body.append(t)}return qe(this,ud)},Pv=function(t){if(t.length===1){const Fe=t[0],ke=new Array(256);for(let Oe=0;Oe<256;Oe++)ke[Oe]=Fe[Oe]/255;const Ie=ke.join(",");return[Ie,Ie,Ie]}const[Se,_e,Ae]=t,Ce=new Array(256),Pe=new Array(256),Ee=new Array(256);for(let Fe=0;Fe<256;Fe++)Ce[Fe]=Se[Fe]/255,Pe[Fe]=_e[Fe]/255,Ee[Fe]=Ae[Fe]/255;return[Ce.join(","),Pe.join(","),Ee.join(",")]},Q0=function(t){if(qe(this,Qp)===void 0){Mn(this,Qp,"");const Se=qe(this,ql).URL;Se!==qe(this,ql).baseURI&&(isDataScheme(Se)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):Mn(this,Qp,Se.split("#",1)[0]))}return`url(${qe(this,Qp)}#${t})`},Lb=function(t){const Se=qe(this,ql).createElementNS(SVG_NS,"feColorMatrix");Se.setAttribute("type","matrix"),Se.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(Se)},Ay=function(t){const Se=qe(this,ql).createElementNS(SVG_NS,"feColorMatrix");Se.setAttribute("type","matrix"),Se.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(Se)},$0=function(t){const Se=qe(this,ql).createElementNS(SVG_NS,"filter");return Se.setAttribute("color-interpolation-filters","sRGB"),Se.setAttribute("id",t),qe(this,bi,J0).append(Se),Se},y1=function(t,Se,_e){const Ae=qe(this,ql).createElementNS(SVG_NS,Se);Ae.setAttribute("type","discrete"),Ae.setAttribute("tableValues",_e),t.append(Ae)},b1=function(t,Se,_e,Ae){const Ce=qe(this,ql).createElementNS(SVG_NS,"feComponentTransfer");Ae.append(Ce),On(this,bi,y1).call(this,Ce,"feFuncR",t),On(this,bi,y1).call(this,Ce,"feFuncG",Se),On(this,bi,y1).call(this,Ce,"feFuncB",_e)},Cy=function(t,Se){const _e=qe(this,ql).createElementNS(SVG_NS,"feComponentTransfer");Se.append(_e),On(this,bi,y1).call(this,_e,"feFuncA",t)},w1=function(t){return qe(this,bi,J0).style.color=t,getRGB(getComputedStyle(qe(this,bi,J0)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(Se=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){const t=await fetchData(e,"arraybuffer");return new Uint8Array(t)}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const e=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0,import.meta.url),t=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0,import.meta.url),Se=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0,import.meta.url),_e=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0,import.meta.url);let Ae,Ce;return new Map(Object.entries({fs:e,http:t,https:Se,url:_e,canvas:Ae,path2d:Ce}))})().then(e=>{packageMap=e,packageCapability.resolve()},e=>{warn(`loadPackages: ${e}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get(e){return packageMap==null?void 0:packageMap.get(e)}}async function node_utils_fetchData(xe){const t=await NodePackages.get("fs").promises.readFile(xe);return new Uint8Array(t)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(e,t){return NodePackages.get("canvas").createCanvas(e,t)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){return node_utils_fetchData(e)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){return node_utils_fetchData(e)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(xe,e){if(!e)return;const t=e[2]-e[0],Se=e[3]-e[1],_e=new Path2D;_e.rect(e[0],e[1],t,Se),xe.clip(_e)}class BaseShadingPattern{getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Se of this._colorStops)t.addColorStop(Se[0],Se[1]);return t}getPattern(e,t,Se,_e){let Ae;if(_e===PathType.STROKE||_e===PathType.FILL){const Ce=t.current.getClippedPathBoundingBox(_e,getCurrentTransform(e))||[0,0,0,0],Pe=Math.ceil(Ce[2]-Ce[0])||1,Ee=Math.ceil(Ce[3]-Ce[1])||1,Fe=t.cachedCanvases.getCanvas("pattern",Pe,Ee),ke=Fe.context;ke.clearRect(0,0,ke.canvas.width,ke.canvas.height),ke.beginPath(),ke.rect(0,0,ke.canvas.width,ke.canvas.height),ke.translate(-Ce[0],-Ce[1]),Se=Util$1.transform(Se,[1,0,0,1,Ce[0],Ce[1]]),ke.transform(...t.baseTransform),this.matrix&&ke.transform(...this.matrix),applyBoundingBox(ke,this._bbox),ke.fillStyle=this._createGradient(ke),ke.fill(),Ae=e.createPattern(Fe.canvas,"no-repeat");const Ie=new DOMMatrix(Se);Ae.setTransform(Ie)}else applyBoundingBox(e,this._bbox),Ae=this._createGradient(e);return Ae}}function drawTriangle(xe,e,t,Se,_e,Ae,Ce,Pe){const Ee=e.coords,Fe=e.colors,ke=xe.data,Ie=xe.width*4;let Oe;Ee[t+1]>Ee[Se+1]&&(Oe=t,t=Se,Se=Oe,Oe=Ae,Ae=Ce,Ce=Oe),Ee[Se+1]>Ee[_e+1]&&(Oe=Se,Se=_e,_e=Oe,Oe=Ce,Ce=Pe,Pe=Oe),Ee[t+1]>Ee[Se+1]&&(Oe=t,t=Se,Se=Oe,Oe=Ae,Ae=Ce,Ce=Oe);const Re=(Ee[t]+e.offsetX)*e.scaleX,Be=(Ee[t+1]+e.offsetY)*e.scaleY,je=(Ee[Se]+e.offsetX)*e.scaleX,He=(Ee[Se+1]+e.offsetY)*e.scaleY,Ge=(Ee[_e]+e.offsetX)*e.scaleX,Ve=(Ee[_e+1]+e.offsetY)*e.scaleY;if(Be>=Ve)return;const ze=Fe[Ae],Xe=Fe[Ae+1],We=Fe[Ae+2],Je=Fe[Ce],Qe=Fe[Ce+1],Ze=Fe[Ce+2],on=Fe[Pe],an=Fe[Pe+1],rn=Fe[Pe+2],fn=Math.round(Be),nn=Math.round(Ve);let cn,dn,bn,pn,_n,Nn,Un,xn;for(let St=fn;St<=nn;St++){if(St<He){const vn=St<Be?0:(Be-St)/(Be-He);cn=Re-(Re-je)*vn,dn=ze-(ze-Je)*vn,bn=Xe-(Xe-Qe)*vn,pn=We-(We-Ze)*vn}else{let vn;St>Ve?vn=1:He===Ve?vn=0:vn=(He-St)/(He-Ve),cn=je-(je-Ge)*vn,dn=Je-(Je-on)*vn,bn=Qe-(Qe-an)*vn,pn=Ze-(Ze-rn)*vn}let sn;St<Be?sn=0:St>Ve?sn=1:sn=(Be-St)/(Be-Ve),_n=Re-(Re-Ge)*sn,Nn=ze-(ze-on)*sn,Un=Xe-(Xe-an)*sn,xn=We-(We-rn)*sn;const gn=Math.round(Math.min(cn,_n)),Pn=Math.round(Math.max(cn,_n));let Fn=Ie*St+gn*4;for(let vn=gn;vn<=Pn;vn++)sn=(cn-vn)/(cn-_n),sn<0?sn=0:sn>1&&(sn=1),ke[Fn++]=dn-(dn-Nn)*sn|0,ke[Fn++]=bn-(bn-Un)*sn|0,ke[Fn++]=pn-(pn-xn)*sn|0,ke[Fn++]=255}}function drawFigure(xe,e,t){const Se=e.coords,_e=e.colors;let Ae,Ce;switch(e.type){case"lattice":const Pe=e.verticesPerRow,Ee=Math.floor(Se.length/Pe)-1,Fe=Pe-1;for(Ae=0;Ae<Ee;Ae++){let ke=Ae*Pe;for(let Ie=0;Ie<Fe;Ie++,ke++)drawTriangle(xe,t,Se[ke],Se[ke+1],Se[ke+Pe],_e[ke],_e[ke+1],_e[ke+Pe]),drawTriangle(xe,t,Se[ke+Pe+1],Se[ke+1],Se[ke+Pe],_e[ke+Pe+1],_e[ke+1],_e[ke+Pe])}break;case"triangles":for(Ae=0,Ce=Se.length;Ae<Ce;Ae+=3)drawTriangle(xe,t,Se[Ae],Se[Ae+1],Se[Ae+2],_e[Ae],_e[Ae+1],_e[Ae+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,Se){const Pe=Math.floor(this._bounds[0]),Ee=Math.floor(this._bounds[1]),Fe=Math.ceil(this._bounds[2])-Pe,ke=Math.ceil(this._bounds[3])-Ee,Ie=Math.min(Math.ceil(Math.abs(Fe*e[0]*1.1)),3e3),Oe=Math.min(Math.ceil(Math.abs(ke*e[1]*1.1)),3e3),Re=Fe/Ie,Be=ke/Oe,je={coords:this._coords,colors:this._colors,offsetX:-Pe,offsetY:-Ee,scaleX:1/Re,scaleY:1/Be},He=Ie+2*2,Ge=Oe+2*2,Ve=Se.getCanvas("mesh",He,Ge),ze=Ve.context,Xe=ze.createImageData(Ie,Oe);if(t){const Je=Xe.data;for(let Qe=0,Ze=Je.length;Qe<Ze;Qe+=4)Je[Qe]=t[0],Je[Qe+1]=t[1],Je[Qe+2]=t[2],Je[Qe+3]=255}for(const Je of this._figures)drawFigure(Xe,Je,je);return ze.putImageData(Xe,2,2),{canvas:Ve.canvas,offsetX:Pe-2*Re,offsetY:Ee-2*Be,scaleX:Re,scaleY:Be}}getPattern(e,t,Se,_e){applyBoundingBox(e,this._bbox);let Ae;if(_e===PathType.SHADING)Ae=Util$1.singularValueDecompose2dScale(getCurrentTransform(e));else if(Ae=Util$1.singularValueDecompose2dScale(t.baseTransform),this.matrix){const Pe=Util$1.singularValueDecompose2dScale(this.matrix);Ae=[Ae[0]*Pe[0],Ae[1]*Pe[1]]}const Ce=this._createMeshCanvas(Ae,_e===PathType.SHADING?null:this._background,t.cachedCanvases);return _e!==PathType.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(Ce.offsetX,Ce.offsetY),e.scale(Ce.scaleX,Ce.scaleY),e.createPattern(Ce.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(xe){switch(xe[0]){case"RadialAxial":return new RadialAxialShadingPattern(xe);case"Mesh":return new MeshShadingPattern(xe);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${xe[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},r2=class r2{constructor(e,t,Se,_e,Ae){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=Se,this.canvasGraphicsFactory=_e,this.baseTransform=Ae}createPatternCanvas(e){const{bbox:t,operatorList:Se,paintType:_e,tilingType:Ae,color:Ce,canvasGraphicsFactory:Pe}=this;let{xstep:Ee,ystep:Fe}=this;Ee=Math.abs(Ee),Fe=Math.abs(Fe),info("TilingType: "+Ae);const ke=t[0],Ie=t[1],Oe=t[2],Re=t[3],Be=Oe-ke,je=Re-Ie,He=Util$1.singularValueDecompose2dScale(this.matrix),Ge=Util$1.singularValueDecompose2dScale(this.baseTransform),Ve=He[0]*Ge[0],ze=He[1]*Ge[1];let Xe=Be,We=je,Je=!1,Qe=!1;const Ze=Math.ceil(Ee*Ve),on=Math.ceil(Fe*ze),an=Math.ceil(Be*Ve),rn=Math.ceil(je*ze);Ze>=an?Xe=Ee:Je=!0,on>=rn?We=Fe:Qe=!0;const fn=this.getSizeAndScale(Xe,this.ctx.canvas.width,Ve),nn=this.getSizeAndScale(We,this.ctx.canvas.height,ze),cn=e.cachedCanvases.getCanvas("pattern",fn.size,nn.size),dn=cn.context,bn=Pe.createCanvasGraphics(dn);if(bn.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(bn,_e,Ce),dn.translate(-fn.scale*ke,-nn.scale*Ie),bn.transform(fn.scale,0,0,nn.scale,0,0),dn.save(),this.clipBbox(bn,ke,Ie,Oe,Re),bn.baseTransform=getCurrentTransform(bn.ctx),bn.executeOperatorList(Se),bn.endDrawing(),dn.restore(),Je||Qe){const pn=cn.canvas;Je&&(Xe=Ee),Qe&&(We=Fe);const _n=this.getSizeAndScale(Xe,this.ctx.canvas.width,Ve),Nn=this.getSizeAndScale(We,this.ctx.canvas.height,ze),Un=_n.size,xn=Nn.size,St=e.cachedCanvases.getCanvas("pattern-workaround",Un,xn),sn=St.context,gn=Je?Math.floor(Be/Ee):0,Pn=Qe?Math.floor(je/Fe):0;for(let Fn=0;Fn<=gn;Fn++)for(let vn=0;vn<=Pn;vn++)sn.drawImage(pn,Un*Fn,xn*vn,Un,xn,0,0,Un,xn);return{canvas:St.canvas,scaleX:_n.scale,scaleY:Nn.scale,offsetX:ke,offsetY:Ie}}return{canvas:cn.canvas,scaleX:fn.scale,scaleY:nn.scale,offsetX:ke,offsetY:Ie}}getSizeAndScale(e,t,Se){const _e=Math.max(r2.MAX_PATTERN_SIZE,t);let Ae=Math.ceil(e*Se);return Ae>=_e?Ae=_e:Se=Ae/e,{scale:Se,size:Ae}}clipBbox(e,t,Se,_e,Ae){const Ce=_e-t,Pe=Ae-Se;e.ctx.rect(t,Se,Ce,Pe),e.current.updateRectMinMax(getCurrentTransform(e.ctx),[t,Se,_e,Ae]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,Se){const _e=e.ctx,Ae=e.current;switch(t){case PaintType.COLORED:const Ce=this.ctx;_e.fillStyle=Ce.fillStyle,_e.strokeStyle=Ce.strokeStyle,Ae.fillColor=Ce.fillStyle,Ae.strokeColor=Ce.strokeStyle;break;case PaintType.UNCOLORED:const Pe=Util$1.makeHexColor(Se[0],Se[1],Se[2]);_e.fillStyle=Pe,_e.strokeStyle=Pe,Ae.fillColor=Pe,Ae.strokeColor=Pe;break;default:throw new FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,Se,_e){let Ae=Se;_e!==PathType.SHADING&&(Ae=Util$1.transform(Ae,t.baseTransform),this.matrix&&(Ae=Util$1.transform(Ae,this.matrix)));const Ce=this.createPatternCanvas(t);let Pe=new DOMMatrix(Ae);Pe=Pe.translate(Ce.offsetX,Ce.offsetY),Pe=Pe.scale(1/Ce.scaleX,1/Ce.scaleY);const Ee=e.createPattern(Ce.canvas,"repeat");return Ee.setTransform(Pe),Ee}};yi(r2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=r2;function convertBlackAndWhiteToRGBA({src:xe,srcPos:e=0,dest:t,width:Se,height:_e,nonBlackColor:Ae=4294967295,inverseDecode:Ce=!1}){const Pe=util_FeatureTest.isLittleEndian?4278190080:255,[Ee,Fe]=Ce?[Ae,Pe]:[Pe,Ae],ke=Se>>3,Ie=Se&7,Oe=xe.length;t=new Uint32Array(t.buffer);let Re=0;for(let Be=0;Be<_e;Be++){for(const He=e+ke;e<He;e++){const Ge=e<Oe?xe[e]:255;t[Re++]=Ge&128?Fe:Ee,t[Re++]=Ge&64?Fe:Ee,t[Re++]=Ge&32?Fe:Ee,t[Re++]=Ge&16?Fe:Ee,t[Re++]=Ge&8?Fe:Ee,t[Re++]=Ge&4?Fe:Ee,t[Re++]=Ge&2?Fe:Ee,t[Re++]=Ge&1?Fe:Ee}if(Ie===0)continue;const je=e<Oe?xe[e++]:255;for(let He=0;He<Ie;He++)t[Re++]=je&1<<7-He?Fe:Ee}return{srcPos:e,destPos:Re}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(xe,e){if(xe._removeMirroring)throw new Error("Context is already forwarding operations.");xe.__originalSave=xe.save,xe.__originalRestore=xe.restore,xe.__originalRotate=xe.rotate,xe.__originalScale=xe.scale,xe.__originalTranslate=xe.translate,xe.__originalTransform=xe.transform,xe.__originalSetTransform=xe.setTransform,xe.__originalResetTransform=xe.resetTransform,xe.__originalClip=xe.clip,xe.__originalMoveTo=xe.moveTo,xe.__originalLineTo=xe.lineTo,xe.__originalBezierCurveTo=xe.bezierCurveTo,xe.__originalRect=xe.rect,xe.__originalClosePath=xe.closePath,xe.__originalBeginPath=xe.beginPath,xe._removeMirroring=()=>{xe.save=xe.__originalSave,xe.restore=xe.__originalRestore,xe.rotate=xe.__originalRotate,xe.scale=xe.__originalScale,xe.translate=xe.__originalTranslate,xe.transform=xe.__originalTransform,xe.setTransform=xe.__originalSetTransform,xe.resetTransform=xe.__originalResetTransform,xe.clip=xe.__originalClip,xe.moveTo=xe.__originalMoveTo,xe.lineTo=xe.__originalLineTo,xe.bezierCurveTo=xe.__originalBezierCurveTo,xe.rect=xe.__originalRect,xe.closePath=xe.__originalClosePath,xe.beginPath=xe.__originalBeginPath,delete xe._removeMirroring},xe.save=function(){e.save(),this.__originalSave()},xe.restore=function(){e.restore(),this.__originalRestore()},xe.translate=function(Se,_e){e.translate(Se,_e),this.__originalTranslate(Se,_e)},xe.scale=function(Se,_e){e.scale(Se,_e),this.__originalScale(Se,_e)},xe.transform=function(Se,_e,Ae,Ce,Pe,Ee){e.transform(Se,_e,Ae,Ce,Pe,Ee),this.__originalTransform(Se,_e,Ae,Ce,Pe,Ee)},xe.setTransform=function(Se,_e,Ae,Ce,Pe,Ee){e.setTransform(Se,_e,Ae,Ce,Pe,Ee),this.__originalSetTransform(Se,_e,Ae,Ce,Pe,Ee)},xe.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},xe.rotate=function(Se){e.rotate(Se),this.__originalRotate(Se)},xe.clip=function(Se){e.clip(Se),this.__originalClip(Se)},xe.moveTo=function(t,Se){e.moveTo(t,Se),this.__originalMoveTo(t,Se)},xe.lineTo=function(t,Se){e.lineTo(t,Se),this.__originalLineTo(t,Se)},xe.bezierCurveTo=function(t,Se,_e,Ae,Ce,Pe){e.bezierCurveTo(t,Se,_e,Ae,Ce,Pe),this.__originalBezierCurveTo(t,Se,_e,Ae,Ce,Pe)},xe.rect=function(t,Se,_e,Ae){e.rect(t,Se,_e,Ae),this.__originalRect(t,Se,_e,Ae)},xe.closePath=function(){e.closePath(),this.__originalClosePath()},xe.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,Se){let _e;return this.cache[e]!==void 0?(_e=this.cache[e],this.canvasFactory.reset(_e,t,Se)):(_e=this.canvasFactory.create(t,Se),this.cache[e]=_e),_e}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function drawImageAtIntegerCoords(xe,e,t,Se,_e,Ae,Ce,Pe,Ee,Fe){const[ke,Ie,Oe,Re,Be,je]=getCurrentTransform(xe);if(Ie===0&&Oe===0){const Ve=Ce*ke+Be,ze=Math.round(Ve),Xe=Pe*Re+je,We=Math.round(Xe),Je=(Ce+Ee)*ke+Be,Qe=Math.abs(Math.round(Je)-ze)||1,Ze=(Pe+Fe)*Re+je,on=Math.abs(Math.round(Ze)-We)||1;return xe.setTransform(Math.sign(ke),0,0,Math.sign(Re),ze,We),xe.drawImage(e,t,Se,_e,Ae,0,0,Qe,on),xe.setTransform(ke,Ie,Oe,Re,Be,je),[Qe,on]}if(ke===0&&Re===0){const Ve=Pe*Oe+Be,ze=Math.round(Ve),Xe=Ce*Ie+je,We=Math.round(Xe),Je=(Pe+Fe)*Oe+Be,Qe=Math.abs(Math.round(Je)-ze)||1,Ze=(Ce+Ee)*Ie+je,on=Math.abs(Math.round(Ze)-We)||1;return xe.setTransform(0,Math.sign(Ie),Math.sign(Oe),0,ze,We),xe.drawImage(e,t,Se,_e,Ae,0,0,on,Qe),xe.setTransform(ke,Ie,Oe,Re,Be,je),[on,Qe]}xe.drawImage(e,t,Se,_e,Ae,Ce,Pe,Ee,Fe);const He=Math.hypot(ke,Ie),Ge=Math.hypot(Oe,Re);return[He*Ee,Ge*Fe]}function compileType3Glyph(xe){const{width:e,height:t}=xe;if(e>MAX_SIZE_TO_COMPILE||t>MAX_SIZE_TO_COMPILE)return null;const Se=1e3,_e=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ae=e+1;let Ce=new Uint8Array(Ae*(t+1)),Pe,Ee,Fe;const ke=e+7&-8;let Ie=new Uint8Array(ke*t),Oe=0;for(const Ge of xe.data){let Ve=128;for(;Ve>0;)Ie[Oe++]=Ge&Ve?0:255,Ve>>=1}let Re=0;for(Oe=0,Ie[Oe]!==0&&(Ce[0]=1,++Re),Ee=1;Ee<e;Ee++)Ie[Oe]!==Ie[Oe+1]&&(Ce[Ee]=Ie[Oe]?2:1,++Re),Oe++;for(Ie[Oe]!==0&&(Ce[Ee]=2,++Re),Pe=1;Pe<t;Pe++){Oe=Pe*ke,Fe=Pe*Ae,Ie[Oe-ke]!==Ie[Oe]&&(Ce[Fe]=Ie[Oe]?1:8,++Re);let Ge=(Ie[Oe]?4:0)+(Ie[Oe-ke]?8:0);for(Ee=1;Ee<e;Ee++)Ge=(Ge>>2)+(Ie[Oe+1]?4:0)+(Ie[Oe-ke+1]?8:0),_e[Ge]&&(Ce[Fe+Ee]=_e[Ge],++Re),Oe++;if(Ie[Oe-ke]!==Ie[Oe]&&(Ce[Fe+Ee]=Ie[Oe]?2:4,++Re),Re>Se)return null}for(Oe=ke*(t-1),Fe=Pe*Ae,Ie[Oe]!==0&&(Ce[Fe]=8,++Re),Ee=1;Ee<e;Ee++)Ie[Oe]!==Ie[Oe+1]&&(Ce[Fe+Ee]=Ie[Oe]?4:8,++Re),Oe++;if(Ie[Oe]!==0&&(Ce[Fe+Ee]=4,++Re),Re>Se)return null;const Be=new Int32Array([0,Ae,-1,0,-Ae,0,0,0,1]),je=new Path2D;for(Pe=0;Re&&Pe<=t;Pe++){let Ge=Pe*Ae;const Ve=Ge+e;for(;Ge<Ve&&!Ce[Ge];)Ge++;if(Ge===Ve)continue;je.moveTo(Ge%Ae,Pe);const ze=Ge;let Xe=Ce[Ge];do{const We=Be[Xe];do Ge+=We;while(!Ce[Ge]);const Je=Ce[Ge];Je!==5&&Je!==10?(Xe=Je,Ce[Ge]=0):(Xe=Je&51*Xe>>4,Ce[Ge]&=Xe>>2|Xe<<2),je.lineTo(Ge%Ae,Ge/Ae|0),Ce[Ge]||--Re}while(ze!==Ge);--Pe}return Ie=null,Ce=null,function(Ge){Ge.save(),Ge.scale(1/e,-1/t),Ge.translate(0,-t),Ge.fill(je),Ge.beginPath(),Ge.restore()}}class CanvasExtraState{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,Se){[t,Se]=Util$1.applyTransform([t,Se],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,Se),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,Se)}updateRectMinMax(e,t){const Se=Util$1.applyTransform(t,e),_e=Util$1.applyTransform(t.slice(2),e),Ae=Util$1.applyTransform([t[0],t[3]],e),Ce=Util$1.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,Se[0],_e[0],Ae[0],Ce[0]),this.minY=Math.min(this.minY,Se[1],_e[1],Ae[1],Ce[1]),this.maxX=Math.max(this.maxX,Se[0],_e[0],Ae[0],Ce[0]),this.maxY=Math.max(this.maxY,Se[1],_e[1],Ae[1],Ce[1])}updateScalingPathMinMax(e,t){Util$1.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke){const Ie=Util$1.bezierBoundingBox(t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke);ke||this.updateRectMinMax(e,Ie)}getPathBoundingBox(e=PathType.FILL,t=null){const Se=[this.minX,this.minY,this.maxX,this.maxY];if(e===PathType.STROKE){t||unreachable("Stroke bounding box must include transform.");const _e=Util$1.singularValueDecompose2dScale(t),Ae=_e[0]*this.lineWidth/2,Ce=_e[1]*this.lineWidth/2;Se[0]-=Ae,Se[1]-=Ce,Se[2]+=Ae,Se[3]+=Ce}return Se}updateClipFromPath(){const e=Util$1.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=PathType.FILL,t=null){return Util$1.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function putBinaryImageData(xe,e){if(typeof ImageData<"u"&&e instanceof ImageData){xe.putImageData(e,0,0);return}const t=e.height,Se=e.width,_e=t%FULL_CHUNK_HEIGHT,Ae=(t-_e)/FULL_CHUNK_HEIGHT,Ce=_e===0?Ae:Ae+1,Pe=xe.createImageData(Se,FULL_CHUNK_HEIGHT);let Ee=0,Fe;const ke=e.data,Ie=Pe.data;let Oe,Re,Be,je;if(e.kind===util_ImageKind.GRAYSCALE_1BPP){const He=ke.byteLength,Ge=new Uint32Array(Ie.buffer,0,Ie.byteLength>>2),Ve=Ge.length,ze=Se+7>>3,Xe=4294967295,We=util_FeatureTest.isLittleEndian?4278190080:255;for(Oe=0;Oe<Ce;Oe++){for(Be=Oe<Ae?FULL_CHUNK_HEIGHT:_e,Fe=0,Re=0;Re<Be;Re++){const Je=He-Ee;let Qe=0;const Ze=Je>ze?Se:Je*8-7,on=Ze&-8;let an=0,rn=0;for(;Qe<on;Qe+=8)rn=ke[Ee++],Ge[Fe++]=rn&128?Xe:We,Ge[Fe++]=rn&64?Xe:We,Ge[Fe++]=rn&32?Xe:We,Ge[Fe++]=rn&16?Xe:We,Ge[Fe++]=rn&8?Xe:We,Ge[Fe++]=rn&4?Xe:We,Ge[Fe++]=rn&2?Xe:We,Ge[Fe++]=rn&1?Xe:We;for(;Qe<Ze;Qe++)an===0&&(rn=ke[Ee++],an=128),Ge[Fe++]=rn&an?Xe:We,an>>=1}for(;Fe<Ve;)Ge[Fe++]=0;xe.putImageData(Pe,0,Oe*FULL_CHUNK_HEIGHT)}}else if(e.kind===util_ImageKind.RGBA_32BPP){for(Re=0,je=Se*FULL_CHUNK_HEIGHT*4,Oe=0;Oe<Ae;Oe++)Ie.set(ke.subarray(Ee,Ee+je)),Ee+=je,xe.putImageData(Pe,0,Re),Re+=FULL_CHUNK_HEIGHT;Oe<Ce&&(je=Se*_e*4,Ie.set(ke.subarray(Ee,Ee+je)),xe.putImageData(Pe,0,Re))}else if(e.kind===util_ImageKind.RGB_24BPP)for(Be=FULL_CHUNK_HEIGHT,je=Se*Be,Oe=0;Oe<Ce;Oe++){for(Oe>=Ae&&(Be=_e,je=Se*Be),Fe=0,Re=je;Re--;)Ie[Fe++]=ke[Ee++],Ie[Fe++]=ke[Ee++],Ie[Fe++]=ke[Ee++],Ie[Fe++]=255;xe.putImageData(Pe,0,Oe*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${e.kind}`)}function putBinaryImageMask(xe,e){if(e.bitmap){xe.drawImage(e.bitmap,0,0);return}const t=e.height,Se=e.width,_e=t%FULL_CHUNK_HEIGHT,Ae=(t-_e)/FULL_CHUNK_HEIGHT,Ce=_e===0?Ae:Ae+1,Pe=xe.createImageData(Se,FULL_CHUNK_HEIGHT);let Ee=0;const Fe=e.data,ke=Pe.data;for(let Ie=0;Ie<Ce;Ie++){const Oe=Ie<Ae?FULL_CHUNK_HEIGHT:_e;({srcPos:Ee}=convertBlackAndWhiteToRGBA({src:Fe,srcPos:Ee,dest:ke,width:Se,height:Oe,nonBlackColor:0})),xe.putImageData(Pe,0,Ie*FULL_CHUNK_HEIGHT)}}function copyCtxState(xe,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Se of t)xe[Se]!==void 0&&(e[Se]=xe[Se]);xe.setLineDash!==void 0&&(e.setLineDash(xe.getLineDash()),e.lineDashOffset=xe.lineDashOffset)}function resetCtxToDefault(xe){if(xe.strokeStyle=xe.fillStyle="#000000",xe.fillRule="nonzero",xe.globalAlpha=1,xe.lineWidth=1,xe.lineCap="butt",xe.lineJoin="miter",xe.miterLimit=10,xe.globalCompositeOperation="source-over",xe.font="10px sans-serif",xe.setLineDash!==void 0&&(xe.setLineDash([]),xe.lineDashOffset=0),!isNodeJS){const{filter:e}=xe;e!=="none"&&e!==""&&(xe.filter="none")}}function getImageSmoothingEnabled(xe,e){if(e)return!0;const t=Util$1.singularValueDecompose2dScale(xe);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const Se=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return t[0]<=Se&&t[1]<=Se}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var pp,Py,Ey;const a5=class a5{constructor(e,t,Se,_e,Ae,{optionalContentConfig:Ce,markedContentStack:Pe=null},Ee,Fe){jn(this,pp);this.ctx=e,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=Se,this.canvasFactory=_e,this.filterFactory=Ae,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Pe||[],this.optionalContentConfig=Ce,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ee,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Fe,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:Se=!1,background:_e=null}){const Ae=this.ctx.canvas.width,Ce=this.ctx.canvas.height,Pe=this.ctx.fillStyle;if(this.ctx.fillStyle=_e||"#ffffff",this.ctx.fillRect(0,0,Ae,Ce),this.ctx.fillStyle=Pe,Se){const Ee=this.cachedCanvases.getCanvas("transparent",Ae,Ce);this.compositeCtx=this.ctx,this.transparentCanvas=Ee.canvas,this.ctx=Ee.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(e,t,Se,_e){const Ae=e.argsArray,Ce=e.fnArray;let Pe=t||0;const Ee=Ae.length;if(Ee===Pe)return Pe;const Fe=Ee-Pe>EXECUTION_STEPS&&typeof Se=="function",ke=Fe?Date.now()+EXECUTION_TIME:0;let Ie=0;const Oe=this.commonObjs,Re=this.objs;let Be;for(;;){if(_e!==void 0&&Pe===_e.nextBreakPoint)return _e.breakIt(Pe,Se),Pe;if(Be=Ce[Pe],Be!==OPS.dependency)this[Be].apply(this,Ae[Pe]);else for(const je of Ae[Pe]){const He=je.startsWith("g_")?Oe:Re;if(!He.has(je))return He.get(je,Se),Pe}if(Pe++,Pe===Ee)return Pe;if(Fe&&++Ie>EXECUTION_STEPS){if(Date.now()>ke)return Se(),Pe;Ie=0}}}endDrawing(){On(this,pp,Py).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),On(this,pp,Ey).call(this)}_scaleImage(e,t){const Se=e.width??e.displayWidth,_e=e.height??e.displayHeight;let Ae=Math.max(Math.hypot(t[0],t[1]),1),Ce=Math.max(Math.hypot(t[2],t[3]),1),Pe=Se,Ee=_e,Fe="prescale1",ke,Ie;for(;Ae>2&&Pe>1||Ce>2&&Ee>1;){let Oe=Pe,Re=Ee;Ae>2&&Pe>1&&(Oe=Pe>=16384?Math.floor(Pe/2)-1||1:Math.ceil(Pe/2),Ae/=Pe/Oe),Ce>2&&Ee>1&&(Re=Ee>=16384?Math.floor(Ee/2)-1||1:Math.ceil(Ee)/2,Ce/=Ee/Re),ke=this.cachedCanvases.getCanvas(Fe,Oe,Re),Ie=ke.context,Ie.clearRect(0,0,Oe,Re),Ie.drawImage(e,0,0,Pe,Ee,0,0,Oe,Re),e=ke.canvas,Pe=Oe,Ee=Re,Fe=Fe==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:Pe,paintHeight:Ee}}_createMaskCanvas(e){const t=this.ctx,{width:Se,height:_e}=e,Ae=this.current.fillColor,Ce=this.current.patternFill,Pe=getCurrentTransform(t);let Ee,Fe,ke,Ie;if((e.bitmap||e.data)&&e.count>1){const Ze=e.bitmap||e.data.buffer;Fe=JSON.stringify(Ce?Pe:[Pe.slice(0,4),Ae]),Ee=this._cachedBitmapsMap.get(Ze),Ee||(Ee=new Map,this._cachedBitmapsMap.set(Ze,Ee));const on=Ee.get(Fe);if(on&&!Ce){const an=Math.round(Math.min(Pe[0],Pe[2])+Pe[4]),rn=Math.round(Math.min(Pe[1],Pe[3])+Pe[5]);return{canvas:on,offsetX:an,offsetY:rn}}ke=on}ke||(Ie=this.cachedCanvases.getCanvas("maskCanvas",Se,_e),putBinaryImageMask(Ie.context,e));let Oe=Util$1.transform(Pe,[1/Se,0,0,-1/_e,0,0]);Oe=Util$1.transform(Oe,[1,0,0,1,0,-_e]);const[Re,Be,je,He]=Util$1.getAxialAlignedBoundingBox([0,0,Se,_e],Oe),Ge=Math.round(je-Re)||1,Ve=Math.round(He-Be)||1,ze=this.cachedCanvases.getCanvas("fillCanvas",Ge,Ve),Xe=ze.context,We=Re,Je=Be;Xe.translate(-We,-Je),Xe.transform(...Oe),ke||(ke=this._scaleImage(Ie.canvas,getCurrentTransformInverse(Xe)),ke=ke.img,Ee&&Ce&&Ee.set(Fe,ke)),Xe.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Xe),e.interpolate),drawImageAtIntegerCoords(Xe,ke,0,0,ke.width,ke.height,0,0,Se,_e),Xe.globalCompositeOperation="source-in";const Qe=Util$1.transform(getCurrentTransformInverse(Xe),[1,0,0,1,-We,-Je]);return Xe.fillStyle=Ce?Ae.getPattern(t,this,Qe,PathType.FILL):Ae,Xe.fillRect(0,0,Se,_e),Ee&&!Ce&&(this.cachedCanvases.delete("fillCanvas"),Ee.set(Fe,ze.canvas)),{canvas:ze.canvas,offsetX:Math.round(We),offsetY:Math.round(Je)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=LINE_CAP_STYLES[e]}setLineJoin(e){this.ctx.lineJoin=LINE_JOIN_STYLES[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const Se=this.ctx;Se.setLineDash!==void 0&&(Se.setLineDash(e),Se.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,Se]of e)switch(t){case"LW":this.setLineWidth(Se);break;case"LC":this.setLineCap(Se);break;case"LJ":this.setLineJoin(Se);break;case"ML":this.setMiterLimit(Se);break;case"D":this.setDash(Se[0],Se[1]);break;case"RI":this.setRenderingIntent(Se);break;case"FL":this.setFlatness(Se);break;case"Font":this.setFont(Se[0],Se[1]);break;case"CA":this.current.strokeAlpha=Se;break;case"ca":this.current.fillAlpha=Se,this.ctx.globalAlpha=Se;break;case"BM":this.ctx.globalCompositeOperation=Se;break;case"SMask":this.current.activeSMask=Se?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Se);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,Se="smaskGroupAt"+this.groupLevel,_e=this.cachedCanvases.getCanvas(Se,e,t);this.suspendedCtx=this.ctx,this.ctx=_e.context;const Ae=this.ctx;Ae.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,Ae),mirrorContextOperations(Ae,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,Se=this.suspendedCtx;this.composeSMask(Se,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,Se,_e){const Ae=_e[0],Ce=_e[1],Pe=_e[2]-Ae,Ee=_e[3]-Ce;Pe===0||Ee===0||(this.genericComposeSMask(t.context,Se,Pe,Ee,t.subtype,t.backdrop,t.transferMap,Ae,Ce,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(Se.canvas,0,0),e.restore())}genericComposeSMask(e,t,Se,_e,Ae,Ce,Pe,Ee,Fe,ke,Ie){let Oe=e.canvas,Re=Ee-ke,Be=Fe-Ie;if(Ce){const He=Util$1.makeHexColor(...Ce);if(Re<0||Be<0||Re+Se>Oe.width||Be+_e>Oe.height){const Ge=this.cachedCanvases.getCanvas("maskExtension",Se,_e),Ve=Ge.context;Ve.drawImage(Oe,-Re,-Be),Ve.globalCompositeOperation="destination-atop",Ve.fillStyle=He,Ve.fillRect(0,0,Se,_e),Ve.globalCompositeOperation="source-over",Oe=Ge.canvas,Re=Be=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const Ge=new Path2D;Ge.rect(Re,Be,Se,_e),e.clip(Ge),e.globalCompositeOperation="destination-atop",e.fillStyle=He,e.fillRect(Re,Be,Se,_e),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),Ae==="Alpha"&&Pe?t.filter=this.filterFactory.addAlphaFilter(Pe):Ae==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(Pe));const je=new Path2D;je.rect(Ee,Fe,Se,_e),t.clip(je),t.globalCompositeOperation="destination-in",t.drawImage(Oe,Re,Be,Se,_e,Ee,Fe,Se,_e),t.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,Se,_e,Ae,Ce){this.ctx.transform(e,t,Se,_e,Ae,Ce),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,Se){const _e=this.ctx,Ae=this.current;let Ce=Ae.x,Pe=Ae.y,Ee,Fe;const ke=getCurrentTransform(_e),Ie=ke[0]===0&&ke[3]===0||ke[1]===0&&ke[2]===0,Oe=Ie?Se.slice(0):null;for(let Re=0,Be=0,je=e.length;Re<je;Re++)switch(e[Re]|0){case OPS.rectangle:Ce=t[Be++],Pe=t[Be++];const He=t[Be++],Ge=t[Be++],Ve=Ce+He,ze=Pe+Ge;_e.moveTo(Ce,Pe),He===0||Ge===0?_e.lineTo(Ve,ze):(_e.lineTo(Ve,Pe),_e.lineTo(Ve,ze),_e.lineTo(Ce,ze)),Ie||Ae.updateRectMinMax(ke,[Ce,Pe,Ve,ze]),_e.closePath();break;case OPS.moveTo:Ce=t[Be++],Pe=t[Be++],_e.moveTo(Ce,Pe),Ie||Ae.updatePathMinMax(ke,Ce,Pe);break;case OPS.lineTo:Ce=t[Be++],Pe=t[Be++],_e.lineTo(Ce,Pe),Ie||Ae.updatePathMinMax(ke,Ce,Pe);break;case OPS.curveTo:Ee=Ce,Fe=Pe,Ce=t[Be+4],Pe=t[Be+5],_e.bezierCurveTo(t[Be],t[Be+1],t[Be+2],t[Be+3],Ce,Pe),Ae.updateCurvePathMinMax(ke,Ee,Fe,t[Be],t[Be+1],t[Be+2],t[Be+3],Ce,Pe,Oe),Be+=6;break;case OPS.curveTo2:Ee=Ce,Fe=Pe,_e.bezierCurveTo(Ce,Pe,t[Be],t[Be+1],t[Be+2],t[Be+3]),Ae.updateCurvePathMinMax(ke,Ee,Fe,Ce,Pe,t[Be],t[Be+1],t[Be+2],t[Be+3],Oe),Ce=t[Be+2],Pe=t[Be+3],Be+=4;break;case OPS.curveTo3:Ee=Ce,Fe=Pe,Ce=t[Be+2],Pe=t[Be+3],_e.bezierCurveTo(t[Be],t[Be+1],Ce,Pe,Ce,Pe),Ae.updateCurvePathMinMax(ke,Ee,Fe,t[Be],t[Be+1],Ce,Pe,Ce,Pe,Oe),Be+=4;break;case OPS.closePath:_e.closePath();break}Ie&&Ae.updateScalingPathMinMax(ke,Oe),Ae.setCurrentPoint(Ce,Pe)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,Se=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Se=="object"&&(Se!=null&&Se.getPattern)?(t.save(),t.strokeStyle=Se.getPattern(t,this,getCurrentTransformInverse(t),PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,Se=this.current.fillColor,_e=this.current.patternFill;let Ae=!1;_e&&(t.save(),t.fillStyle=Se.getPattern(t,this,getCurrentTransformInverse(t),PathType.FILL),Ae=!0);const Ce=this.current.getClippedPathBoundingBox();this.contentVisible&&Ce!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),Ae&&t.restore(),e&&this.consumePath(Ce)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const Se of e)t.setTransform(...Se.transform),t.translate(Se.x,Se.y),Se.addToPath(t,Se.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var ke;const Se=this.commonObjs.get(e),_e=this.current;if(!Se)throw new Error(`Can't find font for ${e}`);if(_e.fontMatrix=Se.fontMatrix||FONT_IDENTITY_MATRIX,(_e.fontMatrix[0]===0||_e.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+e),t<0?(t=-t,_e.fontDirection=-1):_e.fontDirection=1,this.current.font=Se,this.current.fontSize=t,Se.isType3Font)return;const Ae=Se.loadedName||"sans-serif",Ce=((ke=Se.systemFontInfo)==null?void 0:ke.css)||`"${Ae}", ${Se.fallbackName}`;let Pe="normal";Se.black?Pe="900":Se.bold&&(Pe="bold");const Ee=Se.italic?"italic":"normal";let Fe=t;t<MIN_FONT_SIZE?Fe=MIN_FONT_SIZE:t>MAX_FONT_SIZE&&(Fe=MAX_FONT_SIZE),this.current.fontSizeScale=t/Fe,this.ctx.font=`${Ee} ${Pe} ${Fe}px ${Ce}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,Se,_e,Ae,Ce){this.current.textMatrix=[e,t,Se,_e,Ae,Ce],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,Se,_e){const Ae=this.ctx,Ce=this.current,Pe=Ce.font,Ee=Ce.textRenderingMode,Fe=Ce.fontSize/Ce.fontSizeScale,ke=Ee&TextRenderingMode.FILL_STROKE_MASK,Ie=!!(Ee&TextRenderingMode.ADD_TO_PATH_FLAG),Oe=Ce.patternFill&&!Pe.missingFile;let Re;(Pe.disableFontFace||Ie||Oe)&&(Re=Pe.getPathGenerator(this.commonObjs,e)),Pe.disableFontFace||Oe?(Ae.save(),Ae.translate(t,Se),Ae.beginPath(),Re(Ae,Fe),_e&&Ae.setTransform(..._e),(ke===TextRenderingMode.FILL||ke===TextRenderingMode.FILL_STROKE)&&Ae.fill(),(ke===TextRenderingMode.STROKE||ke===TextRenderingMode.FILL_STROKE)&&Ae.stroke(),Ae.restore()):((ke===TextRenderingMode.FILL||ke===TextRenderingMode.FILL_STROKE)&&Ae.fillText(e,t,Se),(ke===TextRenderingMode.STROKE||ke===TextRenderingMode.FILL_STROKE)&&Ae.strokeText(e,t,Se)),Ie&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(Ae),x:t,y:Se,fontSize:Fe,addToPath:Re})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let Se=!1;for(let _e=3;_e<t.length;_e+=4)if(t[_e]>0&&t[_e]<255){Se=!0;break}return shadow(this,"isFontSubpixelAAEnabled",Se)}showText(e){const t=this.current,Se=t.font;if(Se.isType3Font)return this.showType3Text(e);const _e=t.fontSize;if(_e===0)return;const Ae=this.ctx,Ce=t.fontSizeScale,Pe=t.charSpacing,Ee=t.wordSpacing,Fe=t.fontDirection,ke=t.textHScale*Fe,Ie=e.length,Oe=Se.vertical,Re=Oe?1:-1,Be=Se.defaultVMetrics,je=_e*t.fontMatrix[0],He=t.textRenderingMode===TextRenderingMode.FILL&&!Se.disableFontFace&&!t.patternFill;Ae.save(),Ae.transform(...t.textMatrix),Ae.translate(t.x,t.y+t.textRise),Fe>0?Ae.scale(ke,-1):Ae.scale(ke,1);let Ge;if(t.patternFill){Ae.save();const Je=t.fillColor.getPattern(Ae,this,getCurrentTransformInverse(Ae),PathType.FILL);Ge=getCurrentTransform(Ae),Ae.restore(),Ae.fillStyle=Je}let Ve=t.lineWidth;const ze=t.textMatrixScale;if(ze===0||Ve===0){const Je=t.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Je===TextRenderingMode.STROKE||Je===TextRenderingMode.FILL_STROKE)&&(Ve=this.getSinglePixelWidth())}else Ve/=ze;if(Ce!==1&&(Ae.scale(Ce,Ce),Ve/=Ce),Ae.lineWidth=Ve,Se.isInvalidPDFjsFont){const Je=[];let Qe=0;for(const Ze of e)Je.push(Ze.unicode),Qe+=Ze.width;Ae.fillText(Je.join(""),0,0),t.x+=Qe*je*ke,Ae.restore(),this.compose();return}let Xe=0,We;for(We=0;We<Ie;++We){const Je=e[We];if(typeof Je=="number"){Xe+=Re*Je*_e/1e3;continue}let Qe=!1;const Ze=(Je.isSpace?Ee:0)+Pe,on=Je.fontChar,an=Je.accent;let rn,fn,nn=Je.width;if(Oe){const dn=Je.vmetric||Be,bn=-(Je.vmetric?dn[1]:nn*.5)*je,pn=dn[2]*je;nn=dn?-dn[0]:nn,rn=bn/Ce,fn=(Xe+pn)/Ce}else rn=Xe/Ce,fn=0;if(Se.remeasure&&nn>0){const dn=Ae.measureText(on).width*1e3/_e*Ce;if(nn<dn&&this.isFontSubpixelAAEnabled){const bn=nn/dn;Qe=!0,Ae.save(),Ae.scale(bn,1),rn/=bn}else nn!==dn&&(rn+=(nn-dn)/2e3*_e/Ce)}if(this.contentVisible&&(Je.isInFont||Se.missingFile)){if(He&&!an)Ae.fillText(on,rn,fn);else if(this.paintChar(on,rn,fn,Ge),an){const dn=rn+_e*an.offset.x/Ce,bn=fn-_e*an.offset.y/Ce;this.paintChar(an.fontChar,dn,bn,Ge)}}const cn=Oe?nn*je-Ze*Fe:nn*je+Ze*Fe;Xe+=cn,Qe&&Ae.restore()}Oe?t.y-=Xe:t.x+=Xe*ke,Ae.restore(),this.compose()}showType3Text(e){const t=this.ctx,Se=this.current,_e=Se.font,Ae=Se.fontSize,Ce=Se.fontDirection,Pe=_e.vertical?1:-1,Ee=Se.charSpacing,Fe=Se.wordSpacing,ke=Se.textHScale*Ce,Ie=Se.fontMatrix||FONT_IDENTITY_MATRIX,Oe=e.length,Re=Se.textRenderingMode===TextRenderingMode.INVISIBLE;let Be,je,He,Ge;if(!(Re||Ae===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...Se.textMatrix),t.translate(Se.x,Se.y),t.scale(ke,Ce),Be=0;Be<Oe;++Be){if(je=e[Be],typeof je=="number"){Ge=Pe*je*Ae/1e3,this.ctx.translate(Ge,0),Se.x+=Ge*ke;continue}const Ve=(je.isSpace?Fe:0)+Ee,ze=_e.charProcOperatorList[je.operatorListId];if(!ze){warn(`Type3 character "${je.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=je,this.save(),t.scale(Ae,Ae),t.transform(...Ie),this.executeOperatorList(ze),this.restore()),He=Util$1.applyTransform([je.width,0],Ie)[0]*Ae+Ve,t.translate(He,0),Se.x+=He*ke}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,Se,_e,Ae,Ce){this.ctx.rect(Se,_e,Ae-Se,Ce-_e),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const Se=e[1],_e=this.baseTransform||getCurrentTransform(this.ctx),Ae={createCanvasGraphics:Ce=>new a5(Ce,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new TilingPattern(e,Se,this.ctx,Ae,_e)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,Se){this.ctx.strokeStyle=this.current.strokeColor=Util$1.makeHexColor(e,t,Se)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,Se){this.ctx.fillStyle=this.current.fillColor=Util$1.makeHexColor(e,t,Se),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let Se;return this.cachedPatterns.has(e)?Se=this.cachedPatterns.get(e):(Se=getShadingPattern(this.getObject(e)),this.cachedPatterns.set(e,Se)),t&&(Se.matrix=t),Se}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const Se=this._getPattern(e);t.fillStyle=Se.getPattern(t,this,getCurrentTransformInverse(t),PathType.SHADING);const _e=getCurrentTransformInverse(t);{const{width:Ae,height:Ce}=t.canvas,[Pe,Ee,Fe,ke]=Util$1.getAxialAlignedBoundingBox([0,0,Ae,Ce],_e);this.ctx.fillRect(Pe,Ee,Fe-Pe,ke-Ee)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=getCurrentTransform(this.ctx),t)){const Se=t[2]-t[0],_e=t[3]-t[1];this.ctx.rect(t[0],t[1],Se,_e),this.current.updateRectMinMax(getCurrentTransform(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||info("TODO: Support non-isolated groups."),e.knockout&&warn("Knockout groups not supported.");const Se=getCurrentTransform(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let _e=Util$1.getAxialAlignedBoundingBox(e.bbox,getCurrentTransform(t));const Ae=[0,0,t.canvas.width,t.canvas.height];_e=Util$1.intersect(_e,Ae)||[0,0,0,0];const Ce=Math.floor(_e[0]),Pe=Math.floor(_e[1]),Ee=Math.max(Math.ceil(_e[2])-Ce,1),Fe=Math.max(Math.ceil(_e[3])-Pe,1);this.current.startNewPathAndClipBox([0,0,Ee,Fe]);let ke="groupAt"+this.groupLevel;e.smask&&(ke+="_smask_"+this.smaskCounter++%2);const Ie=this.cachedCanvases.getCanvas(ke,Ee,Fe),Oe=Ie.context;Oe.translate(-Ce,-Pe),Oe.transform(...Se),e.smask?this.smaskStack.push({canvas:Ie.canvas,context:Oe,offsetX:Ce,offsetY:Pe,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(Ce,Pe),t.save()),copyCtxState(t,Oe),this.ctx=Oe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,Se=this.groupStack.pop();if(this.ctx=Se,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _e=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(..._e);const Ae=Util$1.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],_e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(Ae)}}beginAnnotation(e,t,Se,_e,Ae){if(On(this,pp,Py).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const Ce=t[2]-t[0],Pe=t[3]-t[1];if(Ae&&this.annotationCanvasMap){Se=Se.slice(),Se[4]-=t[0],Se[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=Ce,t[3]=Pe;const[Ee,Fe]=Util$1.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:ke}=this,Ie=Math.ceil(Ce*this.outputScaleX*ke),Oe=Math.ceil(Pe*this.outputScaleY*ke);this.annotationCanvas=this.canvasFactory.create(Ie,Oe);const{canvas:Re,context:Be}=this.annotationCanvas;this.annotationCanvasMap.set(e,Re),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Be,this.ctx.save(),this.ctx.setTransform(Ee,0,0,-Fe,0,Pe*Fe),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],Ce,Pe),this.ctx.clip(),this.ctx.beginPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Se),this.transform(..._e)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),On(this,pp,Ey).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const Se=this.ctx,_e=this.processingType3;if(_e&&(_e.compiled===void 0&&(_e.compiled=compileType3Glyph(e)),_e.compiled)){_e.compiled(Se);return}const Ae=this._createMaskCanvas(e),Ce=Ae.canvas;Se.save(),Se.setTransform(1,0,0,1,0,0),Se.drawImage(Ce,Ae.offsetX,Ae.offsetY),Se.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,Se=0,_e=0,Ae,Ce){if(!this.contentVisible)return;e=this.getObject(e.data,e);const Pe=this.ctx;Pe.save();const Ee=getCurrentTransform(Pe);Pe.transform(t,Se,_e,Ae,0,0);const Fe=this._createMaskCanvas(e);Pe.setTransform(1,0,0,1,Fe.offsetX-Ee[4],Fe.offsetY-Ee[5]);for(let ke=0,Ie=Ce.length;ke<Ie;ke+=2){const Oe=Util$1.transform(Ee,[t,Se,_e,Ae,Ce[ke],Ce[ke+1]]),[Re,Be]=Util$1.applyTransform([0,0],Oe);Pe.drawImage(Fe.canvas,Re,Be)}Pe.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,Se=this.current.fillColor,_e=this.current.patternFill;for(const Ae of e){const{data:Ce,width:Pe,height:Ee,transform:Fe}=Ae,ke=this.cachedCanvases.getCanvas("maskCanvas",Pe,Ee),Ie=ke.context;Ie.save();const Oe=this.getObject(Ce,Ae);putBinaryImageMask(Ie,Oe),Ie.globalCompositeOperation="source-in",Ie.fillStyle=_e?Se.getPattern(Ie,this,getCurrentTransformInverse(t),PathType.FILL):Se,Ie.fillRect(0,0,Pe,Ee),Ie.restore(),t.save(),t.transform(...Fe),t.scale(1,-1),drawImageAtIntegerCoords(t,ke.canvas,0,0,Pe,Ee,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,Se,_e){if(!this.contentVisible)return;const Ae=this.getObject(e);if(!Ae){warn("Dependent image isn't ready yet");return}const Ce=Ae.width,Pe=Ae.height,Ee=[];for(let Fe=0,ke=_e.length;Fe<ke;Fe+=2)Ee.push({transform:[t,0,0,Se,_e[Fe],_e[Fe+1]],x:0,y:0,w:Ce,h:Pe});this.paintInlineImageXObjectGroup(Ae,Ee)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:Se,height:_e}=e,Ae=this.cachedCanvases.getCanvas("inlineImage",Se,_e),Ce=Ae.context;return Ce.filter=this.current.transferMaps,Ce.drawImage(t,0,0),Ce.filter="none",Ae.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,Se=e.height,_e=this.ctx;if(this.save(),!isNodeJS){const{filter:Pe}=_e;Pe!=="none"&&Pe!==""&&(_e.filter="none")}_e.scale(1/t,-1/Se);let Ae;if(e.bitmap)Ae=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)Ae=e;else{const Ee=this.cachedCanvases.getCanvas("inlineImage",t,Se).context;putBinaryImageData(Ee,e),Ae=this.applyTransferMapsToCanvas(Ee)}const Ce=this._scaleImage(Ae,getCurrentTransformInverse(_e));_e.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(_e),e.interpolate),drawImageAtIntegerCoords(_e,Ce.img,0,0,Ce.paintWidth,Ce.paintHeight,0,-Se,t,Se),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const Se=this.ctx;let _e;if(e.bitmap)_e=e.bitmap;else{const Ae=e.width,Ce=e.height,Ee=this.cachedCanvases.getCanvas("inlineImage",Ae,Ce).context;putBinaryImageData(Ee,e),_e=this.applyTransferMapsToCanvas(Ee)}for(const Ae of t)Se.save(),Se.transform(...Ae.transform),Se.scale(1,-1),drawImageAtIntegerCoords(Se,_e,Ae.x,Ae.y,Ae.w,Ae.h,0,-1,1,1),Se.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const Se=this.ctx;this.pendingClip&&(t||(this.pendingClip===EO_CLIP?Se.clip("evenodd"):Se.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Se.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=getCurrentTransform(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),Se=Math.hypot(e[0],e[2]),_e=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(Se,_e)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:Se,c:_e,d:Ae}=this.ctx.getTransform();let Ce,Pe;if(Se===0&&_e===0){const Ee=Math.abs(t),Fe=Math.abs(Ae);if(Ee===Fe)if(e===0)Ce=Pe=1/Ee;else{const ke=Ee*e;Ce=Pe=ke<1?1/ke:1}else if(e===0)Ce=1/Ee,Pe=1/Fe;else{const ke=Ee*e,Ie=Fe*e;Ce=ke<1?1/ke:1,Pe=Ie<1?1/Ie:1}}else{const Ee=Math.abs(t*Ae-Se*_e),Fe=Math.hypot(t,Se),ke=Math.hypot(_e,Ae);if(e===0)Ce=ke/Ee,Pe=Fe/Ee;else{const Ie=e*Ee;Ce=ke>Ie?ke/Ie:1,Pe=Fe>Ie?Fe/Ie:1}}this._cachedScaleForStroking[0]=Ce,this._cachedScaleForStroking[1]=Pe}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:Se}=this.current,[_e,Ae]=this.getScaleForStroking();if(t.lineWidth=Se||1,_e===1&&Ae===1){t.stroke();return}const Ce=t.getLineDash();if(e&&t.save(),t.scale(_e,Ae),Ce.length>0){const Pe=Math.max(_e,Ae);t.setLineDash(Ce.map(Ee=>Ee/Pe)),t.lineDashOffset/=Pe}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};pp=new WeakSet,Py=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ey=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let CanvasGraphics=a5;for(const xe in OPS)CanvasGraphics.prototype[xe]!==void 0&&(CanvasGraphics.prototype[OPS[xe]]=CanvasGraphics.prototype[xe]);var J1,Q1;class GlobalWorkerOptions{static get workerPort(){return qe(this,J1)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");Mn(this,J1,e)}static get workerSrc(){return qe(this,Q1)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");Mn(this,Q1,e)}}J1=new WeakMap,Q1=new WeakMap,jn(GlobalWorkerOptions,J1,null),jn(GlobalWorkerOptions,Q1,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(xe){switch(xe instanceof Error||typeof xe=="object"&&xe!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),xe.name){case"AbortException":return new AbortException(xe.message);case"MissingPDFException":return new MissingPDFException(xe.message);case"PasswordException":return new PasswordException(xe.message,xe.code);case"UnexpectedResponseException":return new UnexpectedResponseException(xe.message,xe.status);case"UnknownErrorException":return new UnknownErrorException(xe.message,xe.details);default:return new UnknownErrorException(xe.message,xe.toString())}}var bg,Wu,Ib,Ob,Mb,Ev;class MessageHandler{constructor(e,t,Se){jn(this,Wu);jn(this,bg,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=Se,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),Se.addEventListener("message",On(this,Wu,Ib).bind(this),{signal:qe(this,bg).signal})}on(e,t){const Se=this.actionHandler;if(Se[e])throw new Error(`There is already an actionName called "${e}"`);Se[e]=t}send(e,t,Se){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},Se)}sendWithPromise(e,t,Se){const _e=this.callbackId++,Ae=Promise.withResolvers();this.callbackCapabilities[_e]=Ae;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:_e,data:t},Se)}catch(Ce){Ae.reject(Ce)}return Ae.promise}sendWithStream(e,t,Se,_e){const Ae=this.streamId++,Ce=this.sourceName,Pe=this.targetName,Ee=this.comObj;return new ReadableStream({start:Fe=>{const ke=Promise.withResolvers();return this.streamControllers[Ae]={controller:Fe,startCall:ke,pullCall:null,cancelCall:null,isClosed:!1},Ee.postMessage({sourceName:Ce,targetName:Pe,action:e,streamId:Ae,data:t,desiredSize:Fe.desiredSize},_e),ke.promise},pull:Fe=>{const ke=Promise.withResolvers();return this.streamControllers[Ae].pullCall=ke,Ee.postMessage({sourceName:Ce,targetName:Pe,stream:StreamKind.PULL,streamId:Ae,desiredSize:Fe.desiredSize}),ke.promise},cancel:Fe=>{assert(Fe instanceof Error,"cancel must have a valid reason");const ke=Promise.withResolvers();return this.streamControllers[Ae].cancelCall=ke,this.streamControllers[Ae].isClosed=!0,Ee.postMessage({sourceName:Ce,targetName:Pe,stream:StreamKind.CANCEL,streamId:Ae,reason:wrapReason(Fe)}),ke.promise}},Se)}destroy(){var e;(e=qe(this,bg))==null||e.abort(),Mn(this,bg,null)}}bg=new WeakMap,Wu=new WeakSet,Ib=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){On(this,Wu,Mb).call(this,e);return}if(e.callback){const Se=e.callbackId,_e=this.callbackCapabilities[Se];if(!_e)throw new Error(`Cannot resolve callback ${Se}`);if(delete this.callbackCapabilities[Se],e.callback===CallbackKind.DATA)_e.resolve(e.data);else if(e.callback===CallbackKind.ERROR)_e.reject(wrapReason(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const Se=this.sourceName,_e=e.sourceName,Ae=this.comObj;new Promise(function(Ce){Ce(t(e.data))}).then(function(Ce){Ae.postMessage({sourceName:Se,targetName:_e,callback:CallbackKind.DATA,callbackId:e.callbackId,data:Ce})},function(Ce){Ae.postMessage({sourceName:Se,targetName:_e,callback:CallbackKind.ERROR,callbackId:e.callbackId,reason:wrapReason(Ce)})});return}if(e.streamId){On(this,Wu,Ob).call(this,e);return}t(e.data)},Ob=function(e){const t=e.streamId,Se=this.sourceName,_e=e.sourceName,Ae=this.comObj,Ce=this,Pe=this.actionHandler[e.action],Ee={enqueue(Fe,ke=1,Ie){if(this.isCancelled)return;const Oe=this.desiredSize;this.desiredSize-=ke,Oe>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.ENQUEUE,streamId:t,chunk:Fe},Ie)},close(){this.isCancelled||(this.isCancelled=!0,Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.CLOSE,streamId:t}),delete Ce.streamSinks[t])},error(Fe){assert(Fe instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.ERROR,streamId:t,reason:wrapReason(Fe)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};Ee.sinkCapability.resolve(),Ee.ready=Ee.sinkCapability.promise,this.streamSinks[t]=Ee,new Promise(function(Fe){Fe(Pe(e.data,Ee))}).then(function(){Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.START_COMPLETE,streamId:t,success:!0})},function(Fe){Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.START_COMPLETE,streamId:t,reason:wrapReason(Fe)})})},Mb=function(e){const t=e.streamId,Se=this.sourceName,_e=e.sourceName,Ae=this.comObj,Ce=this.streamControllers[t],Pe=this.streamSinks[t];switch(e.stream){case StreamKind.START_COMPLETE:e.success?Ce.startCall.resolve():Ce.startCall.reject(wrapReason(e.reason));break;case StreamKind.PULL_COMPLETE:e.success?Ce.pullCall.resolve():Ce.pullCall.reject(wrapReason(e.reason));break;case StreamKind.PULL:if(!Pe){Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.PULL_COMPLETE,streamId:t,success:!0});break}Pe.desiredSize<=0&&e.desiredSize>0&&Pe.sinkCapability.resolve(),Pe.desiredSize=e.desiredSize,new Promise(function(Ee){var Fe;Ee((Fe=Pe.onPull)==null?void 0:Fe.call(Pe))}).then(function(){Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.PULL_COMPLETE,streamId:t,success:!0})},function(Ee){Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.PULL_COMPLETE,streamId:t,reason:wrapReason(Ee)})});break;case StreamKind.ENQUEUE:if(assert(Ce,"enqueue should have stream controller"),Ce.isClosed)break;Ce.controller.enqueue(e.chunk);break;case StreamKind.CLOSE:if(assert(Ce,"close should have stream controller"),Ce.isClosed)break;Ce.isClosed=!0,Ce.controller.close(),On(this,Wu,Ev).call(this,Ce,t);break;case StreamKind.ERROR:assert(Ce,"error should have stream controller"),Ce.controller.error(wrapReason(e.reason)),On(this,Wu,Ev).call(this,Ce,t);break;case StreamKind.CANCEL_COMPLETE:e.success?Ce.cancelCall.resolve():Ce.cancelCall.reject(wrapReason(e.reason)),On(this,Wu,Ev).call(this,Ce,t);break;case StreamKind.CANCEL:if(!Pe)break;new Promise(function(Ee){var Fe;Ee((Fe=Pe.onCancel)==null?void 0:Fe.call(Pe,wrapReason(e.reason)))}).then(function(){Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.CANCEL_COMPLETE,streamId:t,success:!0})},function(Ee){Ae.postMessage({sourceName:Se,targetName:_e,stream:StreamKind.CANCEL_COMPLETE,streamId:t,reason:wrapReason(Ee)})}),Pe.sinkCapability.reject(wrapReason(e.reason)),Pe.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Ev=async function(e,t){var Se,_e,Ae;await Promise.allSettled([(Se=e.startCall)==null?void 0:Se.promise,(_e=e.pullCall)==null?void 0:_e.promise,(Ae=e.cancelCall)==null?void 0:Ae.promise]),delete this.streamControllers[t]};var t0,$1;class Metadata{constructor({parsedData:e,rawData:t}){jn(this,t0);jn(this,$1);Mn(this,t0,e),Mn(this,$1,t)}getRaw(){return qe(this,$1)}get(e){return qe(this,t0).get(e)??null}getAll(){return objectFromMap(qe(this,t0))}has(e){return qe(this,t0).has(e)}}t0=new WeakMap,$1=new WeakMap;const INTERNAL=Symbol("INTERNAL");var em,tm,nm,wg;class OptionalContentGroup{constructor(e,{name:t,intent:Se,usage:_e,rbGroups:Ae}){jn(this,em,!1);jn(this,tm,!1);jn(this,nm,!1);jn(this,wg,!0);Mn(this,em,!!(e&RenderingIntentFlag.DISPLAY)),Mn(this,tm,!!(e&RenderingIntentFlag.PRINT)),this.name=t,this.intent=Se,this.usage=_e,this.rbGroups=Ae}get visible(){if(qe(this,nm))return qe(this,wg);if(!qe(this,wg))return!1;const{print:e,view:t}=this.usage;return qe(this,em)?(t==null?void 0:t.viewState)!=="OFF":qe(this,tm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,Se=!1){e!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Mn(this,nm,Se),Mn(this,wg,t)}}em=new WeakMap,tm=new WeakMap,nm=new WeakMap,wg=new WeakMap;var Jf,Ks,Sg,xg,rm,Fy;class OptionalContentConfig{constructor(e,t=RenderingIntentFlag.DISPLAY){jn(this,rm);jn(this,Jf,null);jn(this,Ks,new Map);jn(this,Sg,null);jn(this,xg,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,Mn(this,xg,e.order);for(const Se of e.groups)qe(this,Ks).set(Se.id,new OptionalContentGroup(t,Se));if(e.baseState==="OFF")for(const Se of qe(this,Ks).values())Se._setVisible(INTERNAL,!1);for(const Se of e.on)qe(this,Ks).get(Se)._setVisible(INTERNAL,!0);for(const Se of e.off)qe(this,Ks).get(Se)._setVisible(INTERNAL,!1);Mn(this,Sg,this.getHash())}}isVisible(e){if(qe(this,Ks).size===0)return!0;if(!e)return info("Optional content group not defined."),!0;if(e.type==="OCG")return qe(this,Ks).has(e.id)?qe(this,Ks).get(e.id).visible:(warn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return On(this,rm,Fy).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!qe(this,Ks).has(t))return warn(`Optional content group not found: ${t}`),!0;if(qe(this,Ks).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!qe(this,Ks).has(t))return warn(`Optional content group not found: ${t}`),!0;if(!qe(this,Ks).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!qe(this,Ks).has(t))return warn(`Optional content group not found: ${t}`),!0;if(!qe(this,Ks).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!qe(this,Ks).has(t))return warn(`Optional content group not found: ${t}`),!0;if(qe(this,Ks).get(t).visible)return!1}return!0}return warn(`Unknown optional content policy ${e.policy}.`),!0}return warn(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,Se=!0){var Ae;const _e=qe(this,Ks).get(e);if(!_e){warn(`Optional content group not found: ${e}`);return}if(Se&&t&&_e.rbGroups.length)for(const Ce of _e.rbGroups)for(const Pe of Ce)Pe!==e&&((Ae=qe(this,Ks).get(Pe))==null||Ae._setVisible(INTERNAL,!1,!0));_e._setVisible(INTERNAL,!!t,!0),Mn(this,Jf,null)}setOCGState({state:e,preserveRB:t}){let Se;for(const _e of e){switch(_e){case"ON":case"OFF":case"Toggle":Se=_e;continue}const Ae=qe(this,Ks).get(_e);if(Ae)switch(Se){case"ON":this.setVisibility(_e,!0,t);break;case"OFF":this.setVisibility(_e,!1,t);break;case"Toggle":this.setVisibility(_e,!Ae.visible,t);break}}Mn(this,Jf,null)}get hasInitialVisibility(){return qe(this,Sg)===null||this.getHash()===qe(this,Sg)}getOrder(){return qe(this,Ks).size?qe(this,xg)?qe(this,xg).slice():[...qe(this,Ks).keys()]:null}getGroups(){return qe(this,Ks).size>0?objectFromMap(qe(this,Ks)):null}getGroup(e){return qe(this,Ks).get(e)||null}getHash(){if(qe(this,Jf)!==null)return qe(this,Jf);const e=new MurmurHash3_64;for(const[t,Se]of qe(this,Ks))e.update(`${t}:${Se.visible}`);return Mn(this,Jf,e.hexdigest())}}Jf=new WeakMap,Ks=new WeakMap,Sg=new WeakMap,xg=new WeakMap,rm=new WeakSet,Fy=function(e){const t=e.length;if(t<2)return!0;const Se=e[0];for(let _e=1;_e<t;_e++){const Ae=e[_e];let Ce;if(Array.isArray(Ae))Ce=On(this,rm,Fy).call(this,Ae);else if(qe(this,Ks).has(Ae))Ce=qe(this,Ks).get(Ae).visible;else return warn(`Optional content group not found: ${Ae}`),!0;switch(Se){case"And":if(!Ce)return!1;break;case"Or":if(Ce)return!0;break;case"Not":return!Ce;default:return!0}}return Se==="And"};class PDFDataTransportStream{constructor(e,{disableRange:t=!1,disableStream:Se=!1}){assert(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:_e,initialData:Ae,progressiveDone:Ce,contentDispositionFilename:Pe}=e;if(this._queuedChunks=[],this._progressiveDone=Ce,this._contentDispositionFilename=Pe,(Ae==null?void 0:Ae.length)>0){const Ee=Ae instanceof Uint8Array&&Ae.byteLength===Ae.buffer.byteLength?Ae.buffer:new Uint8Array(Ae).buffer;this._queuedChunks.push(Ee)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!Se,this._isRangeSupported=!t,this._contentLength=_e,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((Ee,Fe)=>{this._onReceiveData({begin:Ee,chunk:Fe})}),e.addProgressListener((Ee,Fe)=>{this._onProgress({loaded:Ee,total:Fe})}),e.addProgressiveReadListener(Ee=>{this._onReceiveData({chunk:Ee})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const Se=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Se):this._queuedChunks.push(Se);else{const _e=this._rangeReaders.some(function(Ae){return Ae._begin!==e?!1:(Ae._enqueue(Se),!0)});assert(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,Se,_e,Ae;e.total===void 0?(Se=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||Se.call(t,{loaded:e.loaded}):(Ae=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||Ae.call(_e,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const Se=new PDFDataTransportStreamRangeReader(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(Se),Se}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const Se of this._rangeReaders.slice(0))Se.cancel(e);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(e,t,Se=!1,_e=null){this._stream=e,this._done=Se||!1,this._filename=isPdfFile(_e)?_e:null,this._queuedChunks=t||[],this._loaded=0;for(const Ae of this._queuedChunks)this._loaded+=Ae.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(e,t,Se){this._stream=e,this._begin=t,this._end=Se,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const Se of this._requests)Se.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(xe){let e=!0,t=Se("filename\\*","i").exec(xe);if(t){t=t[1];let ke=Pe(t);return ke=unescape(ke),ke=Ee(ke),ke=Fe(ke),Ae(ke)}if(t=Ce(xe),t){const ke=Fe(t);return Ae(ke)}if(t=Se("filename","i").exec(xe),t){t=t[1];let ke=Pe(t);return ke=Fe(ke),Ae(ke)}function Se(ke,Ie){return new RegExp("(?:^|;)\\s*"+ke+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Ie)}function _e(ke,Ie){if(ke){if(!/^[\x00-\xFF]+$/.test(Ie))return Ie;try{const Oe=new TextDecoder(ke,{fatal:!0}),Re=stringToBytes(Ie);Ie=Oe.decode(Re),e=!1}catch{}}return Ie}function Ae(ke){return e&&/[\x80-\xff]/.test(ke)&&(ke=_e("utf-8",ke),e&&(ke=_e("iso-8859-1",ke))),ke}function Ce(ke){const Ie=[];let Oe;const Re=Se("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Oe=Re.exec(ke))!==null;){let[,je,He,Ge]=Oe;if(je=parseInt(je,10),je in Ie){if(je===0)break;continue}Ie[je]=[He,Ge]}const Be=[];for(let je=0;je<Ie.length&&je in Ie;++je){let[He,Ge]=Ie[je];Ge=Pe(Ge),He&&(Ge=unescape(Ge),je===0&&(Ge=Ee(Ge))),Be.push(Ge)}return Be.join("")}function Pe(ke){if(ke.startsWith('"')){const Ie=ke.slice(1).split('\\"');for(let Oe=0;Oe<Ie.length;++Oe){const Re=Ie[Oe].indexOf('"');Re!==-1&&(Ie[Oe]=Ie[Oe].slice(0,Re),Ie.length=Oe+1),Ie[Oe]=Ie[Oe].replaceAll(/\\(.)/g,"$1")}ke=Ie.join('"')}return ke}function Ee(ke){const Ie=ke.indexOf("'");if(Ie===-1)return ke;const Oe=ke.slice(0,Ie),Be=ke.slice(Ie+1).replace(/^[^']*'/,"");return _e(Oe,Be)}function Fe(ke){return!ke.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ke)?ke:ke.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Ie,Oe,Re,Be){if(Re==="q"||Re==="Q")return Be=Be.replaceAll("_"," "),Be=Be.replaceAll(/=([0-9a-fA-F]{2})/g,function(je,He){return String.fromCharCode(parseInt(He,16))}),_e(Oe,Be);try{Be=atob(Be)}catch{}return _e(Oe,Be)})}return""}function createHeaders(xe,e){const t=new Headers;if(!xe||!e||typeof e!="object")return t;for(const Se in e){const _e=e[Se];_e!==void 0&&t.append(Se,_e)}return t}function validateRangeRequestCapabilities({responseHeaders:xe,isHttp:e,rangeChunkSize:t,disableRange:Se}){const _e={allowRangeRequests:!1,suggestedLength:void 0},Ae=parseInt(xe.get("Content-Length"),10);return!Number.isInteger(Ae)||(_e.suggestedLength=Ae,Ae<=2*t)||Se||!e||xe.get("Accept-Ranges")!=="bytes"||(xe.get("Content-Encoding")||"identity")!=="identity"||(_e.allowRangeRequests=!0),_e}function extractFilenameFromHeader(xe){const e=xe.get("Content-Disposition");if(e){let t=getFilenameFromContentDispositionHeader(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(isPdfFile(t))return t}return null}function createResponseStatusError(xe,e){return xe===404||xe===0&&e.startsWith("file:")?new MissingPDFException('Missing PDF "'+e+'".'):new UnexpectedResponseException(`Unexpected server response (${xe}) while retrieving PDF "${e}".`,xe)}function validateResponseStatus(xe){return xe===200||xe===206}function createFetchOptions(xe,e,t){return{method:"GET",headers:xe,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(xe){return xe instanceof Uint8Array?xe.buffer:xe instanceof ArrayBuffer?xe:(warn(`getArrayBuffer - unexpected data format: ${xe}`),new Uint8Array(xe).buffer)}class PDFFetchStream{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const Se=new PDFFetchStreamRangeReader(this,e,t);return this._rangeRequestReaders.push(Se),Se}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const Se of this._rangeRequestReaders.slice(0))Se.cancel(e)}}class PDFFetchStreamReader{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const Se=new Headers(e.headers),_e=t.url;fetch(_e,createFetchOptions(Se,this._withCredentials,this._abortController)).then(Ae=>{if(!validateResponseStatus(Ae.status))throw createResponseStatusError(Ae.status,_e);this._reader=Ae.body.getReader(),this._headersCapability.resolve();const Ce=Ae.headers,{allowRangeRequests:Pe,suggestedLength:Ee}=validateRangeRequestCapabilities({responseHeaders:Ce,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Pe,this._contentLength=Ee||this._contentLength,this._filename=extractFilenameFromHeader(Ce),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Se;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(Se=this.onProgress)==null||Se.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(e,t,Se){this._stream=e,this._reader=null,this._loaded=0;const _e=e.source;this._withCredentials=_e.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!_e.disableStream,this._abortController=new AbortController;const Ae=new Headers(e.headers);Ae.append("Range",`bytes=${t}-${Se-1}`);const Ce=_e.url;fetch(Ce,createFetchOptions(Ae,this._withCredentials,this._abortController)).then(Pe=>{if(!validateResponseStatus(Pe.status))throw createResponseStatusError(Pe.status,Ce);this._readCapability.resolve(),this._reader=Pe.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Se;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(Se=this.onProgress)==null||Se.call(this,{loaded:this._loaded}),{value:getArrayBuffer(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(xe){const e=xe.response;return typeof e!="string"?e:stringToBytes(e).buffer}class NetworkManager{constructor({url:e,httpHeaders:t,withCredentials:Se}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=createHeaders(this.isHttp,t),this.withCredentials=Se||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,Se){const _e={begin:e,end:t};for(const Ae in Se)_e[Ae]=Se[Ae];return this.request(_e)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,Se=this.currXhrId++,_e=this.pendingRequests[Se]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[Ae,Ce]of this.headers)t.setRequestHeader(Ae,Ce);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),_e.expectedStatus=PARTIAL_CONTENT_RESPONSE):_e.expectedStatus=OK_RESPONSE,t.responseType="arraybuffer",e.onError&&(t.onerror=function(Ae){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,Se),t.onprogress=this.onProgress.bind(this,Se),_e.onHeadersReceived=e.onHeadersReceived,_e.onDone=e.onDone,_e.onError=e.onError,_e.onProgress=e.onProgress,t.send(null),Se}onProgress(e,t){var _e;const Se=this.pendingRequests[e];Se&&((_e=Se.onProgress)==null||_e.call(Se,t))}onStateChange(e,t){var Ee,Fe,ke;const Se=this.pendingRequests[e];if(!Se)return;const _e=Se.xhr;if(_e.readyState>=2&&Se.onHeadersReceived&&(Se.onHeadersReceived(),delete Se.onHeadersReceived),_e.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],_e.status===0&&this.isHttp){(Ee=Se.onError)==null||Ee.call(Se,_e.status);return}const Ae=_e.status||OK_RESPONSE;if(!(Ae===OK_RESPONSE&&Se.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&Ae!==Se.expectedStatus){(Fe=Se.onError)==null||Fe.call(Se,_e.status);return}const Pe=network_getArrayBuffer(_e);if(Ae===PARTIAL_CONTENT_RESPONSE){const Ie=_e.getResponseHeader("Content-Range"),Oe=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ie);Se.onDone({begin:parseInt(Oe[1],10),chunk:Pe})}else Pe?Se.onDone({begin:0,chunk:Pe}):(ke=Se.onError)==null||ke.call(Se,_e.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class PDFNetworkStream{constructor(e){this._source=e,this._manager=new NetworkManager(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const Se=new PDFNetworkStreamRangeRequestReader(this._manager,e,t);return Se.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Se),Se}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const Se of this._rangeRequestReaders.slice(0))Se.cancel(e)}}class PDFNetworkStreamFullRequestReader{constructor(e,t){this._manager=e;const Se={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(Se),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),Se=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(Ce=>{const[Pe,...Ee]=Ce.split(": ");return[Pe,Ee.join(": ")]})),{allowRangeRequests:_e,suggestedLength:Ae}=validateRangeRequestCapabilities({responseHeaders:Se,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_e&&(this._isRangeSupported=!0),this._contentLength=Ae||this._contentLength,this._filename=extractFilenameFromHeader(Se),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=createResponseStatusError(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(e,t,Se){this._manager=e;const _e={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,Se,_e),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const Se of this._requests)Se.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=createResponseStatusError(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(xe){if(urlRegex.test(xe))return new URL(xe);const e=NodePackages.get("url");return new URL(e.pathToFileURL(xe))}function createRequest(xe,e,t){return xe.protocol==="http:"?NodePackages.get("http").request(xe,{headers:e},t):NodePackages.get("https").request(xe,{headers:e},t)}class PDFNodeStream{constructor(e){this.source=e,this.url=parseUrlOrPath(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const Se=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,e,t):new PDFNodeStreamRangeReader(this,e,t);return this._rangeRequestReaders.push(Se),Se}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const Se of this._rangeRequestReaders.slice(0))Se.cancel(e)}}class BaseFullReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(Se=this.onProgress)==null||Se.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(Se=this.onProgress)==null||Se.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(e){super(e);const t=Object.fromEntries(e.headers),Se=_e=>{if(_e.statusCode===404){const Ee=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ee,this._headersCapability.reject(Ee);return}this._headersCapability.resolve(),this._setReadableStream(_e);const Ae=new Headers(this._readableStream.headers),{allowRangeRequests:Ce,suggestedLength:Pe}=validateRangeRequestCapabilities({responseHeaders:Ae,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ce,this._contentLength=Pe||this._contentLength,this._filename=extractFilenameFromHeader(Ae)};this._request=createRequest(this._url,t,Se),this._request.on("error",_e=>{this._storedError=_e,this._headersCapability.reject(_e)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(e,t,Se){super(e);const _e=Object.fromEntries(e.headers);_e.Range=`bytes=${t}-${Se-1}`;const Ae=Ce=>{if(Ce.statusCode===404){const Pe=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Pe;return}this._setReadableStream(Ce)};this._request=createRequest(this._url,_e,Ae),this._request.on("error",Ce=>{this._storedError=Ce}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(e){super(e);const t=NodePackages.get("fs");t.promises.lstat(this._url).then(Se=>{this._contentLength=Se.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},Se=>{Se.code==="ENOENT"&&(Se=new MissingPDFException(`Missing PDF "${this._url}".`)),this._storedError=Se,this._headersCapability.reject(Se)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(e,t,Se){super(e);const _e=NodePackages.get("fs");this._setReadableStream(_e.createReadStream(this._url,{start:t,end:Se-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var B5,Qf,Mc,im,sm,n0,Kd,am,om,r0,_g,Ag,$f,Cg,lm,Pg,i0,cm,um,Xa,s0,a0,hm,ep,Eg,pf,Bb,Ub,Ty,uu,Fv,ky,jb,qb;let TextLayer$1=(Xa=class{constructor({textContentSource:e,container:t,viewport:Se}){jn(this,pf);jn(this,Qf,Promise.withResolvers());jn(this,Mc,null);jn(this,im,!1);jn(this,sm,!!((B5=globalThis.FontInspector)!=null&&B5.enabled));jn(this,n0,null);jn(this,Kd,null);jn(this,am,0);jn(this,om,0);jn(this,r0,null);jn(this,_g,null);jn(this,Ag,0);jn(this,$f,0);jn(this,Cg,Object.create(null));jn(this,lm,[]);jn(this,Pg,null);jn(this,i0,[]);jn(this,cm,new WeakMap);jn(this,um,null);var Ee;if(e instanceof ReadableStream)Mn(this,Pg,e);else if(typeof e=="object")Mn(this,Pg,new ReadableStream({start(Fe){Fe.enqueue(e),Fe.close()}}));else throw new Error('No "textContentSource" parameter specified.');Mn(this,Mc,Mn(this,_g,t)),Mn(this,$f,Se.scale*(globalThis.devicePixelRatio||1)),Mn(this,Ag,Se.rotation),Mn(this,Kd,{div:null,properties:null,ctx:null});const{pageWidth:_e,pageHeight:Ae,pageX:Ce,pageY:Pe}=Se.rawDims;Mn(this,um,[1,0,0,-1,-Ce,Pe+Ae]),Mn(this,om,_e),Mn(this,am,Ae),On(Ee=Xa,uu,jb).call(Ee),setLayerDimensions(t,Se),qe(this,Qf).promise.finally(()=>{qe(Xa,Eg).delete(this),Mn(this,Kd,null),Mn(this,Cg,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{qe(this,r0).read().then(({value:t,done:Se})=>{if(Se){qe(this,Qf).resolve();return}qe(this,n0)??Mn(this,n0,t.lang),Object.assign(qe(this,Cg),t.styles),On(this,pf,Bb).call(this,t.items),e()},qe(this,Qf).reject)};return Mn(this,r0,qe(this,Pg).getReader()),qe(Xa,Eg).add(this),e(),qe(this,Qf).promise}update({viewport:e,onBefore:t=null}){var Ae;const Se=e.scale*(globalThis.devicePixelRatio||1),_e=e.rotation;if(_e!==qe(this,Ag)&&(t==null||t(),Mn(this,Ag,_e),setLayerDimensions(qe(this,_g),{rotation:_e})),Se!==qe(this,$f)){t==null||t(),Mn(this,$f,Se);const Ce={div:null,properties:null,ctx:On(Ae=Xa,uu,Fv).call(Ae,qe(this,n0))};for(const Pe of qe(this,i0))Ce.properties=qe(this,cm).get(Pe),Ce.div=Pe,On(this,pf,Ty).call(this,Ce)}}cancel(){var t;const e=new AbortException("TextLayer task cancelled.");(t=qe(this,r0))==null||t.cancel(e).catch(()=>{}),Mn(this,r0,null),qe(this,Qf).reject(e)}get textDivs(){return qe(this,i0)}get textContentItemsStr(){return qe(this,lm)}static cleanup(){if(!(qe(this,Eg).size>0)){qe(this,s0).clear();for(const{canvas:e}of qe(this,a0).values())e.remove();qe(this,a0).clear()}}},Qf=new WeakMap,Mc=new WeakMap,im=new WeakMap,sm=new WeakMap,n0=new WeakMap,Kd=new WeakMap,am=new WeakMap,om=new WeakMap,r0=new WeakMap,_g=new WeakMap,Ag=new WeakMap,$f=new WeakMap,Cg=new WeakMap,lm=new WeakMap,Pg=new WeakMap,i0=new WeakMap,cm=new WeakMap,um=new WeakMap,s0=new WeakMap,a0=new WeakMap,hm=new WeakMap,ep=new WeakMap,Eg=new WeakMap,pf=new WeakSet,Bb=function(e){var _e,Ae;if(qe(this,im))return;(Ae=qe(this,Kd)).ctx??(Ae.ctx=On(_e=Xa,uu,Fv).call(_e,qe(this,n0)));const t=qe(this,i0),Se=qe(this,lm);for(const Ce of e){if(t.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),Mn(this,im,!0);return}if(Ce.str===void 0){if(Ce.type==="beginMarkedContentProps"||Ce.type==="beginMarkedContent"){const Pe=qe(this,Mc);Mn(this,Mc,document.createElement("span")),qe(this,Mc).classList.add("markedContent"),Ce.id!==null&&qe(this,Mc).setAttribute("id",`${Ce.id}`),Pe.append(qe(this,Mc))}else Ce.type==="endMarkedContent"&&Mn(this,Mc,qe(this,Mc).parentNode);continue}Se.push(Ce.str),On(this,pf,Ub).call(this,Ce)}},Ub=function(e){var je;const t=document.createElement("span"),Se={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};qe(this,i0).push(t);const _e=Util$1.transform(qe(this,um),e.transform);let Ae=Math.atan2(_e[1],_e[0]);const Ce=qe(this,Cg)[e.fontName];Ce.vertical&&(Ae+=Math.PI/2);let Pe=qe(this,sm)&&Ce.fontSubstitution||Ce.fontFamily;Pe=Xa.fontFamilyMap.get(Pe)||Pe;const Ee=Math.hypot(_e[2],_e[3]),Fe=Ee*On(je=Xa,uu,qb).call(je,Pe,qe(this,n0));let ke,Ie;Ae===0?(ke=_e[4],Ie=_e[5]-Fe):(ke=_e[4]+Fe*Math.sin(Ae),Ie=_e[5]-Fe*Math.cos(Ae));const Oe="calc(var(--scale-factor)*",Re=t.style;qe(this,Mc)===qe(this,_g)?(Re.left=`${(100*ke/qe(this,om)).toFixed(2)}%`,Re.top=`${(100*Ie/qe(this,am)).toFixed(2)}%`):(Re.left=`${Oe}${ke.toFixed(2)}px)`,Re.top=`${Oe}${Ie.toFixed(2)}px)`),Re.fontSize=`${Oe}${(qe(Xa,ep)*Ee).toFixed(2)}px)`,Re.fontFamily=Pe,Se.fontSize=Ee,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,qe(this,sm)&&(t.dataset.fontName=Ce.fontSubstitutionLoadedName||e.fontName),Ae!==0&&(Se.angle=Ae*(180/Math.PI));let Be=!1;if(e.str.length>1)Be=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const He=Math.abs(e.transform[0]),Ge=Math.abs(e.transform[3]);He!==Ge&&Math.max(He,Ge)/Math.min(He,Ge)>1.5&&(Be=!0)}if(Be&&(Se.canvasWidth=Ce.vertical?e.height:e.width),qe(this,cm).set(t,Se),qe(this,Kd).div=t,qe(this,Kd).properties=Se,On(this,pf,Ty).call(this,qe(this,Kd)),Se.hasText&&qe(this,Mc).append(t),Se.hasEOL){const He=document.createElement("br");He.setAttribute("role","presentation"),qe(this,Mc).append(He)}},Ty=function(e){var Pe;const{div:t,properties:Se,ctx:_e}=e,{style:Ae}=t;let Ce="";if(qe(Xa,ep)>1&&(Ce=`scale(${1/qe(Xa,ep)})`),Se.canvasWidth!==0&&Se.hasText){const{fontFamily:Ee}=Ae,{canvasWidth:Fe,fontSize:ke}=Se;On(Pe=Xa,uu,ky).call(Pe,_e,ke*qe(this,$f),Ee);const{width:Ie}=_e.measureText(t.textContent);Ie>0&&(Ce=`scaleX(${Fe*qe(this,$f)/Ie}) ${Ce}`)}Se.angle!==0&&(Ce=`rotate(${Se.angle}deg) ${Ce}`),Ce.length>0&&(Ae.transform=Ce)},uu=new WeakSet,Fv=function(e=null){let t=qe(this,a0).get(e||(e=""));if(!t){const Se=document.createElement("canvas");Se.className="hiddenCanvasElement",Se.lang=e,document.body.append(Se),t=Se.getContext("2d",{alpha:!1,willReadFrequently:!0}),qe(this,a0).set(e,t),qe(this,hm).set(t,{size:0,family:""})}return t},ky=function(e,t,Se){const _e=qe(this,hm).get(e);t===_e.size&&Se===_e.family||(e.font=`${t}px ${Se}`,_e.size=t,_e.family=Se)},jb=function(){if(qe(this,ep)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Mn(this,ep,e.getBoundingClientRect().height),e.remove()},qb=function(e,t){const Se=qe(this,s0).get(e);if(Se)return Se;const _e=On(this,uu,Fv).call(this,t);_e.canvas.width=_e.canvas.height=DEFAULT_FONT_SIZE,On(this,uu,ky).call(this,_e,DEFAULT_FONT_SIZE,e);const Ae=_e.measureText("");let Ce=Ae.fontBoundingBoxAscent,Pe=Math.abs(Ae.fontBoundingBoxDescent);if(Ce){const ke=Ce/(Ce+Pe);return qe(this,s0).set(e,ke),_e.canvas.width=_e.canvas.height=0,ke}_e.strokeStyle="red",_e.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),_e.strokeText("g",0,0);let Ee=_e.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;Pe=0;for(let ke=Ee.length-1-3;ke>=0;ke-=4)if(Ee[ke]>0){Pe=Math.ceil(ke/4/DEFAULT_FONT_SIZE);break}_e.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),_e.strokeText("A",0,DEFAULT_FONT_SIZE),Ee=_e.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,Ce=0;for(let ke=0,Ie=Ee.length;ke<Ie;ke+=4)if(Ee[ke]>0){Ce=DEFAULT_FONT_SIZE-Math.floor(ke/4/DEFAULT_FONT_SIZE);break}_e.canvas.width=_e.canvas.height=0;const Fe=Ce?Ce/(Ce+Pe):DEFAULT_FONT_ASCENT;return qe(this,s0).set(e,Fe),Fe},jn(Xa,uu),jn(Xa,s0,new Map),jn(Xa,a0,new Map),jn(Xa,hm,new WeakMap),jn(Xa,ep,null),jn(Xa,Eg,new Set),Xa);class XfaText{static textContent(e){const t=[],Se={items:t,styles:Object.create(null)};function _e(Ae){var Ee;if(!Ae)return;let Ce=null;const Pe=Ae.name;if(Pe==="#text")Ce=Ae.value;else if(XfaText.shouldBuildText(Pe))(Ee=Ae==null?void 0:Ae.attributes)!=null&&Ee.textContent?Ce=Ae.attributes.textContent:Ae.value&&(Ce=Ae.value);else return;if(Ce!==null&&t.push({str:Ce}),!!Ae.children)for(const Fe of Ae.children)_e(Fe)}return _e(e),Se}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(xe={}){typeof xe=="string"||xe instanceof URL?xe={url:xe}:(xe instanceof ArrayBuffer||ArrayBuffer.isView(xe))&&(xe={data:xe});const e=new PDFDocumentLoadingTask,{docId:t}=e,Se=xe.url?getUrlProp(xe.url):null,_e=xe.data?getDataProp(xe.data):null,Ae=xe.httpHeaders||null,Ce=xe.withCredentials===!0,Pe=xe.password??null,Ee=xe.range instanceof PDFDataRangeTransport$1?xe.range:null,Fe=Number.isInteger(xe.rangeChunkSize)&&xe.rangeChunkSize>0?xe.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ke=xe.worker instanceof PDFWorker?xe.worker:null;const Ie=xe.verbosity,Oe=typeof xe.docBaseUrl=="string"&&!isDataScheme(xe.docBaseUrl)?xe.docBaseUrl:null,Re=typeof xe.cMapUrl=="string"?xe.cMapUrl:null,Be=xe.cMapPacked!==!1,je=xe.CMapReaderFactory||DefaultCMapReaderFactory,He=typeof xe.standardFontDataUrl=="string"?xe.standardFontDataUrl:null,Ge=xe.StandardFontDataFactory||DefaultStandardFontDataFactory,Ve=xe.stopAtErrors!==!0,ze=Number.isInteger(xe.maxImageSize)&&xe.maxImageSize>-1?xe.maxImageSize:-1,Xe=xe.isEvalSupported!==!1,We=typeof xe.isOffscreenCanvasSupported=="boolean"?xe.isOffscreenCanvasSupported:!isNodeJS,Je=typeof xe.isChrome=="boolean"?xe.isChrome:!util_FeatureTest.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),Qe=Number.isInteger(xe.canvasMaxAreaInBytes)?xe.canvasMaxAreaInBytes:-1,Ze=typeof xe.disableFontFace=="boolean"?xe.disableFontFace:isNodeJS,on=xe.fontExtraProperties===!0,an=xe.enableXfa===!0,rn=xe.ownerDocument||globalThis.document,fn=xe.disableRange===!0,nn=xe.disableStream===!0,cn=xe.disableAutoFetch===!0,dn=xe.pdfBug===!0,bn=xe.CanvasFactory||DefaultCanvasFactory,pn=xe.FilterFactory||DefaultFilterFactory,_n=xe.enableHWA===!0,Nn=Ee?Ee.length:xe.length??NaN,Un=typeof xe.useSystemFonts=="boolean"?xe.useSystemFonts:!isNodeJS&&!Ze,xn=typeof xe.useWorkerFetch=="boolean"?xe.useWorkerFetch:je===DOMCMapReaderFactory&&Ge===DOMStandardFontDataFactory&&Re&&He&&isValidFetchUrl(Re,document.baseURI)&&isValidFetchUrl(He,document.baseURI);xe.canvasFactory&&deprecated("`canvasFactory`-instance option, please use `CanvasFactory` instead."),xe.filterFactory&&deprecated("`filterFactory`-instance option, please use `FilterFactory` instead.");const St=null;setVerbosityLevel(Ie);const sn={canvasFactory:new bn({ownerDocument:rn,enableHWA:_n}),filterFactory:new pn({docId:t,ownerDocument:rn}),cMapReaderFactory:xn?null:new je({baseUrl:Re,isCompressed:Be}),standardFontDataFactory:xn?null:new Ge({baseUrl:He})};if(!ke){const Fn={verbosity:Ie,port:GlobalWorkerOptions.workerPort};ke=Fn.port?PDFWorker.fromPort(Fn):new PDFWorker(Fn),e._worker=ke}const gn={docId:t,apiVersion:"4.8.69",data:_e,password:Pe,disableAutoFetch:cn,rangeChunkSize:Fe,length:Nn,docBaseUrl:Oe,enableXfa:an,evaluatorOptions:{maxImageSize:ze,disableFontFace:Ze,ignoreErrors:Ve,isEvalSupported:Xe,isOffscreenCanvasSupported:We,isChrome:Je,canvasMaxAreaInBytes:Qe,fontExtraProperties:on,useSystemFonts:Un,cMapUrl:xn?Re:null,standardFontDataUrl:xn?He:null}},Pn={disableFontFace:Ze,fontExtraProperties:on,ownerDocument:rn,pdfBug:dn,styleElement:St,loadingParams:{disableAutoFetch:cn,enableXfa:an}};return ke.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(ke.destroyed)throw new Error("Worker was destroyed");const Fn=ke.messageHandler.sendWithPromise("GetDocRequest",gn,_e?[_e.buffer]:null);let vn;if(Ee)vn=new PDFDataTransportStream(Ee,{disableRange:fn,disableStream:nn});else if(!_e){if(!Se)throw new Error("getDocument - no `url` parameter provided.");let kn;isNodeJS?kn=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&isValidFetchUrl(Se)?PDFFetchStream:PDFNodeStream:kn=isValidFetchUrl(Se)?PDFFetchStream:PDFNetworkStream,vn=new kn({url:Se,length:Nn,httpHeaders:Ae,withCredentials:Ce,rangeChunkSize:Fe,disableRange:fn,disableStream:nn})}return Fn.then(kn=>{if(e.destroyed)throw new Error("Loading aborted");if(ke.destroyed)throw new Error("Worker was destroyed");const Bn=new MessageHandler(t,kn,ke.port),er=new WorkerTransport(Bn,e,vn,Pn,sn);e._transport=er,Bn.send("Ready",null)})}).catch(e._capability.reject),e}function getUrlProp(xe){if(xe instanceof URL)return xe.href;try{return new URL(xe,window.location).href}catch{if(isNodeJS&&typeof xe=="string")return xe}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(xe){if(isNodeJS&&typeof Buffer<"u"&&xe instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(xe instanceof Uint8Array&&xe.byteLength===xe.buffer.byteLength)return xe;if(typeof xe=="string")return stringToBytes(xe);if(xe instanceof ArrayBuffer||ArrayBuffer.isView(xe)||typeof xe=="object"&&!isNaN(xe==null?void 0:xe.length))return new Uint8Array(xe);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(xe){return typeof xe=="object"&&Number.isInteger(xe==null?void 0:xe.num)&&xe.num>=0&&Number.isInteger(xe==null?void 0:xe.gen)&&xe.gen>=0}var i2;const s2=class s2{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Sl(s2,i2)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,Se;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(_e){throw(Se=this._worker)!=null&&Se.port&&delete this._worker._pendingDestroy,_e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i2=new WeakMap,jn(s2,i2,0);let PDFDocumentLoadingTask=s2,PDFDataRangeTransport$1=class{constructor(e,t,Se=!1,_e=null){this.length=e,this.initialData=t,this.progressiveDone=Se,this.contentDispositionFilename=_e,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const Se of this._rangeListeners)Se(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const Se of this._progressListeners)Se(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var tp,Xd,Hu,eg,Tv;class PDFPageProxy{constructor(e,t,Se,_e=!1){jn(this,Hu);jn(this,tp,null);jn(this,Xd,!1);this._pageIndex=e,this._pageInfo=t,this._transport=Se,this._stats=_e?new StatTimer:null,this._pdfBug=_e,this.commonObjs=Se.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:Se=0,offsetY:_e=0,dontFlip:Ae=!1}={}){return new PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:Se,offsetY:_e,dontFlip:Ae})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:Se="display",annotationMode:_e=AnnotationMode.ENABLE,transform:Ae=null,background:Ce=null,optionalContentConfigPromise:Pe=null,annotationCanvasMap:Ee=null,pageColors:Fe=null,printAnnotationStorage:ke=null,isEditing:Ie=!1}){var Xe,We;(Xe=this._stats)==null||Xe.time("Overall");const Oe=this._transport.getRenderingIntent(Se,_e,ke,Ie),{renderingIntent:Re,cacheKey:Be}=Oe;Mn(this,Xd,!1),On(this,Hu,Tv).call(this),Pe||(Pe=this._transport.getOptionalContentConfig(Re));let je=this._intentStates.get(Be);je||(je=Object.create(null),this._intentStates.set(Be,je)),je.streamReaderCancelTimeout&&(clearTimeout(je.streamReaderCancelTimeout),je.streamReaderCancelTimeout=null);const He=!!(Re&RenderingIntentFlag.PRINT);je.displayReadyCapability||(je.displayReadyCapability=Promise.withResolvers(),je.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(We=this._stats)==null||We.time("Page Request"),this._pumpOperatorList(Oe));const Ge=Je=>{var Qe;je.renderTasks.delete(Ve),(this._maybeCleanupAfterRender||He)&&Mn(this,Xd,!0),On(this,Hu,eg).call(this,!He),Je?(Ve.capability.reject(Je),this._abortOperatorList({intentState:je,reason:Je instanceof Error?Je:new Error(Je)})):Ve.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Qe=globalThis.Stats)!=null&&Qe.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Ve=new InternalRenderTask({callback:Ge,params:{canvasContext:e,viewport:t,transform:Ae,background:Ce},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ee,operatorList:je.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!He,pdfBug:this._pdfBug,pageColors:Fe});(je.renderTasks||(je.renderTasks=new Set)).add(Ve);const ze=Ve.task;return Promise.all([je.displayReadyCapability.promise,Pe]).then(([Je,Qe])=>{var Ze;if(this.destroyed){Ge();return}if((Ze=this._stats)==null||Ze.time("Rendering"),!(Qe.renderingIntent&Re))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Ve.initializeGraphics({transparency:Je,optionalContentConfig:Qe}),Ve.operatorListChanged()}).catch(Ge),ze}getOperatorList({intent:e="display",annotationMode:t=AnnotationMode.ENABLE,printAnnotationStorage:Se=null,isEditing:_e=!1}={}){var Fe;function Ae(){Pe.operatorList.lastChunk&&(Pe.opListReadCapability.resolve(Pe.operatorList),Pe.renderTasks.delete(Ee))}const Ce=this._transport.getRenderingIntent(e,t,Se,_e,!0);let Pe=this._intentStates.get(Ce.cacheKey);Pe||(Pe=Object.create(null),this._intentStates.set(Ce.cacheKey,Pe));let Ee;return Pe.opListReadCapability||(Ee=Object.create(null),Ee.operatorListChanged=Ae,Pe.opListReadCapability=Promise.withResolvers(),(Pe.renderTasks||(Pe.renderTasks=new Set)).add(Ee),Pe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Fe=this._stats)==null||Fe.time("Page Request"),this._pumpOperatorList(Ce)),Pe.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(_e){return _e.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(Se=>XfaText.textContent(Se));const t=this.streamTextContent(e);return new Promise(function(Se,_e){function Ae(){Ce.read().then(function({value:Ee,done:Fe}){if(Fe){Se(Pe);return}Pe.lang??(Pe.lang=Ee.lang),Object.assign(Pe.styles,Ee.styles),Pe.items.push(...Ee.items),Ae()},_e)}const Ce=t.getReader(),Pe={items:[],styles:Object.create(null),lang:null};Ae()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const Se of t.renderTasks)e.push(Se.completed),Se.cancel();return this.objs.clear(),Mn(this,Xd,!1),On(this,Hu,Tv).call(this),Promise.all(e)}cleanup(e=!1){Mn(this,Xd,!0);const t=On(this,Hu,eg).call(this,!1);return e&&t&&this._stats&&(this._stats=new StatTimer),t}_startRenderPage(e,t){var _e,Ae;const Se=this._intentStates.get(t);Se&&((_e=this._stats)==null||_e.timeEnd("Page Request"),(Ae=Se.displayReadyCapability)==null||Ae.resolve(e))}_renderPageChunk(e,t){for(let Se=0,_e=e.length;Se<_e;Se++)t.operatorList.fnArray.push(e.fnArray[Se]),t.operatorList.argsArray.push(e.argsArray[Se]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const Se of t.renderTasks)Se.operatorListChanged();e.lastChunk&&On(this,Hu,eg).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:Se,modifiedIds:_e}){const{map:Ae,transfer:Ce}=Se,Ee=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:Ae,modifiedIds:_e},Ce).getReader(),Fe=this._intentStates.get(t);Fe.streamReader=Ee;const ke=()=>{Ee.read().then(({value:Ie,done:Oe})=>{if(Oe){Fe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ie,Fe),ke())},Ie=>{if(Fe.streamReader=null,!this._transport.destroyed){if(Fe.operatorList){Fe.operatorList.lastChunk=!0;for(const Oe of Fe.renderTasks)Oe.operatorListChanged();On(this,Hu,eg).call(this,!0)}if(Fe.displayReadyCapability)Fe.displayReadyCapability.reject(Ie);else if(Fe.opListReadCapability)Fe.opListReadCapability.reject(Ie);else throw Ie}})};ke()}_abortOperatorList({intentState:e,reason:t,force:Se=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!Se){if(e.renderTasks.size>0)return;if(t instanceof RenderingCancelledException){let _e=RENDERING_CANCELLED_TIMEOUT;t.extraDelay>0&&t.extraDelay<1e3&&(_e+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},_e);return}}if(e.streamReader.cancel(new AbortException(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[_e,Ae]of this._intentStates)if(Ae===e){this._intentStates.delete(_e);break}this.cleanup()}}}get stats(){return this._stats}}tp=new WeakMap,Xd=new WeakMap,Hu=new WeakSet,eg=function(e=!1){if(On(this,Hu,Tv).call(this),!qe(this,Xd)||this.destroyed)return!1;if(e)return Mn(this,tp,setTimeout(()=>{Mn(this,tp,null),On(this,Hu,eg).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:t,operatorList:Se}of this._intentStates.values())if(t.size>0||!Se.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Mn(this,Xd,!1),!0},Tv=function(){qe(this,tp)&&(clearTimeout(qe(this,tp)),Mn(this,tp,null))};var Yd,a2;class LoopbackPort{constructor(){jn(this,Yd,new Map);jn(this,a2,Promise.resolve())}postMessage(e,t){const Se={data:structuredClone(e,t?{transfer:t}:null)};qe(this,a2).then(()=>{for(const[_e]of qe(this,Yd))_e.call(this,Se)})}addEventListener(e,t,Se=null){let _e=null;if((Se==null?void 0:Se.signal)instanceof AbortSignal){const{signal:Ae}=Se;if(Ae.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const Ce=()=>this.removeEventListener(e,t);_e=()=>Ae.removeEventListener("abort",Ce),Ae.addEventListener("abort",Ce)}qe(this,Yd).set(t,_e)}removeEventListener(e,t){const Se=qe(this,Yd).get(t);Se==null||Se(),qe(this,Yd).delete(t)}terminate(){for(const[,e]of qe(this,Yd))e==null||e();qe(this,Yd).clear()}}Yd=new WeakMap,a2=new WeakMap;var o2,o0,l0,Fg,kv,Tg,Rv;const Ta=class Ta{constructor({name:e=null,port:t=null,verbosity:Se=getVerbosityLevel()}={}){jn(this,Fg);var _e;if(this.name=e,this.destroyed=!1,this.verbosity=Se,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((_e=qe(Ta,l0))!=null&&_e.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(qe(Ta,l0)||Mn(Ta,l0,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),On(this,Fg,kv).call(this)}_initialize(){if(qe(Ta,o0)||qe(Ta,Tg,Rv)){this._setupFakeWorker();return}let{workerSrc:e}=Ta;try{Ta._isSameOrigin(window.location.href,e)||(e=Ta._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),Se=new MessageHandler("main","worker",t),_e=()=>{Ae.abort(),Se.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ae=new AbortController;t.addEventListener("error",()=>{this._webWorker||_e()},{signal:Ae.signal}),Se.on("test",Pe=>{if(Ae.abort(),this.destroyed||!Pe){_e();return}this._messageHandler=Se,this._port=t,this._webWorker=t,On(this,Fg,kv).call(this)}),Se.on("ready",Pe=>{if(Ae.abort(),this.destroyed){_e();return}try{Ce()}catch{this._setupFakeWorker()}});const Ce=()=>{const Pe=new Uint8Array;Se.send("test",Pe,[Pe.buffer])};Ce();return}catch{info("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){qe(Ta,o0)||(warn("Setting up fake worker."),Mn(Ta,o0,!0)),Ta._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new LoopbackPort;this._port=t;const Se=`fake${Sl(Ta,o2)._++}`,_e=new MessageHandler(Se+"_worker",Se,t);e.setup(_e,t),this._messageHandler=new MessageHandler(Se,Se+"_worker",t),On(this,Fg,kv).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=qe(Ta,l0))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var Se;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(Se=qe(this,l0))==null?void 0:Se.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ta(e)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>qe(this,Tg,Rv)?qe(this,Tg,Rv):(await import(this.workerSrc)).WorkerMessageHandler)())}};o2=new WeakMap,o0=new WeakMap,l0=new WeakMap,Fg=new WeakSet,kv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Tg=new WeakSet,Rv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},jn(Ta,Tg),jn(Ta,o2,0),jn(Ta,o0,!1),jn(Ta,l0),isNodeJS&&(Mn(Ta,o0,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),Ta._isSameOrigin=(e,t)=>{let Se;try{if(Se=new URL(e),!Se.origin||Se.origin==="null")return!1}catch{return!1}const _e=new URL(t,Se);return Se.origin===_e.origin},Ta._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let PDFWorker=Ta;var Zd,hd,kg,Rg,dd,c0,S1;class WorkerTransport{constructor(e,t,Se,_e,Ae){jn(this,c0);jn(this,Zd,new Map);jn(this,hd,new Map);jn(this,kg,new Map);jn(this,Rg,new Map);jn(this,dd,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:_e.ownerDocument,styleElement:_e.styleElement}),this.loadingParams=_e.loadingParams,this._params=_e,this.canvasFactory=Ae.canvasFactory,this.filterFactory=Ae.filterFactory,this.cMapReaderFactory=Ae.cMapReaderFactory,this.standardFontDataFactory=Ae.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Se,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(e,t=AnnotationMode.ENABLE,Se=null,_e=!1,Ae=!1){let Ce=RenderingIntentFlag.DISPLAY,Pe=SerializableEmpty;switch(e){case"any":Ce=RenderingIntentFlag.ANY;break;case"display":break;case"print":Ce=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${e}`)}const Ee=Ce&RenderingIntentFlag.PRINT&&Se instanceof PrintAnnotationStorage?Se:this.annotationStorage;switch(t){case AnnotationMode.DISABLE:Ce+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:Ce+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:Ce+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Pe=Ee.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${t}`)}_e&&(Ce+=RenderingIntentFlag.IS_EDITING),Ae&&(Ce+=RenderingIntentFlag.OPLIST);const{ids:Fe,hash:ke}=Ee.modifiedIds,Ie=[Ce,Pe.hash,ke];return{renderingIntent:Ce,cacheKey:Ie.join("_"),annotationStorageSerializable:Pe,modifiedIds:Fe}}destroy(){var Se;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(Se=qe(this,dd))==null||Se.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const _e of qe(this,hd).values())e.push(_e._destroy());qe(this,hd).clear(),qe(this,kg).clear(),qe(this,Rg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var _e;this.commonObjs.clear(),this.fontLoader.clear(),qe(this,Zd).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(_e=this._networkStream)==null||_e.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(Se,_e)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ae=>{this._lastProgress={loaded:Ae.loaded,total:Ae.total}},_e.onPull=()=>{this._fullReader.read().then(function({value:Ae,done:Ce}){if(Ce){_e.close();return}assert(Ae instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),_e.enqueue(new Uint8Array(Ae),1,[Ae])}).catch(Ae=>{_e.error(Ae)})},_e.onCancel=Ae=>{this._fullReader.cancel(Ae),_e.ready.catch(Ce=>{if(!this.destroyed)throw Ce})}}),e.on("ReaderHeadersReady",async Se=>{var Pe;await this._fullReader.headersReady;const{isStreamingSupported:_e,isRangeSupported:Ae,contentLength:Ce}=this._fullReader;return(!_e||!Ae)&&(this._lastProgress&&((Pe=t.onProgress)==null||Pe.call(t,this._lastProgress)),this._fullReader.onProgress=Ee=>{var Fe;(Fe=t.onProgress)==null||Fe.call(t,{loaded:Ee.loaded,total:Ee.total})}),{isStreamingSupported:_e,isRangeSupported:Ae,contentLength:Ce}}),e.on("GetRangeReader",(Se,_e)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ae=this._networkStream.getRangeReader(Se.begin,Se.end);if(!Ae){_e.close();return}_e.onPull=()=>{Ae.read().then(function({value:Ce,done:Pe}){if(Pe){_e.close();return}assert(Ce instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),_e.enqueue(new Uint8Array(Ce),1,[Ce])}).catch(Ce=>{_e.error(Ce)})},_e.onCancel=Ce=>{Ae.cancel(Ce),_e.ready.catch(Pe=>{if(!this.destroyed)throw Pe})}}),e.on("GetDoc",({pdfInfo:Se})=>{this._numPages=Se.numPages,this._htmlForXfa=Se.htmlForXfa,delete Se.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(Se,this))}),e.on("DocException",function(Se){let _e;switch(Se.name){case"PasswordException":_e=new PasswordException(Se.message,Se.code);break;case"InvalidPDFException":_e=new InvalidPDFException(Se.message);break;case"MissingPDFException":_e=new MissingPDFException(Se.message);break;case"UnexpectedResponseException":_e=new UnexpectedResponseException(Se.message,Se.status);break;case"UnknownErrorException":_e=new UnknownErrorException(Se.message,Se.details);break;default:unreachable("DocException - expected a valid Error.")}t._capability.reject(_e)}),e.on("PasswordRequest",Se=>{if(Mn(this,dd,Promise.withResolvers()),t.onPassword){const _e=Ae=>{Ae instanceof Error?qe(this,dd).reject(Ae):qe(this,dd).resolve({password:Ae})};try{t.onPassword(_e,Se.code)}catch(Ae){qe(this,dd).reject(Ae)}}else qe(this,dd).reject(new PasswordException(Se.message,Se.code));return qe(this,dd).promise}),e.on("DataLoaded",Se=>{var _e;(_e=t.onProgress)==null||_e.call(t,{loaded:Se.length,total:Se.length}),this.downloadInfoCapability.resolve(Se)}),e.on("StartRenderPage",Se=>{if(this.destroyed)return;qe(this,hd).get(Se.pageIndex)._startRenderPage(Se.transparency,Se.cacheKey)}),e.on("commonobj",([Se,_e,Ae])=>{var Ce;if(this.destroyed||this.commonObjs.has(Se))return null;switch(_e){case"Font":const{disableFontFace:Pe,fontExtraProperties:Ee,pdfBug:Fe}=this._params;if("error"in Ae){const Re=Ae.error;warn(`Error during font loading: ${Re}`),this.commonObjs.resolve(Se,Re);break}const ke=Fe&&((Ce=globalThis.FontInspector)!=null&&Ce.enabled)?(Re,Be)=>globalThis.FontInspector.fontAdded(Re,Be):null,Ie=new FontFaceObject(Ae,{disableFontFace:Pe,inspectFont:ke});this.fontLoader.bind(Ie).catch(()=>e.sendWithPromise("FontFallback",{id:Se})).finally(()=>{!Ee&&Ie.data&&(Ie.data=null),this.commonObjs.resolve(Se,Ie)});break;case"CopyLocalImage":const{imageRef:Oe}=Ae;assert(Oe,"The imageRef must be defined.");for(const Re of qe(this,hd).values())for(const[,Be]of Re.objs)if((Be==null?void 0:Be.ref)===Oe)return Be.dataLen?(this.commonObjs.resolve(Se,structuredClone(Be)),Be.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Se,Ae);break;default:throw new Error(`Got unknown common object type ${_e}`)}return null}),e.on("obj",([Se,_e,Ae,Ce])=>{var Ee;if(this.destroyed)return;const Pe=qe(this,hd).get(_e);if(!Pe.objs.has(Se)){if(Pe._intentStates.size===0){(Ee=Ce==null?void 0:Ce.bitmap)==null||Ee.close();return}switch(Ae){case"Image":Pe.objs.resolve(Se,Ce),(Ce==null?void 0:Ce.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(Pe._maybeCleanupAfterRender=!0);break;case"Pattern":Pe.objs.resolve(Se,Ce);break;default:throw new Error(`Got unknown object type ${Ae}`)}}}),e.on("DocProgress",Se=>{var _e;this.destroyed||(_e=t.onProgress)==null||_e.call(t,{loaded:Se.loaded,total:Se.total})}),e.on("FetchBuiltInCMap",async Se=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(Se)}),e.on("FetchStandardFontData",async Se=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(Se)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Se;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((Se=this._fullReader)==null?void 0:Se.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,Se=qe(this,kg).get(t);if(Se)return Se;const _e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(Ae=>{if(this.destroyed)throw new Error("Transport destroyed");Ae.refStr&&qe(this,Rg).set(Ae.refStr,e);const Ce=new PDFPageProxy(t,Ae,this,this._params.pdfBug);return qe(this,hd).set(t,Ce),Ce});return qe(this,kg).set(t,_e),_e}getPageIndex(e){return isRefProxy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return On(this,c0,S1).call(this,"GetFieldObjects")}hasJSActions(){return On(this,c0,S1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return On(this,c0,S1).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return On(this,c0,S1).call(this,"GetOptionalContentConfig").then(t=>new OptionalContentConfig(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=qe(this,Zd).get(e);if(t)return t;const Se=this.messageHandler.sendWithPromise(e,null).then(_e=>{var Ae,Ce;return{info:_e[0],metadata:_e[1]?new Metadata(_e[1]):null,contentDispositionFilename:((Ae=this._fullReader)==null?void 0:Ae.filename)??null,contentLength:((Ce=this._fullReader)==null?void 0:Ce.contentLength)??null}});return qe(this,Zd).set(e,Se),Se}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of qe(this,hd).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),qe(this,Zd).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber(e){if(!isRefProxy(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return qe(this,Rg).get(t)??null}}Zd=new WeakMap,hd=new WeakMap,kg=new WeakMap,Rg=new WeakMap,dd=new WeakMap,c0=new WeakSet,S1=function(e,t=null){const Se=qe(this,Zd).get(e);if(Se)return Se;const _e=this.messageHandler.sendWithPromise(e,t);return qe(this,Zd).set(e,_e),_e};const INITIAL_DATA=Symbol("INITIAL_DATA");var _h,dm,Ry;class PDFObjects{constructor(){jn(this,dm);jn(this,_h,Object.create(null))}get(e,t=null){if(t){const _e=On(this,dm,Ry).call(this,e);return _e.promise.then(()=>t(_e.data)),null}const Se=qe(this,_h)[e];if(!Se||Se.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return Se.data}has(e){const t=qe(this,_h)[e];return!!t&&t.data!==INITIAL_DATA}resolve(e,t=null){const Se=On(this,dm,Ry).call(this,e);Se.data=t,Se.resolve()}clear(){var e;for(const t in qe(this,_h)){const{data:Se}=qe(this,_h)[t];(e=Se==null?void 0:Se.bitmap)==null||e.close()}Mn(this,_h,Object.create(null))}*[Symbol.iterator](){for(const e in qe(this,_h)){const{data:t}=qe(this,_h)[e];t!==INITIAL_DATA&&(yield[e,t])}}}_h=new WeakMap,dm=new WeakSet,Ry=function(e){var t;return(t=qe(this,_h))[e]||(t[e]={...Promise.withResolvers(),data:INITIAL_DATA})};var np;class RenderTask{constructor(e){jn(this,np,null);Mn(this,np,e),this.onContinue=null}get promise(){return qe(this,np).capability.promise}cancel(e=0){qe(this,np).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=qe(this,np).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=qe(this,np);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}np=new WeakMap;var rp,u0;const Ip=class Ip{constructor({callback:e,params:t,objs:Se,commonObjs:_e,annotationCanvasMap:Ae,operatorList:Ce,pageIndex:Pe,canvasFactory:Ee,filterFactory:Fe,useRequestAnimationFrame:ke=!1,pdfBug:Ie=!1,pageColors:Oe=null}){jn(this,rp,null);this.callback=e,this.params=t,this.objs=Se,this.commonObjs=_e,this.annotationCanvasMap=Ae,this.operatorListIdx=null,this.operatorList=Ce,this._pageIndex=Pe,this.canvasFactory=Ee,this.filterFactory=Fe,this._pdfBug=Ie,this.pageColors=Oe,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ke===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var Pe,Ee;if(this.cancelled)return;if(this._canvas){if(qe(Ip,u0).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");qe(Ip,u0).add(this._canvas)}this._pdfBug&&((Pe=globalThis.StepperManager)!=null&&Pe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Se,viewport:_e,transform:Ae,background:Ce}=this.params;this.gfx=new CanvasGraphics(Se,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ae,viewport:_e,transparency:e,background:Ce}),this.operatorListIdx=0,this.graphicsReady=!0,(Ee=this.graphicsReadyCallback)==null||Ee.call(this)}cancel(e=null,t=0){var Se;this.running=!1,this.cancelled=!0,(Se=this.gfx)==null||Se.endDrawing(),qe(this,rp)&&(window.cancelAnimationFrame(qe(this,rp)),Mn(this,rp,null)),qe(Ip,u0).delete(this._canvas),this.callback(e||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Mn(this,rp,window.requestAnimationFrame(()=>{Mn(this,rp,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),qe(Ip,u0).delete(this._canvas),this.callback())))}};rp=new WeakMap,u0=new WeakMap,jn(Ip,u0,new WeakSet);let InternalRenderTask=Ip;const version="4.8.69",build="3634dab10";function makeColorComp(xe){return Math.floor(Math.max(0,Math.min(1,xe))*255).toString(16).padStart(2,"0")}function scaleAndClamp(xe){return Math.max(0,Math.min(255,255*xe))}class ColorConverters{static CMYK_G([e,t,Se,_e]){return["G",1-Math.min(1,.3*e+.59*Se+.11*t+_e)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=scaleAndClamp(e),[e,e,e]}static G_HTML([e]){const t=makeColorComp(e);return`#${t}${t}${t}`}static RGB_G([e,t,Se]){return["G",.3*e+.59*t+.11*Se]}static RGB_rgb(e){return e.map(scaleAndClamp)}static RGB_HTML(e){return`#${e.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,Se,_e]){return["RGB",1-Math.min(1,e+_e),1-Math.min(1,Se+_e),1-Math.min(1,t+_e)]}static CMYK_rgb([e,t,Se,_e]){return[scaleAndClamp(1-Math.min(1,e+_e)),scaleAndClamp(1-Math.min(1,Se+_e)),scaleAndClamp(1-Math.min(1,t+_e))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,Se]){const _e=1-e,Ae=1-t,Ce=1-Se,Pe=Math.min(_e,Ae,Ce);return["CMYK",_e,Ae,Ce,Pe]}}class BaseSVGFactory{create(e,t,Se=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const _e=this._createSVG("svg:svg");return _e.setAttribute("version","1.1"),Se||(_e.setAttribute("width",`${e}px`),_e.setAttribute("height",`${t}px`)),_e.setAttribute("preserveAspectRatio","none"),_e.setAttribute("viewBox",`0 0 ${e} ${t}`),_e}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(e){return document.createElementNS(SVG_NS,e)}}class XfaLayer{static setupStorage(e,t,Se,_e,Ae){const Ce=_e.getValue(t,{value:null});switch(Se.name){case"textarea":if(Ce.value!==null&&(e.textContent=Ce.value),Ae==="print")break;e.addEventListener("input",Pe=>{_e.setValue(t,{value:Pe.target.value})});break;case"input":if(Se.attributes.type==="radio"||Se.attributes.type==="checkbox"){if(Ce.value===Se.attributes.xfaOn?e.setAttribute("checked",!0):Ce.value===Se.attributes.xfaOff&&e.removeAttribute("checked"),Ae==="print")break;e.addEventListener("change",Pe=>{_e.setValue(t,{value:Pe.target.checked?Pe.target.getAttribute("xfaOn"):Pe.target.getAttribute("xfaOff")})})}else{if(Ce.value!==null&&e.setAttribute("value",Ce.value),Ae==="print")break;e.addEventListener("input",Pe=>{_e.setValue(t,{value:Pe.target.value})})}break;case"select":if(Ce.value!==null){e.setAttribute("value",Ce.value);for(const Pe of Se.children)Pe.attributes.value===Ce.value?Pe.attributes.selected=!0:Pe.attributes.hasOwnProperty("selected")&&delete Pe.attributes.selected}e.addEventListener("input",Pe=>{const Ee=Pe.target.options,Fe=Ee.selectedIndex===-1?"":Ee[Ee.selectedIndex].value;_e.setValue(t,{value:Fe})});break}}static setAttributes({html:e,element:t,storage:Se=null,intent:_e,linkService:Ae}){const{attributes:Ce}=t,Pe=e instanceof HTMLAnchorElement;Ce.type==="radio"&&(Ce.name=`${Ce.name}-${_e}`);for(const[Ee,Fe]of Object.entries(Ce))if(Fe!=null)switch(Ee){case"class":Fe.length&&e.setAttribute(Ee,Fe.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",Fe);break;case"style":Object.assign(e.style,Fe);break;case"textContent":e.textContent=Fe;break;default:(!Pe||Ee!=="href"&&Ee!=="newWindow")&&e.setAttribute(Ee,Fe)}Pe&&Ae.addLinkAttributes(e,Ce.href,Ce.newWindow),Se&&Ce.dataId&&this.setupStorage(e,Ce.dataId,t,Se)}static render(e){var Ie,Oe;const t=e.annotationStorage,Se=e.linkService,_e=e.xfaHtml,Ae=e.intent||"display",Ce=document.createElement(_e.name);_e.attributes&&this.setAttributes({html:Ce,element:_e,intent:Ae,linkService:Se});const Pe=Ae!=="richText",Ee=e.div;if(Ee.append(Ce),e.viewport){const Re=`matrix(${e.viewport.transform.join(",")})`;Ee.style.transform=Re}Pe&&Ee.setAttribute("class","xfaLayer xfaFont");const Fe=[];if(_e.children.length===0){if(_e.value){const Re=document.createTextNode(_e.value);Ce.append(Re),Pe&&XfaText.shouldBuildText(_e.name)&&Fe.push(Re)}return{textDivs:Fe}}const ke=[[_e,-1,Ce]];for(;ke.length>0;){const[Re,Be,je]=ke.at(-1);if(Be+1===Re.children.length){ke.pop();continue}const He=Re.children[++ke.at(-1)[1]];if(He===null)continue;const{name:Ge}=He;if(Ge==="#text"){const ze=document.createTextNode(He.value);Fe.push(ze),je.append(ze);continue}const Ve=(Ie=He==null?void 0:He.attributes)!=null&&Ie.xmlns?document.createElementNS(He.attributes.xmlns,Ge):document.createElement(Ge);if(je.append(Ve),He.attributes&&this.setAttributes({html:Ve,element:He,storage:t,intent:Ae,linkService:Se}),((Oe=He.children)==null?void 0:Oe.length)>0)ke.push([He,-1,Ve]);else if(He.value){const ze=document.createTextNode(He.value);Pe&&XfaText.shouldBuildText(Ge)&&Fe.push(ze),Ve.append(ze)}}for(const Re of Ee.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Re.setAttribute("readOnly",!0);return{textDivs:Fe}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(xe){return{width:xe[2]-xe[0],height:xe[3]-xe[1]}}class AnnotationElementFactory{static create(e){switch(e.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(e);case AnnotationType.TEXT:return new TextAnnotationElement(e);case AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(e);case"Btn":return e.data.radioButton?new RadioButtonWidgetAnnotationElement(e):e.data.checkBox?new CheckboxWidgetAnnotationElement(e):new PushButtonWidgetAnnotationElement(e);case"Ch":return new ChoiceWidgetAnnotationElement(e);case"Sig":return new SignatureWidgetAnnotationElement(e)}return new WidgetAnnotationElement(e);case AnnotationType.POPUP:return new PopupAnnotationElement(e);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(e);case AnnotationType.LINE:return new LineAnnotationElement(e);case AnnotationType.SQUARE:return new SquareAnnotationElement(e);case AnnotationType.CIRCLE:return new CircleAnnotationElement(e);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(e);case AnnotationType.CARET:return new CaretAnnotationElement(e);case AnnotationType.INK:return new InkAnnotationElement(e);case AnnotationType.POLYGON:return new PolygonAnnotationElement(e);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(e);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(e);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(e);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(e);case AnnotationType.STAMP:return new StampAnnotationElement(e);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(e);default:return new AnnotationElement(e)}}}var h0,Dg,Ng,fm,Dy;const o5=class o5{constructor(e,{isRenderable:t=!1,ignoreBorder:Se=!1,createQuadrilaterals:_e=!1}={}){jn(this,fm);jn(this,h0,null);jn(this,Dg,!1);jn(this,Ng,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(Se)),_e&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:Se}){return!!(e!=null&&e.str||t!=null&&t.str||Se!=null&&Se.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return o5._hasPopupData(this.data)}updateEdited(e){var Se;if(!this.container)return;qe(this,h0)||Mn(this,h0,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&On(this,fm,Dy).call(this,t),(Se=qe(this,Ng))==null||Se.popup.updateEdited(e)}resetEdited(){var e;qe(this,h0)&&(On(this,fm,Dy).call(this,qe(this,h0).rect),(e=qe(this,Ng))==null||e.popup.resetEdited(),Mn(this,h0,null))}_createContainer(e){const{data:t,parent:{page:Se,viewport:_e}}=this,Ae=document.createElement("section");Ae.setAttribute("data-annotation-id",t.id),this instanceof WidgetAnnotationElement||(Ae.tabIndex=DEFAULT_TAB_INDEX);const{style:Ce}=Ae;if(Ce.zIndex=this.parent.zIndex++,t.alternativeText&&(Ae.title=t.alternativeText),t.noRotate&&Ae.classList.add("norotate"),!t.rect||this instanceof PopupAnnotationElement){const{rotation:je}=t;return!t.hasOwnCanvas&&je!==0&&this.setRotation(je,Ae),Ae}const{width:Pe,height:Ee}=getRectDims(t.rect);if(!e&&t.borderStyle.width>0){Ce.borderWidth=`${t.borderStyle.width}px`;const je=t.borderStyle.horizontalCornerRadius,He=t.borderStyle.verticalCornerRadius;if(je>0||He>0){const Ve=`calc(${je}px * var(--scale-factor)) / calc(${He}px * var(--scale-factor))`;Ce.borderRadius=Ve}else if(this instanceof RadioButtonWidgetAnnotationElement){const Ve=`calc(${Pe}px * var(--scale-factor)) / calc(${Ee}px * var(--scale-factor))`;Ce.borderRadius=Ve}switch(t.borderStyle.style){case AnnotationBorderStyleType.SOLID:Ce.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Ce.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Ce.borderBottomStyle="solid";break}const Ge=t.borderColor||null;Ge?(Mn(this,Dg,!0),Ce.borderColor=Util$1.makeHexColor(Ge[0]|0,Ge[1]|0,Ge[2]|0)):Ce.borderWidth=0}const Fe=Util$1.normalizeRect([t.rect[0],Se.view[3]-t.rect[1]+Se.view[1],t.rect[2],Se.view[3]-t.rect[3]+Se.view[1]]),{pageWidth:ke,pageHeight:Ie,pageX:Oe,pageY:Re}=_e.rawDims;Ce.left=`${100*(Fe[0]-Oe)/ke}%`,Ce.top=`${100*(Fe[1]-Re)/Ie}%`;const{rotation:Be}=t;return t.hasOwnCanvas||Be===0?(Ce.width=`${100*Pe/ke}%`,Ce.height=`${100*Ee/Ie}%`):this.setRotation(Be,Ae),Ae}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:Se,pageHeight:_e}=this.parent.viewport.rawDims,{width:Ae,height:Ce}=getRectDims(this.data.rect);let Pe,Ee;e%180===0?(Pe=100*Ae/Se,Ee=100*Ce/_e):(Pe=100*Ce/Se,Ee=100*Ae/_e),t.style.width=`${Pe}%`,t.style.height=`${Ee}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,Se,_e)=>{const Ae=_e.detail[t],Ce=Ae[0],Pe=Ae.slice(1);_e.target.style[Se]=ColorConverters[`${Ce}_HTML`](Pe),this.annotationStorage.setValue(this.data.id,{[Se]:ColorConverters[`${Ce}_rgb`](Pe)})};return shadow(this,"_commonActions",{display:t=>{const{display:Se}=t.detail,_e=Se%2===1;this.container.style.visibility=_e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:_e,noPrint:Se===1||Se===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:Se}=t.detail;this.container.style.visibility=Se?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Se,noView:Se})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const Se=t.detail.rotation;this.setRotation(Se),this.annotationStorage.setValue(this.data.id,{rotation:Se})}})}_dispatchEventFromSandbox(e,t){const Se=this._commonActions;for(const _e of Object.keys(t.detail)){const Ae=e[_e]||Se[_e];Ae==null||Ae(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const Se=this._commonActions;for(const[_e,Ae]of Object.entries(t)){const Ce=Se[_e];if(Ce){const Pe={detail:{[_e]:Ae},target:e};Ce(Pe),delete t[_e]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,Se,_e,Ae]=this.data.rect.map(je=>Math.fround(je));if(e.length===8){const[je,He,Ge,Ve]=e.subarray(2,6);if(_e===je&&Ae===He&&t===Ge&&Se===Ve)return}const{style:Ce}=this.container;let Pe;if(qe(this,Dg)){const{borderColor:je,borderWidth:He}=Ce;Ce.borderWidth=0,Pe=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${je}" stroke-width="${He}">`],this.container.classList.add("hasBorder")}const Ee=_e-t,Fe=Ae-Se,{svgFactory:ke}=this,Ie=ke.createElement("svg");Ie.classList.add("quadrilateralsContainer"),Ie.setAttribute("width",0),Ie.setAttribute("height",0);const Oe=ke.createElement("defs");Ie.append(Oe);const Re=ke.createElement("clipPath"),Be=`clippath_${this.data.id}`;Re.setAttribute("id",Be),Re.setAttribute("clipPathUnits","objectBoundingBox"),Oe.append(Re);for(let je=2,He=e.length;je<He;je+=8){const Ge=e[je],Ve=e[je+1],ze=e[je+2],Xe=e[je+3],We=ke.createElement("rect"),Je=(ze-t)/Ee,Qe=(Ae-Ve)/Fe,Ze=(Ge-ze)/Ee,on=(Ve-Xe)/Fe;We.setAttribute("x",Je),We.setAttribute("y",Qe),We.setAttribute("width",Ze),We.setAttribute("height",on),Re.append(We),Pe==null||Pe.push(`<rect vector-effect="non-scaling-stroke" x="${Je}" y="${Qe}" width="${Ze}" height="${on}"/>`)}qe(this,Dg)&&(Pe.push("</g></svg>')"),Ce.backgroundImage=Pe.join("")),this.container.append(Ie),this.container.style.clipPath=`url(#${Be})`}_createPopup(){const{data:e}=this,t=Mn(this,Ng,new PopupAnnotationElement({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const Se=[];if(this._fieldObjects){const _e=this._fieldObjects[e];if(_e)for(const{page:Ae,id:Ce,exportValues:Pe}of _e){if(Ae===-1||Ce===t)continue;const Ee=typeof Pe=="string"?Pe:null,Fe=document.querySelector(`[data-element-id="${Ce}"]`);if(Fe&&!GetElementsByNameSet.has(Fe)){warn(`_getElementsByName - element not allowed: ${Ce}`);continue}Se.push({id:Ce,exportValue:Ee,domElement:Fe})}return Se}for(const _e of document.getElementsByName(e)){const{exportValue:Ae}=_e,Ce=_e.getAttribute("data-element-id");Ce!==t&&GetElementsByNameSet.has(_e)&&Se.push({id:Ce,exportValue:Ae,domElement:_e})}return Se}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var Se;(Se=this.linkService.eventBus)==null||Se.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};h0=new WeakMap,Dg=new WeakMap,Ng=new WeakMap,fm=new WeakSet,Dy=function(e){const{container:{style:t},data:{rect:Se,rotation:_e},parent:{viewport:{rawDims:{pageWidth:Ae,pageHeight:Ce,pageX:Pe,pageY:Ee}}}}=this;Se==null||Se.splice(0,4,...e);const{width:Fe,height:ke}=getRectDims(e);t.left=`${100*(e[0]-Pe)/Ae}%`,t.top=`${100*(Ce-e[3]+Ee)/Ce}%`,_e===0?(t.width=`${100*Fe/Ae}%`,t.height=`${100*ke/Ce}%`):this.setRotation(_e)};let AnnotationElement=o5;var cu,kp,zb,Gb;class LinkAnnotationElement extends AnnotationElement{constructor(t,Se=null){super(t,{isRenderable:!0,ignoreBorder:!!(Se!=null&&Se.ignoreBorder),createQuadrilaterals:!0});jn(this,cu);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:Se}=this,_e=document.createElement("a");_e.setAttribute("data-element-id",t.id);let Ae=!1;return t.url?(Se.addLinkAttributes(_e,t.url,t.newWindow),Ae=!0):t.action?(this._bindNamedAction(_e,t.action),Ae=!0):t.attachment?(On(this,cu,zb).call(this,_e,t.attachment,t.attachmentDest),Ae=!0):t.setOCGState?(On(this,cu,Gb).call(this,_e,t.setOCGState),Ae=!0):t.dest?(this._bindLink(_e,t.dest),Ae=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(_e,t),Ae=!0),t.resetForm?(this._bindResetFormAction(_e,t.resetForm),Ae=!0):this.isTooltipOnly&&!Ae&&(this._bindLink(_e,""),Ae=!0)),this.container.classList.add("linkAnnotation"),Ae&&this.container.append(_e),this.container}_bindLink(t,Se){t.href=this.linkService.getDestinationHash(Se),t.onclick=()=>(Se&&this.linkService.goToDestination(Se),!1),(Se||Se==="")&&On(this,cu,kp).call(this)}_bindNamedAction(t,Se){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(Se),!1),On(this,cu,kp).call(this)}_bindJSAction(t,Se){t.href=this.linkService.getAnchorUrl("");const _e=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Ae of Object.keys(Se.actions)){const Ce=_e.get(Ae);Ce&&(t[Ce]=()=>{var Pe;return(Pe=this.linkService.eventBus)==null||Pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Se.id,name:Ae}}),!1})}t.onclick||(t.onclick=()=>!1),On(this,cu,kp).call(this)}_bindResetFormAction(t,Se){const _e=t.onclick;if(_e||(t.href=this.linkService.getAnchorUrl("")),On(this,cu,kp).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),_e||(t.onclick=()=>!1);return}t.onclick=()=>{var Ie;_e==null||_e();const{fields:Ae,refs:Ce,include:Pe}=Se,Ee=[];if(Ae.length!==0||Ce.length!==0){const Oe=new Set(Ce);for(const Re of Ae){const Be=this._fieldObjects[Re]||[];for(const{id:je}of Be)Oe.add(je)}for(const Re of Object.values(this._fieldObjects))for(const Be of Re)Oe.has(Be.id)===Pe&&Ee.push(Be)}else for(const Oe of Object.values(this._fieldObjects))Ee.push(...Oe);const Fe=this.annotationStorage,ke=[];for(const Oe of Ee){const{id:Re}=Oe;switch(ke.push(Re),Oe.type){case"text":{const je=Oe.defaultValue||"";Fe.setValue(Re,{value:je});break}case"checkbox":case"radiobutton":{const je=Oe.defaultValue===Oe.exportValues;Fe.setValue(Re,{value:je});break}case"combobox":case"listbox":{const je=Oe.defaultValue||"";Fe.setValue(Re,{value:je});break}default:continue}const Be=document.querySelector(`[data-element-id="${Re}"]`);if(Be){if(!GetElementsByNameSet.has(Be)){warn(`_bindResetFormAction - element not allowed: ${Re}`);continue}}else continue;Be.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ie=this.linkService.eventBus)==null||Ie.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ke,name:"ResetForm"}})),!1}}}cu=new WeakSet,kp=function(){this.container.setAttribute("data-internal-link","")},zb=function(t,Se,_e=null){t.href=this.linkService.getAnchorUrl(""),Se.description&&(t.title=Se.description),t.onclick=()=>{var Ae;return(Ae=this.downloadManager)==null||Ae.openOrDownloadData(Se.content,Se.filename,_e),!1},On(this,cu,kp).call(this)},Gb=function(t,Se){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(Se),!1),On(this,cu,kp).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return util_FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,Se,_e,Ae){Se.includes("mouse")?e.addEventListener(Se,Ce=>{var Pe;(Pe=this.linkService.eventBus)==null||Pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_e,value:Ae(Ce),shift:Ce.shiftKey,modifier:this._getKeyModifier(Ce)}})}):e.addEventListener(Se,Ce=>{var Pe;if(Se==="blur"){if(!t.focused||!Ce.relatedTarget)return;t.focused=!1}else if(Se==="focus"){if(t.focused)return;t.focused=!0}Ae&&((Pe=this.linkService.eventBus)==null||Pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_e,value:Ae(Ce)}}))})}_setEventListeners(e,t,Se,_e){var Ae,Ce,Pe;for(const[Ee,Fe]of Se)(Fe==="Action"||(Ae=this.data.actions)!=null&&Ae[Fe])&&((Fe==="Focus"||Fe==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,Ee,Fe,_e),Fe==="Focus"&&!((Ce=this.data.actions)!=null&&Ce.Blur)?this._setEventListener(e,t,"blur","Blur",null):Fe==="Blur"&&!((Pe=this.data.actions)!=null&&Pe.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Util$1.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:Se}=this.data.defaultAppearanceData,_e=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,Ae=e.style;let Ce;const Pe=2,Ee=Fe=>Math.round(10*Fe)/10;if(this.data.multiLine){const Fe=Math.abs(this.data.rect[3]-this.data.rect[1]-Pe),ke=Math.round(Fe/(LINE_FACTOR*_e))||1,Ie=Fe/ke;Ce=Math.min(_e,Ee(Ie/LINE_FACTOR))}else{const Fe=Math.abs(this.data.rect[3]-this.data.rect[1]-Pe);Ce=Math.min(_e,Ee(Fe/LINE_FACTOR))}Ae.fontSize=`calc(${Ce}px * var(--scale-factor))`,Ae.color=Util$1.makeHexColor(Se[0],Se[1],Se[2]),this.data.textAlignment!==null&&(Ae.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,Se,_e){const Ae=this.annotationStorage;for(const Ce of this._getElementsByName(e.name,e.id))Ce.domElement&&(Ce.domElement[t]=Se),Ae.setValue(Ce.id,{[_e]:Se})}render(){var _e,Ae;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let Se=null;if(this.renderForms){const Ce=e.getValue(t,{value:this.data.fieldValue});let Pe=Ce.value||"";const Ee=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;Ee&&Pe.length>Ee&&(Pe=Pe.slice(0,Ee));let Fe=Ce.formattedValue||((_e=this.data.textContent)==null?void 0:_e.join(`
`))||null;Fe&&this.data.comb&&(Fe=Fe.replaceAll(/\s+/g,""));const ke={userValue:Pe,formattedValue:Fe,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Se=document.createElement("textarea"),Se.textContent=Fe??Pe,this.data.doNotScroll&&(Se.style.overflowY="hidden")):(Se=document.createElement("input"),Se.type="text",Se.setAttribute("value",Fe??Pe),this.data.doNotScroll&&(Se.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Se.hidden=!0),GetElementsByNameSet.add(Se),Se.setAttribute("data-element-id",t),Se.disabled=this.data.readOnly,Se.name=this.data.fieldName,Se.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(Se,this.data.required),Ee&&(Se.maxLength=Ee),Se.addEventListener("input",Oe=>{e.setValue(t,{value:Oe.target.value}),this.setPropertyOnSiblings(Se,"value",Oe.target.value,"value"),ke.formattedValue=null}),Se.addEventListener("resetform",Oe=>{const Re=this.data.defaultFieldValue??"";Se.value=ke.userValue=Re,ke.formattedValue=null});let Ie=Oe=>{const{formattedValue:Re}=ke;Re!=null&&(Oe.target.value=Re),Oe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Se.addEventListener("focus",Re=>{var je;if(ke.focused)return;const{target:Be}=Re;ke.userValue&&(Be.value=ke.userValue),ke.lastCommittedValue=Be.value,ke.commitKey=1,(je=this.data.actions)!=null&&je.Focus||(ke.focused=!0)}),Se.addEventListener("updatefromsandbox",Re=>{this.showElementAndHideCanvas(Re.target);const Be={value(je){ke.userValue=je.detail.value??"",e.setValue(t,{value:ke.userValue.toString()}),je.target.value=ke.userValue},formattedValue(je){const{formattedValue:He}=je.detail;ke.formattedValue=He,He!=null&&je.target!==document.activeElement&&(je.target.value=He),e.setValue(t,{formattedValue:He})},selRange(je){je.target.setSelectionRange(...je.detail.selRange)},charLimit:je=>{var ze;const{charLimit:He}=je.detail,{target:Ge}=je;if(He===0){Ge.removeAttribute("maxLength");return}Ge.setAttribute("maxLength",He);let Ve=ke.userValue;!Ve||Ve.length<=He||(Ve=Ve.slice(0,He),Ge.value=ke.userValue=Ve,e.setValue(t,{value:Ve}),(ze=this.linkService.eventBus)==null||ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:Ve,willCommit:!0,commitKey:1,selStart:Ge.selectionStart,selEnd:Ge.selectionEnd}}))}};this._dispatchEventFromSandbox(Be,Re)}),Se.addEventListener("keydown",Re=>{var He;ke.commitKey=1;let Be=-1;if(Re.key==="Escape"?Be=0:Re.key==="Enter"&&!this.data.multiLine?Be=2:Re.key==="Tab"&&(ke.commitKey=3),Be===-1)return;const{value:je}=Re.target;ke.lastCommittedValue!==je&&(ke.lastCommittedValue=je,ke.userValue=je,(He=this.linkService.eventBus)==null||He.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:je,willCommit:!0,commitKey:Be,selStart:Re.target.selectionStart,selEnd:Re.target.selectionEnd}}))});const Oe=Ie;Ie=null,Se.addEventListener("blur",Re=>{var je,He;if(!ke.focused||!Re.relatedTarget)return;(je=this.data.actions)!=null&&je.Blur||(ke.focused=!1);const{value:Be}=Re.target;ke.userValue=Be,ke.lastCommittedValue!==Be&&((He=this.linkService.eventBus)==null||He.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:Be,willCommit:!0,commitKey:ke.commitKey,selStart:Re.target.selectionStart,selEnd:Re.target.selectionEnd}})),Oe(Re)}),(Ae=this.data.actions)!=null&&Ae.Keystroke&&Se.addEventListener("beforeinput",Re=>{var We;ke.lastCommittedValue=null;const{data:Be,target:je}=Re,{value:He,selectionStart:Ge,selectionEnd:Ve}=je;let ze=Ge,Xe=Ve;switch(Re.inputType){case"deleteWordBackward":{const Je=He.substring(0,Ge).match(/\w*[^\w]*$/);Je&&(ze-=Je[0].length);break}case"deleteWordForward":{const Je=He.substring(Ge).match(/^[^\w]*\w*/);Je&&(Xe+=Je[0].length);break}case"deleteContentBackward":Ge===Ve&&(ze-=1);break;case"deleteContentForward":Ge===Ve&&(Xe+=1);break}Re.preventDefault(),(We=this.linkService.eventBus)==null||We.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:He,change:Be||"",willCommit:!1,selStart:ze,selEnd:Xe}})}),this._setEventListeners(Se,ke,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Re=>Re.target.value)}if(Ie&&Se.addEventListener("blur",Ie),this.data.comb){const Re=(this.data.rect[2]-this.data.rect[0])/Ee;Se.classList.add("comb"),Se.style.letterSpacing=`calc(${Re}px * var(--scale-factor) - 1ch)`}}else Se=document.createElement("div"),Se.textContent=this.data.fieldValue,Se.style.verticalAlign="middle",Se.style.display="table-cell",this.data.hasOwnCanvas&&(Se.hidden=!0);return this._setTextStyle(Se),this._setBackgroundColor(Se),this._setDefaultPropertiesFromJS(Se),this.container.append(Se),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,Se=t.id;let _e=e.getValue(Se,{value:t.exportValue===t.fieldValue}).value;typeof _e=="string"&&(_e=_e!=="Off",e.setValue(Se,{value:_e})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Ae=document.createElement("input");return GetElementsByNameSet.add(Ae),Ae.setAttribute("data-element-id",Se),Ae.disabled=t.readOnly,this._setRequired(Ae,this.data.required),Ae.type="checkbox",Ae.name=t.fieldName,_e&&Ae.setAttribute("checked",!0),Ae.setAttribute("exportValue",t.exportValue),Ae.tabIndex=DEFAULT_TAB_INDEX,Ae.addEventListener("change",Ce=>{const{name:Pe,checked:Ee}=Ce.target;for(const Fe of this._getElementsByName(Pe,Se)){const ke=Ee&&Fe.exportValue===t.exportValue;Fe.domElement&&(Fe.domElement.checked=ke),e.setValue(Fe.id,{value:ke})}e.setValue(Se,{value:Ee})}),Ae.addEventListener("resetform",Ce=>{const Pe=t.defaultFieldValue||"Off";Ce.target.checked=Pe===t.exportValue}),this.enableScripting&&this.hasJSActions&&(Ae.addEventListener("updatefromsandbox",Ce=>{const Pe={value(Ee){Ee.target.checked=Ee.detail.value!=="Off",e.setValue(Se,{value:Ee.target.checked})}};this._dispatchEventFromSandbox(Pe,Ce)}),this._setEventListeners(Ae,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ce=>Ce.target.checked)),this._setBackgroundColor(Ae),this._setDefaultPropertiesFromJS(Ae),this.container.append(Ae),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,Se=t.id;let _e=e.getValue(Se,{value:t.fieldValue===t.buttonValue}).value;if(typeof _e=="string"&&(_e=_e!==t.buttonValue,e.setValue(Se,{value:_e})),_e)for(const Ce of this._getElementsByName(t.fieldName,Se))e.setValue(Ce.id,{value:!1});const Ae=document.createElement("input");if(GetElementsByNameSet.add(Ae),Ae.setAttribute("data-element-id",Se),Ae.disabled=t.readOnly,this._setRequired(Ae,this.data.required),Ae.type="radio",Ae.name=t.fieldName,_e&&Ae.setAttribute("checked",!0),Ae.tabIndex=DEFAULT_TAB_INDEX,Ae.addEventListener("change",Ce=>{const{name:Pe,checked:Ee}=Ce.target;for(const Fe of this._getElementsByName(Pe,Se))e.setValue(Fe.id,{value:!1});e.setValue(Se,{value:Ee})}),Ae.addEventListener("resetform",Ce=>{const Pe=t.defaultFieldValue;Ce.target.checked=Pe!=null&&Pe===t.buttonValue}),this.enableScripting&&this.hasJSActions){const Ce=t.buttonValue;Ae.addEventListener("updatefromsandbox",Pe=>{const Ee={value:Fe=>{const ke=Ce===Fe.detail.value;for(const Ie of this._getElementsByName(Fe.target.name)){const Oe=ke&&Ie.id===Se;Ie.domElement&&(Ie.domElement.checked=Oe),e.setValue(Ie.id,{value:Oe})}}};this._dispatchEventFromSandbox(Ee,Pe)}),this._setEventListeners(Ae,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pe=>Pe.target.checked)}return this._setBackgroundColor(Ae),this._setDefaultPropertiesFromJS(Ae),this.container.append(Ae),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",Se=>{this._dispatchEventFromSandbox({},Se)})),e}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,Se=e.getValue(t,{value:this.data.fieldValue}),_e=document.createElement("select");GetElementsByNameSet.add(_e),_e.setAttribute("data-element-id",t),_e.disabled=this.data.readOnly,this._setRequired(_e,this.data.required),_e.name=this.data.fieldName,_e.tabIndex=DEFAULT_TAB_INDEX;let Ae=this.data.combo&&this.data.options.length>0;this.data.combo||(_e.size=this.data.options.length,this.data.multiSelect&&(_e.multiple=!0)),_e.addEventListener("resetform",ke=>{const Ie=this.data.defaultFieldValue;for(const Oe of _e.options)Oe.selected=Oe.value===Ie});for(const ke of this.data.options){const Ie=document.createElement("option");Ie.textContent=ke.displayValue,Ie.value=ke.exportValue,Se.value.includes(ke.exportValue)&&(Ie.setAttribute("selected",!0),Ae=!1),_e.append(Ie)}let Ce=null;if(Ae){const ke=document.createElement("option");ke.value=" ",ke.setAttribute("hidden",!0),ke.setAttribute("selected",!0),_e.prepend(ke),Ce=()=>{ke.remove(),_e.removeEventListener("input",Ce),Ce=null},_e.addEventListener("input",Ce)}const Pe=ke=>{const Ie=ke?"value":"textContent",{options:Oe,multiple:Re}=_e;return Re?Array.prototype.filter.call(Oe,Be=>Be.selected).map(Be=>Be[Ie]):Oe.selectedIndex===-1?null:Oe[Oe.selectedIndex][Ie]};let Ee=Pe(!1);const Fe=ke=>{const Ie=ke.target.options;return Array.prototype.map.call(Ie,Oe=>({displayValue:Oe.textContent,exportValue:Oe.value}))};return this.enableScripting&&this.hasJSActions?(_e.addEventListener("updatefromsandbox",ke=>{const Ie={value(Oe){Ce==null||Ce();const Re=Oe.detail.value,Be=new Set(Array.isArray(Re)?Re:[Re]);for(const je of _e.options)je.selected=Be.has(je.value);e.setValue(t,{value:Pe(!0)}),Ee=Pe(!1)},multipleSelection(Oe){_e.multiple=!0},remove(Oe){const Re=_e.options,Be=Oe.detail.remove;Re[Be].selected=!1,_e.remove(Be),Re.length>0&&Array.prototype.findIndex.call(Re,He=>He.selected)===-1&&(Re[0].selected=!0),e.setValue(t,{value:Pe(!0),items:Fe(Oe)}),Ee=Pe(!1)},clear(Oe){for(;_e.length!==0;)_e.remove(0);e.setValue(t,{value:null,items:[]}),Ee=Pe(!1)},insert(Oe){const{index:Re,displayValue:Be,exportValue:je}=Oe.detail.insert,He=_e.children[Re],Ge=document.createElement("option");Ge.textContent=Be,Ge.value=je,He?He.before(Ge):_e.append(Ge),e.setValue(t,{value:Pe(!0),items:Fe(Oe)}),Ee=Pe(!1)},items(Oe){const{items:Re}=Oe.detail;for(;_e.length!==0;)_e.remove(0);for(const Be of Re){const{displayValue:je,exportValue:He}=Be,Ge=document.createElement("option");Ge.textContent=je,Ge.value=He,_e.append(Ge)}_e.options.length>0&&(_e.options[0].selected=!0),e.setValue(t,{value:Pe(!0),items:Fe(Oe)}),Ee=Pe(!1)},indices(Oe){const Re=new Set(Oe.detail.indices);for(const Be of Oe.target.options)Be.selected=Re.has(Be.index);e.setValue(t,{value:Pe(!0)}),Ee=Pe(!1)},editable(Oe){Oe.target.disabled=!Oe.detail.editable}};this._dispatchEventFromSandbox(Ie,ke)}),_e.addEventListener("input",ke=>{var Re;const Ie=Pe(!0),Oe=Pe(!1);e.setValue(t,{value:Ie}),ke.preventDefault(),(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:Ee,change:Oe,changeEx:Ie,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(_e,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ke=>ke.target.value)):_e.addEventListener("input",function(ke){e.setValue(t,{value:Pe(!0)})}),this.data.combo&&this._setTextStyle(_e),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(e){const{data:t,elements:Se}=e;super(e,{isRenderable:AnnotationElement._hasPopupData(t)}),this.elements=Se,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const Se of this.elements)Se.popup=e,Se.container.ariaHasPopup="dialog",t.push(Se.data.id),Se.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(Se=>`${AnnotationPrefix}${Se}`).join(",")),this.container}}var Lg,l2,c2,Ig,d0,Ka,Jd,Og,pm,gm,Mg,Qd,Ah,$d,mm,ef,vm,f0,p0,$s,Dv,Ny,Hb,Vb,Wb,Kb,Nv,Lv,Ly;class PopupElement{constructor({container:e,color:t,elements:Se,titleObj:_e,modificationDate:Ae,contentsObj:Ce,richText:Pe,parent:Ee,rect:Fe,parentRect:ke,open:Ie}){jn(this,$s);jn(this,Lg,On(this,$s,Wb).bind(this));jn(this,l2,On(this,$s,Ly).bind(this));jn(this,c2,On(this,$s,Lv).bind(this));jn(this,Ig,On(this,$s,Nv).bind(this));jn(this,d0,null);jn(this,Ka,null);jn(this,Jd,null);jn(this,Og,null);jn(this,pm,null);jn(this,gm,null);jn(this,Mg,null);jn(this,Qd,!1);jn(this,Ah,null);jn(this,$d,null);jn(this,mm,null);jn(this,ef,null);jn(this,vm,null);jn(this,f0,null);jn(this,p0,!1);var Oe;Mn(this,Ka,e),Mn(this,vm,_e),Mn(this,Jd,Ce),Mn(this,ef,Pe),Mn(this,gm,Ee),Mn(this,d0,t),Mn(this,mm,Fe),Mn(this,Mg,ke),Mn(this,pm,Se),Mn(this,Og,PDFDateString.toDateObject(Ae)),this.trigger=Se.flatMap(Re=>Re.getElementsToTriggerPopup());for(const Re of this.trigger)Re.addEventListener("click",qe(this,Ig)),Re.addEventListener("mouseenter",qe(this,c2)),Re.addEventListener("mouseleave",qe(this,l2)),Re.classList.add("popupTriggerArea");for(const Re of Se)(Oe=Re.container)==null||Oe.addEventListener("keydown",qe(this,Lg));qe(this,Ka).hidden=!0,Ie&&On(this,$s,Nv).call(this)}render(){if(qe(this,Ah))return;const e=Mn(this,Ah,document.createElement("div"));if(e.className="popup",qe(this,d0)){const Ae=e.style.outlineColor=Util$1.makeHexColor(...qe(this,d0));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${Ae} 30%, white)`:e.style.backgroundColor=Util$1.makeHexColor(...qe(this,d0).map(Pe=>Math.floor(.7*(255-Pe)+Pe)))}const t=document.createElement("span");t.className="header";const Se=document.createElement("h1");if(t.append(Se),{dir:Se.dir,str:Se.textContent}=qe(this,vm),e.append(t),qe(this,Og)){const Ae=document.createElement("span");Ae.classList.add("popupDate"),Ae.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),Ae.setAttribute("data-l10n-args",JSON.stringify({dateObj:qe(this,Og).valueOf()})),t.append(Ae)}const _e=qe(this,$s,Dv);if(_e)XfaLayer.render({xfaHtml:_e,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const Ae=this._formatContents(qe(this,Jd));e.append(Ae)}qe(this,Ka).append(e)}_formatContents({str:e,dir:t}){const Se=document.createElement("p");Se.classList.add("popupContent"),Se.dir=t;const _e=e.split(/(?:\r\n?|\n)/);for(let Ae=0,Ce=_e.length;Ae<Ce;++Ae){const Pe=_e[Ae];Se.append(document.createTextNode(Pe)),Ae<Ce-1&&Se.append(document.createElement("br"))}return Se}updateEdited({rect:e,popupContent:t}){var Se;qe(this,f0)||Mn(this,f0,{contentsObj:qe(this,Jd),richText:qe(this,ef)}),e&&Mn(this,$d,null),t&&(Mn(this,ef,On(this,$s,Vb).call(this,t)),Mn(this,Jd,null)),(Se=qe(this,Ah))==null||Se.remove(),Mn(this,Ah,null)}resetEdited(){var e;qe(this,f0)&&({contentsObj:Sl(this,Jd)._,richText:Sl(this,ef)._}=qe(this,f0),Mn(this,f0,null),(e=qe(this,Ah))==null||e.remove(),Mn(this,Ah,null),Mn(this,$d,null))}forceHide(){Mn(this,p0,this.isVisible),qe(this,p0)&&(qe(this,Ka).hidden=!0)}maybeShow(){qe(this,p0)&&(qe(this,Ah)||On(this,$s,Lv).call(this),Mn(this,p0,!1),qe(this,Ka).hidden=!1)}get isVisible(){return qe(this,Ka).hidden===!1}}Lg=new WeakMap,l2=new WeakMap,c2=new WeakMap,Ig=new WeakMap,d0=new WeakMap,Ka=new WeakMap,Jd=new WeakMap,Og=new WeakMap,pm=new WeakMap,gm=new WeakMap,Mg=new WeakMap,Qd=new WeakMap,Ah=new WeakMap,$d=new WeakMap,mm=new WeakMap,ef=new WeakMap,vm=new WeakMap,f0=new WeakMap,p0=new WeakMap,$s=new WeakSet,Dv=function(){const e=qe(this,ef),t=qe(this,Jd);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&qe(this,ef).html||null},Ny=function(){var e,t,Se;return((Se=(t=(e=qe(this,$s,Dv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:Se.fontSize)||0},Hb=function(){var e,t,Se;return((Se=(t=(e=qe(this,$s,Dv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:Se.color)||null},Vb=function(e){const t=[],Se={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},_e={style:{color:qe(this,$s,Hb),fontSize:qe(this,$s,Ny)?`calc(${qe(this,$s,Ny)}px * var(--scale-factor))`:""}};for(const Ae of e.split(`
`))t.push({name:"span",value:Ae,attributes:_e});return Se},Wb=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&qe(this,Qd))&&On(this,$s,Nv).call(this)},Kb=function(){if(qe(this,$d)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:Se,pageX:_e,pageY:Ae}}}=qe(this,gm);let Ce=!!qe(this,Mg),Pe=Ce?qe(this,Mg):qe(this,mm);for(const Be of qe(this,pm))if(!Pe||Util$1.intersect(Be.data.rect,Pe)!==null){Pe=Be.data.rect,Ce=!0;break}const Ee=Util$1.normalizeRect([Pe[0],e[3]-Pe[1]+e[1],Pe[2],e[3]-Pe[3]+e[1]]),ke=Ce?Pe[2]-Pe[0]+5:0,Ie=Ee[0]+ke,Oe=Ee[1];Mn(this,$d,[100*(Ie-_e)/t,100*(Oe-Ae)/Se]);const{style:Re}=qe(this,Ka);Re.left=`${qe(this,$d)[0]}%`,Re.top=`${qe(this,$d)[1]}%`},Nv=function(){Mn(this,Qd,!qe(this,Qd)),qe(this,Qd)?(On(this,$s,Lv).call(this),qe(this,Ka).addEventListener("click",qe(this,Ig)),qe(this,Ka).addEventListener("keydown",qe(this,Lg))):(On(this,$s,Ly).call(this),qe(this,Ka).removeEventListener("click",qe(this,Ig)),qe(this,Ka).removeEventListener("keydown",qe(this,Lg)))},Lv=function(){qe(this,Ah)||this.render(),this.isVisible?qe(this,Qd)&&qe(this,Ka).classList.add("focused"):(On(this,$s,Kb).call(this),qe(this,Ka).hidden=!1,qe(this,Ka).style.zIndex=parseInt(qe(this,Ka).style.zIndex)+1e3)},Ly=function(){qe(this,Ka).classList.remove("focused"),!(qe(this,Qd)||!this.isVisible)&&(qe(this,Ka).hidden=!0,qe(this,Ka).style.zIndex=parseInt(qe(this,Ka).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const Se=document.createElement("span");Se.textContent=t,e.append(Se)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ym;class LineAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});jn(this,ym,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:Se,height:_e}=getRectDims(t.rect),Ae=this.svgFactory.create(Se,_e,!0),Ce=Mn(this,ym,this.svgFactory.createElement("svg:line"));return Ce.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),Ce.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),Ce.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),Ce.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),Ce.setAttribute("stroke-width",t.borderStyle.width||1),Ce.setAttribute("stroke","transparent"),Ce.setAttribute("fill","transparent"),Ae.append(Ce),this.container.append(Ae),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qe(this,ym)}addHighlightArea(){this.container.classList.add("highlightArea")}}ym=new WeakMap;var bm;class SquareAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});jn(this,bm,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:Se,height:_e}=getRectDims(t.rect),Ae=this.svgFactory.create(Se,_e,!0),Ce=t.borderStyle.width,Pe=Mn(this,bm,this.svgFactory.createElement("svg:rect"));return Pe.setAttribute("x",Ce/2),Pe.setAttribute("y",Ce/2),Pe.setAttribute("width",Se-Ce),Pe.setAttribute("height",_e-Ce),Pe.setAttribute("stroke-width",Ce||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),Ae.append(Pe),this.container.append(Ae),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qe(this,bm)}addHighlightArea(){this.container.classList.add("highlightArea")}}bm=new WeakMap;var wm;class CircleAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});jn(this,wm,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:Se,height:_e}=getRectDims(t.rect),Ae=this.svgFactory.create(Se,_e,!0),Ce=t.borderStyle.width,Pe=Mn(this,wm,this.svgFactory.createElement("svg:ellipse"));return Pe.setAttribute("cx",Se/2),Pe.setAttribute("cy",_e/2),Pe.setAttribute("rx",Se/2-Ce/2),Pe.setAttribute("ry",_e/2-Ce/2),Pe.setAttribute("stroke-width",Ce||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),Ae.append(Pe),this.container.append(Ae),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qe(this,wm)}addHighlightArea(){this.container.classList.add("highlightArea")}}wm=new WeakMap;var Sm;class PolylineAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});jn(this,Sm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:Se,borderStyle:_e,popupRef:Ae}}=this;if(!Se)return this.container;const{width:Ce,height:Pe}=getRectDims(t),Ee=this.svgFactory.create(Ce,Pe,!0);let Fe=[];for(let Ie=0,Oe=Se.length;Ie<Oe;Ie+=2){const Re=Se[Ie]-t[0],Be=t[3]-Se[Ie+1];Fe.push(`${Re},${Be}`)}Fe=Fe.join(" ");const ke=Mn(this,Sm,this.svgFactory.createElement(this.svgElementName));return ke.setAttribute("points",Fe),ke.setAttribute("stroke-width",_e.width||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Ee.append(ke),this.container.append(Ee),!Ae&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qe(this,Sm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sm=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xm;class InkAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});jn(this,xm,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:Se,borderStyle:_e,popupRef:Ae}}=this,{width:Ce,height:Pe}=getRectDims(t),Ee=this.svgFactory.create(Ce,Pe,!0);for(const Fe of Se){let ke=[];for(let Oe=0,Re=Fe.length;Oe<Re;Oe+=2){const Be=Fe[Oe]-t[0],je=t[3]-Fe[Oe+1];ke.push(`${Be},${je}`)}ke=ke.join(" ");const Ie=this.svgFactory.createElement(this.svgElementName);qe(this,xm).push(Ie),Ie.setAttribute("points",ke),Ie.setAttribute("stroke-width",_e.width||1),Ie.setAttribute("stroke","transparent"),Ie.setAttribute("fill","transparent"),Ee.append(Ie)}return!Ae&&this.hasPopupData&&this._createPopup(),this.container.append(Ee),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return qe(this,xm)}addHighlightArea(){this.container.classList.add("highlightArea")}}xm=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var _m,Am,Iy;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(t){var _e;super(t,{isRenderable:!0});jn(this,Am);jn(this,_m,null);const{file:Se}=this.data;this.filename=Se.filename,this.content=Se.content,(_e=this.linkService.eventBus)==null||_e.dispatch("fileattachmentannotation",{source:this,...Se})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:Se}=this;let _e;Se.hasAppearance||Se.fillAlpha===0?_e=document.createElement("div"):(_e=document.createElement("img"),_e.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Se.name)?"paperclip":"pushpin"}.svg`,Se.fillAlpha&&Se.fillAlpha<1&&(_e.style=`filter: opacity(${Math.round(Se.fillAlpha*100)}%);`)),_e.addEventListener("dblclick",On(this,Am,Iy).bind(this)),Mn(this,_m,_e);const{isMac:Ae}=util_FeatureTest.platform;return t.addEventListener("keydown",Ce=>{Ce.key==="Enter"&&(Ae?Ce.metaKey:Ce.ctrlKey)&&On(this,Am,Iy).call(this)}),!Se.popupRef&&this.hasPopupData?this._createPopup():_e.classList.add("popupTriggerArea"),t.append(_e),t}getElementsToTriggerPopup(){return qe(this,_m)}addHighlightArea(){this.container.classList.add("highlightArea")}}_m=new WeakMap,Am=new WeakSet,Iy=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Cm,g0,m0,Pm,D0,Xb,Oy,U5;let AnnotationLayer$1=(U5=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:Se,annotationEditorUIManager:_e,page:Ae,viewport:Ce,structTreeLayer:Pe}){jn(this,D0);jn(this,Cm,null);jn(this,g0,null);jn(this,m0,new Map);jn(this,Pm,null);this.div=e,Mn(this,Cm,t),Mn(this,g0,Se),Mn(this,Pm,Pe||null),this.page=Ae,this.viewport=Ce,this.zIndex=0,this._annotationEditorUIManager=_e}hasEditableAnnotations(){return qe(this,m0).size>0}async render(e){var Ce;const{annotations:t}=e,Se=this.div;setLayerDimensions(Se,this.viewport);const _e=new Map,Ae={data:null,layer:Se,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:e.annotationStorage||new AnnotationStorage,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const Pe of t){if(Pe.noHTML)continue;const Ee=Pe.annotationType===AnnotationType.POPUP;if(Ee){const Ie=_e.get(Pe.id);if(!Ie)continue;Ae.elements=Ie}else{const{width:Ie,height:Oe}=getRectDims(Pe.rect);if(Ie<=0||Oe<=0)continue}Ae.data=Pe;const Fe=AnnotationElementFactory.create(Ae);if(!Fe.isRenderable)continue;if(!Ee&&Pe.popupRef){const Ie=_e.get(Pe.popupRef);Ie?Ie.push(Fe):_e.set(Pe.popupRef,[Fe])}const ke=Fe.render();Pe.hidden&&(ke.style.visibility="hidden"),await On(this,D0,Xb).call(this,ke,Pe.id),Fe._isEditable&&(qe(this,m0).set(Fe.data.id,Fe),(Ce=this._annotationEditorUIManager)==null||Ce.renderAnnotationElement(Fe))}On(this,D0,Oy).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,setLayerDimensions(t,{rotation:e.rotation}),On(this,D0,Oy).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(qe(this,m0).values())}getEditableAnnotation(e){return qe(this,m0).get(e)}},Cm=new WeakMap,g0=new WeakMap,m0=new WeakMap,Pm=new WeakMap,D0=new WeakSet,Xb=async function(e,t){var Ce,Pe;const Se=e.firstChild||e,_e=Se.id=`${AnnotationPrefix}${t}`,Ae=await((Ce=qe(this,Pm))==null?void 0:Ce.getAriaAttributes(_e));if(Ae)for(const[Ee,Fe]of Ae)Se.setAttribute(Ee,Fe);this.div.append(e),(Pe=qe(this,Cm))==null||Pe.moveElementInDOM(this.div,e,Se,!1)},Oy=function(){if(!qe(this,g0))return;const e=this.div;for(const[t,Se]of qe(this,g0)){const _e=e.querySelector(`[data-annotation-id="${t}"]`);if(!_e)continue;Se.className="annotationContent";const{firstChild:Ae}=_e;Ae?Ae.nodeName==="CANVAS"?Ae.replaceWith(Se):Ae.classList.contains("annotationContent")?Ae.after(Se):Ae.before(Se):_e.append(Se)}qe(this,g0).clear()},U5);const EOL_PATTERN=/\r\n?|\n/g;var Ch,ru,Em,v0,iu,ko,Yb,Zb,Jb,Iv,ff,Ov,Mv,Qb,My,$b;const da=class da extends AnnotationEditor{constructor(t){super({...t,name:"freeTextEditor"});jn(this,ko);jn(this,Ch);jn(this,ru,"");jn(this,Em,`${this.id}-editor`);jn(this,v0,null);jn(this,iu);Mn(this,Ch,t.color||da._defaultColor||AnnotationEditor._defaultLineColor),Mn(this,iu,t.fontSize||da._defaultFontSize)}static get _keyboardManager(){const t=da.prototype,Se=Ce=>Ce.isEmpty(),_e=AnnotationEditorUIManager.TRANSLATE_SMALL,Ae=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-_e,0],checker:Se}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-Ae,0],checker:Se}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[_e,0],checker:Se}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[Ae,0],checker:Se}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-_e],checker:Se}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-Ae],checker:Se}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,_e],checker:Se}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,Ae],checker:Se}]]))}static initialize(t,Se){AnnotationEditor.initialize(t,Se);const _e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(_e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,Se){switch(t){case AnnotationEditorParamsType.FREETEXT_SIZE:da._defaultFontSize=Se;break;case AnnotationEditorParamsType.FREETEXT_COLOR:da._defaultColor=Se;break}}updateParams(t,Se){switch(t){case AnnotationEditorParamsType.FREETEXT_SIZE:On(this,ko,Yb).call(this,Se);break;case AnnotationEditorParamsType.FREETEXT_COLOR:On(this,ko,Zb).call(this,Se);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,da._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,da._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,qe(this,iu)],[AnnotationEditorParamsType.FREETEXT_COLOR,qe(this,Ch)]]}_translateEmpty(t,Se){this._uiManager.translateSelectedEditors(t,Se,!0)}getInitialTranslation(){const t=this.parentScale;return[-da._internalPadding*t,-(da._internalPadding+qe(this,iu))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Mn(this,v0,new AbortController);const t=this._uiManager.combinedSignal(qe(this,v0));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",qe(this,Em)),this._isDraggable=!0,(t=qe(this,v0))==null||t.abort(),Mn(this,v0,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=qe(this,ru),Se=Mn(this,ru,On(this,ko,Jb).call(this).trimEnd());if(t===Se)return;const _e=Ae=>{if(Mn(this,ru,Ae),!Ae){this.remove();return}On(this,ko,Mv).call(this),this._uiManager.rebuild(this),On(this,ko,Iv).call(this)};this.addCommands({cmd:()=>{_e(Se)},undo:()=>{_e(t)},mustExec:!1}),On(this,ko,Iv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){da._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,Se;this.width&&(t=this.x,Se=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",qe(this,Em)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:_e}=this.editorDiv;if(_e.fontSize=`calc(${qe(this,iu)}px * var(--scale-factor))`,_e.color=qe(this,Ch),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[Ae,Ce]=this.parentDimensions;if(this.annotationElementId){const{position:Pe}=this._initialData;let[Ee,Fe]=this.getInitialTranslation();[Ee,Fe]=this.pageTranslationToScreen(Ee,Fe);const[ke,Ie]=this.pageDimensions,[Oe,Re]=this.pageTranslation;let Be,je;switch(this.rotation){case 0:Be=t+(Pe[0]-Oe)/ke,je=Se+this.height-(Pe[1]-Re)/Ie;break;case 90:Be=t+(Pe[0]-Oe)/ke,je=Se-(Pe[1]-Re)/Ie,[Ee,Fe]=[Fe,-Ee];break;case 180:Be=t-this.width+(Pe[0]-Oe)/ke,je=Se-(Pe[1]-Re)/Ie,[Ee,Fe]=[-Ee,-Fe];break;case 270:Be=t+(Pe[0]-Oe-this.height*Ie)/ke,je=Se+(Pe[1]-Re-this.width*ke)/Ie,[Ee,Fe]=[-Fe,Ee];break}this.setAt(Be*Ae,je*Ce,Ee,Fe)}else this.setAt(t*Ae,Se*Ce,this.width*Ae,this.height*Ce);On(this,ko,Mv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var Be,je,He;const Se=t.clipboardData||window.clipboardData,{types:_e}=Se;if(_e.length===1&&_e[0]==="text/plain")return;t.preventDefault();const Ae=On(Be=da,ff,My).call(Be,Se.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!Ae)return;const Ce=window.getSelection();if(!Ce.rangeCount)return;this.editorDiv.normalize(),Ce.deleteFromDocument();const Pe=Ce.getRangeAt(0);if(!Ae.includes(`
`)){Pe.insertNode(document.createTextNode(Ae)),this.editorDiv.normalize(),Ce.collapseToStart();return}const{startContainer:Ee,startOffset:Fe}=Pe,ke=[],Ie=[];if(Ee.nodeType===Node.TEXT_NODE){const Ge=Ee.parentElement;if(Ie.push(Ee.nodeValue.slice(Fe).replaceAll(EOL_PATTERN,"")),Ge!==this.editorDiv){let Ve=ke;for(const ze of this.editorDiv.childNodes){if(ze===Ge){Ve=Ie;continue}Ve.push(On(je=da,ff,Ov).call(je,ze))}}ke.push(Ee.nodeValue.slice(0,Fe).replaceAll(EOL_PATTERN,""))}else if(Ee===this.editorDiv){let Ge=ke,Ve=0;for(const ze of this.editorDiv.childNodes)Ve++===Fe&&(Ge=Ie),Ge.push(On(He=da,ff,Ov).call(He,ze))}Mn(this,ru,`${ke.join(`
`)}${Ae}${Ie.join(`
`)}`),On(this,ko,Mv).call(this);const Oe=new Range;let Re=ke.reduce((Ge,Ve)=>Ge+Ve.length,0);for(const{firstChild:Ge}of this.editorDiv.childNodes)if(Ge.nodeType===Node.TEXT_NODE){const Ve=Ge.nodeValue.length;if(Re<=Ve){Oe.setStart(Ge,Re),Oe.setEnd(Ge,Re);break}Re-=Ve}Ce.removeAllRanges(),Ce.addRange(Oe)}get contentDiv(){return this.editorDiv}static async deserialize(t,Se,_e){var Pe;let Ae=null;if(t instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ee,fontColor:Fe},rect:ke,rotation:Ie,id:Oe,popupRef:Re},textContent:Be,textPosition:je,parent:{page:{pageNumber:He}}}=t;if(!Be||Be.length===0)return null;Ae=t={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Fe),fontSize:Ee,value:Be.join(`
`),position:je,pageIndex:He-1,rect:ke.slice(0),rotation:Ie,id:Oe,deleted:!1,popupRef:Re}}const Ce=await super.deserialize(t,Se,_e);return Mn(Ce,iu,t.fontSize),Mn(Ce,Ch,Util$1.makeHexColor(...t.color)),Mn(Ce,ru,On(Pe=da,ff,My).call(Pe,t.value)),Ce.annotationElementId=t.id||null,Ce._initialData=Ae,Ce}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const Se=da._internalPadding*this.parentScale,_e=this.getRect(Se,Se),Ae=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:qe(this,Ch)),Ce={annotationType:AnnotationEditorType.FREETEXT,color:Ae,fontSize:qe(this,iu),value:On(this,ko,Qb).call(this),pageIndex:this.pageIndex,rect:_e,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?Ce:this.annotationElementId&&!On(this,ko,$b).call(this,Ce)?null:(Ce.id=this.annotationElementId,Ce)}renderAnnotationElement(t){const Se=super.renderAnnotationElement(t);if(this.deleted)return Se;const{style:_e}=Se;_e.fontSize=`calc(${qe(this,iu)}px * var(--scale-factor))`,_e.color=qe(this,Ch),Se.replaceChildren();for(const Ce of qe(this,ru).split(`
`)){const Pe=document.createElement("div");Pe.append(Ce?document.createTextNode(Ce):document.createElement("br")),Se.append(Pe)}const Ae=da._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(Ae,Ae),popupContent:qe(this,ru)}),Se}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ch=new WeakMap,ru=new WeakMap,Em=new WeakMap,v0=new WeakMap,iu=new WeakMap,ko=new WeakSet,Yb=function(t){const Se=Ae=>{this.editorDiv.style.fontSize=`calc(${Ae}px * var(--scale-factor))`,this.translate(0,-(Ae-qe(this,iu))*this.parentScale),Mn(this,iu,Ae),On(this,ko,Iv).call(this)},_e=qe(this,iu);this.addCommands({cmd:Se.bind(this,t),undo:Se.bind(this,_e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Zb=function(t){const Se=Ae=>{Mn(this,Ch,this.editorDiv.style.color=Ae)},_e=qe(this,Ch);this.addCommands({cmd:Se.bind(this,t),undo:Se.bind(this,_e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jb=function(){var _e;const t=[];this.editorDiv.normalize();let Se=null;for(const Ae of this.editorDiv.childNodes)(Se==null?void 0:Se.nodeType)===Node.TEXT_NODE&&Ae.nodeName==="BR"||(t.push(On(_e=da,ff,Ov).call(_e,Ae)),Se=Ae);return t.join(`
`)},Iv=function(){const[t,Se]=this.parentDimensions;let _e;if(this.isAttachedToDOM)_e=this.div.getBoundingClientRect();else{const{currentLayer:Ae,div:Ce}=this,Pe=Ce.style.display,Ee=Ce.classList.contains("hidden");Ce.classList.remove("hidden"),Ce.style.display="hidden",Ae.div.append(this.div),_e=Ce.getBoundingClientRect(),Ce.remove(),Ce.style.display=Pe,Ce.classList.toggle("hidden",Ee)}this.rotation%180===this.parentRotation%180?(this.width=_e.width/t,this.height=_e.height/Se):(this.width=_e.height/t,this.height=_e.width/Se),this.fixAndSetPosition()},ff=new WeakSet,Ov=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(EOL_PATTERN,"")},Mv=function(){if(this.editorDiv.replaceChildren(),!!qe(this,ru))for(const t of qe(this,ru).split(`
`)){const Se=document.createElement("div");Se.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(Se)}},Qb=function(){return qe(this,ru).replaceAll(""," ")},My=function(t){return t.replaceAll(" ","")},$b=function(t){const{value:Se,fontSize:_e,color:Ae,pageIndex:Ce}=this._initialData;return this._hasBeenMoved||t.value!==Se||t.fontSize!==_e||t.color.some((Pe,Ee)=>Pe!==Ae[Ee])||t.pageIndex!==Ce},jn(da,ff),yi(da,"_freeTextDefaultContent",""),yi(da,"_internalPadding",0),yi(da,"_defaultColor",null),yi(da,"_defaultFontSize",10),yi(da,"_type","freetext"),yi(da,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=da;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(e,t){unreachable("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){unreachable("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){unreachable("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var su,Ph,Bg,Ug,pd,ns,y0,b0,Fm,Tm,jg,qg,ip,km,u2,h2,jo,x1,ew,tw,nw,rw,iw,sw;const jd=class jd{constructor({x:e,y:t},Se,_e,Ae,Ce,Pe=0){jn(this,jo);jn(this,su);jn(this,Ph,[]);jn(this,Bg);jn(this,Ug);jn(this,pd,[]);jn(this,ns,new Float64Array(18));jn(this,y0);jn(this,b0);jn(this,Fm);jn(this,Tm);jn(this,jg);jn(this,qg);jn(this,ip,[]);Mn(this,su,Se),Mn(this,qg,Ae*_e),Mn(this,Ug,Ce),qe(this,ns).set([NaN,NaN,NaN,NaN,e,t],6),Mn(this,Bg,Pe),Mn(this,Tm,qe(jd,km)*_e),Mn(this,Fm,qe(jd,h2)*_e),Mn(this,jg,_e),qe(this,ip).push(e,t)}isEmpty(){return isNaN(qe(this,ns)[8])}add({x:e,y:t}){var on;Mn(this,y0,e),Mn(this,b0,t);const[Se,_e,Ae,Ce]=qe(this,su);let[Pe,Ee,Fe,ke]=qe(this,ns).subarray(8,12);const Ie=e-Fe,Oe=t-ke,Re=Math.hypot(Ie,Oe);if(Re<qe(this,Fm))return!1;const Be=Re-qe(this,Tm),je=Be/Re,He=je*Ie,Ge=je*Oe;let Ve=Pe,ze=Ee;Pe=Fe,Ee=ke,Fe+=He,ke+=Ge,(on=qe(this,ip))==null||on.push(e,t);const Xe=-Ge/Be,We=He/Be,Je=Xe*qe(this,qg),Qe=We*qe(this,qg);return qe(this,ns).set(qe(this,ns).subarray(2,8),0),qe(this,ns).set([Fe+Je,ke+Qe],4),qe(this,ns).set(qe(this,ns).subarray(14,18),12),qe(this,ns).set([Fe-Je,ke-Qe],16),isNaN(qe(this,ns)[6])?(qe(this,pd).length===0&&(qe(this,ns).set([Pe+Je,Ee+Qe],2),qe(this,pd).push(NaN,NaN,NaN,NaN,(Pe+Je-Se)/Ae,(Ee+Qe-_e)/Ce),qe(this,ns).set([Pe-Je,Ee-Qe],14),qe(this,Ph).push(NaN,NaN,NaN,NaN,(Pe-Je-Se)/Ae,(Ee-Qe-_e)/Ce)),qe(this,ns).set([Ve,ze,Pe,Ee,Fe,ke],6),!this.isEmpty()):(qe(this,ns).set([Ve,ze,Pe,Ee,Fe,ke],6),Math.abs(Math.atan2(ze-Ee,Ve-Pe)-Math.atan2(Ge,He))<Math.PI/2?([Pe,Ee,Fe,ke]=qe(this,ns).subarray(2,6),qe(this,pd).push(NaN,NaN,NaN,NaN,((Pe+Fe)/2-Se)/Ae,((Ee+ke)/2-_e)/Ce),[Pe,Ee,Ve,ze]=qe(this,ns).subarray(14,18),qe(this,Ph).push(NaN,NaN,NaN,NaN,((Ve+Pe)/2-Se)/Ae,((ze+Ee)/2-_e)/Ce),!0):([Ve,ze,Pe,Ee,Fe,ke]=qe(this,ns).subarray(0,6),qe(this,pd).push(((Ve+5*Pe)/6-Se)/Ae,((ze+5*Ee)/6-_e)/Ce,((5*Pe+Fe)/6-Se)/Ae,((5*Ee+ke)/6-_e)/Ce,((Pe+Fe)/2-Se)/Ae,((Ee+ke)/2-_e)/Ce),[Fe,ke,Pe,Ee,Ve,ze]=qe(this,ns).subarray(12,18),qe(this,Ph).push(((Ve+5*Pe)/6-Se)/Ae,((ze+5*Ee)/6-_e)/Ce,((5*Pe+Fe)/6-Se)/Ae,((5*Ee+ke)/6-_e)/Ce,((Pe+Fe)/2-Se)/Ae,((Ee+ke)/2-_e)/Ce),!0))}toSVGPath(){if(this.isEmpty())return"";const e=qe(this,pd),t=qe(this,Ph);if(isNaN(qe(this,ns)[6])&&!this.isEmpty())return On(this,jo,ew).call(this);const Se=[];Se.push(`M${e[4]} ${e[5]}`);for(let _e=6;_e<e.length;_e+=6)isNaN(e[_e])?Se.push(`L${e[_e+4]} ${e[_e+5]}`):Se.push(`C${e[_e]} ${e[_e+1]} ${e[_e+2]} ${e[_e+3]} ${e[_e+4]} ${e[_e+5]}`);On(this,jo,nw).call(this,Se);for(let _e=t.length-6;_e>=6;_e-=6)isNaN(t[_e])?Se.push(`L${t[_e+4]} ${t[_e+5]}`):Se.push(`C${t[_e]} ${t[_e+1]} ${t[_e+2]} ${t[_e+3]} ${t[_e+4]} ${t[_e+5]}`);return On(this,jo,tw).call(this,Se),Se.join(" ")}newFreeDrawOutline(e,t,Se,_e,Ae,Ce){return new FreeDrawOutline(e,t,Se,_e,Ae,Ce)}getOutlines(){var Ie;const e=qe(this,pd),t=qe(this,Ph),Se=qe(this,ns),[_e,Ae,Ce,Pe]=qe(this,su),Ee=new Float64Array((((Ie=qe(this,ip))==null?void 0:Ie.length)??0)+2);for(let Oe=0,Re=Ee.length-2;Oe<Re;Oe+=2)Ee[Oe]=(qe(this,ip)[Oe]-_e)/Ce,Ee[Oe+1]=(qe(this,ip)[Oe+1]-Ae)/Pe;if(Ee[Ee.length-2]=(qe(this,y0)-_e)/Ce,Ee[Ee.length-1]=(qe(this,b0)-Ae)/Pe,isNaN(Se[6])&&!this.isEmpty())return On(this,jo,rw).call(this,Ee);const Fe=new Float64Array(qe(this,pd).length+24+qe(this,Ph).length);let ke=e.length;for(let Oe=0;Oe<ke;Oe+=2){if(isNaN(e[Oe])){Fe[Oe]=Fe[Oe+1]=NaN;continue}Fe[Oe]=e[Oe],Fe[Oe+1]=e[Oe+1]}ke=On(this,jo,sw).call(this,Fe,ke);for(let Oe=t.length-6;Oe>=6;Oe-=6)for(let Re=0;Re<6;Re+=2){if(isNaN(t[Oe+Re])){Fe[ke]=Fe[ke+1]=NaN,ke+=2;continue}Fe[ke]=t[Oe+Re],Fe[ke+1]=t[Oe+Re+1],ke+=2}return On(this,jo,iw).call(this,Fe,ke),this.newFreeDrawOutline(Fe,Ee,qe(this,su),qe(this,jg),qe(this,Bg),qe(this,Ug))}};su=new WeakMap,Ph=new WeakMap,Bg=new WeakMap,Ug=new WeakMap,pd=new WeakMap,ns=new WeakMap,y0=new WeakMap,b0=new WeakMap,Fm=new WeakMap,Tm=new WeakMap,jg=new WeakMap,qg=new WeakMap,ip=new WeakMap,km=new WeakMap,u2=new WeakMap,h2=new WeakMap,jo=new WeakSet,x1=function(){const e=qe(this,ns).subarray(4,6),t=qe(this,ns).subarray(16,18),[Se,_e,Ae,Ce]=qe(this,su);return[(qe(this,y0)+(e[0]-t[0])/2-Se)/Ae,(qe(this,b0)+(e[1]-t[1])/2-_e)/Ce,(qe(this,y0)+(t[0]-e[0])/2-Se)/Ae,(qe(this,b0)+(t[1]-e[1])/2-_e)/Ce]},ew=function(){const[e,t,Se,_e]=qe(this,su),[Ae,Ce,Pe,Ee]=On(this,jo,x1).call(this);return`M${(qe(this,ns)[2]-e)/Se} ${(qe(this,ns)[3]-t)/_e} L${(qe(this,ns)[4]-e)/Se} ${(qe(this,ns)[5]-t)/_e} L${Ae} ${Ce} L${Pe} ${Ee} L${(qe(this,ns)[16]-e)/Se} ${(qe(this,ns)[17]-t)/_e} L${(qe(this,ns)[14]-e)/Se} ${(qe(this,ns)[15]-t)/_e} Z`},tw=function(e){const t=qe(this,Ph);e.push(`L${t[4]} ${t[5]} Z`)},nw=function(e){const[t,Se,_e,Ae]=qe(this,su),Ce=qe(this,ns).subarray(4,6),Pe=qe(this,ns).subarray(16,18),[Ee,Fe,ke,Ie]=On(this,jo,x1).call(this);e.push(`L${(Ce[0]-t)/_e} ${(Ce[1]-Se)/Ae} L${Ee} ${Fe} L${ke} ${Ie} L${(Pe[0]-t)/_e} ${(Pe[1]-Se)/Ae}`)},rw=function(e){const t=qe(this,ns),[Se,_e,Ae,Ce]=qe(this,su),[Pe,Ee,Fe,ke]=On(this,jo,x1).call(this),Ie=new Float64Array(36);return Ie.set([NaN,NaN,NaN,NaN,(t[2]-Se)/Ae,(t[3]-_e)/Ce,NaN,NaN,NaN,NaN,(t[4]-Se)/Ae,(t[5]-_e)/Ce,NaN,NaN,NaN,NaN,Pe,Ee,NaN,NaN,NaN,NaN,Fe,ke,NaN,NaN,NaN,NaN,(t[16]-Se)/Ae,(t[17]-_e)/Ce,NaN,NaN,NaN,NaN,(t[14]-Se)/Ae,(t[15]-_e)/Ce],0),this.newFreeDrawOutline(Ie,e,qe(this,su),qe(this,jg),qe(this,Bg),qe(this,Ug))},iw=function(e,t){const Se=qe(this,Ph);return e.set([NaN,NaN,NaN,NaN,Se[4],Se[5]],t),t+=6},sw=function(e,t){const Se=qe(this,ns).subarray(4,6),_e=qe(this,ns).subarray(16,18),[Ae,Ce,Pe,Ee]=qe(this,su),[Fe,ke,Ie,Oe]=On(this,jo,x1).call(this);return e.set([NaN,NaN,NaN,NaN,(Se[0]-Ae)/Pe,(Se[1]-Ce)/Ee,NaN,NaN,NaN,NaN,Fe,ke,NaN,NaN,NaN,NaN,Ie,Oe,NaN,NaN,NaN,NaN,(_e[0]-Ae)/Pe,(_e[1]-Ce)/Ee],t),t+=24},jn(jd,km,8),jn(jd,u2,2),jn(jd,h2,qe(jd,km)+qe(jd,u2));let FreeDrawOutliner=jd;var zg,w0,tf,Rm,au,Dm,go,Uc,_1,A1,aw;class FreeDrawOutline extends Outline{constructor(t,Se,_e,Ae,Ce,Pe){super();jn(this,Uc);jn(this,zg);jn(this,w0,null);jn(this,tf);jn(this,Rm);jn(this,au);jn(this,Dm);jn(this,go);Mn(this,go,t),Mn(this,au,Se),Mn(this,zg,_e),Mn(this,Dm,Ae),Mn(this,tf,Ce),Mn(this,Rm,Pe),On(this,Uc,aw).call(this,Pe);const{x:Ee,y:Fe,width:ke,height:Ie}=qe(this,w0);for(let Oe=0,Re=t.length;Oe<Re;Oe+=2)t[Oe]=(t[Oe]-Ee)/ke,t[Oe+1]=(t[Oe+1]-Fe)/Ie;for(let Oe=0,Re=Se.length;Oe<Re;Oe+=2)Se[Oe]=(Se[Oe]-Ee)/ke,Se[Oe+1]=(Se[Oe+1]-Fe)/Ie}toSVGPath(){const t=[`M${qe(this,go)[4]} ${qe(this,go)[5]}`];for(let Se=6,_e=qe(this,go).length;Se<_e;Se+=6){if(isNaN(qe(this,go)[Se])){t.push(`L${qe(this,go)[Se+4]} ${qe(this,go)[Se+5]}`);continue}t.push(`C${qe(this,go)[Se]} ${qe(this,go)[Se+1]} ${qe(this,go)[Se+2]} ${qe(this,go)[Se+3]} ${qe(this,go)[Se+4]} ${qe(this,go)[Se+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,Se,_e,Ae],Ce){const Pe=_e-t,Ee=Ae-Se;let Fe,ke;switch(Ce){case 0:Fe=On(this,Uc,_1).call(this,qe(this,go),t,Ae,Pe,-Ee),ke=On(this,Uc,_1).call(this,qe(this,au),t,Ae,Pe,-Ee);break;case 90:Fe=On(this,Uc,A1).call(this,qe(this,go),t,Se,Pe,Ee),ke=On(this,Uc,A1).call(this,qe(this,au),t,Se,Pe,Ee);break;case 180:Fe=On(this,Uc,_1).call(this,qe(this,go),_e,Se,-Pe,Ee),ke=On(this,Uc,_1).call(this,qe(this,au),_e,Se,-Pe,Ee);break;case 270:Fe=On(this,Uc,A1).call(this,qe(this,go),_e,Ae,-Pe,-Ee),ke=On(this,Uc,A1).call(this,qe(this,au),_e,Ae,-Pe,-Ee);break}return{outline:Array.from(Fe),points:[Array.from(ke)]}}get box(){return qe(this,w0)}newOutliner(t,Se,_e,Ae,Ce,Pe=0){return new FreeDrawOutliner(t,Se,_e,Ae,Ce,Pe)}getNewOutline(t,Se){const{x:_e,y:Ae,width:Ce,height:Pe}=qe(this,w0),[Ee,Fe,ke,Ie]=qe(this,zg),Oe=Ce*ke,Re=Pe*Ie,Be=_e*ke+Ee,je=Ae*Ie+Fe,He=this.newOutliner({x:qe(this,au)[0]*Oe+Be,y:qe(this,au)[1]*Re+je},qe(this,zg),qe(this,Dm),t,qe(this,Rm),Se??qe(this,tf));for(let Ge=2;Ge<qe(this,au).length;Ge+=2)He.add({x:qe(this,au)[Ge]*Oe+Be,y:qe(this,au)[Ge+1]*Re+je});return He.getOutlines()}get mustRemoveSelfIntersections(){return!0}}zg=new WeakMap,w0=new WeakMap,tf=new WeakMap,Rm=new WeakMap,au=new WeakMap,Dm=new WeakMap,go=new WeakMap,Uc=new WeakSet,_1=function(t,Se,_e,Ae,Ce){const Pe=new Float64Array(t.length);for(let Ee=0,Fe=t.length;Ee<Fe;Ee+=2)Pe[Ee]=Se+t[Ee]*Ae,Pe[Ee+1]=_e+t[Ee+1]*Ce;return Pe},A1=function(t,Se,_e,Ae,Ce){const Pe=new Float64Array(t.length);for(let Ee=0,Fe=t.length;Ee<Fe;Ee+=2)Pe[Ee]=Se+t[Ee+1]*Ae,Pe[Ee+1]=_e+t[Ee]*Ce;return Pe},aw=function(t){const Se=qe(this,go);let _e=Se[4],Ae=Se[5],Ce=_e,Pe=Ae,Ee=_e,Fe=Ae,ke=_e,Ie=Ae;const Oe=t?Math.max:Math.min;for(let Ge=6,Ve=Se.length;Ge<Ve;Ge+=6){if(isNaN(Se[Ge]))Ce=Math.min(Ce,Se[Ge+4]),Pe=Math.min(Pe,Se[Ge+5]),Ee=Math.max(Ee,Se[Ge+4]),Fe=Math.max(Fe,Se[Ge+5]),Ie<Se[Ge+5]?(ke=Se[Ge+4],Ie=Se[Ge+5]):Ie===Se[Ge+5]&&(ke=Oe(ke,Se[Ge+4]));else{const ze=Util$1.bezierBoundingBox(_e,Ae,...Se.slice(Ge,Ge+6));Ce=Math.min(Ce,ze[0]),Pe=Math.min(Pe,ze[1]),Ee=Math.max(Ee,ze[2]),Fe=Math.max(Fe,ze[3]),Ie<ze[3]?(ke=ze[2],Ie=ze[3]):Ie===ze[3]&&(ke=Oe(ke,ze[2]))}_e=Se[Ge+4],Ae=Se[Ge+5]}const Re=Ce-qe(this,tf),Be=Pe-qe(this,tf),je=Ee-Ce+2*qe(this,tf),He=Fe-Pe+2*qe(this,tf);Mn(this,w0,{x:Re,y:Be,width:je,height:He,lastPoint:[ke,Ie]})};var Nm,sp,Eh,dc,ow,Bv,lw,cw,By;class HighlightOutliner{constructor(e,t=0,Se=0,_e=!0){jn(this,dc);jn(this,Nm);jn(this,sp,[]);jn(this,Eh,[]);let Ae=1/0,Ce=-1/0,Pe=1/0,Ee=-1/0;const ke=10**-4;for(const{x:Ge,y:Ve,width:ze,height:Xe}of e){const We=Math.floor((Ge-t)/ke)*ke,Je=Math.ceil((Ge+ze+t)/ke)*ke,Qe=Math.floor((Ve-t)/ke)*ke,Ze=Math.ceil((Ve+Xe+t)/ke)*ke,on=[We,Qe,Ze,!0],an=[Je,Qe,Ze,!1];qe(this,sp).push(on,an),Ae=Math.min(Ae,We),Ce=Math.max(Ce,Je),Pe=Math.min(Pe,Qe),Ee=Math.max(Ee,Ze)}const Ie=Ce-Ae+2*Se,Oe=Ee-Pe+2*Se,Re=Ae-Se,Be=Pe-Se,je=qe(this,sp).at(_e?-1:-2),He=[je[0],je[2]];for(const Ge of qe(this,sp)){const[Ve,ze,Xe]=Ge;Ge[0]=(Ve-Re)/Ie,Ge[1]=(ze-Be)/Oe,Ge[2]=(Xe-Be)/Oe}Mn(this,Nm,{x:Re,y:Be,width:Ie,height:Oe,lastPoint:He})}getOutlines(){qe(this,sp).sort((t,Se)=>t[0]-Se[0]||t[1]-Se[1]||t[2]-Se[2]);const e=[];for(const t of qe(this,sp))t[3]?(e.push(...On(this,dc,By).call(this,t)),On(this,dc,lw).call(this,t)):(On(this,dc,cw).call(this,t),e.push(...On(this,dc,By).call(this,t)));return On(this,dc,ow).call(this,e)}}Nm=new WeakMap,sp=new WeakMap,Eh=new WeakMap,dc=new WeakSet,ow=function(e){const t=[],Se=new Set;for(const Ce of e){const[Pe,Ee,Fe]=Ce;t.push([Pe,Ee,Ce],[Pe,Fe,Ce])}t.sort((Ce,Pe)=>Ce[1]-Pe[1]||Ce[0]-Pe[0]);for(let Ce=0,Pe=t.length;Ce<Pe;Ce+=2){const Ee=t[Ce][2],Fe=t[Ce+1][2];Ee.push(Fe),Fe.push(Ee),Se.add(Ee),Se.add(Fe)}const _e=[];let Ae;for(;Se.size>0;){const Ce=Se.values().next().value;let[Pe,Ee,Fe,ke,Ie]=Ce;Se.delete(Ce);let Oe=Pe,Re=Ee;for(Ae=[Pe,Fe],_e.push(Ae);;){let Be;if(Se.has(ke))Be=ke;else if(Se.has(Ie))Be=Ie;else break;Se.delete(Be),[Pe,Ee,Fe,ke,Ie]=Be,Oe!==Pe&&(Ae.push(Oe,Re,Pe,Re===Ee?Ee:Fe),Oe=Pe),Re=Re===Ee?Fe:Ee}Ae.push(Oe,Re)}return new HighlightOutline(_e,qe(this,Nm))},Bv=function(e){const t=qe(this,Eh);let Se=0,_e=t.length-1;for(;Se<=_e;){const Ae=Se+_e>>1,Ce=t[Ae][0];if(Ce===e)return Ae;Ce<e?Se=Ae+1:_e=Ae-1}return _e+1},lw=function([,e,t]){const Se=On(this,dc,Bv).call(this,e);qe(this,Eh).splice(Se,0,[e,t])},cw=function([,e,t]){const Se=On(this,dc,Bv).call(this,e);for(let _e=Se;_e<qe(this,Eh).length;_e++){const[Ae,Ce]=qe(this,Eh)[_e];if(Ae!==e)break;if(Ae===e&&Ce===t){qe(this,Eh).splice(_e,1);return}}for(let _e=Se-1;_e>=0;_e--){const[Ae,Ce]=qe(this,Eh)[_e];if(Ae!==e)break;if(Ae===e&&Ce===t){qe(this,Eh).splice(_e,1);return}}},By=function(e){const[t,Se,_e]=e,Ae=[[t,Se,_e]],Ce=On(this,dc,Bv).call(this,_e);for(let Pe=0;Pe<Ce;Pe++){const[Ee,Fe]=qe(this,Eh)[Pe];for(let ke=0,Ie=Ae.length;ke<Ie;ke++){const[,Oe,Re]=Ae[ke];if(!(Fe<=Oe||Re<=Ee)){if(Oe>=Ee){if(Re>Fe)Ae[ke][1]=Fe;else{if(Ie===1)return[];Ae.splice(ke,1),ke--,Ie--}continue}Ae[ke][2]=Ee,Re>Fe&&Ae.push([t,Fe,Re])}}}return Ae};var Lm,Gg;class HighlightOutline extends Outline{constructor(t,Se){super();jn(this,Lm);jn(this,Gg);Mn(this,Gg,t),Mn(this,Lm,Se)}toSVGPath(){const t=[];for(const Se of qe(this,Gg)){let[_e,Ae]=Se;t.push(`M${_e} ${Ae}`);for(let Ce=2;Ce<Se.length;Ce+=2){const Pe=Se[Ce],Ee=Se[Ce+1];Pe===_e?(t.push(`V${Ee}`),Ae=Ee):Ee===Ae&&(t.push(`H${Pe}`),_e=Pe)}t.push("Z")}return t.join(" ")}serialize([t,Se,_e,Ae],Ce){const Pe=[],Ee=_e-t,Fe=Ae-Se;for(const ke of qe(this,Gg)){const Ie=new Array(ke.length);for(let Oe=0;Oe<ke.length;Oe+=2)Ie[Oe]=t+ke[Oe]*Ee,Ie[Oe+1]=Ae-ke[Oe+1]*Fe;Pe.push(Ie)}return Pe}get box(){return qe(this,Lm)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Lm=new WeakMap,Gg=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(e,t,Se,_e,Ae,Ce){return new FreeHighlightOutline(e,t,Se,_e,Ae,Ce)}get classNamesForDrawing(){return["highlight","free"]}}class FreeHighlightOutline extends FreeDrawOutline{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,Se,_e,Ae,Ce=0){return new FreeHighlightOutliner(e,t,Se,_e,Ae,Ce)}}var Fh,S0,Hg,Bo,Im,Vg,Om,Mm,ap,Th,Wg,Bm,Qs,Uy,jy,qy,Rp,uw,Uf;const Ic=class Ic{constructor({editor:e=null,uiManager:t=null}){jn(this,Qs);jn(this,Fh,null);jn(this,S0,null);jn(this,Hg);jn(this,Bo,null);jn(this,Im,!1);jn(this,Vg,!1);jn(this,Om,null);jn(this,Mm);jn(this,ap,null);jn(this,Th,null);jn(this,Wg);var Se;e?(Mn(this,Vg,!1),Mn(this,Wg,AnnotationEditorParamsType.HIGHLIGHT_COLOR),Mn(this,Om,e)):(Mn(this,Vg,!0),Mn(this,Wg,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),Mn(this,Th,(e==null?void 0:e._uiManager)||t),Mn(this,Mm,qe(this,Th)._eventBus),Mn(this,Hg,(e==null?void 0:e.color)||((Se=qe(this,Th))==null?void 0:Se.highlightColors.values().next().value)||"#FFFF98"),qe(Ic,Bm)||Mn(Ic,Bm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Ic.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ic.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ic.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ic.prototype._moveToPrevious],[["Home","mac+Home"],Ic.prototype._moveToBeginning],[["End","mac+End"],Ic.prototype._moveToEnd]]))}renderButton(){const e=Mn(this,Fh,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=qe(this,Th)._signal;e.addEventListener("click",On(this,Qs,Rp).bind(this),{signal:t}),e.addEventListener("keydown",On(this,Qs,qy).bind(this),{signal:t});const Se=Mn(this,S0,document.createElement("span"));return Se.className="swatch",Se.setAttribute("aria-hidden",!0),Se.style.backgroundColor=qe(this,Hg),e.append(Se),e}renderMainDropdown(){const e=Mn(this,Bo,On(this,Qs,Uy).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===qe(this,Fh)){On(this,Qs,Rp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&On(this,Qs,jy).call(this,t,e)}_moveToNext(e){var t,Se;if(!qe(this,Qs,Uf)){On(this,Qs,Rp).call(this,e);return}if(e.target===qe(this,Fh)){(t=qe(this,Bo).firstChild)==null||t.focus();return}(Se=e.target.nextSibling)==null||Se.focus()}_moveToPrevious(e){var t,Se;if(e.target===((t=qe(this,Bo))==null?void 0:t.firstChild)||e.target===qe(this,Fh)){qe(this,Qs,Uf)&&this._hideDropdownFromKeyboard();return}qe(this,Qs,Uf)||On(this,Qs,Rp).call(this,e),(Se=e.target.previousSibling)==null||Se.focus()}_moveToBeginning(e){var t;if(!qe(this,Qs,Uf)){On(this,Qs,Rp).call(this,e);return}(t=qe(this,Bo).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!qe(this,Qs,Uf)){On(this,Qs,Rp).call(this,e);return}(t=qe(this,Bo).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=qe(this,Bo))==null||e.classList.add("hidden"),(t=qe(this,ap))==null||t.abort(),Mn(this,ap,null)}_hideDropdownFromKeyboard(){var e;if(!qe(this,Vg)){if(!qe(this,Qs,Uf)){(e=qe(this,Om))==null||e.unselect();return}this.hideDropdown(),qe(this,Fh).focus({preventScroll:!0,focusVisible:qe(this,Im)})}}updateColor(e){if(qe(this,S0)&&(qe(this,S0).style.backgroundColor=e),!qe(this,Bo))return;const t=qe(this,Th).highlightColors.values();for(const Se of qe(this,Bo).children)Se.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=qe(this,Fh))==null||e.remove(),Mn(this,Fh,null),Mn(this,S0,null),(t=qe(this,Bo))==null||t.remove(),Mn(this,Bo,null)}};Fh=new WeakMap,S0=new WeakMap,Hg=new WeakMap,Bo=new WeakMap,Im=new WeakMap,Vg=new WeakMap,Om=new WeakMap,Mm=new WeakMap,ap=new WeakMap,Th=new WeakMap,Wg=new WeakMap,Bm=new WeakMap,Qs=new WeakSet,Uy=function(){const e=document.createElement("div"),t=qe(this,Th)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[Se,_e]of qe(this,Th).highlightColors){const Ae=document.createElement("button");Ae.tabIndex="0",Ae.role="option",Ae.setAttribute("data-color",_e),Ae.title=Se,Ae.setAttribute("data-l10n-id",qe(Ic,Bm)[Se]);const Ce=document.createElement("span");Ae.append(Ce),Ce.className="swatch",Ce.style.backgroundColor=_e,Ae.setAttribute("aria-selected",_e===qe(this,Hg)),Ae.addEventListener("click",On(this,Qs,jy).bind(this,_e),{signal:t}),e.append(Ae)}return e.addEventListener("keydown",On(this,Qs,qy).bind(this),{signal:t}),e},jy=function(e,t){t.stopPropagation(),qe(this,Mm).dispatch("switchannotationeditorparams",{source:this,type:qe(this,Wg),value:e})},qy=function(e){Ic._keyboardManager.exec(this,e)},Rp=function(e){if(qe(this,Qs,Uf)){this.hideDropdown();return}if(Mn(this,Im,e.detail===0),qe(this,ap)||(Mn(this,ap,new AbortController),window.addEventListener("pointerdown",On(this,Qs,uw).bind(this),{signal:qe(this,Th).combinedSignal(qe(this,ap))})),qe(this,Bo)){qe(this,Bo).classList.remove("hidden");return}const t=Mn(this,Bo,On(this,Qs,Uy).call(this));qe(this,Fh).append(t)},uw=function(e){var t;(t=qe(this,Bo))!=null&&t.contains(e.target)||this.hideDropdown()},Uf=function(){return qe(this,Bo)&&!qe(this,Bo).classList.contains("hidden")},jn(Ic,Bm,null);let ColorPicker=Ic;var Kg,Um,nf,x0,Xg,qu,jm,qm,_0,kh,zl,Bc,Yg,rf,Uo,Zg,zu,zm,Zi,zy,Uv,hw,dw,fw,Gy,Dp,Vu,tg,pw,jv,C1,gw,mw,vw,yw,bw;const Os=class Os extends AnnotationEditor{constructor(t){super({...t,name:"highlightEditor"});jn(this,Zi);jn(this,Kg,null);jn(this,Um,0);jn(this,nf);jn(this,x0,null);jn(this,Xg,null);jn(this,qu,null);jn(this,jm,null);jn(this,qm,0);jn(this,_0,null);jn(this,kh,null);jn(this,zl,null);jn(this,Bc,!1);jn(this,Yg,null);jn(this,rf);jn(this,Uo,null);jn(this,Zg,"");jn(this,zu);jn(this,zm,"");this.color=t.color||Os._defaultColor,Mn(this,zu,t.thickness||Os._defaultThickness),Mn(this,rf,t.opacity||Os._defaultOpacity),Mn(this,nf,t.boxes||null),Mn(this,zm,t.methodOfCreation||""),Mn(this,Zg,t.text||""),this._isDraggable=!1,t.highlightId>-1?(Mn(this,Bc,!0),On(this,Zi,Uv).call(this,t),On(this,Zi,Dp).call(this)):qe(this,nf)&&(Mn(this,Kg,t.anchorNode),Mn(this,Um,t.anchorOffset),Mn(this,jm,t.focusNode),Mn(this,qm,t.focusOffset),On(this,Zi,zy).call(this),On(this,Zi,Dp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Os.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:qe(this,Bc)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:qe(this,zu),methodOfCreation:qe(this,zm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,Se){var _e;AnnotationEditor.initialize(t,Se),Os._defaultColor||(Os._defaultColor=((_e=Se.highlightColors)==null?void 0:_e.values().next().value)||"#fff066")}static updateDefaultParams(t,Se){switch(t){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Os._defaultColor=Se;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Os._defaultThickness=Se;break}}translateInPage(t,Se){}get toolbarPosition(){return qe(this,Yg)}updateParams(t,Se){switch(t){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:On(this,Zi,hw).call(this,Se);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:On(this,Zi,dw).call(this,Se);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Os._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Os._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Os._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,qe(this,zu)||Os._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,qe(this,Bc)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(Mn(this,Xg,new ColorPicker({editor:this})),t.addColorPicker(qe(this,Xg))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(On(this,Zi,C1).call(this))}getBaseTranslation(){return[0,0]}getRect(t,Se){return super.getRect(t,Se,On(this,Zi,C1).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){On(this,Zi,Gy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(On(this,Zi,Dp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var _e;let Se=!1;this.parent&&!t?On(this,Zi,Gy).call(this):t&&(On(this,Zi,Dp).call(this,t),Se=!this.parent&&((_e=this.div)==null?void 0:_e.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),Se&&this.select()}rotate(t){var Ae,Ce,Pe;const{drawLayer:Se}=this.parent;let _e;qe(this,Bc)?(t=(t-this.rotation+360)%360,_e=On(Ae=Os,Vu,tg).call(Ae,qe(this,kh).box,t)):_e=On(Ce=Os,Vu,tg).call(Ce,this,t),Se.rotate(qe(this,zl),t),Se.rotate(qe(this,Uo),t),Se.updateBox(qe(this,zl),_e),Se.updateBox(qe(this,Uo),On(Pe=Os,Vu,tg).call(Pe,qe(this,qu).box,t))}render(){if(this.div)return this.div;const t=super.render();qe(this,Zg)&&(t.setAttribute("aria-label",qe(this,Zg)),t.setAttribute("role","mark")),qe(this,Bc)?t.classList.add("free"):this.div.addEventListener("keydown",On(this,Zi,pw).bind(this),{signal:this._uiManager._signal});const Se=Mn(this,_0,document.createElement("div"));t.append(Se),Se.setAttribute("aria-hidden","true"),Se.className="internal",Se.style.clipPath=qe(this,x0);const[_e,Ae]=this.parentDimensions;return this.setDims(this.width*_e,this.height*Ae),bindEvents(this,qe(this,_0),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(qe(this,Uo),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(qe(this,Uo),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:On(this,Zi,jv).call(this,!0);break;case 1:case 3:On(this,Zi,jv).call(this,!1);break}}select(){var t,Se;super.select(),qe(this,Uo)&&((t=this.parent)==null||t.drawLayer.removeClass(qe(this,Uo),"hovered"),(Se=this.parent)==null||Se.drawLayer.addClass(qe(this,Uo),"selected"))}unselect(){var t;super.unselect(),qe(this,Uo)&&((t=this.parent)==null||t.drawLayer.removeClass(qe(this,Uo),"selected"),qe(this,Bc)||On(this,Zi,jv).call(this,!1))}get _mustFixPosition(){return!qe(this,Bc)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(qe(this,zl),t),this.parent.drawLayer.show(qe(this,Uo),t))}static startHighlighting(t,Se,{target:_e,x:Ae,y:Ce}){const{x:Pe,y:Ee,width:Fe,height:ke}=_e.getBoundingClientRect(),Ie=new AbortController,Oe=t.combinedSignal(Ie),Re=je=>{je.preventDefault(),je.stopPropagation()},Be=je=>{Ie.abort(),On(this,Vu,yw).call(this,t,je)};window.addEventListener("blur",Be,{signal:Oe}),window.addEventListener("pointerup",Be,{signal:Oe}),window.addEventListener("pointerdown",Re,{capture:!0,passive:!1,signal:Oe}),window.addEventListener("contextmenu",noContextMenu,{signal:Oe}),_e.addEventListener("pointermove",On(this,Vu,vw).bind(this,t),{signal:Oe}),this._freeHighlight=new FreeHighlightOutliner({x:Ae,y:Ce},[Pe,Ee,Fe,ke],t.scale,this._defaultThickness/2,Se,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,Se,_e){var je,He,Ge,Ve;let Ae=null;if(t instanceof HighlightAnnotationElement){const{data:{quadPoints:ze,rect:Xe,rotation:We,id:Je,color:Qe,opacity:Ze,popupRef:on},parent:{page:{pageNumber:an}}}=t;Ae=t={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(Qe),opacity:Ze,quadPoints:ze,boxes:null,pageIndex:an-1,rect:Xe.slice(0),rotation:We,id:Je,deleted:!1,popupRef:on}}else if(t instanceof InkAnnotationElement){const{data:{inkLists:ze,rect:Xe,rotation:We,id:Je,color:Qe,borderStyle:{rawWidth:Ze},popupRef:on},parent:{page:{pageNumber:an}}}=t;Ae=t={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(Qe),thickness:Ze,inkLists:ze,boxes:null,pageIndex:an-1,rect:Xe.slice(0),rotation:We,id:Je,deleted:!1,popupRef:on}}const{color:Ce,quadPoints:Pe,inkLists:Ee,opacity:Fe}=t,ke=await super.deserialize(t,Se,_e);ke.color=Util$1.makeHexColor(...Ce),Mn(ke,rf,Fe||1),Ee&&Mn(ke,zu,t.thickness),ke.annotationElementId=t.id||null,ke._initialData=Ae;const[Ie,Oe]=ke.pageDimensions,[Re,Be]=ke.pageTranslation;if(Pe){const ze=Mn(ke,nf,[]);for(let Xe=0;Xe<Pe.length;Xe+=8)ze.push({x:(Pe[Xe]-Re)/Ie,y:1-(Pe[Xe+1]-Be)/Oe,width:(Pe[Xe+2]-Pe[Xe])/Ie,height:(Pe[Xe+1]-Pe[Xe+5])/Oe});On(je=ke,Zi,zy).call(je),On(He=ke,Zi,Dp).call(He),ke.rotate(ke.rotation)}else if(Ee){Mn(ke,Bc,!0);const ze=Ee[0],Xe={x:ze[0]-Re,y:Oe-(ze[1]-Be)},We=new FreeHighlightOutliner(Xe,[0,0,Ie,Oe],1,qe(ke,zu)/2,!0,.001);for(let Ze=0,on=ze.length;Ze<on;Ze+=2)Xe.x=ze[Ze]-Re,Xe.y=Oe-(ze[Ze+1]-Be),We.add(Xe);const{id:Je,clipPathId:Qe}=Se.drawLayer.draw(We,ke.color,ke._defaultOpacity,!0);On(Ge=ke,Zi,Uv).call(Ge,{highlightOutlines:We.getOutlines(),highlightId:Je,clipPathId:Qe}),On(Ve=ke,Zi,Dp).call(Ve)}return ke}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const Se=this.getRect(0,0),_e=AnnotationEditor._colorManager.convert(this.color),Ae={annotationType:AnnotationEditorType.HIGHLIGHT,color:_e,opacity:qe(this,rf),thickness:qe(this,zu),quadPoints:On(this,Zi,gw).call(this),outlines:On(this,Zi,mw).call(this,Se),pageIndex:this.pageIndex,rect:Se,rotation:On(this,Zi,C1).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!On(this,Zi,bw).call(this,Ae)?null:(Ae.id=this.annotationElementId,Ae)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Kg=new WeakMap,Um=new WeakMap,nf=new WeakMap,x0=new WeakMap,Xg=new WeakMap,qu=new WeakMap,jm=new WeakMap,qm=new WeakMap,_0=new WeakMap,kh=new WeakMap,zl=new WeakMap,Bc=new WeakMap,Yg=new WeakMap,rf=new WeakMap,Uo=new WeakMap,Zg=new WeakMap,zu=new WeakMap,zm=new WeakMap,Zi=new WeakSet,zy=function(){const t=new HighlightOutliner(qe(this,nf),.001);Mn(this,kh,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=qe(this,kh).box;const Se=new HighlightOutliner(qe(this,nf),.0025,.001,this._uiManager.direction==="ltr");Mn(this,qu,Se.getOutlines());const{lastPoint:_e}=qe(this,qu).box;Mn(this,Yg,[(_e[0]-this.x)/this.width,(_e[1]-this.y)/this.height])},Uv=function({highlightOutlines:t,highlightId:Se,clipPathId:_e}){var Ie,Oe;if(Mn(this,kh,t),Mn(this,qu,t.getNewOutline(qe(this,zu)/2+1.5,.0025)),Se>=0)Mn(this,zl,Se),Mn(this,x0,_e),this.parent.drawLayer.finalizeLine(Se,t),Mn(this,Uo,this.parent.drawLayer.drawOutline(qe(this,qu)));else if(this.parent){const Re=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(qe(this,zl),t),this.parent.drawLayer.updateBox(qe(this,zl),On(Ie=Os,Vu,tg).call(Ie,qe(this,kh).box,(Re-this.rotation+360)%360)),this.parent.drawLayer.updateLine(qe(this,Uo),qe(this,qu)),this.parent.drawLayer.updateBox(qe(this,Uo),On(Oe=Os,Vu,tg).call(Oe,qe(this,qu).box,Re))}const{x:Ce,y:Pe,width:Ee,height:Fe}=t.box;switch(this.rotation){case 0:this.x=Ce,this.y=Pe,this.width=Ee,this.height=Fe;break;case 90:{const[Re,Be]=this.parentDimensions;this.x=Pe,this.y=1-Ce,this.width=Ee*Be/Re,this.height=Fe*Re/Be;break}case 180:this.x=1-Ce,this.y=1-Pe,this.width=Ee,this.height=Fe;break;case 270:{const[Re,Be]=this.parentDimensions;this.x=1-Pe,this.y=Ce,this.width=Ee*Be/Re,this.height=Fe*Re/Be;break}}const{lastPoint:ke}=qe(this,qu).box;Mn(this,Yg,[(ke[0]-Ce)/Ee,(ke[1]-Pe)/Fe])},hw=function(t){const Se=(Ce,Pe)=>{var Ee,Fe,ke;this.color=Ce,(Ee=this.parent)==null||Ee.drawLayer.changeColor(qe(this,zl),Ce),(Fe=qe(this,Xg))==null||Fe.updateColor(Ce),Mn(this,rf,Pe),(ke=this.parent)==null||ke.drawLayer.changeOpacity(qe(this,zl),Pe)},_e=this.color,Ae=qe(this,rf);this.addCommands({cmd:Se.bind(this,t,Os._defaultOpacity),undo:Se.bind(this,_e,Ae),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},dw=function(t){const Se=qe(this,zu),_e=Ae=>{Mn(this,zu,Ae),On(this,Zi,fw).call(this,Ae)};this.addCommands({cmd:_e.bind(this,t),undo:_e.bind(this,Se),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},fw=function(t){if(!qe(this,Bc))return;On(this,Zi,Uv).call(this,{highlightOutlines:qe(this,kh).getNewOutline(t/2)}),this.fixAndSetPosition();const[Se,_e]=this.parentDimensions;this.setDims(this.width*Se,this.height*_e)},Gy=function(){qe(this,zl)===null||!this.parent||(this.parent.drawLayer.remove(qe(this,zl)),Mn(this,zl,null),this.parent.drawLayer.remove(qe(this,Uo)),Mn(this,Uo,null))},Dp=function(t=this.parent){qe(this,zl)===null&&({id:Sl(this,zl)._,clipPathId:Sl(this,x0)._}=t.drawLayer.draw(qe(this,kh),this.color,qe(this,rf)),Mn(this,Uo,t.drawLayer.drawOutline(qe(this,qu))),qe(this,_0)&&(qe(this,_0).style.clipPath=qe(this,x0)))},Vu=new WeakSet,tg=function({x:t,y:Se,width:_e,height:Ae},Ce){switch(Ce){case 90:return{x:1-Se-Ae,y:t,width:Ae,height:_e};case 180:return{x:1-t-_e,y:1-Se-Ae,width:_e,height:Ae};case 270:return{x:Se,y:1-t-_e,width:Ae,height:_e}}return{x:t,y:Se,width:_e,height:Ae}},pw=function(t){Os._keyboardManager.exec(this,t)},jv=function(t){if(!qe(this,Kg))return;const Se=window.getSelection();t?Se.setPosition(qe(this,Kg),qe(this,Um)):Se.setPosition(qe(this,jm),qe(this,qm))},C1=function(){return qe(this,Bc)?this.rotation:0},gw=function(){if(qe(this,Bc))return null;const[t,Se]=this.pageDimensions,[_e,Ae]=this.pageTranslation,Ce=qe(this,nf),Pe=new Float32Array(Ce.length*8);let Ee=0;for(const{x:Fe,y:ke,width:Ie,height:Oe}of Ce){const Re=Fe*t+_e,Be=(1-ke-Oe)*Se+Ae;Pe[Ee]=Pe[Ee+4]=Re,Pe[Ee+1]=Pe[Ee+3]=Be,Pe[Ee+2]=Pe[Ee+6]=Re+Ie*t,Pe[Ee+5]=Pe[Ee+7]=Be+Oe*Se,Ee+=8}return Pe},mw=function(t){return qe(this,kh).serialize(t,On(this,Zi,C1).call(this))},vw=function(t,Se){this._freeHighlight.add(Se)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},yw=function(t,Se){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(Se,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},bw=function(t){const{color:Se}=this._initialData;return t.color.some((_e,Ae)=>_e!==Se[Ae])},jn(Os,Vu),yi(Os,"_defaultColor",null),yi(Os,"_defaultOpacity",1),yi(Os,"_defaultThickness",12),yi(Os,"_type","highlight"),yi(Os,"_editorType",AnnotationEditorType.HIGHLIGHT),yi(Os,"_freeHighlightId",-1),yi(Os,"_freeHighlight",null),yi(Os,"_freeHighlightClipId","");let HighlightEditor=Os;var A0,C0,gd,sf,Gu,P0,E0,F0,af,Jg,T0,k0,op,ci,ww,Sw,xw,_w,Hy,Aw,Vy,Cw,Pw,Ew,Fw,Tw,Np,Wy,Ky,Xy,qv,zv,ng,Yy,Gv,gf,kw,Zy,Rw,Dw,Jy,Hv,P1;const Ma=class Ma extends AnnotationEditor{constructor(t){super({...t,name:"inkEditor"});jn(this,ci);jn(this,A0,0);jn(this,C0,0);jn(this,gd,null);jn(this,sf,new Path2D);jn(this,Gu,!1);jn(this,P0,null);jn(this,E0,!1);jn(this,F0,!1);jn(this,af,null);jn(this,Jg,null);jn(this,T0,0);jn(this,k0,0);jn(this,op,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,Se){AnnotationEditor.initialize(t,Se)}static updateDefaultParams(t,Se){switch(t){case AnnotationEditorParamsType.INK_THICKNESS:Ma._defaultThickness=Se;break;case AnnotationEditorParamsType.INK_COLOR:Ma._defaultColor=Se;break;case AnnotationEditorParamsType.INK_OPACITY:Ma._defaultOpacity=Se/100;break}}updateParams(t,Se){switch(t){case AnnotationEditorParamsType.INK_THICKNESS:On(this,ci,ww).call(this,Se);break;case AnnotationEditorParamsType.INK_COLOR:On(this,ci,Sw).call(this,Se);break;case AnnotationEditorParamsType.INK_OPACITY:On(this,ci,xw).call(this,Se);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,Ma._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,Ma._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(Ma._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ma._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||Ma._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ma._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(On(this,ci,qv).call(this),On(this,ci,zv).call(this)),this.isAttachedToDOM||(this.parent.add(this),On(this,ci,ng).call(this)),On(this,ci,P1).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,qe(this,gd)&&(clearTimeout(qe(this,gd)),Mn(this,gd,null)),(t=qe(this,af))==null||t.disconnect(),Mn(this,af,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,Se]=this.parentDimensions,_e=this.width*t,Ae=this.height*Se;this.setDimensions(_e,Ae)}enableEditMode(){qe(this,Gu)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,On(this,ci,Wy).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),On(this,ci,Ky).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){qe(this,Gu)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Mn(this,Gu,!0),this.div.classList.add("disabled"),On(this,ci,P1).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||qe(this,Gu)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),On(this,ci,Aw).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),On(this,ci,Vy).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),On(this,ci,Xy).call(this,t)}canvasPointerleave(t){On(this,ci,Xy).call(this,t)}get isResizable(){return!this.isEmpty()&&qe(this,Gu)}render(){if(this.div)return this.div;let t,Se;this.width&&(t=this.x,Se=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[_e,Ae,Ce,Pe]=On(this,ci,_w).call(this);if(this.setAt(_e,Ae,0,0),this.setDims(Ce,Pe),On(this,ci,qv).call(this),this.width){const[Ee,Fe]=this.parentDimensions;this.setAspectRatio(this.width*Ee,this.height*Fe),this.setAt(t*Ee,Se*Fe,this.width*Ee,this.height*Fe),Mn(this,F0,!0),On(this,ci,ng).call(this),this.setDims(this.width*Ee,this.height*Fe),On(this,ci,Np).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return On(this,ci,zv).call(this),this.div}setDimensions(t,Se){const _e=Math.round(t),Ae=Math.round(Se);if(qe(this,T0)===_e&&qe(this,k0)===Ae)return;Mn(this,T0,_e),Mn(this,k0,Ae),this.canvas.style.visibility="hidden";const[Ce,Pe]=this.parentDimensions;this.width=t/Ce,this.height=Se/Pe,this.fixAndSetPosition(),qe(this,Gu)&&On(this,ci,Yy).call(this,t,Se),On(this,ci,ng).call(this),On(this,ci,Np).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,Se,_e){var He,Ge,Ve;if(t instanceof InkAnnotationElement)return null;const Ae=await super.deserialize(t,Se,_e);Ae.thickness=t.thickness,Ae.color=Util$1.makeHexColor(...t.color),Ae.opacity=t.opacity;const[Ce,Pe]=Ae.pageDimensions,Ee=Ae.width*Ce,Fe=Ae.height*Pe,ke=Ae.parentScale,Ie=t.thickness/2;Mn(Ae,Gu,!0),Mn(Ae,T0,Math.round(Ee)),Mn(Ae,k0,Math.round(Fe));const{paths:Oe,rect:Re,rotation:Be}=t;for(let{bezier:ze}of Oe){ze=On(He=Ma,gf,Rw).call(He,ze,Re,Be);const Xe=[];Ae.paths.push(Xe);let We=ke*(ze[0]-Ie),Je=ke*(ze[1]-Ie);for(let Ze=2,on=ze.length;Ze<on;Ze+=6){const an=ke*(ze[Ze]-Ie),rn=ke*(ze[Ze+1]-Ie),fn=ke*(ze[Ze+2]-Ie),nn=ke*(ze[Ze+3]-Ie),cn=ke*(ze[Ze+4]-Ie),dn=ke*(ze[Ze+5]-Ie);Xe.push([[We,Je],[an,rn],[fn,nn],[cn,dn]]),We=cn,Je=dn}const Qe=On(this,gf,kw).call(this,Xe);Ae.bezierPath2D.push(Qe)}const je=On(Ge=Ae,ci,Jy).call(Ge);return Mn(Ae,C0,Math.max(AnnotationEditor.MIN_SIZE,je[2]-je[0])),Mn(Ae,A0,Math.max(AnnotationEditor.MIN_SIZE,je[3]-je[1])),On(Ve=Ae,ci,Yy).call(Ve,Ee,Fe),Ae}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),Se=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:Se,thickness:this.thickness,opacity:this.opacity,paths:On(this,ci,Dw).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};A0=new WeakMap,C0=new WeakMap,gd=new WeakMap,sf=new WeakMap,Gu=new WeakMap,P0=new WeakMap,E0=new WeakMap,F0=new WeakMap,af=new WeakMap,Jg=new WeakMap,T0=new WeakMap,k0=new WeakMap,op=new WeakMap,ci=new WeakSet,ww=function(t){const Se=Ae=>{this.thickness=Ae,On(this,ci,P1).call(this)},_e=this.thickness;this.addCommands({cmd:Se.bind(this,t),undo:Se.bind(this,_e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Sw=function(t){const Se=Ae=>{this.color=Ae,On(this,ci,Np).call(this)},_e=this.color;this.addCommands({cmd:Se.bind(this,t),undo:Se.bind(this,_e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xw=function(t){const Se=Ae=>{this.opacity=Ae,On(this,ci,Np).call(this)};t/=100;const _e=this.opacity;this.addCommands({cmd:Se.bind(this,t),undo:Se.bind(this,_e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},_w=function(){const{parentRotation:t,parentDimensions:[Se,_e]}=this;switch(t){case 90:return[0,_e,_e,Se];case 180:return[Se,_e,Se,_e];case 270:return[Se,0,_e,Se];default:return[0,0,Se,_e]}},Hy=function(){const{ctx:t,color:Se,opacity:_e,thickness:Ae,parentScale:Ce,scaleFactor:Pe}=this;t.lineWidth=Ae*Ce/Pe,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${Se}${opacityToHex(_e)}`},Aw=function(t,Se){this.canvas.addEventListener("contextmenu",noContextMenu,{signal:this._uiManager._signal}),On(this,ci,Ky).call(this),Mn(this,P0,new AbortController);const _e=this._uiManager.combinedSignal(qe(this,P0));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:_e}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:_e}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:_e}),this.isEditing=!0,qe(this,F0)||(Mn(this,F0,!0),On(this,ci,ng).call(this),this.thickness||(this.thickness=Ma._defaultThickness),this.color||(this.color=Ma._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ma._defaultOpacity)),this.currentPath.push([t,Se]),Mn(this,E0,!1),On(this,ci,Hy).call(this),Mn(this,op,()=>{On(this,ci,Ew).call(this),qe(this,op)&&window.requestAnimationFrame(qe(this,op))}),window.requestAnimationFrame(qe(this,op))},Vy=function(t,Se){const[_e,Ae]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===_e&&Se===Ae)return;const Ce=this.currentPath;let Pe=qe(this,sf);if(Ce.push([t,Se]),Mn(this,E0,!0),Ce.length<=2){Pe.moveTo(...Ce[0]),Pe.lineTo(t,Se);return}Ce.length===3&&(Mn(this,sf,Pe=new Path2D),Pe.moveTo(...Ce[0])),On(this,ci,Fw).call(this,Pe,...Ce.at(-3),...Ce.at(-2),t,Se)},Cw=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);qe(this,sf).lineTo(...t)},Pw=function(t,Se){Mn(this,op,null),t=Math.min(Math.max(t,0),this.canvas.width),Se=Math.min(Math.max(Se,0),this.canvas.height),On(this,ci,Vy).call(this,t,Se),On(this,ci,Cw).call(this);let _e;if(this.currentPath.length!==1)_e=On(this,ci,Tw).call(this);else{const Fe=[t,Se];_e=[[Fe,Fe.slice(),Fe.slice(),Fe]]}const Ae=qe(this,sf),Ce=this.currentPath;this.currentPath=[],Mn(this,sf,new Path2D);const Pe=()=>{this.allRawPaths.push(Ce),this.paths.push(_e),this.bezierPath2D.push(Ae),this._uiManager.rebuild(this)},Ee=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(On(this,ci,qv).call(this),On(this,ci,zv).call(this)),On(this,ci,P1).call(this))};this.addCommands({cmd:Pe,undo:Ee,mustExec:!0})},Ew=function(){if(!qe(this,E0))return;Mn(this,E0,!1);const t=Math.ceil(this.thickness*this.parentScale),Se=this.currentPath.slice(-3),_e=Se.map(Pe=>Pe[0]),Ae=Se.map(Pe=>Pe[1]);Math.min(..._e)-t,Math.max(..._e)+t,Math.min(...Ae)-t,Math.max(...Ae)+t;const{ctx:Ce}=this;Ce.save(),Ce.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Pe of this.bezierPath2D)Ce.stroke(Pe);Ce.stroke(qe(this,sf)),Ce.restore()},Fw=function(t,Se,_e,Ae,Ce,Pe,Ee){const Fe=(Se+Ae)/2,ke=(_e+Ce)/2,Ie=(Ae+Pe)/2,Oe=(Ce+Ee)/2;t.bezierCurveTo(Fe+2*(Ae-Fe)/3,ke+2*(Ce-ke)/3,Ie+2*(Ae-Ie)/3,Oe+2*(Ce-Oe)/3,Ie,Oe)},Tw=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const Se=[];let _e,[Ae,Ce]=t[0];for(_e=1;_e<t.length-2;_e++){const[Re,Be]=t[_e],[je,He]=t[_e+1],Ge=(Re+je)/2,Ve=(Be+He)/2,ze=[Ae+2*(Re-Ae)/3,Ce+2*(Be-Ce)/3],Xe=[Ge+2*(Re-Ge)/3,Ve+2*(Be-Ve)/3];Se.push([[Ae,Ce],ze,Xe,[Ge,Ve]]),[Ae,Ce]=[Ge,Ve]}const[Pe,Ee]=t[_e],[Fe,ke]=t[_e+1],Ie=[Ae+2*(Pe-Ae)/3,Ce+2*(Ee-Ce)/3],Oe=[Fe+2*(Pe-Fe)/3,ke+2*(Ee-ke)/3];return Se.push([[Ae,Ce],Ie,Oe,[Fe,ke]]),Se},Np=function(){if(this.isEmpty()){On(this,ci,Gv).call(this);return}On(this,ci,Hy).call(this);const{canvas:t,ctx:Se}=this;Se.setTransform(1,0,0,1,0,0),Se.clearRect(0,0,t.width,t.height),On(this,ci,Gv).call(this);for(const _e of this.bezierPath2D)Se.stroke(_e)},Wy=function(){if(qe(this,Jg))return;Mn(this,Jg,new AbortController);const t=this._uiManager.combinedSignal(qe(this,Jg));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},Ky=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},Xy=function(t){var Se;(Se=qe(this,P0))==null||Se.abort(),Mn(this,P0,null),On(this,ci,Wy).call(this),qe(this,gd)&&clearTimeout(qe(this,gd)),Mn(this,gd,setTimeout(()=>{Mn(this,gd,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),On(this,ci,Pw).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},qv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},zv=function(){Mn(this,af,new ResizeObserver(t=>{const Se=t[0].contentRect;Se.width&&Se.height&&this.setDimensions(Se.width,Se.height)})),qe(this,af).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=qe(this,af))==null||t.disconnect(),Mn(this,af,null)},{once:!0})},ng=function(){if(!qe(this,F0))return;const[t,Se]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*Se),On(this,ci,Gv).call(this)},Yy=function(t,Se){const _e=On(this,ci,Hv).call(this),Ae=(t-_e)/qe(this,C0),Ce=(Se-_e)/qe(this,A0);this.scaleFactor=Math.min(Ae,Ce)},Gv=function(){const t=On(this,ci,Hv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},gf=new WeakSet,kw=function(t){const Se=new Path2D;for(let _e=0,Ae=t.length;_e<Ae;_e++){const[Ce,Pe,Ee,Fe]=t[_e];_e===0&&Se.moveTo(...Ce),Se.bezierCurveTo(Pe[0],Pe[1],Ee[0],Ee[1],Fe[0],Fe[1])}return Se},Zy=function(t,Se,_e){const[Ae,Ce,Pe,Ee]=Se;switch(_e){case 0:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2)t[Fe]+=Ae,t[Fe+1]=Ee-t[Fe+1];break;case 90:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2){const Ie=t[Fe];t[Fe]=t[Fe+1]+Ae,t[Fe+1]=Ie+Ce}break;case 180:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2)t[Fe]=Pe-t[Fe],t[Fe+1]+=Ce;break;case 270:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2){const Ie=t[Fe];t[Fe]=Pe-t[Fe+1],t[Fe+1]=Ee-Ie}break;default:throw new Error("Invalid rotation")}return t},Rw=function(t,Se,_e){const[Ae,Ce,Pe,Ee]=Se;switch(_e){case 0:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2)t[Fe]-=Ae,t[Fe+1]=Ee-t[Fe+1];break;case 90:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2){const Ie=t[Fe];t[Fe]=t[Fe+1]-Ce,t[Fe+1]=Ie-Ae}break;case 180:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2)t[Fe]=Pe-t[Fe],t[Fe+1]-=Ce;break;case 270:for(let Fe=0,ke=t.length;Fe<ke;Fe+=2){const Ie=t[Fe];t[Fe]=Ee-t[Fe+1],t[Fe+1]=Pe-Ie}break;default:throw new Error("Invalid rotation")}return t},Dw=function(t,Se,_e,Ae){var ke,Ie;const Ce=[],Pe=this.thickness/2,Ee=t*Se+Pe,Fe=t*_e+Pe;for(const Oe of this.paths){const Re=[],Be=[];for(let je=0,He=Oe.length;je<He;je++){const[Ge,Ve,ze,Xe]=Oe[je];if(Ge[0]===Xe[0]&&Ge[1]===Xe[1]&&He===1){const nn=t*Ge[0]+Ee,cn=t*Ge[1]+Fe;Re.push(nn,cn),Be.push(nn,cn);break}const We=t*Ge[0]+Ee,Je=t*Ge[1]+Fe,Qe=t*Ve[0]+Ee,Ze=t*Ve[1]+Fe,on=t*ze[0]+Ee,an=t*ze[1]+Fe,rn=t*Xe[0]+Ee,fn=t*Xe[1]+Fe;je===0&&(Re.push(We,Je),Be.push(We,Je)),Re.push(Qe,Ze,on,an,rn,fn),Be.push(Qe,Ze),je===He-1&&Be.push(rn,fn)}Ce.push({bezier:On(ke=Ma,gf,Zy).call(ke,Re,Ae,this.rotation),points:On(Ie=Ma,gf,Zy).call(Ie,Be,Ae,this.rotation)})}return Ce},Jy=function(){let t=1/0,Se=-1/0,_e=1/0,Ae=-1/0;for(const Ce of this.paths)for(const[Pe,Ee,Fe,ke]of Ce){const Ie=Util$1.bezierBoundingBox(...Pe,...Ee,...Fe,...ke);t=Math.min(t,Ie[0]),_e=Math.min(_e,Ie[1]),Se=Math.max(Se,Ie[2]),Ae=Math.max(Ae,Ie[3])}return[t,_e,Se,Ae]},Hv=function(){return qe(this,Gu)?Math.ceil(this.thickness*this.parentScale):0},P1=function(t=!1){if(this.isEmpty())return;if(!qe(this,Gu)){On(this,ci,Np).call(this);return}const Se=On(this,ci,Jy).call(this),_e=On(this,ci,Hv).call(this);Mn(this,C0,Math.max(AnnotationEditor.MIN_SIZE,Se[2]-Se[0])),Mn(this,A0,Math.max(AnnotationEditor.MIN_SIZE,Se[3]-Se[1]));const Ae=Math.ceil(_e+qe(this,C0)*this.scaleFactor),Ce=Math.ceil(_e+qe(this,A0)*this.scaleFactor),[Pe,Ee]=this.parentDimensions;this.width=Ae/Pe,this.height=Ce/Ee,this.setAspectRatio(Ae,Ce);const Fe=this.translationX,ke=this.translationY;this.translationX=-Se[0],this.translationY=-Se[1],On(this,ci,ng).call(this),On(this,ci,Np).call(this),Mn(this,T0,Ae),Mn(this,k0,Ce),this.setDims(Ae,Ce);const Ie=t?_e/this.scaleFactor/2:0;this.translate(Fe-this.translationX-Ie,ke-this.translationY-Ie)},jn(Ma,gf),yi(Ma,"_defaultColor",null),yi(Ma,"_defaultOpacity",1),yi(Ma,"_defaultThickness",1),yi(Ma,"_type","ink"),yi(Ma,"_editorType",AnnotationEditorType.INK);let InkEditor=Ma;var Ua,Cl,lp,of,cp,Qg,md,lf,vd,ou,$g,ls,E1,F1,Vv,Qy,Nw,Wv,$y,Kv,Lw,Iw;const T1=class T1 extends AnnotationEditor{constructor(t){super({...t,name:"stampEditor"});jn(this,ls);jn(this,Ua,null);jn(this,Cl,null);jn(this,lp,null);jn(this,of,null);jn(this,cp,null);jn(this,Qg,"");jn(this,md,null);jn(this,lf,null);jn(this,vd,null);jn(this,ou,!1);jn(this,$g,!1);Mn(this,of,t.bitmapUrl),Mn(this,cp,t.bitmapFile)}static initialize(t,Se){AnnotationEditor.initialize(t,Se)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(Se=>`image/${Se}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,Se){Se.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const Se=t.get("hasAltText");return{hasAltText:Se.get(!0)??0,hasNoAltText:Se.get(!1)??0}}async mlGuessAltText(t=null,Se=!0){if(this.hasAltTextData())return null;const{mlManager:_e}=this._uiManager;if(!_e)throw new Error("No ML.");if(!await _e.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:Ae,width:Ce,height:Pe}=t||this.copyCanvas(null,null,!0).imageData,Ee=await _e.guess({name:"altText",request:{data:Ae,width:Ce,height:Pe,channels:Ae.length/(Ce*Pe)}});if(!Ee)throw new Error("No response from the AI service.");if(Ee.error)throw new Error("Error from the AI service.");if(Ee.cancel)return null;if(!Ee.output)throw new Error("No valid response from the AI service.");const Fe=Ee.output;return await this.setGuessedAltText(Fe),Se&&!this.hasAltTextData()&&(this.altTextData={alt:Fe,decorative:!1}),Fe}remove(){var t,Se;qe(this,Cl)&&(Mn(this,Ua,null),this._uiManager.imageManager.deleteId(qe(this,Cl)),(t=qe(this,md))==null||t.remove(),Mn(this,md,null),(Se=qe(this,lf))==null||Se.disconnect(),Mn(this,lf,null),qe(this,vd)&&(clearTimeout(qe(this,vd)),Mn(this,vd,null))),super.remove()}rebuild(){if(!this.parent){qe(this,Cl)&&On(this,ls,Vv).call(this);return}super.rebuild(),this.div!==null&&(qe(this,Cl)&&qe(this,md)===null&&On(this,ls,Vv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(qe(this,lp)||qe(this,Ua)||qe(this,of)||qe(this,cp)||qe(this,Cl))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,Se;if(this.width&&(t=this.x,Se=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),qe(this,Ua)?On(this,ls,Qy).call(this):On(this,ls,Vv).call(this),this.width&&!this.annotationElementId){const[_e,Ae]=this.parentDimensions;this.setAt(t*_e,Se*Ae,this.width*_e,this.height*Ae)}return this.div}copyCanvas(t,Se,_e=!1){var Re;t||(t=224);const{width:Ae,height:Ce}=qe(this,Ua),Pe=new OutputScale;let Ee=qe(this,Ua),Fe=Ae,ke=Ce,Ie=null;if(Se){if(Ae>Se||Ce>Se){const Ze=Math.min(Se/Ae,Se/Ce);Fe=Math.floor(Ae*Ze),ke=Math.floor(Ce*Ze)}Ie=document.createElement("canvas");const Be=Ie.width=Math.ceil(Fe*Pe.sx),je=Ie.height=Math.ceil(ke*Pe.sy);qe(this,ou)||(Ee=On(this,ls,Wv).call(this,Be,je));const He=Ie.getContext("2d");He.filter=this._uiManager.hcmFilter;let Ge="white",Ve="#cfcfd8";this._uiManager.hcmFilter!=="none"?Ve="black":(Re=window.matchMedia)!=null&&Re.call(window,"(prefers-color-scheme: dark)").matches&&(Ge="#8f8f9d",Ve="#42414d");const ze=15,Xe=ze*Pe.sx,We=ze*Pe.sy,Je=new OffscreenCanvas(Xe*2,We*2),Qe=Je.getContext("2d");Qe.fillStyle=Ge,Qe.fillRect(0,0,Xe*2,We*2),Qe.fillStyle=Ve,Qe.fillRect(0,0,Xe,We),Qe.fillRect(Xe,We,Xe,We),He.fillStyle=He.createPattern(Je,"repeat"),He.fillRect(0,0,Be,je),He.drawImage(Ee,0,0,Ee.width,Ee.height,0,0,Be,je)}let Oe=null;if(_e){let Be,je;if(Pe.symmetric&&Ee.width<t&&Ee.height<t)Be=Ee.width,je=Ee.height;else if(Ee=qe(this,Ua),Ae>t||Ce>t){const Ve=Math.min(t/Ae,t/Ce);Be=Math.floor(Ae*Ve),je=Math.floor(Ce*Ve),qe(this,ou)||(Ee=On(this,ls,Wv).call(this,Be,je))}const Ge=new OffscreenCanvas(Be,je).getContext("2d",{willReadFrequently:!0});Ge.drawImage(Ee,0,0,Ee.width,Ee.height,0,0,Be,je),Oe={width:Be,height:je,data:Ge.getImageData(0,0,Be,je).data}}return{canvas:Ie,width:Fe,height:ke,imageData:Oe}}getImageForAltText(){return qe(this,md)}static async deserialize(t,Se,_e){var je;let Ae=null;if(t instanceof StampAnnotationElement){const{data:{rect:He,rotation:Ge,id:Ve,structParent:ze,popupRef:Xe},container:We,parent:{page:{pageNumber:Je}}}=t,Qe=We.querySelector("canvas"),Ze=_e.imageManager.getFromCanvas(We.id,Qe);Qe.remove();const on=((je=await Se._structTree.getAriaAttributes(`${AnnotationPrefix}${Ve}`))==null?void 0:je.get("aria-label"))||"";Ae=t={annotationType:AnnotationEditorType.STAMP,bitmapId:Ze.id,bitmap:Ze.bitmap,pageIndex:Je-1,rect:He.slice(0),rotation:Ge,id:Ve,deleted:!1,accessibilityData:{decorative:!1,altText:on},isSvg:!1,structParent:ze,popupRef:Xe}}const Ce=await super.deserialize(t,Se,_e),{rect:Pe,bitmap:Ee,bitmapUrl:Fe,bitmapId:ke,isSvg:Ie,accessibilityData:Oe}=t;ke&&_e.imageManager.isValidId(ke)?(Mn(Ce,Cl,ke),Ee&&Mn(Ce,Ua,Ee)):Mn(Ce,of,Fe),Mn(Ce,ou,Ie);const[Re,Be]=Ce.pageDimensions;return Ce.width=(Pe[2]-Pe[0])/Re,Ce.height=(Pe[3]-Pe[1])/Be,Ce.annotationElementId=t.id||null,Oe&&(Ce.altTextData=Oe),Ce._initialData=Ae,Mn(Ce,$g,!!Ae),Ce}serialize(t=!1,Se=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const _e={annotationType:AnnotationEditorType.STAMP,bitmapId:qe(this,Cl),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:qe(this,ou),structTreeParentId:this._structTreeParentId};if(t)return _e.bitmapUrl=On(this,ls,Kv).call(this,!0),_e.accessibilityData=this.serializeAltText(!0),_e;const{decorative:Ae,altText:Ce}=this.serializeAltText(!1);if(!Ae&&Ce&&(_e.accessibilityData={type:"Figure",alt:Ce}),this.annotationElementId){const Ee=On(this,ls,Iw).call(this,_e);if(Ee.isSame)return null;Ee.isSameAltText?delete _e.accessibilityData:_e.accessibilityData.structParent=this._initialData.structParent??-1}if(_e.id=this.annotationElementId,Se===null)return _e;Se.stamps||(Se.stamps=new Map);const Pe=qe(this,ou)?(_e.rect[2]-_e.rect[0])*(_e.rect[3]-_e.rect[1]):null;if(!Se.stamps.has(qe(this,Cl)))Se.stamps.set(qe(this,Cl),{area:Pe,serialized:_e}),_e.bitmap=On(this,ls,Kv).call(this,!1);else if(qe(this,ou)){const Ee=Se.stamps.get(qe(this,Cl));Pe>Ee.area&&(Ee.area=Pe,Ee.serialized.bitmap.close(),Ee.serialized.bitmap=On(this,ls,Kv).call(this,!1))}return _e}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ua=new WeakMap,Cl=new WeakMap,lp=new WeakMap,of=new WeakMap,cp=new WeakMap,Qg=new WeakMap,md=new WeakMap,lf=new WeakMap,vd=new WeakMap,ou=new WeakMap,$g=new WeakMap,ls=new WeakSet,E1=function(t,Se=!1){if(!t){this.remove();return}Mn(this,Ua,t.bitmap),Se||(Mn(this,Cl,t.id),Mn(this,ou,t.isSvg)),t.file&&Mn(this,Qg,t.file.name),On(this,ls,Qy).call(this)},F1=function(){if(Mn(this,lp,null),this._uiManager.enableWaiting(!1),!!qe(this,md)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&qe(this,Ua)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&qe(this,Ua)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Vv=function(){if(qe(this,Cl)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(qe(this,Cl)).then(_e=>On(this,ls,E1).call(this,_e,!0)).finally(()=>On(this,ls,F1).call(this));return}if(qe(this,of)){const _e=qe(this,of);Mn(this,of,null),this._uiManager.enableWaiting(!0),Mn(this,lp,this._uiManager.imageManager.getFromUrl(_e).then(Ae=>On(this,ls,E1).call(this,Ae)).finally(()=>On(this,ls,F1).call(this)));return}if(qe(this,cp)){const _e=qe(this,cp);Mn(this,cp,null),this._uiManager.enableWaiting(!0),Mn(this,lp,this._uiManager.imageManager.getFromFile(_e).then(Ae=>On(this,ls,E1).call(this,Ae)).finally(()=>On(this,ls,F1).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=T1.supportedTypesStr;const Se=this._uiManager._signal;Mn(this,lp,new Promise(_e=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ae=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),On(this,ls,E1).call(this,Ae)}_e()},{signal:Se}),t.addEventListener("cancel",()=>{this.remove(),_e()},{signal:Se})}).finally(()=>On(this,ls,F1).call(this))),t.click()},Qy=function(){const{div:t}=this;let{width:Se,height:_e}=qe(this,Ua);const[Ae,Ce]=this.pageDimensions,Pe=.75;if(this.width)Se=this.width*Ae,_e=this.height*Ce;else if(Se>Pe*Ae||_e>Pe*Ce){const Ie=Math.min(Pe*Ae/Se,Pe*Ce/_e);Se*=Ie,_e*=Ie}const[Ee,Fe]=this.parentDimensions;this.setDims(Se*Ee/Ae,_e*Fe/Ce),this._uiManager.enableWaiting(!1);const ke=Mn(this,md,document.createElement("canvas"));ke.setAttribute("role","img"),this.addContainer(ke),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),On(this,ls,$y).call(this,Se,_e),On(this,ls,Lw).call(this),qe(this,$g)||(this.parent.addUndoableEditor(this),Mn(this,$g,!0)),this._reportTelemetry({action:"inserted_image"}),qe(this,Qg)&&ke.setAttribute("aria-label",qe(this,Qg))},Nw=function(t,Se){var Pe;const[_e,Ae]=this.parentDimensions;this.width=t/_e,this.height=Se/Ae,(Pe=this._initialOptions)!=null&&Pe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,qe(this,vd)!==null&&clearTimeout(qe(this,vd)),Mn(this,vd,setTimeout(()=>{Mn(this,vd,null),On(this,ls,$y).call(this,t,Se)},200))},Wv=function(t,Se){const{width:_e,height:Ae}=qe(this,Ua);let Ce=_e,Pe=Ae,Ee=qe(this,Ua);for(;Ce>2*t||Pe>2*Se;){const Fe=Ce,ke=Pe;Ce>2*t&&(Ce=Ce>=16384?Math.floor(Ce/2)-1:Math.ceil(Ce/2)),Pe>2*Se&&(Pe=Pe>=16384?Math.floor(Pe/2)-1:Math.ceil(Pe/2));const Ie=new OffscreenCanvas(Ce,Pe);Ie.getContext("2d").drawImage(Ee,0,0,Fe,ke,0,0,Ce,Pe),Ee=Ie.transferToImageBitmap()}return Ee},$y=function(t,Se){const _e=new OutputScale,Ae=Math.ceil(t*_e.sx),Ce=Math.ceil(Se*_e.sy),Pe=qe(this,md);if(!Pe||Pe.width===Ae&&Pe.height===Ce)return;Pe.width=Ae,Pe.height=Ce;const Ee=qe(this,ou)?qe(this,Ua):On(this,ls,Wv).call(this,Ae,Ce),Fe=Pe.getContext("2d");Fe.filter=this._uiManager.hcmFilter,Fe.drawImage(Ee,0,0,Ee.width,Ee.height,0,0,Ae,Ce)},Kv=function(t){if(t){if(qe(this,ou)){const Ae=this._uiManager.imageManager.getSvgUrl(qe(this,Cl));if(Ae)return Ae}const Se=document.createElement("canvas");return{width:Se.width,height:Se.height}=qe(this,Ua),Se.getContext("2d").drawImage(qe(this,Ua),0,0),Se.toDataURL()}if(qe(this,ou)){const[Se,_e]=this.pageDimensions,Ae=Math.round(this.width*Se*PixelsPerInch.PDF_TO_CSS_UNITS),Ce=Math.round(this.height*_e*PixelsPerInch.PDF_TO_CSS_UNITS),Pe=new OffscreenCanvas(Ae,Ce);return Pe.getContext("2d").drawImage(qe(this,Ua),0,0,qe(this,Ua).width,qe(this,Ua).height,0,0,Ae,Ce),Pe.transferToImageBitmap()}return structuredClone(qe(this,Ua))},Lw=function(){this._uiManager._signal&&(Mn(this,lf,new ResizeObserver(t=>{const Se=t[0].contentRect;Se.width&&Se.height&&On(this,ls,Nw).call(this,Se.width,Se.height)})),qe(this,lf).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=qe(this,lf))==null||t.disconnect(),Mn(this,lf,null)},{once:!0}))},Iw=function(t){var Fe;const{rect:Se,pageIndex:_e,accessibilityData:{altText:Ae}}=this._initialData,Ce=t.rect.every((ke,Ie)=>Math.abs(ke-Se[Ie])<1),Pe=t.pageIndex===_e,Ee=(((Fe=t.accessibilityData)==null?void 0:Fe.alt)||"")===Ae;return{isSame:Ce&&Pe&&Ee,isSameAltText:Ee}},yi(T1,"_type","stamp"),yi(T1,"_editorType",AnnotationEditorType.STAMP);let StampEditor=T1;var R0,e1,yd,up,cf,lu,hp,t1,n1,Gl,uf,Di,dp,Pl,Ow,e5,t5,n5,Xv;const vh=class vh{constructor({uiManager:e,pageIndex:t,div:Se,structTreeLayer:_e,accessibilityManager:Ae,annotationLayer:Ce,drawLayer:Pe,textLayer:Ee,viewport:Fe,l10n:ke}){jn(this,Pl);jn(this,R0);jn(this,e1,!1);jn(this,yd,null);jn(this,up,null);jn(this,cf,null);jn(this,lu,new Map);jn(this,hp,!1);jn(this,t1,!1);jn(this,n1,!1);jn(this,Gl,null);jn(this,uf,null);jn(this,Di);const Ie=[...qe(vh,dp).values()];if(!vh._initialized){vh._initialized=!0;for(const Oe of Ie)Oe.initialize(ke,e)}e.registerEditorTypes(Ie),Mn(this,Di,e),this.pageIndex=t,this.div=Se,Mn(this,R0,Ae),Mn(this,yd,Ce),this.viewport=Fe,Mn(this,Gl,Ee),this.drawLayer=Pe,this._structTree=_e,qe(this,Di).addLayer(this)}get isEmpty(){return qe(this,lu).size===0}get isInvisible(){return this.isEmpty&&qe(this,Di).getMode()===AnnotationEditorType.NONE}updateToolbar(e){qe(this,Di).updateToolbar(e)}updateMode(e=qe(this,Di).getMode()){switch(On(this,Pl,Xv).call(this),e){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const Se of qe(vh,dp).values())t.toggle(`${Se._type}Editing`,e===Se._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=qe(this,Gl))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(qe(this,Di).getMode()!==AnnotationEditorType.INK)return;if(!e){for(const Se of qe(this,lu).values())if(Se.isEmpty()){Se.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){qe(this,Di).setEditingState(e)}addCommands(e){qe(this,Di).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=qe(this,yd))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const Se of qe(this,lu).values())Se.enableEditing(),Se.show(!0),Se.annotationElementId&&(qe(this,Di).removeChangedExistingAnnotation(Se),e.add(Se.annotationElementId));if(!qe(this,yd))return;const t=qe(this,yd).getEditableAnnotations();for(const Se of t){if(Se.hide(),qe(this,Di).isDeletedAnnotationElement(Se.data.id)||e.has(Se.data.id))continue;const _e=await this.deserialize(Se);_e&&(this.addOrRebuild(_e),_e.enableEditing())}}disable(){var _e;Mn(this,n1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const Ae of qe(this,lu).values())if(Ae.disableEditing(),!!Ae.annotationElementId){if(Ae.serialize()!==null){e.set(Ae.annotationElementId,Ae);continue}else t.set(Ae.annotationElementId,Ae);(_e=this.getEditableAnnotation(Ae.annotationElementId))==null||_e.show(),Ae.remove()}if(qe(this,yd)){const Ae=qe(this,yd).getEditableAnnotations();for(const Ce of Ae){const{id:Pe}=Ce.data;if(qe(this,Di).isDeletedAnnotationElement(Pe))continue;let Ee=t.get(Pe);if(Ee){Ee.resetAnnotationElement(Ce),Ee.show(!1),Ce.show();continue}Ee=e.get(Pe),Ee&&(qe(this,Di).addChangedExistingAnnotation(Ee),Ee.renderAnnotationElement(Ce)&&Ee.show(!1)),Ce.show()}}On(this,Pl,Xv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:Se}=this.div;for(const Ae of qe(vh,dp).values())Se.remove(`${Ae._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Mn(this,n1,!1)}getEditableAnnotation(e){var t;return((t=qe(this,yd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){qe(this,Di).getActive()!==e&&qe(this,Di).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=qe(this,Gl))!=null&&e.div&&!qe(this,uf)){Mn(this,uf,new AbortController);const t=qe(this,Di).combinedSignal(qe(this,uf));qe(this,Gl).div.addEventListener("pointerdown",On(this,Pl,Ow).bind(this),{signal:t}),qe(this,Gl).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=qe(this,Gl))!=null&&e.div&&qe(this,uf)&&(qe(this,uf).abort(),Mn(this,uf,null),qe(this,Gl).div.classList.remove("highlighting"))}enableClick(){if(qe(this,up))return;Mn(this,up,new AbortController);const e=qe(this,Di).combinedSignal(qe(this,up));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=qe(this,up))==null||e.abort(),Mn(this,up,null)}attach(e){qe(this,lu).set(e.id,e);const{annotationElementId:t}=e;t&&qe(this,Di).isDeletedAnnotationElement(t)&&qe(this,Di).removeDeletedAnnotationElement(e)}detach(e){var t;qe(this,lu).delete(e.id),(t=qe(this,R0))==null||t.removePointerInTextLayer(e.contentDiv),!qe(this,n1)&&e.annotationElementId&&qe(this,Di).addDeletedAnnotationElement(e)}remove(e){this.detach(e),qe(this,Di).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,qe(this,t1)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(qe(this,Di).addDeletedAnnotationElement(e.annotationElementId),AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),qe(this,Di).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),qe(this,Di).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var Se;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!qe(this,cf)&&(e._focusEventsAllowed=!1,Mn(this,cf,setTimeout(()=>{Mn(this,cf,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:qe(this,Di)._signal}),t.focus())},0))),e._structTreeParentId=(Se=qe(this,R0))==null?void 0:Se.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),Se=()=>{e.remove()};this.addCommands({cmd:t,undo:Se,mustExec:!1})}getNextId(){return qe(this,Di).getId()}combinedSignal(e){return qe(this,Di).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=qe(this,Pl,e5))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){qe(this,Di).updateToolbar(e),qe(this,Di).updateMode(e);const{offsetX:Se,offsetY:_e}=On(this,Pl,n5).call(this),Ae=this.getNextId(),Ce=On(this,Pl,t5).call(this,{parent:this,id:Ae,x:Se,y:_e,uiManager:qe(this,Di),isCentered:!0,...t});Ce&&this.add(Ce)}async deserialize(e){var t;return await((t=qe(vh,dp).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,qe(this,Di)))||null}createAndAddNewEditor(e,t,Se={}){const _e=this.getNextId(),Ae=On(this,Pl,t5).call(this,{parent:this,id:_e,x:e.offsetX,y:e.offsetY,uiManager:qe(this,Di),isCentered:t,...Se});return Ae&&this.add(Ae),Ae}addNewEditor(){this.createAndAddNewEditor(On(this,Pl,n5).call(this),!0)}setSelected(e){qe(this,Di).setSelected(e)}toggleSelected(e){qe(this,Di).toggleSelected(e)}unselect(e){qe(this,Di).unselect(e)}pointerup(e){const{isMac:t}=util_FeatureTest.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&qe(this,hp)){if(Mn(this,hp,!1),!qe(this,e1)){Mn(this,e1,!0);return}if(qe(this,Di).getMode()===AnnotationEditorType.STAMP){qe(this,Di).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(qe(this,Di).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),qe(this,hp)){Mn(this,hp,!1);return}const{isMac:t}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;Mn(this,hp,!0);const Se=qe(this,Di).getActive();Mn(this,e1,!Se||Se.isEmpty())}findNewParent(e,t,Se){const _e=qe(this,Di).findParent(t,Se);return _e===null||_e===this?!1:(_e.changeParent(e),!0)}destroy(){var e,t;((e=qe(this,Di).getActive())==null?void 0:e.parent)===this&&(qe(this,Di).commitOrRemove(),qe(this,Di).setActiveEditor(null)),qe(this,cf)&&(clearTimeout(qe(this,cf)),Mn(this,cf,null));for(const Se of qe(this,lu).values())(t=qe(this,R0))==null||t.removePointerInTextLayer(Se.contentDiv),Se.setParent(null),Se.isAttachedToDOM=!1,Se.div.remove();this.div=null,qe(this,lu).clear(),qe(this,Di).removeLayer(this)}render({viewport:e}){this.viewport=e,setLayerDimensions(this.div,e);for(const t of qe(this,Di).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){qe(this,Di).commitOrRemove(),On(this,Pl,Xv).call(this);const t=this.viewport.rotation,Se=e.rotation;if(this.viewport=e,setLayerDimensions(this.div,{rotation:Se}),t!==Se)for(const _e of qe(this,lu).values())_e.rotate(Se);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return qe(this,Di).viewParameters.realScale}};R0=new WeakMap,e1=new WeakMap,yd=new WeakMap,up=new WeakMap,cf=new WeakMap,lu=new WeakMap,hp=new WeakMap,t1=new WeakMap,n1=new WeakMap,Gl=new WeakMap,uf=new WeakMap,Di=new WeakMap,dp=new WeakMap,Pl=new WeakSet,Ow=function(e){qe(this,Di).unselectAll();const{target:t}=e;if(t===qe(this,Gl).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&qe(this,Gl).div.contains(t)){const{isMac:Se}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&Se)return;qe(this,Di).showAllEditors("highlight",!0,!0),qe(this,Gl).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,qe(this,Di).direction==="ltr",{target:qe(this,Gl).div,x:e.x,y:e.y}),qe(this,Gl).div.addEventListener("pointerup",()=>{qe(this,Gl).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:qe(this,Di)._signal}),e.preventDefault()}},e5=function(){return qe(vh,dp).get(qe(this,Di).getMode())},t5=function(e){const t=qe(this,Pl,e5);return t?new t.prototype.constructor(e):null},n5=function(){const{x:e,y:t,width:Se,height:_e}=this.div.getBoundingClientRect(),Ae=Math.max(0,e),Ce=Math.max(0,t),Pe=Math.min(window.innerWidth,e+Se),Ee=Math.min(window.innerHeight,t+_e),Fe=(Ae+Pe)/2-e,ke=(Ce+Ee)/2-t,[Ie,Oe]=this.viewport.rotation%180===0?[Fe,ke]:[ke,Fe];return{offsetX:Ie,offsetY:Oe}},Xv=function(){Mn(this,t1,!0);for(const e of qe(this,lu).values())e.isEmpty()&&e.remove();Mn(this,t1,!1)},yi(vh,"_initialized",!1),jn(vh,dp,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(e=>[e._editorType,e])));let AnnotationEditorLayer=vh;var bd,Gm,To,hf,Hm,r5,N0,i5,Mw;const xl=class xl{constructor({pageIndex:e}){jn(this,N0);jn(this,bd,null);jn(this,Gm,0);jn(this,To,new Map);jn(this,hf,new Map);this.pageIndex=e}setParent(e){if(!qe(this,bd)){Mn(this,bd,e);return}if(qe(this,bd)!==e){if(qe(this,To).size>0)for(const t of qe(this,To).values())t.remove(),e.append(t);Mn(this,bd,e)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(e,t,Se,_e=!1){const Ae=Sl(this,Gm)._++,Ce=On(this,N0,i5).call(this,e.box);Ce.classList.add(...e.classNamesForDrawing);const Pe=xl._svgFactory.createElement("defs");Ce.append(Pe);const Ee=xl._svgFactory.createElement("path");Pe.append(Ee);const Fe=`path_p${this.pageIndex}_${Ae}`;Ee.setAttribute("id",Fe),Ee.setAttribute("d",e.toSVGPath()),_e&&qe(this,hf).set(Ae,Ee);const ke=On(this,N0,Mw).call(this,Pe,Fe),Ie=xl._svgFactory.createElement("use");return Ce.append(Ie),Ce.setAttribute("fill",t),Ce.setAttribute("fill-opacity",Se),Ie.setAttribute("href",`#${Fe}`),qe(this,To).set(Ae,Ce),{id:Ae,clipPathId:`url(#${ke})`}}drawOutline(e){const t=Sl(this,Gm)._++,Se=On(this,N0,i5).call(this,e.box);Se.classList.add(...e.classNamesForOutlining);const _e=xl._svgFactory.createElement("defs");Se.append(_e);const Ae=xl._svgFactory.createElement("path");_e.append(Ae);const Ce=`path_p${this.pageIndex}_${t}`;Ae.setAttribute("id",Ce),Ae.setAttribute("d",e.toSVGPath()),Ae.setAttribute("vector-effect","non-scaling-stroke");let Pe;if(e.mustRemoveSelfIntersections){const ke=xl._svgFactory.createElement("mask");_e.append(ke),Pe=`mask_p${this.pageIndex}_${t}`,ke.setAttribute("id",Pe),ke.setAttribute("maskUnits","objectBoundingBox");const Ie=xl._svgFactory.createElement("rect");ke.append(Ie),Ie.setAttribute("width","1"),Ie.setAttribute("height","1"),Ie.setAttribute("fill","white");const Oe=xl._svgFactory.createElement("use");ke.append(Oe),Oe.setAttribute("href",`#${Ce}`),Oe.setAttribute("stroke","none"),Oe.setAttribute("fill","black"),Oe.setAttribute("fill-rule","nonzero"),Oe.classList.add("mask")}const Ee=xl._svgFactory.createElement("use");Se.append(Ee),Ee.setAttribute("href",`#${Ce}`),Pe&&Ee.setAttribute("mask",`url(#${Pe})`);const Fe=Ee.cloneNode();return Se.append(Fe),Ee.classList.add("mainOutline"),Fe.classList.add("secondaryOutline"),qe(this,To).set(t,Se),t}finalizeLine(e,t){const Se=qe(this,hf).get(e);qe(this,hf).delete(e),this.updateBox(e,t.box),Se.setAttribute("d",t.toSVGPath())}updateLine(e,t){qe(this,To).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){qe(this,hf).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var Se;On(Se=xl,Hm,r5).call(Se,qe(this,To).get(e),t)}show(e,t){qe(this,To).get(e).classList.toggle("hidden",!t)}rotate(e,t){qe(this,To).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){qe(this,To).get(e).setAttribute("fill",t)}changeOpacity(e,t){qe(this,To).get(e).setAttribute("fill-opacity",t)}addClass(e,t){qe(this,To).get(e).classList.add(t)}removeClass(e,t){qe(this,To).get(e).classList.remove(t)}getSVGRoot(e){return qe(this,To).get(e)}remove(e){qe(this,hf).delete(e),qe(this,bd)!==null&&(qe(this,To).get(e).remove(),qe(this,To).delete(e))}destroy(){Mn(this,bd,null);for(const e of qe(this,To).values())e.remove();qe(this,To).clear(),qe(this,hf).clear()}};bd=new WeakMap,Gm=new WeakMap,To=new WeakMap,hf=new WeakMap,Hm=new WeakSet,r5=function(e,{x:t=0,y:Se=0,width:_e=1,height:Ae=1}={}){const{style:Ce}=e;Ce.top=`${100*Se}%`,Ce.left=`${100*t}%`,Ce.width=`${100*_e}%`,Ce.height=`${100*Ae}%`},N0=new WeakSet,i5=function(e){var Se;const t=xl._svgFactory.create(1,1,!0);return qe(this,bd).append(t),t.setAttribute("aria-hidden",!0),On(Se=xl,Hm,r5).call(Se,t,e),t},Mw=function(e,t){const Se=xl._svgFactory.createElement("clipPath");e.append(Se);const _e=`clip_${t}`;Se.setAttribute("id",_e),Se.setAttribute("clipPathUnits","objectBoundingBox");const Ae=xl._svgFactory.createElement("use");return Se.append(Ae),Ae.setAttribute("href",`#${t}`),Ae.classList.add("clip"),_e},jn(xl,Hm);let DrawLayer=xl;var __webpack_exports__AbortException=__webpack_exports__.AbortException,__webpack_exports__AnnotationEditorLayer=__webpack_exports__.AnnotationEditorLayer,__webpack_exports__AnnotationEditorParamsType=__webpack_exports__.AnnotationEditorParamsType,__webpack_exports__AnnotationEditorType=__webpack_exports__.AnnotationEditorType,__webpack_exports__AnnotationEditorUIManager=__webpack_exports__.AnnotationEditorUIManager,__webpack_exports__AnnotationLayer=__webpack_exports__.AnnotationLayer,__webpack_exports__AnnotationMode=__webpack_exports__.AnnotationMode,__webpack_exports__ColorPicker=__webpack_exports__.ColorPicker,__webpack_exports__DOMSVGFactory=__webpack_exports__.DOMSVGFactory,__webpack_exports__DrawLayer=__webpack_exports__.DrawLayer,__webpack_exports__FeatureTest=__webpack_exports__.FeatureTest,__webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions,__webpack_exports__ImageKind=__webpack_exports__.ImageKind,__webpack_exports__InvalidPDFException=__webpack_exports__.InvalidPDFException,__webpack_exports__MissingPDFException=__webpack_exports__.MissingPDFException,__webpack_exports__OPS=__webpack_exports__.OPS,__webpack_exports__OutputScale=__webpack_exports__.OutputScale,__webpack_exports__PDFDataRangeTransport=__webpack_exports__.PDFDataRangeTransport,__webpack_exports__PDFDateString=__webpack_exports__.PDFDateString,__webpack_exports__PDFWorker=__webpack_exports__.PDFWorker,__webpack_exports__PasswordResponses=__webpack_exports__.PasswordResponses,__webpack_exports__PermissionFlag=__webpack_exports__.PermissionFlag,__webpack_exports__PixelsPerInch=__webpack_exports__.PixelsPerInch,__webpack_exports__RenderingCancelledException=__webpack_exports__.RenderingCancelledException,__webpack_exports__TextLayer=__webpack_exports__.TextLayer,__webpack_exports__UnexpectedResponseException=__webpack_exports__.UnexpectedResponseException,__webpack_exports__Util=__webpack_exports__.Util,__webpack_exports__VerbosityLevel=__webpack_exports__.VerbosityLevel,__webpack_exports__XfaLayer=__webpack_exports__.XfaLayer,__webpack_exports__build=__webpack_exports__.build,__webpack_exports__createValidAbsoluteUrl=__webpack_exports__.createValidAbsoluteUrl,__webpack_exports__fetchData=__webpack_exports__.fetchData,__webpack_exports__getDocument=__webpack_exports__.getDocument,__webpack_exports__getFilenameFromUrl=__webpack_exports__.getFilenameFromUrl,__webpack_exports__getPdfFilenameFromUrl=__webpack_exports__.getPdfFilenameFromUrl,__webpack_exports__getXfaPageViewport=__webpack_exports__.getXfaPageViewport,__webpack_exports__isDataScheme=__webpack_exports__.isDataScheme,__webpack_exports__isPdfFile=__webpack_exports__.isPdfFile,__webpack_exports__noContextMenu=__webpack_exports__.noContextMenu,__webpack_exports__normalizeUnicode=__webpack_exports__.normalizeUnicode,__webpack_exports__setLayerDimensions=__webpack_exports__.setLayerDimensions,__webpack_exports__shadow=__webpack_exports__.shadow,__webpack_exports__version=__webpack_exports__.version;const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException:__webpack_exports__AbortException,AnnotationEditorLayer:__webpack_exports__AnnotationEditorLayer,AnnotationEditorParamsType:__webpack_exports__AnnotationEditorParamsType,AnnotationEditorType:__webpack_exports__AnnotationEditorType,AnnotationEditorUIManager:__webpack_exports__AnnotationEditorUIManager,AnnotationLayer:__webpack_exports__AnnotationLayer,AnnotationMode:__webpack_exports__AnnotationMode,ColorPicker:__webpack_exports__ColorPicker,DOMSVGFactory:__webpack_exports__DOMSVGFactory,DrawLayer:__webpack_exports__DrawLayer,FeatureTest:__webpack_exports__FeatureTest,GlobalWorkerOptions:__webpack_exports__GlobalWorkerOptions,ImageKind:__webpack_exports__ImageKind,InvalidPDFException:__webpack_exports__InvalidPDFException,MissingPDFException:__webpack_exports__MissingPDFException,OPS:__webpack_exports__OPS,OutputScale:__webpack_exports__OutputScale,PDFDataRangeTransport:__webpack_exports__PDFDataRangeTransport,PDFDateString:__webpack_exports__PDFDateString,PDFWorker:__webpack_exports__PDFWorker,PasswordResponses:__webpack_exports__PasswordResponses,PermissionFlag:__webpack_exports__PermissionFlag,PixelsPerInch:__webpack_exports__PixelsPerInch,RenderingCancelledException:__webpack_exports__RenderingCancelledException,TextLayer:__webpack_exports__TextLayer,UnexpectedResponseException:__webpack_exports__UnexpectedResponseException,Util:__webpack_exports__Util,VerbosityLevel:__webpack_exports__VerbosityLevel,XfaLayer:__webpack_exports__XfaLayer,build:__webpack_exports__build,createValidAbsoluteUrl:__webpack_exports__createValidAbsoluteUrl,fetchData:__webpack_exports__fetchData,getDocument:__webpack_exports__getDocument,getFilenameFromUrl:__webpack_exports__getFilenameFromUrl,getPdfFilenameFromUrl:__webpack_exports__getPdfFilenameFromUrl,getXfaPageViewport:__webpack_exports__getXfaPageViewport,isDataScheme:__webpack_exports__isDataScheme,isPdfFile:__webpack_exports__isPdfFile,noContextMenu:__webpack_exports__noContextMenu,normalizeUnicode:__webpack_exports__normalizeUnicode,setLayerDimensions:__webpack_exports__setLayerDimensions,shadow:__webpack_exports__shadow,version:__webpack_exports__version},Symbol.toStringTag,{value:"Module"}));var __spreadArray=function(xe,e,t){if(t||arguments.length===2)for(var Se=0,_e=e.length,Ae;Se<_e;Se++)(Ae||!(Se in e))&&(Ae||(Ae=Array.prototype.slice.call(e,0,Se)),Ae[Se]=e[Se]);return xe.concat(Ae||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(xe,e){var t={};return allEvents.forEach(function(Se){var _e=xe[Se];_e&&(e?t[Se]=function(Ae){return _e(Ae,e(Se))}:t[Se]=_e)}),t}function makeCancellablePromise(xe){var e=!1,t=new Promise(function(Se,_e){xe.then(function(Ae){return!e&&Se(Ae)}).catch(function(Ae){return!e&&_e(Ae)})});return{promise:t,cancel:function(){e=!0}}}function r(xe){var e,t,Se="";if(typeof xe=="string"||typeof xe=="number")Se+=xe;else if(typeof xe=="object")if(Array.isArray(xe)){var _e=xe.length;for(e=0;e<_e;e++)xe[e]&&(t=r(xe[e]))&&(Se&&(Se+=" "),Se+=t)}else for(t in xe)xe[t]&&(Se&&(Se+=" "),Se+=t);return Se}function clsx(){for(var xe,e,t=0,Se="",_e=arguments.length;t<_e;t++)(xe=arguments[t])&&(e=r(xe))&&(Se&&(Se+=" "),Se+=e);return Se}var prefix="Invariant failed";function invariant(xe,e){if(!xe)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var xe=function(){};return warning_1=xe,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports);var has=Object.prototype.hasOwnProperty;function find(xe,e,t){for(t of xe.keys())if(dequal(t,e))return t}function dequal(xe,e){var t,Se,_e;if(xe===e)return!0;if(xe&&e&&(t=xe.constructor)===e.constructor){if(t===Date)return xe.getTime()===e.getTime();if(t===RegExp)return xe.toString()===e.toString();if(t===Array){if((Se=xe.length)===e.length)for(;Se--&&dequal(xe[Se],e[Se]););return Se===-1}if(t===Set){if(xe.size!==e.size)return!1;for(Se of xe)if(_e=Se,_e&&typeof _e=="object"&&(_e=find(e,_e),!_e)||!e.has(_e))return!1;return!0}if(t===Map){if(xe.size!==e.size)return!1;for(Se of xe)if(_e=Se[0],_e&&typeof _e=="object"&&(_e=find(e,_e),!_e)||!dequal(Se[1],e.get(_e)))return!1;return!0}if(t===ArrayBuffer)xe=new Uint8Array(xe),e=new Uint8Array(e);else if(t===DataView){if((Se=xe.byteLength)===e.byteLength)for(;Se--&&xe.getInt8(Se)===e.getInt8(Se););return Se===-1}if(ArrayBuffer.isView(xe)){if((Se=xe.byteLength)===e.byteLength)for(;Se--&&xe[Se]===e[Se];);return Se===-1}if(!t||typeof xe=="object"){Se=0;for(t in xe)if(has.call(xe,t)&&++Se&&!has.call(e,t)||!(t in e)||!dequal(xe[t],e[t]))return!1;return Object.keys(e).length===Se}}return xe!==xe&&e!==e}const documentContext=reactExports.createContext(null);function Message({children:xe,type:e}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:xe})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{invariant(this.pdfDocument),invariant(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{invariant(Array.isArray(t));const Se=t[0];new Promise(_e=>{invariant(this.pdfDocument),Se instanceof Object?this.pdfDocument.getPageIndex(Se).then(Ae=>{_e(Ae)}).catch(()=>{invariant(!1)}):typeof Se=="number"?_e(Se):invariant(!1)}).then(_e=>{const Ae=_e+1;invariant(this.pdfViewer),invariant(Ae>=1&&Ae<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:_e,pageNumber:Ae})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;invariant(this.pdfViewer),invariant(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,Se){e.href=t,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=Se?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(xe){return typeof xe<"u"}function isProvided(xe){return isDefined(xe)&&xe!==null}function isString(xe){return typeof xe=="string"}function isArrayBuffer(xe){return xe instanceof ArrayBuffer}function isBlob(xe){return invariant(isBrowser),xe instanceof Blob}function isDataURI(xe){return isString(xe)&&/^data:/.test(xe)}function dataURItoByteString(xe){invariant(isDataURI(xe));const[e="",t=""]=xe.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(xe){xe!=null&&xe.cancel&&xe.cancel()}function makePageCallback(xe,e){return Object.defineProperty(xe,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(xe,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(xe,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(xe,"originalHeight",{get(){return this.view[3]},configurable:!0}),xe}function isCancelException(xe){return xe.name==="RenderingCancelledException"}function loadFromFile(xe){return new Promise((e,t)=>{const Se=new FileReader;Se.onload=()=>{if(!Se.result)return t(new Error("Error while reading a file."));e(Se.result)},Se.onerror=_e=>{if(!_e.target)return t(new Error("Error while reading a file."));const{error:Ae}=_e.target;if(!Ae)return t(new Error("Error while reading a file."));switch(Ae.code){case Ae.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case Ae.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case Ae.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},Se.readAsArrayBuffer(xe)})}function reducer(xe,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return xe}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter=function(xe,e,t,Se){function _e(Ae){return Ae instanceof t?Ae:new t(function(Ce){Ce(Ae)})}return new(t||(t=Promise))(function(Ae,Ce){function Pe(ke){try{Fe(Se.next(ke))}catch(Ie){Ce(Ie)}}function Ee(ke){try{Fe(Se.throw(ke))}catch(Ie){Ce(Ie)}}function Fe(ke){ke.done?Ae(ke.value):_e(ke.value).then(Pe,Ee)}Fe((Se=Se.apply(xe,e||[])).next())})},__rest$1=function(xe,e){var t={};for(var Se in xe)Object.prototype.hasOwnProperty.call(xe,Se)&&e.indexOf(Se)<0&&(t[Se]=xe[Se]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,Se=Object.getOwnPropertySymbols(xe);_e<Se.length;_e++)e.indexOf(Se[_e])<0&&Object.prototype.propertyIsEnumerable.call(xe,Se[_e])&&(t[Se[_e]]=xe[Se[_e]]);return t};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(xe,e)=>{switch(e){case PasswordResponses.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");xe(t);break}case PasswordResponses.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");xe(t);break}}};function isParameterObject(xe){return typeof xe=="object"&&xe!==null&&("data"in xe||"range"in xe||"url"in xe)}const Document=reactExports.forwardRef(function xe(e,t){var{children:Se,className:_e,error:Ae="Failed to load PDF file.",externalLinkRel:Ce,externalLinkTarget:Pe,file:Ee,inputRef:Fe,imageResourcesPath:ke,loading:Ie="Loading PDF",noData:Oe="No PDF file specified.",onItemClick:Re,onLoadError:Be,onLoadProgress:je,onLoadSuccess:He,onPassword:Ge=defaultOnPassword,onSourceError:Ve,onSourceSuccess:ze,options:Xe,renderMode:We,rotate:Je}=e,Qe=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Ze,on]=useResolver(),{value:an,error:rn}=Ze,[fn,nn]=useResolver(),{value:cn,error:dn}=fn,bn=reactExports.useRef(new LinkService),pn=reactExports.useRef([]),_n=reactExports.useRef(void 0),Nn=reactExports.useRef(void 0);Ee&&Ee!==_n.current&&isParameterObject(Ee)&&(warning(!dequal(Ee,_n.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),_n.current=Ee),Xe&&Xe!==Nn.current&&(warning(!dequal(Xe,Nn.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Nn.current=Xe);const Un=reactExports.useRef({scrollPageIntoView:Tn=>{const{dest:qn,pageNumber:In,pageIndex:wn=In-1}=Tn;if(Re){Re({dest:qn,pageIndex:wn,pageNumber:In});return}const Vn=pn.current[wn];if(Vn){Vn.scrollIntoView();return}warning(!1,`An internal link leading to page ${In} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(t,()=>({linkService:bn,pages:pn,viewer:Un}),[]);function xn(){ze&&ze()}function St(){rn&&(warning(!1,rn.toString()),Ve&&Ve(rn))}function sn(){on({type:"RESET"})}reactExports.useEffect(sn,[Ee,on]);const gn=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!Ee)return null;if(typeof Ee=="string")return isDataURI(Ee)?{data:dataURItoByteString(Ee)}:(displayCORSWarning(),{url:Ee});if(Ee instanceof PDFDataRangeTransport)return{range:Ee};if(isArrayBuffer(Ee))return{data:Ee};if(isBrowser&&isBlob(Ee))return{data:yield loadFromFile(Ee)};if(invariant(typeof Ee=="object"),invariant(isParameterObject(Ee)),"url"in Ee&&typeof Ee.url=="string"){if(isDataURI(Ee.url)){const{url:Tn}=Ee,qn=__rest$1(Ee,["url"]),In=dataURItoByteString(Tn);return Object.assign({data:In},qn)}displayCORSWarning()}return Ee}),[Ee]);reactExports.useEffect(()=>{const Tn=makeCancellablePromise(gn());return Tn.promise.then(qn=>{on({type:"RESOLVE",value:qn})}).catch(qn=>{on({type:"REJECT",error:qn})}),()=>{cancelRunningTask(Tn)}},[gn,on]),reactExports.useEffect(()=>{if(!(typeof an>"u")){if(an===!1){St();return}xn()}},[an]);function Pn(){cn&&(He&&He(cn),pn.current=new Array(cn.numPages),bn.current.setDocument(cn))}function Fn(){dn&&(warning(!1,dn.toString()),Be&&Be(dn))}reactExports.useEffect(function(){nn({type:"RESET"})},[nn,an]),reactExports.useEffect(function(){if(!an)return;const qn=Xe?Object.assign(Object.assign({},an),Xe):an,In=__webpack_exports__getDocument(qn);je&&(In.onProgress=je),Ge&&(In.onPassword=Ge);const wn=In,Vn=wn.promise.then(Yn=>{nn({type:"RESOLVE",value:Yn})}).catch(Yn=>{wn.destroyed||nn({type:"REJECT",error:Yn})});return()=>{Vn.finally(()=>wn.destroy())}},[Xe,nn,an]),reactExports.useEffect(()=>{if(!(typeof cn>"u")){if(cn===!1){Fn();return}Pn()}},[cn]),reactExports.useEffect(function(){bn.current.setViewer(Un.current),bn.current.setExternalLinkRel(Ce),bn.current.setExternalLinkTarget(Pe)},[Ce,Pe]);const vn=reactExports.useCallback((Tn,qn)=>{pn.current[Tn]=qn},[]),kn=reactExports.useCallback(Tn=>{delete pn.current[Tn]},[]),Bn=reactExports.useMemo(()=>({imageResourcesPath:ke,linkService:bn.current,onItemClick:Re,pdf:cn,registerPage:vn,renderMode:We,rotate:Je,unregisterPage:kn}),[ke,Re,cn,vn,We,Je,kn]),er=reactExports.useMemo(()=>makeEventProps(Qe,()=>cn),[Qe,cn]);function Zn(){return jsxRuntimeExports.jsx(documentContext.Provider,{value:Bn,children:Se})}function Cn(){return Ee?cn==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Ie=="function"?Ie():Ie}):cn===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof Ae=="function"?Ae():Ae}):Zn():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof Oe=="function"?Oe():Oe})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",_e),ref:Fe,style:{"--scale-factor":"1"}},er,{children:Cn()}))});function useDocumentContext(){return reactExports.useContext(documentContext)}function mergeRefs(){for(var xe=[],e=0;e<arguments.length;e++)xe[e]=arguments[e];var t=xe.filter(Boolean);if(t.length<=1){var Se=t[0];return Se||null}return function(Ae){t.forEach(function(Ce){typeof Ce=="function"?Ce(Ae):Ce&&(Ce.current=Ae)})}}const pageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(xe){return xe in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(xe){return"children"in xe}function isStructTreeNodeWithOnlyContentChild(xe){return isStructTreeNode(xe)?xe.children.length===1&&0 in xe.children&&"id"in xe.children[0]:!1}function getRoleAttributes(xe){const e={};if(isStructTreeNode(xe)){const{role:t}=xe,Se=t.match(HEADING_PATTERN);if(Se)e.role="heading",e["aria-level"]=Number(Se[1]);else if(isPdfRole(t)){const _e=PDF_ROLE_TO_HTML_ROLE[t];_e&&(e.role=_e)}}return e}function getBaseAttributes(xe){const e={};if(isStructTreeNode(xe)){if(xe.alt!==void 0&&(e["aria-label"]=xe.alt),xe.lang!==void 0&&(e.lang=xe.lang),isStructTreeNodeWithOnlyContentChild(xe)){const[t]=xe.children;if(t){const Se=getBaseAttributes(t);return Object.assign(Object.assign({},e),Se)}}}else"id"in xe&&(e["aria-owns"]=xe.id);return e}function getAttributes(xe){return xe?Object.assign(Object.assign({},getRoleAttributes(xe)),getBaseAttributes(xe)):null}function StructTreeItem({className:xe,node:e}){const t=reactExports.useMemo(()=>getAttributes(e),[e]),Se=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((_e,Ae)=>jsxRuntimeExports.jsx(StructTreeItem,{node:_e},Ae)),[e]);return jsxRuntimeExports.jsx("span",Object.assign({className:xe},t,{children:Se}))}function usePageContext(){return reactExports.useContext(pageContext)}function StructTree(){const xe=usePageContext();invariant(xe);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=xe,[Se,_e]=useResolver(),{value:Ae,error:Ce}=Se,{customTextRenderer:Pe,page:Ee}=xe;function Fe(){Ae&&t&&t(Ae)}function ke(){Ce&&(warning(!1,Ce.toString()),e&&e(Ce))}return reactExports.useEffect(function(){_e({type:"RESET"})},[_e,Ee]),reactExports.useEffect(function(){if(Pe||!Ee)return;const Oe=makeCancellablePromise(Ee.getStructTree()),Re=Oe;return Oe.promise.then(Be=>{_e({type:"RESOLVE",value:Be})}).catch(Be=>{_e({type:"REJECT",error:Be})}),()=>cancelRunningTask(Re)},[Pe,Ee,_e]),reactExports.useEffect(()=>{if(Ae!==void 0){if(Ae===!1){ke();return}Fe()}},[Ae]),Ae?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:Ae}):null}const ANNOTATION_MODE=__webpack_exports__AnnotationMode;function Canvas$1(xe){const e=usePageContext();invariant(e);const t=Object.assign(Object.assign({},e),xe),{_className:Se,canvasBackground:_e,devicePixelRatio:Ae=getDevicePixelRatio(),onRenderError:Ce,onRenderSuccess:Pe,page:Ee,renderForms:Fe,renderTextLayer:ke,rotate:Ie,scale:Oe}=t,{canvasRef:Re}=xe;invariant(Ee);const Be=reactExports.useRef(null);function je(){Ee&&Pe&&Pe(makePageCallback(Ee,Oe))}function He(Xe){isCancelException(Xe)||(warning(!1,Xe.toString()),Ce&&Ce(Xe))}const Ge=reactExports.useMemo(()=>Ee.getViewport({scale:Oe*Ae,rotation:Ie}),[Ae,Ee,Ie,Oe]),Ve=reactExports.useMemo(()=>Ee.getViewport({scale:Oe,rotation:Ie}),[Ee,Ie,Oe]);reactExports.useEffect(function(){if(!Ee)return;Ee.cleanup();const{current:We}=Be;if(!We)return;We.width=Ge.width,We.height=Ge.height,We.style.width=`${Math.floor(Ve.width)}px`,We.style.height=`${Math.floor(Ve.height)}px`,We.style.visibility="hidden";const Je={annotationMode:Fe?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:We.getContext("2d",{alpha:!1}),viewport:Ge};_e&&(Je.background=_e);const Qe=Ee.render(Je),Ze=Qe;return Qe.promise.then(()=>{We.style.visibility="",je()}).catch(He),()=>cancelRunningTask(Ze)},[_e,Ee,Fe,Ge,Ve]);const ze=reactExports.useCallback(()=>{const{current:Xe}=Be;Xe&&(Xe.width=0,Xe.height=0)},[]);return reactExports.useEffect(()=>ze,[ze]),jsxRuntimeExports.jsx("canvas",{className:`${Se}__canvas`,dir:"ltr",ref:mergeRefs(Re,Be),style:{display:"block",userSelect:"none"},children:ke?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(xe){return"str"in xe}function TextLayer(){const xe=usePageContext();invariant(xe);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:Se,onRenderTextLayerError:_e,onRenderTextLayerSuccess:Ae,page:Ce,pageIndex:Pe,pageNumber:Ee,rotate:Fe,scale:ke}=xe;invariant(Ce);const[Ie,Oe]=useResolver(),{value:Re,error:Be}=Ie,je=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function He(){Re&&Se&&Se(Re)}function Ge(){Be&&(warning(!1,Be.toString()),t&&t(Be))}reactExports.useEffect(function(){Oe({type:"RESET"})},[Ce,Oe]),reactExports.useEffect(function(){if(!Ce)return;const Ze=makeCancellablePromise(Ce.getTextContent()),on=Ze;return Ze.promise.then(an=>{Oe({type:"RESOLVE",value:an})}).catch(an=>{Oe({type:"REJECT",error:an})}),()=>cancelRunningTask(on)},[Ce,Oe]),reactExports.useEffect(()=>{if(Re!==void 0){if(Re===!1){Ge();return}He()}},[Re]);const Ve=reactExports.useCallback(()=>{Ae&&Ae()},[Ae]),ze=reactExports.useCallback(Qe=>{warning(!1,Qe.toString()),_e&&_e(Qe)},[_e]);function Xe(){const Qe=je.current;Qe&&Qe.classList.add("selecting")}function We(){const Qe=je.current;Qe&&Qe.classList.remove("selecting")}const Je=reactExports.useMemo(()=>Ce.getViewport({scale:ke,rotation:Fe}),[Ce,Fe,ke]);return reactExports.useLayoutEffect(function(){if(!Ce||!Re)return;const{current:Ze}=je;if(!Ze)return;Ze.innerHTML="";const on=Ce.streamTextContent({includeMarkedContent:!0}),an={container:Ze,textContentSource:on,viewport:Je},rn=new __webpack_exports__TextLayer(an),fn=rn;return rn.render().then(()=>{const nn=document.createElement("div");nn.className="endOfContent",Ze.append(nn);const cn=Ze.querySelectorAll('[role="presentation"]');if(e){let dn=0;Re.items.forEach((bn,pn)=>{if(!isTextItem(bn))return;const _n=cn[dn];if(!_n)return;const Nn=e(Object.assign({pageIndex:Pe,pageNumber:Ee,itemIndex:pn},bn));_n.innerHTML=Nn,dn+=bn.str&&bn.hasEOL?2:1})}Ve()}).catch(ze),()=>cancelRunningTask(fn)},[e,ze,Ve,Ce,Pe,Ee,Re,Je]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:We,onMouseDown:Xe,ref:je})}function AnnotationLayer(){const xe=useDocumentContext(),e=usePageContext();invariant(e);const t=Object.assign(Object.assign({},xe),e),{imageResourcesPath:Se,linkService:_e,onGetAnnotationsError:Ae,onGetAnnotationsSuccess:Ce,onRenderAnnotationLayerError:Pe,onRenderAnnotationLayerSuccess:Ee,page:Fe,pdf:ke,renderForms:Ie,rotate:Oe,scale:Re=1}=t;invariant(ke),invariant(Fe),invariant(_e);const[Be,je]=useResolver(),{value:He,error:Ge}=Be,Ve=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ze(){He&&Ce&&Ce(He)}function Xe(){Ge&&(warning(!1,Ge.toString()),Ae&&Ae(Ge))}reactExports.useEffect(function(){je({type:"RESET"})},[je,Fe]),reactExports.useEffect(function(){if(!Fe)return;const on=makeCancellablePromise(Fe.getAnnotations()),an=on;return on.promise.then(rn=>{je({type:"RESOLVE",value:rn})}).catch(rn=>{je({type:"REJECT",error:rn})}),()=>{cancelRunningTask(an)}},[je,Fe]),reactExports.useEffect(()=>{if(He!==void 0){if(He===!1){Xe();return}ze()}},[He]);function We(){Ee&&Ee()}function Je(Ze){warning(!1,`${Ze}`),Pe&&Pe(Ze)}const Qe=reactExports.useMemo(()=>Fe.getViewport({scale:Re,rotation:Oe}),[Fe,Oe,Re]);return reactExports.useEffect(function(){if(!ke||!Fe||!_e||!He)return;const{current:on}=Ve;if(!on)return;const an=Qe.clone({dontFlip:!0}),rn={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:on,l10n:null,page:Fe,structTreeLayer:null,viewport:an},fn={annotations:He,annotationStorage:ke.annotationStorage,div:on,imageResourcesPath:Se,linkService:_e,page:Fe,renderForms:Ie,viewport:an};on.innerHTML="";try{new __webpack_exports__AnnotationLayer(rn).render(fn),We()}catch(nn){Je(nn)}return()=>{}},[He,Se,_e,Fe,ke,Ie,Qe]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:Ve})}var __rest=function(xe,e){var t={};for(var Se in xe)Object.prototype.hasOwnProperty.call(xe,Se)&&e.indexOf(Se)<0&&(t[Se]=xe[Se]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,Se=Object.getOwnPropertySymbols(xe);_e<Se.length;_e++)e.indexOf(Se[_e])<0&&Object.prototype.propertyIsEnumerable.call(xe,Se[_e])&&(t[Se[_e]]=xe[Se[_e]]);return t};const defaultScale=1;function Page(xe){const e=useDocumentContext(),t=Object.assign(Object.assign({},e),xe),{_className:Se="react-pdf__Page",_enableRegisterUnregisterPage:_e=!0,canvasBackground:Ae,canvasRef:Ce,children:Pe,className:Ee,customRenderer:Fe,customTextRenderer:ke,devicePixelRatio:Ie,error:Oe="Failed to load the page.",height:Re,inputRef:Be,loading:je="Loading page",noData:He="No page specified.",onGetAnnotationsError:Ge,onGetAnnotationsSuccess:Ve,onGetStructTreeError:ze,onGetStructTreeSuccess:Xe,onGetTextError:We,onGetTextSuccess:Je,onLoadError:Qe,onLoadSuccess:Ze,onRenderAnnotationLayerError:on,onRenderAnnotationLayerSuccess:an,onRenderError:rn,onRenderSuccess:fn,onRenderTextLayerError:nn,onRenderTextLayerSuccess:cn,pageIndex:dn,pageNumber:bn,pdf:pn,registerPage:_n,renderAnnotationLayer:Nn=!0,renderForms:Un=!1,renderMode:xn="canvas",renderTextLayer:St=!0,rotate:sn,scale:gn=defaultScale,unregisterPage:Pn,width:Fn}=t,vn=__rest(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[kn,Bn]=useResolver(),{value:er,error:Zn}=kn,Cn=reactExports.useRef(null);invariant(pn);const Tn=isProvided(bn)?bn-1:dn??null,qn=bn??(isProvided(dn)?dn+1:null),In=sn??(er?er.rotate:null),wn=reactExports.useMemo(()=>{if(!er)return null;let jr=1;const Vr=gn??defaultScale;if(Fn||Re){const Yr=er.getViewport({scale:1,rotation:In});Fn?jr=Fn/Yr.width:Re&&(jr=Re/Yr.height)}return Vr*jr},[Re,er,In,gn,Fn]);reactExports.useEffect(function(){return()=>{isProvided(Tn)&&_e&&Pn&&Pn(Tn)}},[_e,pn,Tn,Pn]);function Vn(){if(Ze){if(!er||!wn)return;Ze(makePageCallback(er,wn))}if(_e&&_n){if(!isProvided(Tn)||!Cn.current)return;_n(Tn,Cn.current)}}function Yn(){Zn&&(warning(!1,Zn.toString()),Qe&&Qe(Zn))}reactExports.useEffect(function(){Bn({type:"RESET"})},[Bn,pn,Tn]),reactExports.useEffect(function(){if(!pn||!qn)return;const Vr=makeCancellablePromise(pn.getPage(qn)),Yr=Vr;return Vr.promise.then(ei=>{Bn({type:"RESOLVE",value:ei})}).catch(ei=>{Bn({type:"REJECT",error:ei})}),()=>cancelRunningTask(Yr)},[Bn,pn,qn]),reactExports.useEffect(()=>{if(er!==void 0){if(er===!1){Yn();return}Vn()}},[er,wn]);const tr=reactExports.useMemo(()=>er&&isProvided(Tn)&&qn&&isProvided(In)&&isProvided(wn)?{_className:Se,canvasBackground:Ae,customTextRenderer:ke,devicePixelRatio:Ie,onGetAnnotationsError:Ge,onGetAnnotationsSuccess:Ve,onGetStructTreeError:ze,onGetStructTreeSuccess:Xe,onGetTextError:We,onGetTextSuccess:Je,onRenderAnnotationLayerError:on,onRenderAnnotationLayerSuccess:an,onRenderError:rn,onRenderSuccess:fn,onRenderTextLayerError:nn,onRenderTextLayerSuccess:cn,page:er,pageIndex:Tn,pageNumber:qn,renderForms:Un,renderTextLayer:St,rotate:In,scale:wn}:null,[Se,Ae,ke,Ie,Ge,Ve,ze,Xe,We,Je,on,an,rn,fn,nn,cn,er,Tn,qn,Un,St,In,wn]),cr=reactExports.useMemo(()=>makeEventProps(vn,()=>er&&(wn?makePageCallback(er,wn):void 0)),[vn,er,wn]),Kn=`${Tn}@${wn}/${In}`;function rr(){switch(xn){case"custom":return invariant(Fe),jsxRuntimeExports.jsx(Fe,{},`${Kn}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas$1,{canvasRef:Ce},`${Kn}_canvas`)}}function ir(){return St?jsxRuntimeExports.jsx(TextLayer,{},`${Kn}_text`):null}function yr(){return Nn?jsxRuntimeExports.jsx(AnnotationLayer,{},`${Kn}_annotations`):null}function xr(){return jsxRuntimeExports.jsxs(pageContext.Provider,{value:tr,children:[rr(),ir(),yr(),Pe]})}function Nr(){return qn?pn===null||er===void 0||er===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof je=="function"?je():je}):pn===!1||er===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof Oe=="function"?Oe():Oe}):xr():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof He=="function"?He():He})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx(Se,Ee),"data-page-number":qn,ref:mergeRefs(Be,Cn),style:{"--scale-factor":`${wn}`,backgroundColor:Ae||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},cr,{children:Nr()}))}displayWorkerWarning();__webpack_exports__GlobalWorkerOptions.workerSrc="pdf.worker.mjs";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=xe=>xe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...xe)=>xe.filter((e,t,Se)=>!!e&&e.trim()!==""&&Se.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:xe="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:Se,className:_e="",children:Ae,iconNode:Ce,...Pe},Ee)=>reactExports.createElement("svg",{ref:Ee,...defaultAttributes,width:e,height:e,stroke:xe,strokeWidth:Se?Number(t)*24/Number(e):t,className:mergeClasses("lucide",_e),...Pe},[...Ce.map(([Fe,ke])=>reactExports.createElement(Fe,ke)),...Array.isArray(Ae)?Ae:[Ae]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(xe,e)=>{const t=reactExports.forwardRef(({className:Se,..._e},Ae)=>reactExports.createElement(Icon,{ref:Ae,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(xe)}`,Se),..._e}));return t.displayName=`${xe}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dock=createLucideIcon("Dock",[["path",{d:"M2 8h20",key:"d11cs7"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"M6 16h12",key:"u522kt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Redo=createLucideIcon("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Undo=createLucideIcon("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,function(xe,e){(function(t,Se){Se()})(FileSaver_min,function(){function t(Fe,ke){return typeof ke>"u"?ke={autoBom:!1}:typeof ke!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ke={autoBom:!ke}),ke.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Fe.type)?new Blob(["\uFEFF",Fe],{type:Fe.type}):Fe}function Se(Fe,ke,Ie){var Oe=new XMLHttpRequest;Oe.open("GET",Fe),Oe.responseType="blob",Oe.onload=function(){Ee(Oe.response,ke,Ie)},Oe.onerror=function(){console.error("could not download file")},Oe.send()}function _e(Fe){var ke=new XMLHttpRequest;ke.open("HEAD",Fe,!1);try{ke.send()}catch{}return 200<=ke.status&&299>=ke.status}function Ae(Fe){try{Fe.dispatchEvent(new MouseEvent("click"))}catch{var ke=document.createEvent("MouseEvents");ke.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Fe.dispatchEvent(ke)}}var Ce=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,Pe=Ce.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Ee=Ce.saveAs||(typeof window!="object"||window!==Ce?function(){}:"download"in HTMLAnchorElement.prototype&&!Pe?function(Fe,ke,Ie){var Oe=Ce.URL||Ce.webkitURL,Re=document.createElement("a");ke=ke||Fe.name||"download",Re.download=ke,Re.rel="noopener",typeof Fe=="string"?(Re.href=Fe,Re.origin===location.origin?Ae(Re):_e(Re.href)?Se(Fe,ke,Ie):Ae(Re,Re.target="_blank")):(Re.href=Oe.createObjectURL(Fe),setTimeout(function(){Oe.revokeObjectURL(Re.href)},4e4),setTimeout(function(){Ae(Re)},0))}:"msSaveOrOpenBlob"in navigator?function(Fe,ke,Ie){if(ke=ke||Fe.name||"download",typeof Fe!="string")navigator.msSaveOrOpenBlob(t(Fe,Ie),ke);else if(_e(Fe))Se(Fe,ke,Ie);else{var Oe=document.createElement("a");Oe.href=Fe,Oe.target="_blank",setTimeout(function(){Ae(Oe)})}}:function(Fe,ke,Ie,Oe){if(Oe=Oe||open("","_blank"),Oe&&(Oe.document.title=Oe.document.body.innerText="downloading..."),typeof Fe=="string")return Se(Fe,ke,Ie);var Re=Fe.type==="application/octet-stream",Be=/constructor/i.test(Ce.HTMLElement)||Ce.safari,je=/CriOS\/[\d]+/.test(navigator.userAgent);if((je||Re&&Be||Pe)&&typeof FileReader<"u"){var He=new FileReader;He.onloadend=function(){var ze=He.result;ze=je?ze:ze.replace(/^data:[^;]*;/,"data:attachment/file;"),Oe?Oe.location.href=ze:location=ze,Oe=null},He.readAsDataURL(Fe)}else{var Ge=Ce.URL||Ce.webkitURL,Ve=Ge.createObjectURL(Fe);Oe?Oe.location=Ve:location.href=Ve,Oe=null,setTimeout(function(){Ge.revokeObjectURL(Ve)},4e4)}});Ce.saveAs=Ee.saveAs=Ee,xe.exports=Ee})}(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min();__webpack_exports__GlobalWorkerOptions.workerSrc="pdfjs.worker.min.js";const tabcolors={colorblack:rgb(0,0,0),colorred:rgb(1,0,0),colorgreen:rgb(0,1,0)},AnnotatedPdfUpdate=({file:xe})=>{var In,wn;const[e,t]=reactExports.useState(0),[Se,_e]=reactExports.useState([]),[Ae,Ce]=reactExports.useState(null),[Pe,Ee]=reactExports.useState(1),[Fe,ke]=reactExports.useState(1),[Ie,Oe]=reactExports.useState(!1),[Re,Be]=reactExports.useState(null),[je,He]=reactExports.useState([]),[Ge,Ve]=reactExports.useState(!1),[ze,Xe]=reactExports.useState([]),We=reactExports.useRef(null),Je=reactExports.useRef(null),Qe=reactExports.useRef(null),Ze=reactExports.useRef(!1),[on,an]=reactExports.useState(null),[rn,fn]=reactExports.useState("black"),[nn,cn]=reactExports.useState(tabcolors.colorblack),[dn,bn]=reactExports.useState(.25),[pn,_n]=reactExports.useState(12);reactExports.useState(!1),reactExports.useState({x:50,y:50}),reactExports.useState({width:100,height:100}),reactExports.useEffect(()=>{if(!xe)return;(async()=>{const tr=await fetch(xe).then(ir=>ir.arrayBuffer()),Kn=await(await PDFDocument.load(tr)).save(),rr=URL.createObjectURL(new Blob([Kn],{type:"application/pdf"}));Ce(rr),_e([Kn])})();const Yn=()=>{if(We.current&&Qe.current&&Je.current){const tr=Je.current.offsetWidth,cr=Qe.current.offsetWidth;ke(tr/cr),console.log("zoomLevel : ",Fe),console.log("zzom calc : "),We.current.width=cr,We.current.height=Qe.current.offsetHeight}else ke(.6)};return window.addEventListener("resize",Yn),Yn(),()=>{window.removeEventListener("resize",Yn)}},[xe]);const Nn=()=>{Oe(!0)},Un=Vn=>{if(!Ie||!Qe.current)return;const Yn=Qe.current.getBoundingClientRect(),tr=Vn.clientX-Yn.left,cr=Vn.clientY-Yn.top,Kn={x:tr,y:cr,text:"",fontSize:+pn,color:rn};Be(Kn)},xn=Vn=>{Re&&Be({...Re,text:Vn.target.value})},St=async Vn=>{if(Vn.key!=="Enter"||!Re.text.trim())return;const Yn=await fetch(Ae).then(Nr=>Nr.arrayBuffer()),tr=await PDFDocument.load(Yn),Kn=tr.getPages()[Pe-1],{width:rr,height:ir}=Kn.getSize();Kn.drawText(Re.text,{x:Re.x/Fe,y:ir-Re.y/Fe,size:Re.fontSize,color:nn});const yr=await tr.save(),xr=URL.createObjectURL(new Blob([yr],{type:"application/pdf"}));Ce(xr),_e(Nr=>[...Nr,yr]),He([...je,Re]),Be(null),Oe(!1)},sn=()=>{Ve(!0)},gn=Vn=>{var ir,yr,xr,Nr;if(!Ge||!We.current)return;Ze.current=!0;const Yn=We.current,tr=Yn.getContext("2d"),cr=Yn.getBoundingClientRect(),Kn=(((yr=(ir=Vn.touches)==null?void 0:ir[0])==null?void 0:yr.clientX)||Vn.clientX)-cr.left,rr=(((Nr=(xr=Vn.touches)==null?void 0:xr[0])==null?void 0:Nr.clientY)||Vn.clientY)-cr.top;tr.beginPath(),tr.moveTo(Kn*(Yn.width/cr.width),rr*(Yn.height/cr.height))},Pn=Vn=>{var ir,yr,xr,Nr;if(!Ge||!Ze.current||!We.current)return;const Yn=We.current,tr=Yn.getContext("2d"),cr=Yn.getBoundingClientRect(),Kn=(((yr=(ir=Vn.touches)==null?void 0:ir[0])==null?void 0:yr.clientX)||Vn.clientX)-cr.left,rr=(((Nr=(xr=Vn.touches)==null?void 0:xr[0])==null?void 0:Nr.clientY)||Vn.clientY)-cr.top;tr.lineTo(Kn*(Yn.width/cr.width),rr*(Yn.height/cr.height)),tr.strokeStyle=rn,tr.lineWidth=dn,tr.lineJoin="miter",tr.stroke(),Xe(jr=>[...jr,{x:Kn,y:rr}])},Fn=()=>{Ge&&(Ze.current=!1)},vn=async()=>{const Vn=await fetch(Ae).then(Yr=>Yr.arrayBuffer()),Yn=await PDFDocument.load(Vn),cr=Yn.getPages()[Pe-1],{width:Kn,height:rr}=cr.getSize(),yr=We.current.toDataURL("image/png"),xr=await Yn.embedPng(yr),Nr=xr.scale(1/Fe);cr.drawImage(xr,{x:0,y:rr-Nr.height,width:Nr.width,height:Nr.height});const jr=await Yn.save(),Vr=URL.createObjectURL(new Blob([jr],{type:"application/pdf"}));Ce(Vr),Ve(!1)},kn=()=>{Pe<on&&Ee(Pe+1)},Bn=()=>{Pe>1&&Ee(Pe-1)},er=()=>ke(Vn=>Vn+.25),Zn=()=>ke(Vn=>Math.max(.25,Vn-.25)),Cn=async()=>{if(!Ae)return;const Yn=await(await fetch(Ae)).blob();FileSaver_minExports.saveAs(Yn,"annotated.pdf")},Tn=()=>{e>=0&&t(tr=>tr+1),console.log("all Annonations : ",Se,"undoCount : ",e);const Vn=Se.length-e-1;console.log("lastEdited : ",Vn);const Yn=Se[Vn];if(Yn){const tr=URL.createObjectURL(new Blob([Yn],{type:"application/pdf"}));Ce(tr)}},qn=()=>{t(tr=>tr-1),console.log("all Annonations redo  : ",Se,"undoCount redo : ",e);const Vn=Se.length-e-1;console.log("lastEdited Redo : ",Vn);const Yn=Se[Vn>=0?Vn:0];if(Yn){const tr=URL.createObjectURL(new Blob([Yn],{type:"application/pdf"}));Ce(tr)}};return jsxRuntimeExports.jsxs("div",{className:"pdf-editor-container w-full max-w-screen-lg mx-auto md:p-4",children:[jsxRuntimeExports.jsxs("div",{className:" md:flex justify-between items-center bg-gray-100 sm:p-2  md:p-2 shadow-md mb-4 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:" sm:text-sm md:text-lg  font-bold text-gray-700",children:"PDF Editor"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:Tn,className:"bg-gray-400 text-white md:py-2 md:px-4 rounded hover:bg-purple-600",children:jsxRuntimeExports.jsx(Undo,{})}),jsxRuntimeExports.jsx("button",{onClick:qn,className:"bg-gray-400 text-white md:py-2 md:px-4 rounded hover:bg-purple-600",children:jsxRuntimeExports.jsx(Redo,{})}),jsxRuntimeExports.jsx("button",{onClick:Cn,className:"bg-purple-500 text-white md:py-2 md:px-4 rounded hover:bg-purple-600",children:"Download PDF"}),jsxRuntimeExports.jsx("button",{onClick:Nn,className:"bg-blue-500 text-white sm:p-4 md:py-2 md:px-4 rounded hover:bg-blue-600",children:"Add Annotation"}),jsxRuntimeExports.jsx("button",{onClick:sn,className:"bg-green-500 text-white  md:py-2 md:px-4 rounded hover:bg-green-600",children:"Add Drawing"}),jsxRuntimeExports.jsx("button",{onClick:Zn,className:"bg-gray-500 text-white md:py-2 md:px-4 rounded hover:bg-gray-600",children:jsxRuntimeExports.jsx(ZoomOut,{})}),jsxRuntimeExports.jsx("button",{onClick:er,className:"bg-gray-500 text-white md:py-2 md:px-4 rounded hover:bg-gray-600",children:jsxRuntimeExports.jsx(ZoomIn,{})})]})]}),(Ge||Ie)&&jsxRuntimeExports.jsxs("div",{className:" flex gap-5 items-center justify-center mt-2 mb-2",children:[jsxRuntimeExports.jsxs("div",{className:" flex space-x-3 h-4 items-center ",children:[jsxRuntimeExports.jsx("p",{children:"Color set : "}),jsxRuntimeExports.jsx("button",{onClick:()=>{fn("red"),cn(tabcolors.colorred)},className:"bg-red-500 p-2 rounded-full"}),jsxRuntimeExports.jsx("button",{onClick:()=>{fn("black"),cn(tabcolors.colorblack)},className:"bg-black p-2 rounded-full"}),jsxRuntimeExports.jsx("button",{onClick:()=>{fn("green"),cn(tabcolors.colorgreen)},className:"bg-green-500 p-2 rounded-full"})]}),Ge?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("select",{onChange:Vn=>bn(Vn.target.value),name:"line Thickness",id:"lt",children:[jsxRuntimeExports.jsx("option",{value:.25,children:"fine thick 0.25"}),jsxRuntimeExports.jsx("option",{value:.5,children:"semi fine thick 0.5"}),jsxRuntimeExports.jsx("option",{value:1,children:" thick 1"}),jsxRuntimeExports.jsx("option",{value:1.25,children:" marker 1.25"})]})}):jsxRuntimeExports.jsx("div",{className:"space-x-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Font Size : "}),jsxRuntimeExports.jsx("input",{className:"border-gray-500 border-2 w-16 px-2 rounded-full",type:"number",placeholder:pn+"px",onChange:Vn=>_n(Vn.target.value)})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:Bn,disabled:Pe===1,className:"bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:jsxRuntimeExports.jsx(ChevronLeft,{})}),jsxRuntimeExports.jsxs("span",{className:"text-lg",children:["Page ",Pe," of ",on]}),jsxRuntimeExports.jsx("button",{onClick:kn,disabled:Pe===on,className:"bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:jsxRuntimeExports.jsx(ChevronRight,{})})]}),jsxRuntimeExports.jsxs("div",{ref:Je,className:"pdf-view-container relative mx-auto mb-4 flex justify-center items-center",onClick:Ge?null:Un,onMouseDown:gn,onMouseMove:Pn,onMouseUp:Fn,onMouseLeave:Fn,onTouchStart:gn,onTouchMove:Pn,onTouchEnd:Fn,style:{overflow:"hidden",border:"1px solid black"},children:[Ie&&Re&&jsxRuntimeExports.jsx("textarea",{style:{position:"absolute",top:Re.y-50,left:Re.x+200,zIndex:100,fontSize:`${Re.fontSize}px`,color:rn,opacity:"0.9"},value:Re.text,onChange:xn,onKeyDown:St,autoFocus:!0}),Ge&&jsxRuntimeExports.jsx("canvas",{ref:We,style:{position:"absolute",top:0,left:0,zIndex:50,width:"100%",height:"100%"},width:((In=Qe.current)==null?void 0:In.offsetWidth)||800,height:((wn=Qe.current)==null?void 0:wn.offsetHeight)||600}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center items-center w-full",children:jsxRuntimeExports.jsx(Document,{file:Ae,onLoadSuccess:({numPages:Vn})=>{an(Vn),Ee(Pe)},className:"shadow-2xl",children:jsxRuntimeExports.jsx(Page,{pageNumber:Pe,scale:Fe,inputRef:Vn=>{Vn&&(Qe.current=Vn)},className:"relative z-0",style:{display:"inline-block",border:"1px solid black"}})})})]}),Ge&&jsxRuntimeExports.jsx("button",{onClick:vn,className:"bg-yellow-500 text-white py-2 px-4 rounded hover:bg-yellow-600 mt-2",children:"Save Drawing"})]})};var lib$1={exports:{}},_FullInternals={},_CoreInternals={},Global={},hasRequiredGlobal;function requireGlobal(){return hasRequiredGlobal||(hasRequiredGlobal=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe._registerNode=xe.Konva=xe.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}xe.glob=typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},xe.Konva={_global:xe.glob,version:"9.3.18",isBrowser:t(),isUnminified:/param/.test((function(_e){}).toString()),dblClickWindow:400,getAngle(_e){return xe.Konva.angleDeg?_e*e:_e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return xe.Konva.DD.isDragging},isTransforming(){var _e;return(_e=xe.Konva.Transformer)===null||_e===void 0?void 0:_e.isTransforming()},isDragReady(){return!!xe.Konva.DD.node},releaseCanvasOnDestroy:!0,document:xe.glob.document,_injectGlobal(_e){xe.glob.Konva=_e}};const Se=_e=>{xe.Konva[_e.prototype.getClassName()]=_e};xe._registerNode=Se,xe.Konva._injectGlobal(xe.Konva)}(Global)),Global}var Util={},hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.Util=xe.Transform=void 0;const e=requireGlobal();class t{constructor(Xe=[1,0,0,1,0,0]){this.dirty=!1,this.m=Xe&&Xe.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(Xe){Xe.m[0]=this.m[0],Xe.m[1]=this.m[1],Xe.m[2]=this.m[2],Xe.m[3]=this.m[3],Xe.m[4]=this.m[4],Xe.m[5]=this.m[5]}point(Xe){const We=this.m;return{x:We[0]*Xe.x+We[2]*Xe.y+We[4],y:We[1]*Xe.x+We[3]*Xe.y+We[5]}}translate(Xe,We){return this.m[4]+=this.m[0]*Xe+this.m[2]*We,this.m[5]+=this.m[1]*Xe+this.m[3]*We,this}scale(Xe,We){return this.m[0]*=Xe,this.m[1]*=Xe,this.m[2]*=We,this.m[3]*=We,this}rotate(Xe){const We=Math.cos(Xe),Je=Math.sin(Xe),Qe=this.m[0]*We+this.m[2]*Je,Ze=this.m[1]*We+this.m[3]*Je,on=this.m[0]*-Je+this.m[2]*We,an=this.m[1]*-Je+this.m[3]*We;return this.m[0]=Qe,this.m[1]=Ze,this.m[2]=on,this.m[3]=an,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(Xe,We){const Je=this.m[0]+this.m[2]*We,Qe=this.m[1]+this.m[3]*We,Ze=this.m[2]+this.m[0]*Xe,on=this.m[3]+this.m[1]*Xe;return this.m[0]=Je,this.m[1]=Qe,this.m[2]=Ze,this.m[3]=on,this}multiply(Xe){const We=this.m[0]*Xe.m[0]+this.m[2]*Xe.m[1],Je=this.m[1]*Xe.m[0]+this.m[3]*Xe.m[1],Qe=this.m[0]*Xe.m[2]+this.m[2]*Xe.m[3],Ze=this.m[1]*Xe.m[2]+this.m[3]*Xe.m[3],on=this.m[0]*Xe.m[4]+this.m[2]*Xe.m[5]+this.m[4],an=this.m[1]*Xe.m[4]+this.m[3]*Xe.m[5]+this.m[5];return this.m[0]=We,this.m[1]=Je,this.m[2]=Qe,this.m[3]=Ze,this.m[4]=on,this.m[5]=an,this}invert(){const Xe=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),We=this.m[3]*Xe,Je=-this.m[1]*Xe,Qe=-this.m[2]*Xe,Ze=this.m[0]*Xe,on=Xe*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),an=Xe*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=We,this.m[1]=Je,this.m[2]=Qe,this.m[3]=Ze,this.m[4]=on,this.m[5]=an,this}getMatrix(){return this.m}decompose(){const Xe=this.m[0],We=this.m[1],Je=this.m[2],Qe=this.m[3],Ze=this.m[4],on=this.m[5],an=Xe*Qe-We*Je,rn={x:Ze,y:on,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(Xe!=0||We!=0){const fn=Math.sqrt(Xe*Xe+We*We);rn.rotation=We>0?Math.acos(Xe/fn):-Math.acos(Xe/fn),rn.scaleX=fn,rn.scaleY=an/fn,rn.skewX=(Xe*Je+We*Qe)/an,rn.skewY=0}else if(Je!=0||Qe!=0){const fn=Math.sqrt(Je*Je+Qe*Qe);rn.rotation=Math.PI/2-(Qe>0?Math.acos(-Je/fn):-Math.acos(Je/fn)),rn.scaleX=an/fn,rn.scaleY=fn,rn.skewX=0,rn.skewY=(Xe*Je+We*Qe)/an}return rn.rotation=xe.Util._getRotation(rn.rotation),rn}}xe.Transform=t;const Se="[object Array]",_e="[object Number]",Ae="[object String]",Ce="[object Boolean]",Pe=Math.PI/180,Ee=180/Math.PI,Fe="#",ke="",Ie="0",Oe="Konva warning: ",Re="Konva error: ",Be="rgb(",je={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},He=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Ge=[];const Ve=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(ze){setTimeout(ze,60)};xe.Util={_isElement(ze){return!!(ze&&ze.nodeType==1)},_isFunction(ze){return!!(ze&&ze.constructor&&ze.call&&ze.apply)},_isPlainObject(ze){return!!ze&&ze.constructor===Object},_isArray(ze){return Object.prototype.toString.call(ze)===Se},_isNumber(ze){return Object.prototype.toString.call(ze)===_e&&!isNaN(ze)&&isFinite(ze)},_isString(ze){return Object.prototype.toString.call(ze)===Ae},_isBoolean(ze){return Object.prototype.toString.call(ze)===Ce},isObject(ze){return ze instanceof Object},isValidSelector(ze){if(typeof ze!="string")return!1;const Xe=ze[0];return Xe==="#"||Xe==="."||Xe===Xe.toUpperCase()},_sign(ze){return ze===0||ze>0?1:-1},requestAnimFrame(ze){Ge.push(ze),Ge.length===1&&Ve(function(){const Xe=Ge;Ge=[],Xe.forEach(function(We){We()})})},createCanvasElement(){const ze=document.createElement("canvas");try{ze.style=ze.style||{}}catch{}return ze},createImageElement(){return document.createElement("img")},_isInDocument(ze){for(;ze=ze.parentNode;)if(ze==document)return!0;return!1},_urlToImage(ze,Xe){const We=xe.Util.createImageElement();We.onload=function(){Xe(We)},We.src=ze},_rgbToHex(ze,Xe,We){return((1<<24)+(ze<<16)+(Xe<<8)+We).toString(16).slice(1)},_hexToRgb(ze){ze=ze.replace(Fe,ke);const Xe=parseInt(ze,16);return{r:Xe>>16&255,g:Xe>>8&255,b:Xe&255}},getRandomColor(){let ze=(Math.random()*16777215<<0).toString(16);for(;ze.length<6;)ze=Ie+ze;return Fe+ze},getRGB(ze){let Xe;return ze in je?(Xe=je[ze],{r:Xe[0],g:Xe[1],b:Xe[2]}):ze[0]===Fe?this._hexToRgb(ze.substring(1)):ze.substr(0,4)===Be?(Xe=He.exec(ze.replace(/ /g,"")),{r:parseInt(Xe[1],10),g:parseInt(Xe[2],10),b:parseInt(Xe[3],10)}):{r:0,g:0,b:0}},colorToRGBA(ze){return ze=ze||"black",xe.Util._namedColorToRBA(ze)||xe.Util._hex3ColorToRGBA(ze)||xe.Util._hex4ColorToRGBA(ze)||xe.Util._hex6ColorToRGBA(ze)||xe.Util._hex8ColorToRGBA(ze)||xe.Util._rgbColorToRGBA(ze)||xe.Util._rgbaColorToRGBA(ze)||xe.Util._hslColorToRGBA(ze)},_namedColorToRBA(ze){const Xe=je[ze.toLowerCase()];return Xe?{r:Xe[0],g:Xe[1],b:Xe[2],a:1}:null},_rgbColorToRGBA(ze){if(ze.indexOf("rgb(")===0){ze=ze.match(/rgb\(([^)]+)\)/)[1];const Xe=ze.split(/ *, */).map(Number);return{r:Xe[0],g:Xe[1],b:Xe[2],a:1}}},_rgbaColorToRGBA(ze){if(ze.indexOf("rgba(")===0){ze=ze.match(/rgba\(([^)]+)\)/)[1];const Xe=ze.split(/ *, */).map((We,Je)=>We.slice(-1)==="%"?Je===3?parseInt(We)/100:parseInt(We)/100*255:Number(We));return{r:Xe[0],g:Xe[1],b:Xe[2],a:Xe[3]}}},_hex8ColorToRGBA(ze){if(ze[0]==="#"&&ze.length===9)return{r:parseInt(ze.slice(1,3),16),g:parseInt(ze.slice(3,5),16),b:parseInt(ze.slice(5,7),16),a:parseInt(ze.slice(7,9),16)/255}},_hex6ColorToRGBA(ze){if(ze[0]==="#"&&ze.length===7)return{r:parseInt(ze.slice(1,3),16),g:parseInt(ze.slice(3,5),16),b:parseInt(ze.slice(5,7),16),a:1}},_hex4ColorToRGBA(ze){if(ze[0]==="#"&&ze.length===5)return{r:parseInt(ze[1]+ze[1],16),g:parseInt(ze[2]+ze[2],16),b:parseInt(ze[3]+ze[3],16),a:parseInt(ze[4]+ze[4],16)/255}},_hex3ColorToRGBA(ze){if(ze[0]==="#"&&ze.length===4)return{r:parseInt(ze[1]+ze[1],16),g:parseInt(ze[2]+ze[2],16),b:parseInt(ze[3]+ze[3],16),a:1}},_hslColorToRGBA(ze){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(ze)){const[Xe,...We]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(ze),Je=Number(We[0])/360,Qe=Number(We[1])/100,Ze=Number(We[2])/100;let on,an,rn;if(Qe===0)return rn=Ze*255,{r:Math.round(rn),g:Math.round(rn),b:Math.round(rn),a:1};Ze<.5?on=Ze*(1+Qe):on=Ze+Qe-Ze*Qe;const fn=2*Ze-on,nn=[0,0,0];for(let cn=0;cn<3;cn++)an=Je+1/3*-(cn-1),an<0&&an++,an>1&&an--,6*an<1?rn=fn+(on-fn)*6*an:2*an<1?rn=on:3*an<2?rn=fn+(on-fn)*(2/3-an)*6:rn=fn,nn[cn]=rn*255;return{r:Math.round(nn[0]),g:Math.round(nn[1]),b:Math.round(nn[2]),a:1}}},haveIntersection(ze,Xe){return!(Xe.x>ze.x+ze.width||Xe.x+Xe.width<ze.x||Xe.y>ze.y+ze.height||Xe.y+Xe.height<ze.y)},cloneObject(ze){const Xe={};for(const We in ze)this._isPlainObject(ze[We])?Xe[We]=this.cloneObject(ze[We]):this._isArray(ze[We])?Xe[We]=this.cloneArray(ze[We]):Xe[We]=ze[We];return Xe},cloneArray(ze){return ze.slice(0)},degToRad(ze){return ze*Pe},radToDeg(ze){return ze*Ee},_degToRad(ze){return xe.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),xe.Util.degToRad(ze)},_radToDeg(ze){return xe.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),xe.Util.radToDeg(ze)},_getRotation(ze){return e.Konva.angleDeg?xe.Util.radToDeg(ze):ze},_capitalize(ze){return ze.charAt(0).toUpperCase()+ze.slice(1)},throw(ze){throw new Error(Re+ze)},error(ze){console.error(Re+ze)},warn(ze){e.Konva.showWarnings&&console.warn(Oe+ze)},each(ze,Xe){for(const We in ze)Xe(We,ze[We])},_inRange(ze,Xe,We){return Xe<=ze&&ze<We},_getProjectionToSegment(ze,Xe,We,Je,Qe,Ze){let on,an,rn;const fn=(ze-We)*(ze-We)+(Xe-Je)*(Xe-Je);if(fn==0)on=ze,an=Xe,rn=(Qe-We)*(Qe-We)+(Ze-Je)*(Ze-Je);else{const nn=((Qe-ze)*(We-ze)+(Ze-Xe)*(Je-Xe))/fn;nn<0?(on=ze,an=Xe,rn=(ze-Qe)*(ze-Qe)+(Xe-Ze)*(Xe-Ze)):nn>1?(on=We,an=Je,rn=(We-Qe)*(We-Qe)+(Je-Ze)*(Je-Ze)):(on=ze+nn*(We-ze),an=Xe+nn*(Je-Xe),rn=(on-Qe)*(on-Qe)+(an-Ze)*(an-Ze))}return[on,an,rn]},_getProjectionToLine(ze,Xe,We){const Je=xe.Util.cloneObject(ze);let Qe=Number.MAX_VALUE;return Xe.forEach(function(Ze,on){if(!We&&on===Xe.length-1)return;const an=Xe[(on+1)%Xe.length],rn=xe.Util._getProjectionToSegment(Ze.x,Ze.y,an.x,an.y,ze.x,ze.y),fn=rn[0],nn=rn[1],cn=rn[2];cn<Qe&&(Je.x=fn,Je.y=nn,Qe=cn)}),Je},_prepareArrayForTween(ze,Xe,We){const Je=[],Qe=[];if(ze.length>Xe.length){const on=Xe;Xe=ze,ze=on}for(let on=0;on<ze.length;on+=2)Je.push({x:ze[on],y:ze[on+1]});for(let on=0;on<Xe.length;on+=2)Qe.push({x:Xe[on],y:Xe[on+1]});const Ze=[];return Qe.forEach(function(on){const an=xe.Util._getProjectionToLine(on,Je,We);Ze.push(an.x),Ze.push(an.y)}),Ze},_prepareToStringify(ze){let Xe;ze.visitedByCircularReferenceRemoval=!0;for(const We in ze)if(ze.hasOwnProperty(We)&&ze[We]&&typeof ze[We]=="object"){if(Xe=Object.getOwnPropertyDescriptor(ze,We),ze[We].visitedByCircularReferenceRemoval||xe.Util._isElement(ze[We]))if(Xe.configurable)delete ze[We];else return null;else if(xe.Util._prepareToStringify(ze[We])===null)if(Xe.configurable)delete ze[We];else return null}return delete ze.visitedByCircularReferenceRemoval,ze},_assign(ze,Xe){for(const We in Xe)ze[We]=Xe[We];return ze},_getFirstPointerId(ze){return ze.touches?ze.changedTouches[0].identifier:ze.pointerId||999},releaseCanvas(...ze){e.Konva.releaseCanvasOnDestroy&&ze.forEach(Xe=>{Xe.width=0,Xe.height=0})},drawRoundedRectPath(ze,Xe,We,Je){let Qe=0,Ze=0,on=0,an=0;typeof Je=="number"?Qe=Ze=on=an=Math.min(Je,Xe/2,We/2):(Qe=Math.min(Je[0]||0,Xe/2,We/2),Ze=Math.min(Je[1]||0,Xe/2,We/2),an=Math.min(Je[2]||0,Xe/2,We/2),on=Math.min(Je[3]||0,Xe/2,We/2)),ze.moveTo(Qe,0),ze.lineTo(Xe-Ze,0),ze.arc(Xe-Ze,Ze,Ze,Math.PI*3/2,0,!1),ze.lineTo(Xe,We-an),ze.arc(Xe-an,We-an,an,0,Math.PI/2,!1),ze.lineTo(on,We),ze.arc(on,We-on,on,Math.PI/2,Math.PI,!1),ze.lineTo(0,Qe),ze.arc(Qe,Qe,Qe,Math.PI,Math.PI*3/2,!1)}}}(Util)),Util}var Node$1={},Factory={},Validators={},hasRequiredValidators;function requireValidators(){if(hasRequiredValidators)return Validators;hasRequiredValidators=1,Object.defineProperty(Validators,"__esModule",{value:!0}),Validators.RGBComponent=Se,Validators.alphaComponent=_e,Validators.getNumberValidator=Ae,Validators.getNumberOrArrayOfNumbersValidator=Ce,Validators.getNumberOrAutoValidator=Pe,Validators.getStringValidator=Ee,Validators.getStringOrGradientValidator=Fe,Validators.getFunctionValidator=ke,Validators.getNumberArrayValidator=Ie,Validators.getBooleanValidator=Oe,Validators.getComponentValidator=Re;const xe=requireGlobal(),e=requireUtil();function t(Be){return e.Util._isString(Be)?'"'+Be+'"':Object.prototype.toString.call(Be)==="[object Number]"||e.Util._isBoolean(Be)?Be:Object.prototype.toString.call(Be)}function Se(Be){return Be>255?255:Be<0?0:Math.round(Be)}function _e(Be){return Be>1?1:Be<1e-4?1e-4:Be}function Ae(){if(xe.Konva.isUnminified)return function(Be,je){return e.Util._isNumber(Be)||e.Util.warn(t(Be)+' is a not valid value for "'+je+'" attribute. The value should be a number.'),Be}}function Ce(Be){if(xe.Konva.isUnminified)return function(je,He){let Ge=e.Util._isNumber(je),Ve=e.Util._isArray(je)&&je.length==Be;return!Ge&&!Ve&&e.Util.warn(t(je)+' is a not valid value for "'+He+'" attribute. The value should be a number or Array<number>('+Be+")"),je}}function Pe(){if(xe.Konva.isUnminified)return function(Be,je){var He=e.Util._isNumber(Be),Ge=Be==="auto";return He||Ge||e.Util.warn(t(Be)+' is a not valid value for "'+je+'" attribute. The value should be a number or "auto".'),Be}}function Ee(){if(xe.Konva.isUnminified)return function(Be,je){return e.Util._isString(Be)||e.Util.warn(t(Be)+' is a not valid value for "'+je+'" attribute. The value should be a string.'),Be}}function Fe(){if(xe.Konva.isUnminified)return function(Be,je){const He=e.Util._isString(Be),Ge=Object.prototype.toString.call(Be)==="[object CanvasGradient]"||Be&&Be.addColorStop;return He||Ge||e.Util.warn(t(Be)+' is a not valid value for "'+je+'" attribute. The value should be a string or a native gradient.'),Be}}function ke(){if(xe.Konva.isUnminified)return function(Be,je){return e.Util._isFunction(Be)||e.Util.warn(t(Be)+' is a not valid value for "'+je+'" attribute. The value should be a function.'),Be}}function Ie(){if(xe.Konva.isUnminified)return function(Be,je){const He=Int8Array?Object.getPrototypeOf(Int8Array):null;return He&&Be instanceof He||(e.Util._isArray(Be)?Be.forEach(function(Ge){e.Util._isNumber(Ge)||e.Util.warn('"'+je+'" attribute has non numeric element '+Ge+". Make sure that all elements are numbers.")}):e.Util.warn(t(Be)+' is a not valid value for "'+je+'" attribute. The value should be a array of numbers.')),Be}}function Oe(){if(xe.Konva.isUnminified)return function(Be,je){var He=Be===!0||Be===!1;return He||e.Util.warn(t(Be)+' is a not valid value for "'+je+'" attribute. The value should be a boolean.'),Be}}function Re(Be){if(xe.Konva.isUnminified)return function(je,He){return je==null||e.Util.isObject(je)||e.Util.warn(t(je)+' is a not valid value for "'+He+'" attribute. The value should be an object with properties '+Be),je}}return Validators}var hasRequiredFactory;function requireFactory(){return hasRequiredFactory||(hasRequiredFactory=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.Factory=void 0;const e=requireUtil(),t=requireValidators(),Se="get",_e="set";xe.Factory={addGetterSetter(Ae,Ce,Pe,Ee,Fe){xe.Factory.addGetter(Ae,Ce,Pe),xe.Factory.addSetter(Ae,Ce,Ee,Fe),xe.Factory.addOverloadedGetterSetter(Ae,Ce)},addGetter(Ae,Ce,Pe){var Ee=Se+e.Util._capitalize(Ce);Ae.prototype[Ee]=Ae.prototype[Ee]||function(){const Fe=this.attrs[Ce];return Fe===void 0?Pe:Fe}},addSetter(Ae,Ce,Pe,Ee){var Fe=_e+e.Util._capitalize(Ce);Ae.prototype[Fe]||xe.Factory.overWriteSetter(Ae,Ce,Pe,Ee)},overWriteSetter(Ae,Ce,Pe,Ee){var Fe=_e+e.Util._capitalize(Ce);Ae.prototype[Fe]=function(ke){return Pe&&ke!==void 0&&ke!==null&&(ke=Pe.call(this,ke,Ce)),this._setAttr(Ce,ke),Ee&&Ee.call(this),this}},addComponentsGetterSetter(Ae,Ce,Pe,Ee,Fe){const ke=Pe.length,Ie=e.Util._capitalize,Oe=Se+Ie(Ce),Re=_e+Ie(Ce);Ae.prototype[Oe]=function(){const je={};for(let He=0;He<ke;He++){const Ge=Pe[He];je[Ge]=this.getAttr(Ce+Ie(Ge))}return je};const Be=(0,t.getComponentValidator)(Pe);Ae.prototype[Re]=function(je){const He=this.attrs[Ce];Ee&&(je=Ee.call(this,je,Ce)),Be&&Be.call(this,je,Ce);for(const Ge in je)je.hasOwnProperty(Ge)&&this._setAttr(Ce+Ie(Ge),je[Ge]);return je||Pe.forEach(Ge=>{this._setAttr(Ce+Ie(Ge),void 0)}),this._fireChangeEvent(Ce,He,je),Fe&&Fe.call(this),this},xe.Factory.addOverloadedGetterSetter(Ae,Ce)},addOverloadedGetterSetter(Ae,Ce){var Pe=e.Util._capitalize(Ce),Ee=_e+Pe,Fe=Se+Pe;Ae.prototype[Ce]=function(){return arguments.length?(this[Ee](arguments[0]),this):this[Fe]()}},addDeprecatedGetterSetter(Ae,Ce,Pe,Ee){e.Util.error("Adding deprecated "+Ce);const Fe=Se+e.Util._capitalize(Ce),ke=Ce+" property is deprecated and will be removed soon. Look at Konva change log for more information.";Ae.prototype[Fe]=function(){e.Util.error(ke);const Ie=this.attrs[Ce];return Ie===void 0?Pe:Ie},xe.Factory.addSetter(Ae,Ce,Ee,function(){e.Util.error(ke)}),xe.Factory.addOverloadedGetterSetter(Ae,Ce)},backCompat(Ae,Ce){e.Util.each(Ce,function(Pe,Ee){const Fe=Ae.prototype[Ee],ke=Se+e.Util._capitalize(Pe),Ie=_e+e.Util._capitalize(Pe);function Oe(){Fe.apply(this,arguments),e.Util.error('"'+Pe+'" method is deprecated and will be removed soon. Use ""'+Ee+'" instead.')}Ae.prototype[Pe]=Oe,Ae.prototype[ke]=Oe,Ae.prototype[Ie]=Oe})},afterSetFilter(){this._filterUpToDate=!1}}}(Factory)),Factory}var Canvas={},Context={},hasRequiredContext;function requireContext(){if(hasRequiredContext)return Context;hasRequiredContext=1,Object.defineProperty(Context,"__esModule",{value:!0}),Context.HitContext=Context.SceneContext=Context.Context=void 0;const xe=requireUtil(),e=requireGlobal();function t(Ge){const Ve=[],ze=Ge.length,Xe=xe.Util;for(let We=0;We<ze;We++){let Je=Ge[We];Xe._isNumber(Je)?Je=Math.round(Je*1e3)/1e3:Xe._isString(Je)||(Je=Je+""),Ve.push(Je)}return Ve}const Se=",",_e="(",Ae=")",Ce="([",Pe="])",Ee=";",Fe="()",ke="=",Ie=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Oe=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],Re=100;let Be=class{constructor(Ve){this.canvas=Ve,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(Ve){Ve.fillEnabled()&&this._fill(Ve)}_fill(Ve){}strokeShape(Ve){Ve.hasStroke()&&this._stroke(Ve)}_stroke(Ve){}fillStrokeShape(Ve){Ve.attrs.fillAfterStrokeEnabled?(this.strokeShape(Ve),this.fillShape(Ve)):(this.fillShape(Ve),this.strokeShape(Ve))}getTrace(Ve,ze){let Xe=this.traceArr,We=Xe.length,Je="",Qe,Ze,on,an;for(Qe=0;Qe<We;Qe++)Ze=Xe[Qe],on=Ze.method,on?(an=Ze.args,Je+=on,Ve?Je+=Fe:xe.Util._isArray(an[0])?Je+=Ce+an.join(Se)+Pe:(ze&&(an=an.map(rn=>typeof rn=="number"?Math.floor(rn):rn)),Je+=_e+an.join(Se)+Ae)):(Je+=Ze.property,Ve||(Je+=ke+Ze.val)),Je+=Ee;return Je}clearTrace(){this.traceArr=[]}_trace(Ve){let ze=this.traceArr,Xe;ze.push(Ve),Xe=ze.length,Xe>=Re&&ze.shift()}reset(){const Ve=this.getCanvas().getPixelRatio();this.setTransform(1*Ve,0,0,1*Ve,0,0)}getCanvas(){return this.canvas}clear(Ve){const ze=this.getCanvas();Ve?this.clearRect(Ve.x||0,Ve.y||0,Ve.width||0,Ve.height||0):this.clearRect(0,0,ze.getWidth()/ze.pixelRatio,ze.getHeight()/ze.pixelRatio)}_applyLineCap(Ve){const ze=Ve.attrs.lineCap;ze&&this.setAttr("lineCap",ze)}_applyOpacity(Ve){const ze=Ve.getAbsoluteOpacity();ze!==1&&this.setAttr("globalAlpha",ze)}_applyLineJoin(Ve){const ze=Ve.attrs.lineJoin;ze&&this.setAttr("lineJoin",ze)}setAttr(Ve,ze){this._context[Ve]=ze}arc(Ve,ze,Xe,We,Je,Qe){this._context.arc(Ve,ze,Xe,We,Je,Qe)}arcTo(Ve,ze,Xe,We,Je){this._context.arcTo(Ve,ze,Xe,We,Je)}beginPath(){this._context.beginPath()}bezierCurveTo(Ve,ze,Xe,We,Je,Qe){this._context.bezierCurveTo(Ve,ze,Xe,We,Je,Qe)}clearRect(Ve,ze,Xe,We){this._context.clearRect(Ve,ze,Xe,We)}clip(...Ve){this._context.clip.apply(this._context,Ve)}closePath(){this._context.closePath()}createImageData(Ve,ze){const Xe=arguments;if(Xe.length===2)return this._context.createImageData(Ve,ze);if(Xe.length===1)return this._context.createImageData(Ve)}createLinearGradient(Ve,ze,Xe,We){return this._context.createLinearGradient(Ve,ze,Xe,We)}createPattern(Ve,ze){return this._context.createPattern(Ve,ze)}createRadialGradient(Ve,ze,Xe,We,Je,Qe){return this._context.createRadialGradient(Ve,ze,Xe,We,Je,Qe)}drawImage(Ve,ze,Xe,We,Je,Qe,Ze,on,an){const rn=arguments,fn=this._context;rn.length===3?fn.drawImage(Ve,ze,Xe):rn.length===5?fn.drawImage(Ve,ze,Xe,We,Je):rn.length===9&&fn.drawImage(Ve,ze,Xe,We,Je,Qe,Ze,on,an)}ellipse(Ve,ze,Xe,We,Je,Qe,Ze,on){this._context.ellipse(Ve,ze,Xe,We,Je,Qe,Ze,on)}isPointInPath(Ve,ze,Xe,We){return Xe?this._context.isPointInPath(Xe,Ve,ze,We):this._context.isPointInPath(Ve,ze,We)}fill(...Ve){this._context.fill.apply(this._context,Ve)}fillRect(Ve,ze,Xe,We){this._context.fillRect(Ve,ze,Xe,We)}strokeRect(Ve,ze,Xe,We){this._context.strokeRect(Ve,ze,Xe,We)}fillText(Ve,ze,Xe,We){We?this._context.fillText(Ve,ze,Xe,We):this._context.fillText(Ve,ze,Xe)}measureText(Ve){return this._context.measureText(Ve)}getImageData(Ve,ze,Xe,We){return this._context.getImageData(Ve,ze,Xe,We)}lineTo(Ve,ze){this._context.lineTo(Ve,ze)}moveTo(Ve,ze){this._context.moveTo(Ve,ze)}rect(Ve,ze,Xe,We){this._context.rect(Ve,ze,Xe,We)}roundRect(Ve,ze,Xe,We,Je){this._context.roundRect(Ve,ze,Xe,We,Je)}putImageData(Ve,ze,Xe){this._context.putImageData(Ve,ze,Xe)}quadraticCurveTo(Ve,ze,Xe,We){this._context.quadraticCurveTo(Ve,ze,Xe,We)}restore(){this._context.restore()}rotate(Ve){this._context.rotate(Ve)}save(){this._context.save()}scale(Ve,ze){this._context.scale(Ve,ze)}setLineDash(Ve){this._context.setLineDash?this._context.setLineDash(Ve):"mozDash"in this._context?this._context.mozDash=Ve:"webkitLineDash"in this._context&&(this._context.webkitLineDash=Ve)}getLineDash(){return this._context.getLineDash()}setTransform(Ve,ze,Xe,We,Je,Qe){this._context.setTransform(Ve,ze,Xe,We,Je,Qe)}stroke(Ve){Ve?this._context.stroke(Ve):this._context.stroke()}strokeText(Ve,ze,Xe,We){this._context.strokeText(Ve,ze,Xe,We)}transform(Ve,ze,Xe,We,Je,Qe){this._context.transform(Ve,ze,Xe,We,Je,Qe)}translate(Ve,ze){this._context.translate(Ve,ze)}_enableTrace(){let Ve=this,ze=Ie.length,Xe=this.setAttr,We,Je;const Qe=function(Ze){let on=Ve[Ze],an;Ve[Ze]=function(){return Je=t(Array.prototype.slice.call(arguments,0)),an=on.apply(Ve,arguments),Ve._trace({method:Ze,args:Je}),an}};for(We=0;We<ze;We++)Qe(Ie[We]);Ve.setAttr=function(){Xe.apply(Ve,arguments);const Ze=arguments[0];let on=arguments[1];(Ze==="shadowOffsetX"||Ze==="shadowOffsetY"||Ze==="shadowBlur")&&(on=on/this.canvas.getPixelRatio()),Ve._trace({property:Ze,val:on})}}_applyGlobalCompositeOperation(Ve){const ze=Ve.attrs.globalCompositeOperation;!ze||ze==="source-over"||this.setAttr("globalCompositeOperation",ze)}};Context.Context=Be,Oe.forEach(function(Ge){Object.defineProperty(Be.prototype,Ge,{get(){return this._context[Ge]},set(Ve){this._context[Ge]=Ve}})});class je extends Be{constructor(Ve,{willReadFrequently:ze=!1}={}){super(Ve),this._context=Ve._canvas.getContext("2d",{willReadFrequently:ze})}_fillColor(Ve){const ze=Ve.fill();this.setAttr("fillStyle",ze),Ve._fillFunc(this)}_fillPattern(Ve){this.setAttr("fillStyle",Ve._getFillPattern()),Ve._fillFunc(this)}_fillLinearGradient(Ve){const ze=Ve._getLinearGradient();ze&&(this.setAttr("fillStyle",ze),Ve._fillFunc(this))}_fillRadialGradient(Ve){const ze=Ve._getRadialGradient();ze&&(this.setAttr("fillStyle",ze),Ve._fillFunc(this))}_fill(Ve){const ze=Ve.fill(),Xe=Ve.getFillPriority();if(ze&&Xe==="color"){this._fillColor(Ve);return}const We=Ve.getFillPatternImage();if(We&&Xe==="pattern"){this._fillPattern(Ve);return}const Je=Ve.getFillLinearGradientColorStops();if(Je&&Xe==="linear-gradient"){this._fillLinearGradient(Ve);return}const Qe=Ve.getFillRadialGradientColorStops();if(Qe&&Xe==="radial-gradient"){this._fillRadialGradient(Ve);return}ze?this._fillColor(Ve):We?this._fillPattern(Ve):Je?this._fillLinearGradient(Ve):Qe&&this._fillRadialGradient(Ve)}_strokeLinearGradient(Ve){const ze=Ve.getStrokeLinearGradientStartPoint(),Xe=Ve.getStrokeLinearGradientEndPoint(),We=Ve.getStrokeLinearGradientColorStops(),Je=this.createLinearGradient(ze.x,ze.y,Xe.x,Xe.y);if(We){for(let Qe=0;Qe<We.length;Qe+=2)Je.addColorStop(We[Qe],We[Qe+1]);this.setAttr("strokeStyle",Je)}}_stroke(Ve){const ze=Ve.dash(),Xe=Ve.getStrokeScaleEnabled();if(Ve.hasStroke()){if(!Xe){this.save();const Je=this.getCanvas().getPixelRatio();this.setTransform(Je,0,0,Je,0,0)}this._applyLineCap(Ve),ze&&Ve.dashEnabled()&&(this.setLineDash(ze),this.setAttr("lineDashOffset",Ve.dashOffset())),this.setAttr("lineWidth",Ve.strokeWidth()),Ve.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),Ve.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(Ve):this.setAttr("strokeStyle",Ve.stroke()),Ve._strokeFunc(this),Xe||this.restore()}}_applyShadow(Ve){var ze,Xe,We;const Je=(ze=Ve.getShadowRGBA())!==null&&ze!==void 0?ze:"black",Qe=(Xe=Ve.getShadowBlur())!==null&&Xe!==void 0?Xe:5,Ze=(We=Ve.getShadowOffset())!==null&&We!==void 0?We:{x:0,y:0},on=Ve.getAbsoluteScale(),an=this.canvas.getPixelRatio(),rn=on.x*an,fn=on.y*an;this.setAttr("shadowColor",Je),this.setAttr("shadowBlur",Qe*Math.min(Math.abs(rn),Math.abs(fn))),this.setAttr("shadowOffsetX",Ze.x*rn),this.setAttr("shadowOffsetY",Ze.y*fn)}}Context.SceneContext=je;class He extends Be{constructor(Ve){super(Ve),this._context=Ve._canvas.getContext("2d",{willReadFrequently:!0})}_fill(Ve){this.save(),this.setAttr("fillStyle",Ve.colorKey),Ve._fillFuncHit(this),this.restore()}strokeShape(Ve){Ve.hasHitStroke()&&this._stroke(Ve)}_stroke(Ve){if(Ve.hasHitStroke()){const ze=Ve.getStrokeScaleEnabled();if(!ze){this.save();const Je=this.getCanvas().getPixelRatio();this.setTransform(Je,0,0,Je,0,0)}this._applyLineCap(Ve);const Xe=Ve.hitStrokeWidth(),We=Xe==="auto"?Ve.strokeWidth():Xe;this.setAttr("lineWidth",We),this.setAttr("strokeStyle",Ve.colorKey),Ve._strokeFuncHit(this),ze||this.restore()}}}return Context.HitContext=He,Context}var hasRequiredCanvas;function requireCanvas(){if(hasRequiredCanvas)return Canvas;hasRequiredCanvas=1,Object.defineProperty(Canvas,"__esModule",{value:!0}),Canvas.HitCanvas=Canvas.SceneCanvas=Canvas.Canvas=void 0;const xe=requireUtil(),e=requireContext(),t=requireGlobal(),Se=requireFactory(),_e=requireValidators();let Ae;function Ce(){if(Ae)return Ae;const ke=xe.Util.createCanvasElement(),Ie=ke.getContext("2d");return Ae=function(){const Oe=t.Konva._global.devicePixelRatio||1,Re=Ie.webkitBackingStorePixelRatio||Ie.mozBackingStorePixelRatio||Ie.msBackingStorePixelRatio||Ie.oBackingStorePixelRatio||Ie.backingStorePixelRatio||1;return Oe/Re}(),xe.Util.releaseCanvas(ke),Ae}let Pe=class{constructor(Ie){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const Re=(Ie||{}).pixelRatio||t.Konva.pixelRatio||Ce();this.pixelRatio=Re,this._canvas=xe.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(Ie){const Oe=this.pixelRatio;this.pixelRatio=Ie,this.setSize(this.getWidth()/Oe,this.getHeight()/Oe)}setWidth(Ie){this.width=this._canvas.width=Ie*this.pixelRatio,this._canvas.style.width=Ie+"px";const Oe=this.pixelRatio;this.getContext()._context.scale(Oe,Oe)}setHeight(Ie){this.height=this._canvas.height=Ie*this.pixelRatio,this._canvas.style.height=Ie+"px";const Oe=this.pixelRatio;this.getContext()._context.scale(Oe,Oe)}getWidth(){return this.width}getHeight(){return this.height}setSize(Ie,Oe){this.setWidth(Ie||0),this.setHeight(Oe||0)}toDataURL(Ie,Oe){try{return this._canvas.toDataURL(Ie,Oe)}catch{try{return this._canvas.toDataURL()}catch(Be){return xe.Util.error("Unable to get data URL. "+Be.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Canvas.Canvas=Pe,Se.Factory.addGetterSetter(Pe,"pixelRatio",void 0,(0,_e.getNumberValidator)());class Ee extends Pe{constructor(Ie={width:0,height:0,willReadFrequently:!1}){super(Ie),this.context=new e.SceneContext(this,{willReadFrequently:Ie.willReadFrequently}),this.setSize(Ie.width,Ie.height)}}Canvas.SceneCanvas=Ee;class Fe extends Pe{constructor(Ie={width:0,height:0}){super(Ie),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(Ie.width,Ie.height)}}return Canvas.HitCanvas=Fe,Canvas}var DragAndDrop={},hasRequiredDragAndDrop;function requireDragAndDrop(){return hasRequiredDragAndDrop||(hasRequiredDragAndDrop=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.DD=void 0;const e=requireGlobal(),t=requireUtil();xe.DD={get isDragging(){let Se=!1;return xe.DD._dragElements.forEach(_e=>{_e.dragStatus==="dragging"&&(Se=!0)}),Se},justDragged:!1,get node(){let Se;return xe.DD._dragElements.forEach(_e=>{Se=_e.node}),Se},_dragElements:new Map,_drag(Se){const _e=[];xe.DD._dragElements.forEach((Ae,Ce)=>{const{node:Pe}=Ae,Ee=Pe.getStage();Ee.setPointersPositions(Se),Ae.pointerId===void 0&&(Ae.pointerId=t.Util._getFirstPointerId(Se));const Fe=Ee._changedPointerPositions.find(ke=>ke.id===Ae.pointerId);if(Fe){if(Ae.dragStatus!=="dragging"){const ke=Pe.dragDistance();if(Math.max(Math.abs(Fe.x-Ae.startPointerPos.x),Math.abs(Fe.y-Ae.startPointerPos.y))<ke||(Pe.startDrag({evt:Se}),!Pe.isDragging()))return}Pe._setDragPosition(Se,Ae),_e.push(Pe)}}),_e.forEach(Ae=>{Ae.fire("dragmove",{type:"dragmove",target:Ae,evt:Se},!0)})},_endDragBefore(Se){const _e=[];xe.DD._dragElements.forEach(Ae=>{const{node:Ce}=Ae,Pe=Ce.getStage();if(Se&&Pe.setPointersPositions(Se),!Pe._changedPointerPositions.find(ke=>ke.id===Ae.pointerId))return;(Ae.dragStatus==="dragging"||Ae.dragStatus==="stopped")&&(xe.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,Ae.dragStatus="stopped");const Fe=Ae.node.getLayer()||Ae.node instanceof e.Konva.Stage&&Ae.node;Fe&&_e.indexOf(Fe)===-1&&_e.push(Fe)}),_e.forEach(Ae=>{Ae.draw()})},_endDragAfter(Se){xe.DD._dragElements.forEach((_e,Ae)=>{_e.dragStatus==="stopped"&&_e.node.fire("dragend",{type:"dragend",target:_e.node,evt:Se},!0),_e.dragStatus!=="dragging"&&xe.DD._dragElements.delete(Ae)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",xe.DD._endDragBefore,!0),window.addEventListener("touchend",xe.DD._endDragBefore,!0),window.addEventListener("touchcancel",xe.DD._endDragBefore,!0),window.addEventListener("mousemove",xe.DD._drag),window.addEventListener("touchmove",xe.DD._drag),window.addEventListener("mouseup",xe.DD._endDragAfter,!1),window.addEventListener("touchend",xe.DD._endDragAfter,!1),window.addEventListener("touchcancel",xe.DD._endDragAfter,!1))}(DragAndDrop)),DragAndDrop}var hasRequiredNode;function requireNode(){if(hasRequiredNode)return Node$1;hasRequiredNode=1,Object.defineProperty(Node$1,"__esModule",{value:!0}),Node$1.Node=void 0;const xe=requireUtil(),e=requireFactory(),t=requireCanvas(),Se=requireGlobal(),_e=requireDragAndDrop(),Ae=requireValidators(),Ce="absoluteOpacity",Pe="allEventListeners",Ee="absoluteTransform",Fe="absoluteScale",ke="canvas",Ie="Change",Oe="children",Re="konva",Be="listening",je="mouseenter",He="mouseleave",Ge="set",Ve="Shape",ze=" ",Xe="stage",We="transform",Je="Stage",Qe="visible",Ze=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ze);let on=1;class an{constructor(nn){this._id=on++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(nn),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(nn){(nn===We||nn===Ee)&&this._cache.get(nn)?this._cache.get(nn).dirty=!0:nn?this._cache.delete(nn):this._cache.clear()}_getCache(nn,cn){let dn=this._cache.get(nn);return(dn===void 0||(nn===We||nn===Ee)&&dn.dirty===!0)&&(dn=cn.call(this),this._cache.set(nn,dn)),dn}_calculate(nn,cn,dn){if(!this._attachedDepsListeners.get(nn)){const bn=cn.map(pn=>pn+"Change.konva").join(ze);this.on(bn,()=>{this._clearCache(nn)}),this._attachedDepsListeners.set(nn,!0)}return this._getCache(nn,dn)}_getCanvasCache(){return this._cache.get(ke)}_clearSelfAndDescendantCache(nn){this._clearCache(nn),nn===Ee&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(ke)){const{scene:nn,filter:cn,hit:dn}=this._cache.get(ke);xe.Util.releaseCanvas(nn,cn,dn),this._cache.delete(ke)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(nn){const cn=nn||{};let dn={};(cn.x===void 0||cn.y===void 0||cn.width===void 0||cn.height===void 0)&&(dn=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let bn=Math.ceil(cn.width||dn.width),pn=Math.ceil(cn.height||dn.height),_n=cn.pixelRatio,Nn=cn.x===void 0?Math.floor(dn.x):cn.x,Un=cn.y===void 0?Math.floor(dn.y):cn.y,xn=cn.offset||0,St=cn.drawBorder||!1,sn=cn.hitCanvasPixelRatio||1;if(!bn||!pn){xe.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const gn=Math.abs(Math.round(dn.x)-Nn)>.5?1:0,Pn=Math.abs(Math.round(dn.y)-Un)>.5?1:0;bn+=xn*2+gn,pn+=xn*2+Pn,Nn-=xn,Un-=xn;const Fn=new t.SceneCanvas({pixelRatio:_n,width:bn,height:pn}),vn=new t.SceneCanvas({pixelRatio:_n,width:0,height:0,willReadFrequently:!0}),kn=new t.HitCanvas({pixelRatio:sn,width:bn,height:pn}),Bn=Fn.getContext(),er=kn.getContext();return kn.isCache=!0,Fn.isCache=!0,this._cache.delete(ke),this._filterUpToDate=!1,cn.imageSmoothingEnabled===!1&&(Fn.getContext()._context.imageSmoothingEnabled=!1,vn.getContext()._context.imageSmoothingEnabled=!1),Bn.save(),er.save(),Bn.translate(-Nn,-Un),er.translate(-Nn,-Un),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Ce),this._clearSelfAndDescendantCache(Fe),this.drawScene(Fn,this),this.drawHit(kn,this),this._isUnderCache=!1,Bn.restore(),er.restore(),St&&(Bn.save(),Bn.beginPath(),Bn.rect(0,0,bn,pn),Bn.closePath(),Bn.setAttr("strokeStyle","red"),Bn.setAttr("lineWidth",5),Bn.stroke(),Bn.restore()),this._cache.set(ke,{scene:Fn,filter:vn,hit:kn,x:Nn,y:Un}),this._requestDraw(),this}isCached(){return this._cache.has(ke)}getClientRect(nn){throw new Error('abstract "getClientRect" method call')}_transformedRect(nn,cn){const dn=[{x:nn.x,y:nn.y},{x:nn.x+nn.width,y:nn.y},{x:nn.x+nn.width,y:nn.y+nn.height},{x:nn.x,y:nn.y+nn.height}];let bn=1/0,pn=1/0,_n=-1/0,Nn=-1/0;const Un=this.getAbsoluteTransform(cn);return dn.forEach(function(xn){const St=Un.point(xn);bn===void 0&&(bn=_n=St.x,pn=Nn=St.y),bn=Math.min(bn,St.x),pn=Math.min(pn,St.y),_n=Math.max(_n,St.x),Nn=Math.max(Nn,St.y)}),{x:bn,y:pn,width:_n-bn,height:Nn-pn}}_drawCachedSceneCanvas(nn){nn.save(),nn._applyOpacity(this),nn._applyGlobalCompositeOperation(this);const cn=this._getCanvasCache();nn.translate(cn.x,cn.y);const dn=this._getCachedSceneCanvas(),bn=dn.pixelRatio;nn.drawImage(dn._canvas,0,0,dn.width/bn,dn.height/bn),nn.restore()}_drawCachedHitCanvas(nn){const cn=this._getCanvasCache(),dn=cn.hit;nn.save(),nn.translate(cn.x,cn.y),nn.drawImage(dn._canvas,0,0,dn.width/dn.pixelRatio,dn.height/dn.pixelRatio),nn.restore()}_getCachedSceneCanvas(){let nn=this.filters(),cn=this._getCanvasCache(),dn=cn.scene,bn=cn.filter,pn=bn.getContext(),_n,Nn,Un,xn;if(nn){if(!this._filterUpToDate){const St=dn.pixelRatio;bn.setSize(dn.width/dn.pixelRatio,dn.height/dn.pixelRatio);try{for(_n=nn.length,pn.clear(),pn.drawImage(dn._canvas,0,0,dn.getWidth()/St,dn.getHeight()/St),Nn=pn.getImageData(0,0,bn.getWidth(),bn.getHeight()),Un=0;Un<_n;Un++){if(xn=nn[Un],typeof xn!="function"){xe.Util.error("Filter should be type of function, but got "+typeof xn+" instead. Please check correct filters");continue}xn.call(this,Nn),pn.putImageData(Nn,0,0)}}catch(sn){xe.Util.error("Unable to apply filter. "+sn.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return bn}return dn}on(nn,cn){if(this._cache&&this._cache.delete(Pe),arguments.length===3)return this._delegate.apply(this,arguments);let dn=nn.split(ze),bn=dn.length,pn,_n,Nn,Un,xn;for(pn=0;pn<bn;pn++)_n=dn[pn],Nn=_n.split("."),Un=Nn[0],xn=Nn[1]||"",this.eventListeners[Un]||(this.eventListeners[Un]=[]),this.eventListeners[Un].push({name:xn,handler:cn});return this}off(nn,cn){let dn=(nn||"").split(ze),bn=dn.length,pn,_n,Nn,Un,xn,St;if(this._cache&&this._cache.delete(Pe),!nn)for(_n in this.eventListeners)this._off(_n);for(pn=0;pn<bn;pn++)if(Nn=dn[pn],Un=Nn.split("."),xn=Un[0],St=Un[1],xn)this.eventListeners[xn]&&this._off(xn,St,cn);else for(_n in this.eventListeners)this._off(_n,St,cn);return this}dispatchEvent(nn){const cn={target:this,type:nn.type,evt:nn};return this.fire(nn.type,cn),this}addEventListener(nn,cn){return this.on(nn,function(dn){cn.call(this,dn.evt)}),this}removeEventListener(nn){return this.off(nn),this}_delegate(nn,cn,dn){const bn=this;this.on(nn,function(pn){const _n=pn.target.findAncestors(cn,!0,bn);for(let Nn=0;Nn<_n.length;Nn++)pn=xe.Util.cloneObject(pn),pn.currentTarget=_n[Nn],dn.call(_n[Nn],pn)})}remove(){return this.isDragging()&&this.stopDrag(),_e.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ee),this._clearSelfAndDescendantCache(Ce),this._clearSelfAndDescendantCache(Fe),this._clearSelfAndDescendantCache(Xe),this._clearSelfAndDescendantCache(Qe),this._clearSelfAndDescendantCache(Be)}_remove(){this._clearCaches();const nn=this.getParent();nn&&nn.children&&(nn.children.splice(this.index,1),nn._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(nn){const cn="get"+xe.Util._capitalize(nn);return xe.Util._isFunction(this[cn])?this[cn]():this.attrs[nn]}getAncestors(){let nn=this.getParent(),cn=[];for(;nn;)cn.push(nn),nn=nn.getParent();return cn}getAttrs(){return this.attrs||{}}setAttrs(nn){return this._batchTransformChanges(()=>{let cn,dn;if(!nn)return this;for(cn in nn)cn!==Oe&&(dn=Ge+xe.Util._capitalize(cn),xe.Util._isFunction(this[dn])?this[dn](nn[cn]):this._setAttr(cn,nn[cn]))}),this}isListening(){return this._getCache(Be,this._isListening)}_isListening(nn){if(!this.listening())return!1;const dn=this.getParent();return dn&&dn!==nn&&this!==nn?dn._isListening(nn):!0}isVisible(){return this._getCache(Qe,this._isVisible)}_isVisible(nn){if(!this.visible())return!1;const dn=this.getParent();return dn&&dn!==nn&&this!==nn?dn._isVisible(nn):!0}shouldDrawHit(nn,cn=!1){if(nn)return this._isVisible(nn)&&this._isListening(nn);const dn=this.getLayer();let bn=!1;_e.DD._dragElements.forEach(_n=>{_n.dragStatus==="dragging"&&(_n.node.nodeType==="Stage"||_n.node.getLayer()===dn)&&(bn=!0)});const pn=!cn&&!Se.Konva.hitOnDragEnabled&&(bn||Se.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!pn}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let nn=this.getDepth(),cn=this,dn=0,bn,pn,_n,Nn;function Un(St){for(bn=[],pn=St.length,_n=0;_n<pn;_n++)Nn=St[_n],dn++,Nn.nodeType!==Ve&&(bn=bn.concat(Nn.getChildren().slice())),Nn._id===cn._id&&(_n=pn);bn.length>0&&bn[0].getDepth()<=nn&&Un(bn)}const xn=this.getStage();return cn.nodeType!==Je&&xn&&Un(xn.getChildren()),dn}getDepth(){let nn=0,cn=this.parent;for(;cn;)nn++,cn=cn.parent;return nn}_batchTransformChanges(nn){this._batchingTransformChange=!0,nn(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(We),this._clearSelfAndDescendantCache(Ee)),this._needClearTransformCache=!1}setPosition(nn){return this._batchTransformChanges(()=>{this.x(nn.x),this.y(nn.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const nn=this.getStage();if(!nn)return null;const cn=nn.getPointerPosition();if(!cn)return null;const dn=this.getAbsoluteTransform().copy();return dn.invert(),dn.point(cn)}getAbsolutePosition(nn){let cn=!1,dn=this.parent;for(;dn;){if(dn.isCached()){cn=!0;break}dn=dn.parent}cn&&!nn&&(nn=!0);const bn=this.getAbsoluteTransform(nn).getMatrix(),pn=new xe.Transform,_n=this.offset();return pn.m=bn.slice(),pn.translate(_n.x,_n.y),pn.getTranslation()}setAbsolutePosition(nn){const{x:cn,y:dn,...bn}=this._clearTransform();this.attrs.x=cn,this.attrs.y=dn,this._clearCache(We);const pn=this._getAbsoluteTransform().copy();return pn.invert(),pn.translate(nn.x,nn.y),nn={x:this.attrs.x+pn.getTranslation().x,y:this.attrs.y+pn.getTranslation().y},this._setTransform(bn),this.setPosition({x:nn.x,y:nn.y}),this._clearCache(We),this._clearSelfAndDescendantCache(Ee),this}_setTransform(nn){let cn;for(cn in nn)this.attrs[cn]=nn[cn]}_clearTransform(){const nn={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,nn}move(nn){let cn=nn.x,dn=nn.y,bn=this.x(),pn=this.y();return cn!==void 0&&(bn+=cn),dn!==void 0&&(pn+=dn),this.setPosition({x:bn,y:pn}),this}_eachAncestorReverse(nn,cn){let dn=[],bn=this.getParent(),pn,_n;if(!(cn&&cn._id===this._id)){for(dn.unshift(this);bn&&(!cn||bn._id!==cn._id);)dn.unshift(bn),bn=bn.parent;for(pn=dn.length,_n=0;_n<pn;_n++)nn(dn[_n])}}rotate(nn){return this.rotation(this.rotation()+nn),this}moveToTop(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const nn=this.index,cn=this.parent.getChildren().length;return nn<cn-1?(this.parent.children.splice(nn,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return xe.Util.warn("Node has no parent. moveUp function is ignored."),!1;const nn=this.index,cn=this.parent.getChildren().length;return nn<cn-1?(this.parent.children.splice(nn,1),this.parent.children.splice(nn+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return xe.Util.warn("Node has no parent. moveDown function is ignored."),!1;const nn=this.index;return nn>0?(this.parent.children.splice(nn,1),this.parent.children.splice(nn-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const nn=this.index;return nn>0?(this.parent.children.splice(nn,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(nn){if(!this.parent)return xe.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(nn<0||nn>=this.parent.children.length)&&xe.Util.warn("Unexpected value "+nn+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const cn=this.index;return this.parent.children.splice(cn,1),this.parent.children.splice(nn,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Ce,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let nn=this.opacity();const cn=this.getParent();return cn&&!cn._isUnderCache&&(nn*=cn.getAbsoluteOpacity()),nn}moveTo(nn){return this.getParent()!==nn&&(this._remove(),nn.add(this)),this}toObject(){let nn=this.getAttrs(),cn,dn,bn,pn,_n;const Nn={attrs:{},className:this.getClassName()};for(cn in nn)dn=nn[cn],_n=xe.Util.isObject(dn)&&!xe.Util._isPlainObject(dn)&&!xe.Util._isArray(dn),!_n&&(bn=typeof this[cn]=="function"&&this[cn],delete nn[cn],pn=bn?bn.call(this):null,nn[cn]=dn,pn!==dn&&(Nn.attrs[cn]=dn));return xe.Util._prepareToStringify(Nn)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(nn,cn,dn){const bn=[];cn&&this._isMatch(nn)&&bn.push(this);let pn=this.parent;for(;pn;){if(pn===dn)return bn;pn._isMatch(nn)&&bn.push(pn),pn=pn.parent}return bn}isAncestorOf(nn){return!1}findAncestor(nn,cn,dn){return this.findAncestors(nn,cn,dn)[0]}_isMatch(nn){if(!nn)return!1;if(typeof nn=="function")return nn(this);let cn=nn.replace(/ /g,"").split(","),dn=cn.length,bn,pn;for(bn=0;bn<dn;bn++)if(pn=cn[bn],xe.Util.isValidSelector(pn)||(xe.Util.warn('Selector "'+pn+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),xe.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),xe.Util.warn("Konva is awesome, right?")),pn.charAt(0)==="#"){if(this.id()===pn.slice(1))return!0}else if(pn.charAt(0)==="."){if(this.hasName(pn.slice(1)))return!0}else if(this.className===pn||this.nodeType===pn)return!0;return!1}getLayer(){const nn=this.getParent();return nn?nn.getLayer():null}getStage(){return this._getCache(Xe,this._getStage)}_getStage(){const nn=this.getParent();return nn?nn.getStage():null}fire(nn,cn={},dn){return cn.target=cn.target||this,dn?this._fireAndBubble(nn,cn):this._fire(nn,cn),this}getAbsoluteTransform(nn){return nn?this._getAbsoluteTransform(nn):this._getCache(Ee,this._getAbsoluteTransform)}_getAbsoluteTransform(nn){let cn;if(nn)return cn=new xe.Transform,this._eachAncestorReverse(function(dn){const bn=dn.transformsEnabled();bn==="all"?cn.multiply(dn.getTransform()):bn==="position"&&cn.translate(dn.x()-dn.offsetX(),dn.y()-dn.offsetY())},nn),cn;{cn=this._cache.get(Ee)||new xe.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(cn):cn.reset();const dn=this.transformsEnabled();if(dn==="all")cn.multiply(this.getTransform());else if(dn==="position"){const bn=this.attrs.x||0,pn=this.attrs.y||0,_n=this.attrs.offsetX||0,Nn=this.attrs.offsetY||0;cn.translate(bn-_n,pn-Nn)}return cn.dirty=!1,cn}}getAbsoluteScale(nn){let cn=this;for(;cn;)cn._isUnderCache&&(nn=cn),cn=cn.getParent();const bn=this.getAbsoluteTransform(nn).decompose();return{x:bn.scaleX,y:bn.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(We,this._getTransform)}_getTransform(){var nn,cn;const dn=this._cache.get(We)||new xe.Transform;dn.reset();const bn=this.x(),pn=this.y(),_n=Se.Konva.getAngle(this.rotation()),Nn=(nn=this.attrs.scaleX)!==null&&nn!==void 0?nn:1,Un=(cn=this.attrs.scaleY)!==null&&cn!==void 0?cn:1,xn=this.attrs.skewX||0,St=this.attrs.skewY||0,sn=this.attrs.offsetX||0,gn=this.attrs.offsetY||0;return(bn!==0||pn!==0)&&dn.translate(bn,pn),_n!==0&&dn.rotate(_n),(xn!==0||St!==0)&&dn.skew(xn,St),(Nn!==1||Un!==1)&&dn.scale(Nn,Un),(sn!==0||gn!==0)&&dn.translate(-1*sn,-1*gn),dn.dirty=!1,dn}clone(nn){let cn=xe.Util.cloneObject(this.attrs),dn,bn,pn,_n,Nn;for(dn in nn)cn[dn]=nn[dn];const Un=new this.constructor(cn);for(dn in this.eventListeners)for(bn=this.eventListeners[dn],pn=bn.length,_n=0;_n<pn;_n++)Nn=bn[_n],Nn.name.indexOf(Re)<0&&(Un.eventListeners[dn]||(Un.eventListeners[dn]=[]),Un.eventListeners[dn].push(Nn));return Un}_toKonvaCanvas(nn){nn=nn||{};const cn=this.getClientRect(),dn=this.getStage(),bn=nn.x!==void 0?nn.x:Math.floor(cn.x),pn=nn.y!==void 0?nn.y:Math.floor(cn.y),_n=nn.pixelRatio||1,Nn=new t.SceneCanvas({width:nn.width||Math.ceil(cn.width)||(dn?dn.width():0),height:nn.height||Math.ceil(cn.height)||(dn?dn.height():0),pixelRatio:_n}),Un=Nn.getContext(),xn=new t.SceneCanvas({width:Nn.width/Nn.pixelRatio+Math.abs(bn),height:Nn.height/Nn.pixelRatio+Math.abs(pn),pixelRatio:Nn.pixelRatio});return nn.imageSmoothingEnabled===!1&&(Un._context.imageSmoothingEnabled=!1),Un.save(),(bn||pn)&&Un.translate(-1*bn,-1*pn),this.drawScene(Nn,void 0,xn),Un.restore(),Nn}toCanvas(nn){return this._toKonvaCanvas(nn)._canvas}toDataURL(nn){nn=nn||{};const cn=nn.mimeType||null,dn=nn.quality||null,bn=this._toKonvaCanvas(nn).toDataURL(cn,dn);return nn.callback&&nn.callback(bn),bn}toImage(nn){return new Promise((cn,dn)=>{try{const bn=nn==null?void 0:nn.callback;bn&&delete nn.callback,xe.Util._urlToImage(this.toDataURL(nn),function(pn){cn(pn),bn==null||bn(pn)})}catch(bn){dn(bn)}})}toBlob(nn){return new Promise((cn,dn)=>{try{const bn=nn==null?void 0:nn.callback;bn&&delete nn.callback,this.toCanvas(nn).toBlob(pn=>{cn(pn),bn==null||bn(pn)},nn==null?void 0:nn.mimeType,nn==null?void 0:nn.quality)}catch(bn){dn(bn)}})}setSize(nn){return this.width(nn.width),this.height(nn.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Se.Konva.dragDistance}_off(nn,cn,dn){let bn=this.eventListeners[nn],pn,_n,Nn;for(pn=0;pn<bn.length;pn++)if(_n=bn[pn].name,Nn=bn[pn].handler,(_n!=="konva"||cn==="konva")&&(!cn||_n===cn)&&(!dn||dn===Nn)){if(bn.splice(pn,1),bn.length===0){delete this.eventListeners[nn];break}pn--}}_fireChangeEvent(nn,cn,dn){this._fire(nn+Ie,{oldVal:cn,newVal:dn})}addName(nn){if(!this.hasName(nn)){const cn=this.name(),dn=cn?cn+" "+nn:nn;this.name(dn)}return this}hasName(nn){if(!nn)return!1;const cn=this.name();return cn?(cn||"").split(/\s/g).indexOf(nn)!==-1:!1}removeName(nn){const cn=(this.name()||"").split(/\s/g),dn=cn.indexOf(nn);return dn!==-1&&(cn.splice(dn,1),this.name(cn.join(" "))),this}setAttr(nn,cn){const dn=this[Ge+xe.Util._capitalize(nn)];return xe.Util._isFunction(dn)?dn.call(this,cn):this._setAttr(nn,cn),this}_requestDraw(){if(Se.Konva.autoDrawEnabled){const nn=this.getLayer()||this.getStage();nn==null||nn.batchDraw()}}_setAttr(nn,cn){const dn=this.attrs[nn];dn===cn&&!xe.Util.isObject(cn)||(cn==null?delete this.attrs[nn]:this.attrs[nn]=cn,this._shouldFireChangeEvents&&this._fireChangeEvent(nn,dn,cn),this._requestDraw())}_setComponentAttr(nn,cn,dn){let bn;dn!==void 0&&(bn=this.attrs[nn],bn||(this.attrs[nn]=this.getAttr(nn)),this.attrs[nn][cn]=dn,this._fireChangeEvent(nn,bn,dn))}_fireAndBubble(nn,cn,dn){if(cn&&this.nodeType===Ve&&(cn.target=this),!((nn===je||nn===He)&&(dn&&(this===dn||this.isAncestorOf&&this.isAncestorOf(dn))||this.nodeType==="Stage"&&!dn))){this._fire(nn,cn);const pn=(nn===je||nn===He)&&dn&&dn.isAncestorOf&&dn.isAncestorOf(this)&&!dn.isAncestorOf(this.parent);(cn&&!cn.cancelBubble||!cn)&&this.parent&&this.parent.isListening()&&!pn&&(dn&&dn.parent?this._fireAndBubble.call(this.parent,nn,cn,dn):this._fireAndBubble.call(this.parent,nn,cn))}}_getProtoListeners(nn){var cn,dn,bn;const pn=(cn=this._cache.get(Pe))!==null&&cn!==void 0?cn:{};let _n=pn==null?void 0:pn[nn];if(_n===void 0){_n=[];let Nn=Object.getPrototypeOf(this);for(;Nn;){const Un=(bn=(dn=Nn.eventListeners)===null||dn===void 0?void 0:dn[nn])!==null&&bn!==void 0?bn:[];_n.push(...Un),Nn=Object.getPrototypeOf(Nn)}pn[nn]=_n,this._cache.set(Pe,pn)}return _n}_fire(nn,cn){cn=cn||{},cn.currentTarget=this,cn.type=nn;const dn=this._getProtoListeners(nn);if(dn)for(var bn=0;bn<dn.length;bn++)dn[bn].handler.call(this,cn);const pn=this.eventListeners[nn];if(pn)for(var bn=0;bn<pn.length;bn++)pn[bn].handler.call(this,cn)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(nn){const cn=nn?nn.pointerId:void 0,dn=this.getStage(),bn=this.getAbsolutePosition();if(!dn)return;const pn=dn._getPointerById(cn)||dn._changedPointerPositions[0]||bn;_e.DD._dragElements.set(this._id,{node:this,startPointerPos:pn,offset:{x:pn.x-bn.x,y:pn.y-bn.y},dragStatus:"ready",pointerId:cn})}startDrag(nn,cn=!0){_e.DD._dragElements.has(this._id)||this._createDragElement(nn);const dn=_e.DD._dragElements.get(this._id);dn.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:nn&&nn.evt},cn)}_setDragPosition(nn,cn){const dn=this.getStage()._getPointerById(cn.pointerId);if(!dn)return;let bn={x:dn.x-cn.offset.x,y:dn.y-cn.offset.y};const pn=this.dragBoundFunc();if(pn!==void 0){const _n=pn.call(this,bn,nn);_n?bn=_n:xe.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==bn.x||this._lastPos.y!==bn.y)&&(this.setAbsolutePosition(bn),this._requestDraw()),this._lastPos=bn}stopDrag(nn){const cn=_e.DD._dragElements.get(this._id);cn&&(cn.dragStatus="stopped"),_e.DD._endDragBefore(nn),_e.DD._endDragAfter(nn)}setDraggable(nn){this._setAttr("draggable",nn),this._dragChange()}isDragging(){const nn=_e.DD._dragElements.get(this._id);return nn?nn.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(nn){if(!(!(nn.evt.button!==void 0)||Se.Konva.dragButtons.indexOf(nn.evt.button)>=0)||this.isDragging())return;let bn=!1;_e.DD._dragElements.forEach(pn=>{this.isAncestorOf(pn.node)&&(bn=!0)}),bn||this._createDragElement(nn)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const cn=_e.DD._dragElements.get(this._id),dn=cn&&cn.dragStatus==="dragging",bn=cn&&cn.dragStatus==="ready";dn?this.stopDrag():bn&&_e.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(nn={x:0,y:0}){const cn=this.getStage();if(!cn)return!1;const dn={x:-nn.x,y:-nn.y,width:cn.width()+2*nn.x,height:cn.height()+2*nn.y};return xe.Util.haveIntersection(dn,this.getClientRect())}static create(nn,cn){return xe.Util._isString(nn)&&(nn=JSON.parse(nn)),this._createNode(nn,cn)}static _createNode(nn,cn){let dn=an.prototype.getClassName.call(nn),bn=nn.children,pn,_n,Nn;cn&&(nn.attrs.container=cn),Se.Konva[dn]||(xe.Util.warn('Can not find a node with class name "'+dn+'". Fallback to "Shape".'),dn="Shape");const Un=Se.Konva[dn];if(pn=new Un(nn.attrs),bn)for(_n=bn.length,Nn=0;Nn<_n;Nn++)pn.add(an._createNode(bn[Nn]));return pn}}Node$1.Node=an,an.prototype.nodeType="Node",an.prototype._attrsAffectingSize=[],an.prototype.eventListeners={},an.prototype.on.call(an.prototype,Ze,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(We),this._clearSelfAndDescendantCache(Ee)}),an.prototype.on.call(an.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Qe)}),an.prototype.on.call(an.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Be)}),an.prototype.on.call(an.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Ce)});const rn=e.Factory.addGetterSetter;return rn(an,"zIndex"),rn(an,"absolutePosition"),rn(an,"position"),rn(an,"x",0,(0,Ae.getNumberValidator)()),rn(an,"y",0,(0,Ae.getNumberValidator)()),rn(an,"globalCompositeOperation","source-over",(0,Ae.getStringValidator)()),rn(an,"opacity",1,(0,Ae.getNumberValidator)()),rn(an,"name","",(0,Ae.getStringValidator)()),rn(an,"id","",(0,Ae.getStringValidator)()),rn(an,"rotation",0,(0,Ae.getNumberValidator)()),e.Factory.addComponentsGetterSetter(an,"scale",["x","y"]),rn(an,"scaleX",1,(0,Ae.getNumberValidator)()),rn(an,"scaleY",1,(0,Ae.getNumberValidator)()),e.Factory.addComponentsGetterSetter(an,"skew",["x","y"]),rn(an,"skewX",0,(0,Ae.getNumberValidator)()),rn(an,"skewY",0,(0,Ae.getNumberValidator)()),e.Factory.addComponentsGetterSetter(an,"offset",["x","y"]),rn(an,"offsetX",0,(0,Ae.getNumberValidator)()),rn(an,"offsetY",0,(0,Ae.getNumberValidator)()),rn(an,"dragDistance",void 0,(0,Ae.getNumberValidator)()),rn(an,"width",0,(0,Ae.getNumberValidator)()),rn(an,"height",0,(0,Ae.getNumberValidator)()),rn(an,"listening",!0,(0,Ae.getBooleanValidator)()),rn(an,"preventDefault",!0,(0,Ae.getBooleanValidator)()),rn(an,"filters",void 0,function(fn){return this._filterUpToDate=!1,fn}),rn(an,"visible",!0,(0,Ae.getBooleanValidator)()),rn(an,"transformsEnabled","all",(0,Ae.getStringValidator)()),rn(an,"size"),rn(an,"dragBoundFunc"),rn(an,"draggable",!1,(0,Ae.getBooleanValidator)()),e.Factory.backCompat(an,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Node$1}var Container={},hasRequiredContainer;function requireContainer(){if(hasRequiredContainer)return Container;hasRequiredContainer=1,Object.defineProperty(Container,"__esModule",{value:!0}),Container.Container=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators();let Se=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(Ae){if(!Ae)return this.children||[];const Ce=this.children||[],Pe=[];return Ce.forEach(function(Ee){Ae(Ee)&&Pe.push(Ee)}),Pe}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(Ae=>{Ae.parent=null,Ae.index=0,Ae.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(Ae=>{Ae.parent=null,Ae.index=0,Ae.destroy()}),this.children=[],this._requestDraw(),this}add(...Ae){if(Ae.length===0)return this;if(Ae.length>1){for(let Pe=0;Pe<Ae.length;Pe++)this.add(Ae[Pe]);return this}const Ce=Ae[0];return Ce.getParent()?(Ce.moveTo(this),this):(this._validateAdd(Ce),Ce.index=this.getChildren().length,Ce.parent=this,Ce._clearCaches(),this.getChildren().push(Ce),this._fire("add",{child:Ce}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(Ae){return this._generalFind(Ae,!1)}findOne(Ae){const Ce=this._generalFind(Ae,!0);return Ce.length>0?Ce[0]:void 0}_generalFind(Ae,Ce){const Pe=[];return this._descendants(Ee=>{const Fe=Ee._isMatch(Ae);return Fe&&Pe.push(Ee),!!(Fe&&Ce)}),Pe}_descendants(Ae){let Ce=!1;const Pe=this.getChildren();for(const Ee of Pe){if(Ce=Ae(Ee),Ce)return!0;if(Ee.hasChildren()&&(Ce=Ee._descendants(Ae),Ce))return!0}return!1}toObject(){const Ae=e.Node.prototype.toObject.call(this);return Ae.children=[],this.getChildren().forEach(Ce=>{Ae.children.push(Ce.toObject())}),Ae}isAncestorOf(Ae){let Ce=Ae.getParent();for(;Ce;){if(Ce._id===this._id)return!0;Ce=Ce.getParent()}return!1}clone(Ae){const Ce=e.Node.prototype.clone.call(this,Ae);return this.getChildren().forEach(function(Pe){Ce.add(Pe.clone())}),Ce}getAllIntersections(Ae){const Ce=[];return this.find("Shape").forEach(Pe=>{Pe.isVisible()&&Pe.intersects(Ae)&&Ce.push(Pe)}),Ce}_clearSelfAndDescendantCache(Ae){var Ce;super._clearSelfAndDescendantCache(Ae),!this.isCached()&&((Ce=this.children)===null||Ce===void 0||Ce.forEach(function(Pe){Pe._clearSelfAndDescendantCache(Ae)}))}_setChildrenIndices(){var Ae;(Ae=this.children)===null||Ae===void 0||Ae.forEach(function(Ce,Pe){Ce.index=Pe}),this._requestDraw()}drawScene(Ae,Ce,Pe){const Ee=this.getLayer(),Fe=Ae||Ee&&Ee.getCanvas(),ke=Fe&&Fe.getContext(),Ie=this._getCanvasCache(),Oe=Ie&&Ie.scene,Re=Fe&&Fe.isCache;if(!this.isVisible()&&!Re)return this;if(Oe){ke.save();const Be=this.getAbsoluteTransform(Ce).getMatrix();ke.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5]),this._drawCachedSceneCanvas(ke),ke.restore()}else this._drawChildren("drawScene",Fe,Ce,Pe);return this}drawHit(Ae,Ce){if(!this.shouldDrawHit(Ce))return this;const Pe=this.getLayer(),Ee=Ae||Pe&&Pe.hitCanvas,Fe=Ee&&Ee.getContext(),ke=this._getCanvasCache();if(ke&&ke.hit){Fe.save();const Oe=this.getAbsoluteTransform(Ce).getMatrix();Fe.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]),this._drawCachedHitCanvas(Fe),Fe.restore()}else this._drawChildren("drawHit",Ee,Ce);return this}_drawChildren(Ae,Ce,Pe,Ee){var Fe;const ke=Ce&&Ce.getContext(),Ie=this.clipWidth(),Oe=this.clipHeight(),Re=this.clipFunc(),Be=typeof Ie=="number"&&typeof Oe=="number"||Re,je=Pe===this;if(Be){ke.save();const Ge=this.getAbsoluteTransform(Pe);let Ve=Ge.getMatrix();ke.transform(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]),ke.beginPath();let ze;if(Re)ze=Re.call(this,ke,this);else{const Xe=this.clipX(),We=this.clipY();ke.rect(Xe||0,We||0,Ie,Oe)}ke.clip.apply(ke,ze),Ve=Ge.copy().invert().getMatrix(),ke.transform(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5])}const He=!je&&this.globalCompositeOperation()!=="source-over"&&Ae==="drawScene";He&&(ke.save(),ke._applyGlobalCompositeOperation(this)),(Fe=this.children)===null||Fe===void 0||Fe.forEach(function(Ge){Ge[Ae](Ce,Pe,Ee)}),He&&ke.restore(),Be&&ke.restore()}getClientRect(Ae={}){var Ce;const Pe=Ae.skipTransform,Ee=Ae.relativeTo;let Fe,ke,Ie,Oe,Re={x:1/0,y:1/0,width:0,height:0};const Be=this;(Ce=this.children)===null||Ce===void 0||Ce.forEach(function(Ge){if(!Ge.visible())return;const Ve=Ge.getClientRect({relativeTo:Be,skipShadow:Ae.skipShadow,skipStroke:Ae.skipStroke});Ve.width===0&&Ve.height===0||(Fe===void 0?(Fe=Ve.x,ke=Ve.y,Ie=Ve.x+Ve.width,Oe=Ve.y+Ve.height):(Fe=Math.min(Fe,Ve.x),ke=Math.min(ke,Ve.y),Ie=Math.max(Ie,Ve.x+Ve.width),Oe=Math.max(Oe,Ve.y+Ve.height)))});const je=this.find("Shape");let He=!1;for(let Ge=0;Ge<je.length;Ge++)if(je[Ge]._isVisible(this)){He=!0;break}return He&&Fe!==void 0?Re={x:Fe,y:ke,width:Ie-Fe,height:Oe-ke}:Re={x:0,y:0,width:0,height:0},Pe?Re:this._transformedRect(Re,Ee)}};return Container.Container=Se,xe.Factory.addComponentsGetterSetter(Se,"clip",["x","y","width","height"]),xe.Factory.addGetterSetter(Se,"clipX",void 0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(Se,"clipY",void 0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(Se,"clipWidth",void 0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(Se,"clipHeight",void 0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(Se,"clipFunc"),Container}var Stage={},PointerEvents={},hasRequiredPointerEvents;function requirePointerEvents(){if(hasRequiredPointerEvents)return PointerEvents;hasRequiredPointerEvents=1,Object.defineProperty(PointerEvents,"__esModule",{value:!0}),PointerEvents.getCapturedShape=Se,PointerEvents.createEvent=_e,PointerEvents.hasPointerCapture=Ae,PointerEvents.setPointerCapture=Ce,PointerEvents.releaseCapture=Pe;const xe=requireGlobal(),e=new Map,t=xe.Konva._global.PointerEvent!==void 0;function Se(Ee){return e.get(Ee)}function _e(Ee){return{evt:Ee,pointerId:Ee.pointerId}}function Ae(Ee,Fe){return e.get(Ee)===Fe}function Ce(Ee,Fe){Pe(Ee),Fe.getStage()&&(e.set(Ee,Fe),t&&Fe._fire("gotpointercapture",_e(new PointerEvent("gotpointercapture"))))}function Pe(Ee,Fe){const ke=e.get(Ee);if(!ke)return;const Ie=ke.getStage();Ie&&Ie.content,e.delete(Ee),t&&ke._fire("lostpointercapture",_e(new PointerEvent("lostpointercapture")))}return PointerEvents}var hasRequiredStage;function requireStage(){return hasRequiredStage||(hasRequiredStage=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.Stage=xe.stages=void 0;const e=requireUtil(),t=requireFactory(),Se=requireContainer(),_e=requireGlobal(),Ae=requireCanvas(),Ce=requireDragAndDrop(),Pe=requireGlobal(),Ee=requirePointerEvents(),Fe="Stage",ke="string",Ie="px",Oe="mouseout",Re="mouseleave",Be="mouseover",je="mouseenter",He="mousemove",Ge="mousedown",Ve="mouseup",ze="pointermove",Xe="pointerdown",We="pointerup",Je="pointercancel",Qe="lostpointercapture",Ze="pointerout",on="pointerleave",an="pointerover",rn="pointerenter",fn="contextmenu",nn="touchstart",cn="touchend",dn="touchmove",bn="touchcancel",pn="wheel",_n=5,Nn=[[je,"_pointerenter"],[Ge,"_pointerdown"],[He,"_pointermove"],[Ve,"_pointerup"],[Re,"_pointerleave"],[nn,"_pointerdown"],[dn,"_pointermove"],[cn,"_pointerup"],[bn,"_pointercancel"],[Be,"_pointerover"],[pn,"_wheel"],[fn,"_contextmenu"],[Xe,"_pointerdown"],[ze,"_pointermove"],[We,"_pointerup"],[Je,"_pointercancel"],[Qe,"_lostpointercapture"]],Un={mouse:{[Ze]:Oe,[on]:Re,[an]:Be,[rn]:je,[ze]:He,[Xe]:Ge,[We]:Ve,[Je]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Ze]:"touchout",[on]:"touchleave",[an]:"touchover",[rn]:"touchenter",[ze]:dn,[Xe]:nn,[We]:cn,[Je]:bn,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Ze]:Ze,[on]:on,[an]:an,[rn]:rn,[ze]:ze,[Xe]:Xe,[We]:We,[Je]:Je,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},xn=Fn=>Fn.indexOf("pointer")>=0?"pointer":Fn.indexOf("touch")>=0?"touch":"mouse",St=Fn=>{const vn=xn(Fn);if(vn==="pointer")return _e.Konva.pointerEventsEnabled&&Un.pointer;if(vn==="touch")return Un.touch;if(vn==="mouse")return Un.mouse};function sn(Fn={}){return(Fn.clipFunc||Fn.clipWidth||Fn.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Fn}const gn="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";xe.stages=[];class Pn extends Se.Container{constructor(vn){super(sn(vn)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),xe.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{sn(this.attrs)}),this._checkVisibility()}_validateAdd(vn){const kn=vn.getType()==="Layer",Bn=vn.getType()==="FastLayer";kn||Bn||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const vn=this.visible()?"":"none";this.content.style.display=vn}setContainer(vn){if(typeof vn===ke){if(vn.charAt(0)==="."){const Bn=vn.slice(1);vn=document.getElementsByClassName(Bn)[0]}else{var kn;vn.charAt(0)!=="#"?kn=vn:kn=vn.slice(1),vn=document.getElementById(kn)}if(!vn)throw"Can not find container in document with id "+kn}return this._setAttr("container",vn),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),vn.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const vn=this.children,kn=vn.length;for(let Bn=0;Bn<kn;Bn++)vn[Bn].clear();return this}clone(vn){return vn||(vn={}),vn.container=typeof document<"u"&&document.createElement("div"),Se.Container.prototype.clone.call(this,vn)}destroy(){super.destroy();const vn=this.content;vn&&e.Util._isInDocument(vn)&&this.container().removeChild(vn);const kn=xe.stages.indexOf(this);return kn>-1&&xe.stages.splice(kn,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const vn=this._pointerPositions[0]||this._changedPointerPositions[0];return vn?{x:vn.x,y:vn.y}:(e.Util.warn(gn),null)}_getPointerById(vn){return this._pointerPositions.find(kn=>kn.id===vn)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(vn){vn=vn||{},vn.x=vn.x||0,vn.y=vn.y||0,vn.width=vn.width||this.width(),vn.height=vn.height||this.height();const kn=new Ae.SceneCanvas({width:vn.width,height:vn.height,pixelRatio:vn.pixelRatio||1}),Bn=kn.getContext()._context,er=this.children;return(vn.x||vn.y)&&Bn.translate(-1*vn.x,-1*vn.y),er.forEach(function(Zn){if(!Zn.isVisible())return;const Cn=Zn._toKonvaCanvas(vn);Bn.drawImage(Cn._canvas,vn.x,vn.y,Cn.getWidth()/Cn.getPixelRatio(),Cn.getHeight()/Cn.getPixelRatio())}),kn}getIntersection(vn){if(!vn)return null;const kn=this.children,Bn=kn.length,er=Bn-1;for(let Zn=er;Zn>=0;Zn--){const Cn=kn[Zn].getIntersection(vn);if(Cn)return Cn}return null}_resizeDOM(){const vn=this.width(),kn=this.height();this.content&&(this.content.style.width=vn+Ie,this.content.style.height=kn+Ie),this.bufferCanvas.setSize(vn,kn),this.bufferHitCanvas.setSize(vn,kn),this.children.forEach(Bn=>{Bn.setSize({width:vn,height:kn}),Bn.draw()})}add(vn,...kn){if(arguments.length>1){for(let er=0;er<arguments.length;er++)this.add(arguments[er]);return this}super.add(vn);const Bn=this.children.length;return Bn>_n&&e.Util.warn("The stage has "+Bn+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),vn.setSize({width:this.width(),height:this.height()}),vn.draw(),_e.Konva.isBrowser&&this.content.appendChild(vn.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(vn){return Ee.hasPointerCapture(vn,this)}setPointerCapture(vn){Ee.setPointerCapture(vn,this)}releaseCapture(vn){Ee.releaseCapture(vn,this)}getLayers(){return this.children}_bindContentEvents(){_e.Konva.isBrowser&&Nn.forEach(([vn,kn])=>{this.content.addEventListener(vn,Bn=>{this[kn](Bn)},{passive:!1})})}_pointerenter(vn){this.setPointersPositions(vn);const kn=St(vn.type);kn&&this._fire(kn.pointerenter,{evt:vn,target:this,currentTarget:this})}_pointerover(vn){this.setPointersPositions(vn);const kn=St(vn.type);kn&&this._fire(kn.pointerover,{evt:vn,target:this,currentTarget:this})}_getTargetShape(vn){let kn=this[vn+"targetShape"];return kn&&!kn.getStage()&&(kn=null),kn}_pointerleave(vn){const kn=St(vn.type),Bn=xn(vn.type);if(!kn)return;this.setPointersPositions(vn);const er=this._getTargetShape(Bn),Zn=!(_e.Konva.isDragging()||_e.Konva.isTransforming())||_e.Konva.hitOnDragEnabled;er&&Zn?(er._fireAndBubble(kn.pointerout,{evt:vn}),er._fireAndBubble(kn.pointerleave,{evt:vn}),this._fire(kn.pointerleave,{evt:vn,target:this,currentTarget:this}),this[Bn+"targetShape"]=null):Zn&&(this._fire(kn.pointerleave,{evt:vn,target:this,currentTarget:this}),this._fire(kn.pointerout,{evt:vn,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(vn){const kn=St(vn.type),Bn=xn(vn.type);if(!kn)return;this.setPointersPositions(vn);let er=!1;this._changedPointerPositions.forEach(Zn=>{const Cn=this.getIntersection(Zn);if(Ce.DD.justDragged=!1,_e.Konva["_"+Bn+"ListenClick"]=!0,!Cn||!Cn.isListening()){this[Bn+"ClickStartShape"]=void 0;return}_e.Konva.capturePointerEventsEnabled&&Cn.setPointerCapture(Zn.id),this[Bn+"ClickStartShape"]=Cn,Cn._fireAndBubble(kn.pointerdown,{evt:vn,pointerId:Zn.id}),er=!0;const Tn=vn.type.indexOf("touch")>=0;Cn.preventDefault()&&vn.cancelable&&Tn&&vn.preventDefault()}),er||this._fire(kn.pointerdown,{evt:vn,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(vn){const kn=St(vn.type),Bn=xn(vn.type);if(!kn||(_e.Konva.isDragging()&&Ce.DD.node.preventDefault()&&vn.cancelable&&vn.preventDefault(),this.setPointersPositions(vn),!(!(_e.Konva.isDragging()||_e.Konva.isTransforming())||_e.Konva.hitOnDragEnabled)))return;const Zn={};let Cn=!1;const Tn=this._getTargetShape(Bn);this._changedPointerPositions.forEach(qn=>{const In=Ee.getCapturedShape(qn.id)||this.getIntersection(qn),wn=qn.id,Vn={evt:vn,pointerId:wn},Yn=Tn!==In;if(Yn&&Tn&&(Tn._fireAndBubble(kn.pointerout,{...Vn},In),Tn._fireAndBubble(kn.pointerleave,{...Vn},In)),In){if(Zn[In._id])return;Zn[In._id]=!0}In&&In.isListening()?(Cn=!0,Yn&&(In._fireAndBubble(kn.pointerover,{...Vn},Tn),In._fireAndBubble(kn.pointerenter,{...Vn},Tn),this[Bn+"targetShape"]=In),In._fireAndBubble(kn.pointermove,{...Vn})):Tn&&(this._fire(kn.pointerover,{evt:vn,target:this,currentTarget:this,pointerId:wn}),this[Bn+"targetShape"]=null)}),Cn||this._fire(kn.pointermove,{evt:vn,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(vn){const kn=St(vn.type),Bn=xn(vn.type);if(!kn)return;this.setPointersPositions(vn);const er=this[Bn+"ClickStartShape"],Zn=this[Bn+"ClickEndShape"],Cn={};let Tn=!1;this._changedPointerPositions.forEach(qn=>{const In=Ee.getCapturedShape(qn.id)||this.getIntersection(qn);if(In){if(In.releaseCapture(qn.id),Cn[In._id])return;Cn[In._id]=!0}const wn=qn.id,Vn={evt:vn,pointerId:wn};let Yn=!1;_e.Konva["_"+Bn+"InDblClickWindow"]?(Yn=!0,clearTimeout(this[Bn+"DblTimeout"])):Ce.DD.justDragged||(_e.Konva["_"+Bn+"InDblClickWindow"]=!0,clearTimeout(this[Bn+"DblTimeout"])),this[Bn+"DblTimeout"]=setTimeout(function(){_e.Konva["_"+Bn+"InDblClickWindow"]=!1},_e.Konva.dblClickWindow),In&&In.isListening()?(Tn=!0,this[Bn+"ClickEndShape"]=In,In._fireAndBubble(kn.pointerup,{...Vn}),_e.Konva["_"+Bn+"ListenClick"]&&er&&er===In&&(In._fireAndBubble(kn.pointerclick,{...Vn}),Yn&&Zn&&Zn===In&&In._fireAndBubble(kn.pointerdblclick,{...Vn}))):(this[Bn+"ClickEndShape"]=null,_e.Konva["_"+Bn+"ListenClick"]&&this._fire(kn.pointerclick,{evt:vn,target:this,currentTarget:this,pointerId:wn}),Yn&&this._fire(kn.pointerdblclick,{evt:vn,target:this,currentTarget:this,pointerId:wn}))}),Tn||this._fire(kn.pointerup,{evt:vn,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),_e.Konva["_"+Bn+"ListenClick"]=!1,vn.cancelable&&Bn!=="touch"&&Bn!=="pointer"&&vn.preventDefault()}_contextmenu(vn){this.setPointersPositions(vn);const kn=this.getIntersection(this.getPointerPosition());kn&&kn.isListening()?kn._fireAndBubble(fn,{evt:vn}):this._fire(fn,{evt:vn,target:this,currentTarget:this})}_wheel(vn){this.setPointersPositions(vn);const kn=this.getIntersection(this.getPointerPosition());kn&&kn.isListening()?kn._fireAndBubble(pn,{evt:vn}):this._fire(pn,{evt:vn,target:this,currentTarget:this})}_pointercancel(vn){this.setPointersPositions(vn);const kn=Ee.getCapturedShape(vn.pointerId)||this.getIntersection(this.getPointerPosition());kn&&kn._fireAndBubble(We,Ee.createEvent(vn)),Ee.releaseCapture(vn.pointerId)}_lostpointercapture(vn){Ee.releaseCapture(vn.pointerId)}setPointersPositions(vn){const kn=this._getContentPosition();let Bn=null,er=null;vn=vn||window.event,vn.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(vn.touches,Zn=>{this._pointerPositions.push({id:Zn.identifier,x:(Zn.clientX-kn.left)/kn.scaleX,y:(Zn.clientY-kn.top)/kn.scaleY})}),Array.prototype.forEach.call(vn.changedTouches||vn.touches,Zn=>{this._changedPointerPositions.push({id:Zn.identifier,x:(Zn.clientX-kn.left)/kn.scaleX,y:(Zn.clientY-kn.top)/kn.scaleY})})):(Bn=(vn.clientX-kn.left)/kn.scaleX,er=(vn.clientY-kn.top)/kn.scaleY,this.pointerPos={x:Bn,y:er},this._pointerPositions=[{x:Bn,y:er,id:e.Util._getFirstPointerId(vn)}],this._changedPointerPositions=[{x:Bn,y:er,id:e.Util._getFirstPointerId(vn)}])}_setPointerPosition(vn){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(vn)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const vn=this.content.getBoundingClientRect();return{top:vn.top,left:vn.left,scaleX:vn.width/this.content.clientWidth||1,scaleY:vn.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Ae.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Ae.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!_e.Konva.isBrowser)return;const vn=this.container();if(!vn)throw"Stage has no container. A container is required.";vn.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),vn.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(vn){vn.batchDraw()}),this}}xe.Stage=Pn,Pn.prototype.nodeType=Fe,(0,Pe._registerNode)(Pn),t.Factory.addGetterSetter(Pn,"container"),_e.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{xe.stages.forEach(Fn=>{Fn.batchDraw()})})}(Stage)),Stage}var Layer={},Shape={},hasRequiredShape;function requireShape(){return hasRequiredShape||(hasRequiredShape=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.Shape=xe.shapes=void 0;const e=requireGlobal(),t=requireUtil(),Se=requireFactory(),_e=requireNode(),Ae=requireValidators(),Ce=requireGlobal(),Pe=requirePointerEvents(),Ee="hasShadow",Fe="shadowRGBA",ke="patternImage",Ie="linearGradient",Oe="radialGradient";let Re;function Be(){return Re||(Re=t.Util.createCanvasElement().getContext("2d"),Re)}xe.shapes={};function je(on){const an=this.attrs.fillRule;an?on.fill(an):on.fill()}function He(on){on.stroke()}function Ge(on){const an=this.attrs.fillRule;an?on.fill(an):on.fill()}function Ve(on){on.stroke()}function ze(){this._clearCache(Ee)}function Xe(){this._clearCache(Fe)}function We(){this._clearCache(ke)}function Je(){this._clearCache(Ie)}function Qe(){this._clearCache(Oe)}class Ze extends _e.Node{constructor(an){super(an);let rn;for(;rn=t.Util.getRandomColor(),!(rn&&!(rn in xe.shapes)););this.colorKey=rn,xe.shapes[rn]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Ee,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(ke,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const rn=Be().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(rn&&rn.setTransform){const fn=new t.Transform;fn.translate(this.fillPatternX(),this.fillPatternY()),fn.rotate(e.Konva.getAngle(this.fillPatternRotation())),fn.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),fn.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const nn=fn.getMatrix(),cn=typeof DOMMatrix>"u"?{a:nn[0],b:nn[1],c:nn[2],d:nn[3],e:nn[4],f:nn[5]}:new DOMMatrix(nn);rn.setTransform(cn)}return rn}}_getLinearGradient(){return this._getCache(Ie,this.__getLinearGradient)}__getLinearGradient(){const an=this.fillLinearGradientColorStops();if(an){const rn=Be(),fn=this.fillLinearGradientStartPoint(),nn=this.fillLinearGradientEndPoint(),cn=rn.createLinearGradient(fn.x,fn.y,nn.x,nn.y);for(let dn=0;dn<an.length;dn+=2)cn.addColorStop(an[dn],an[dn+1]);return cn}}_getRadialGradient(){return this._getCache(Oe,this.__getRadialGradient)}__getRadialGradient(){const an=this.fillRadialGradientColorStops();if(an){const rn=Be(),fn=this.fillRadialGradientStartPoint(),nn=this.fillRadialGradientEndPoint(),cn=rn.createRadialGradient(fn.x,fn.y,this.fillRadialGradientStartRadius(),nn.x,nn.y,this.fillRadialGradientEndRadius());for(let dn=0;dn<an.length;dn+=2)cn.addColorStop(an[dn],an[dn+1]);return cn}}getShadowRGBA(){return this._getCache(Fe,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const an=t.Util.colorToRGBA(this.shadowColor());if(an)return"rgba("+an.r+","+an.g+","+an.b+","+an.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const an=this.hitStrokeWidth();return an==="auto"?this.hasStroke():this.strokeEnabled()&&!!an}intersects(an){const rn=this.getStage();if(!rn)return!1;const fn=rn.bufferHitCanvas;return fn.getContext().clear(),this.drawHit(fn,void 0,!0),fn.context.getImageData(Math.round(an.x),Math.round(an.y),1,1).data[3]>0}destroy(){return _e.Node.prototype.destroy.call(this),delete xe.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(an){var rn;if(!((rn=this.attrs.perfectDrawEnabled)!==null&&rn!==void 0?rn:!0))return!1;const nn=an||this.hasFill(),cn=this.hasStroke(),dn=this.getAbsoluteOpacity()!==1;if(nn&&cn&&dn)return!0;const bn=this.hasShadow(),pn=this.shadowForStrokeEnabled();return!!(nn&&cn&&bn&&pn)}setStrokeHitEnabled(an){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),an?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const an=this.size();return{x:this._centroid?-an.width/2:0,y:this._centroid?-an.height/2:0,width:an.width,height:an.height}}getClientRect(an={}){let rn=!1,fn=this.getParent();for(;fn;){if(fn.isCached()){rn=!0;break}fn=fn.getParent()}const nn=an.skipTransform,cn=an.relativeTo||rn&&this.getStage()||void 0,dn=this.getSelfRect(),pn=!an.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,_n=dn.width+pn,Nn=dn.height+pn,Un=!an.skipShadow&&this.hasShadow(),xn=Un?this.shadowOffsetX():0,St=Un?this.shadowOffsetY():0,sn=_n+Math.abs(xn),gn=Nn+Math.abs(St),Pn=Un&&this.shadowBlur()||0,Fn=sn+Pn*2,vn=gn+Pn*2,kn={width:Fn,height:vn,x:-(pn/2+Pn)+Math.min(xn,0)+dn.x,y:-(pn/2+Pn)+Math.min(St,0)+dn.y};return nn?kn:this._transformedRect(kn,cn)}drawScene(an,rn,fn){const nn=this.getLayer();let cn=an||nn.getCanvas(),dn=cn.getContext(),bn=this._getCanvasCache(),pn=this.getSceneFunc(),_n=this.hasShadow(),Nn,Un;const xn=cn.isCache,St=rn===this;if(!this.isVisible()&&!St)return this;if(bn){dn.save();const gn=this.getAbsoluteTransform(rn).getMatrix();return dn.transform(gn[0],gn[1],gn[2],gn[3],gn[4],gn[5]),this._drawCachedSceneCanvas(dn),dn.restore(),this}if(!pn)return this;if(dn.save(),this._useBufferCanvas()&&!xn){Nn=this.getStage();const gn=fn||Nn.bufferCanvas;Un=gn.getContext(),Un.clear(),Un.save(),Un._applyLineJoin(this);var sn=this.getAbsoluteTransform(rn).getMatrix();Un.transform(sn[0],sn[1],sn[2],sn[3],sn[4],sn[5]),pn.call(this,Un,this),Un.restore();const Pn=gn.pixelRatio;_n&&dn._applyShadow(this),dn._applyOpacity(this),dn._applyGlobalCompositeOperation(this),dn.drawImage(gn._canvas,0,0,gn.width/Pn,gn.height/Pn)}else{if(dn._applyLineJoin(this),!St){var sn=this.getAbsoluteTransform(rn).getMatrix();dn.transform(sn[0],sn[1],sn[2],sn[3],sn[4],sn[5]),dn._applyOpacity(this),dn._applyGlobalCompositeOperation(this)}_n&&dn._applyShadow(this),pn.call(this,dn,this)}return dn.restore(),this}drawHit(an,rn,fn=!1){if(!this.shouldDrawHit(rn,fn))return this;const nn=this.getLayer(),cn=an||nn.hitCanvas,dn=cn&&cn.getContext(),bn=this.hitFunc()||this.sceneFunc(),pn=this._getCanvasCache(),_n=pn&&pn.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),_n){dn.save();const Un=this.getAbsoluteTransform(rn).getMatrix();return dn.transform(Un[0],Un[1],Un[2],Un[3],Un[4],Un[5]),this._drawCachedHitCanvas(dn),dn.restore(),this}if(!bn)return this;if(dn.save(),dn._applyLineJoin(this),!(this===rn)){const Un=this.getAbsoluteTransform(rn).getMatrix();dn.transform(Un[0],Un[1],Un[2],Un[3],Un[4],Un[5])}return bn.call(this,dn,this),dn.restore(),this}drawHitFromCache(an=0){const rn=this._getCanvasCache(),fn=this._getCachedSceneCanvas(),nn=rn.hit,cn=nn.getContext(),dn=nn.getWidth(),bn=nn.getHeight();cn.clear(),cn.drawImage(fn._canvas,0,0,dn,bn);try{const pn=cn.getImageData(0,0,dn,bn),_n=pn.data,Nn=_n.length,Un=t.Util._hexToRgb(this.colorKey);for(let xn=0;xn<Nn;xn+=4)_n[xn+3]>an?(_n[xn]=Un.r,_n[xn+1]=Un.g,_n[xn+2]=Un.b,_n[xn+3]=255):_n[xn+3]=0;cn.putImageData(pn,0,0)}catch(pn){t.Util.error("Unable to draw hit graph from cached scene canvas. "+pn.message)}return this}hasPointerCapture(an){return Pe.hasPointerCapture(an,this)}setPointerCapture(an){Pe.setPointerCapture(an,this)}releaseCapture(an){Pe.releaseCapture(an,this)}}xe.Shape=Ze,Ze.prototype._fillFunc=je,Ze.prototype._strokeFunc=He,Ze.prototype._fillFuncHit=Ge,Ze.prototype._strokeFuncHit=Ve,Ze.prototype._centroid=!1,Ze.prototype.nodeType="Shape",(0,Ce._registerNode)(Ze),Ze.prototype.eventListeners={},Ze.prototype.on.call(Ze.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",ze),Ze.prototype.on.call(Ze.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Xe),Ze.prototype.on.call(Ze.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",We),Ze.prototype.on.call(Ze.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Je),Ze.prototype.on.call(Ze.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Qe),Se.Factory.addGetterSetter(Ze,"stroke",void 0,(0,Ae.getStringOrGradientValidator)()),Se.Factory.addGetterSetter(Ze,"strokeWidth",2,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"fillAfterStrokeEnabled",!1),Se.Factory.addGetterSetter(Ze,"hitStrokeWidth","auto",(0,Ae.getNumberOrAutoValidator)()),Se.Factory.addGetterSetter(Ze,"strokeHitEnabled",!0,(0,Ae.getBooleanValidator)()),Se.Factory.addGetterSetter(Ze,"perfectDrawEnabled",!0,(0,Ae.getBooleanValidator)()),Se.Factory.addGetterSetter(Ze,"shadowForStrokeEnabled",!0,(0,Ae.getBooleanValidator)()),Se.Factory.addGetterSetter(Ze,"lineJoin"),Se.Factory.addGetterSetter(Ze,"lineCap"),Se.Factory.addGetterSetter(Ze,"sceneFunc"),Se.Factory.addGetterSetter(Ze,"hitFunc"),Se.Factory.addGetterSetter(Ze,"dash"),Se.Factory.addGetterSetter(Ze,"dashOffset",0,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"shadowColor",void 0,(0,Ae.getStringValidator)()),Se.Factory.addGetterSetter(Ze,"shadowBlur",0,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"shadowOpacity",1,(0,Ae.getNumberValidator)()),Se.Factory.addComponentsGetterSetter(Ze,"shadowOffset",["x","y"]),Se.Factory.addGetterSetter(Ze,"shadowOffsetX",0,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"shadowOffsetY",0,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"fillPatternImage"),Se.Factory.addGetterSetter(Ze,"fill",void 0,(0,Ae.getStringOrGradientValidator)()),Se.Factory.addGetterSetter(Ze,"fillPatternX",0,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"fillPatternY",0,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"fillLinearGradientColorStops"),Se.Factory.addGetterSetter(Ze,"strokeLinearGradientColorStops"),Se.Factory.addGetterSetter(Ze,"fillRadialGradientStartRadius",0),Se.Factory.addGetterSetter(Ze,"fillRadialGradientEndRadius",0),Se.Factory.addGetterSetter(Ze,"fillRadialGradientColorStops"),Se.Factory.addGetterSetter(Ze,"fillPatternRepeat","repeat"),Se.Factory.addGetterSetter(Ze,"fillEnabled",!0),Se.Factory.addGetterSetter(Ze,"strokeEnabled",!0),Se.Factory.addGetterSetter(Ze,"shadowEnabled",!0),Se.Factory.addGetterSetter(Ze,"dashEnabled",!0),Se.Factory.addGetterSetter(Ze,"strokeScaleEnabled",!0),Se.Factory.addGetterSetter(Ze,"fillPriority","color"),Se.Factory.addComponentsGetterSetter(Ze,"fillPatternOffset",["x","y"]),Se.Factory.addGetterSetter(Ze,"fillPatternOffsetX",0,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"fillPatternOffsetY",0,(0,Ae.getNumberValidator)()),Se.Factory.addComponentsGetterSetter(Ze,"fillPatternScale",["x","y"]),Se.Factory.addGetterSetter(Ze,"fillPatternScaleX",1,(0,Ae.getNumberValidator)()),Se.Factory.addGetterSetter(Ze,"fillPatternScaleY",1,(0,Ae.getNumberValidator)()),Se.Factory.addComponentsGetterSetter(Ze,"fillLinearGradientStartPoint",["x","y"]),Se.Factory.addComponentsGetterSetter(Ze,"strokeLinearGradientStartPoint",["x","y"]),Se.Factory.addGetterSetter(Ze,"fillLinearGradientStartPointX",0),Se.Factory.addGetterSetter(Ze,"strokeLinearGradientStartPointX",0),Se.Factory.addGetterSetter(Ze,"fillLinearGradientStartPointY",0),Se.Factory.addGetterSetter(Ze,"strokeLinearGradientStartPointY",0),Se.Factory.addComponentsGetterSetter(Ze,"fillLinearGradientEndPoint",["x","y"]),Se.Factory.addComponentsGetterSetter(Ze,"strokeLinearGradientEndPoint",["x","y"]),Se.Factory.addGetterSetter(Ze,"fillLinearGradientEndPointX",0),Se.Factory.addGetterSetter(Ze,"strokeLinearGradientEndPointX",0),Se.Factory.addGetterSetter(Ze,"fillLinearGradientEndPointY",0),Se.Factory.addGetterSetter(Ze,"strokeLinearGradientEndPointY",0),Se.Factory.addComponentsGetterSetter(Ze,"fillRadialGradientStartPoint",["x","y"]),Se.Factory.addGetterSetter(Ze,"fillRadialGradientStartPointX",0),Se.Factory.addGetterSetter(Ze,"fillRadialGradientStartPointY",0),Se.Factory.addComponentsGetterSetter(Ze,"fillRadialGradientEndPoint",["x","y"]),Se.Factory.addGetterSetter(Ze,"fillRadialGradientEndPointX",0),Se.Factory.addGetterSetter(Ze,"fillRadialGradientEndPointY",0),Se.Factory.addGetterSetter(Ze,"fillPatternRotation",0),Se.Factory.addGetterSetter(Ze,"fillRule",void 0,(0,Ae.getStringValidator)()),Se.Factory.backCompat(Ze,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Shape)),Shape}var hasRequiredLayer;function requireLayer(){if(hasRequiredLayer)return Layer;hasRequiredLayer=1,Object.defineProperty(Layer,"__esModule",{value:!0}),Layer.Layer=void 0;const xe=requireUtil(),e=requireContainer(),t=requireNode(),Se=requireFactory(),_e=requireCanvas(),Ae=requireValidators(),Ce=requireShape(),Pe=requireGlobal(),Ee="#",Fe="beforeDraw",ke="draw",Ie=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Oe=Ie.length;let Re=class extends e.Container{constructor(je){super(je),this.canvas=new _e.SceneCanvas,this.hitCanvas=new _e.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(je){return this.getContext().clear(je),this.getHitCanvas().getContext().clear(je),this}setZIndex(je){super.setZIndex(je);const He=this.getStage();return He&&He.content&&(He.content.removeChild(this.getNativeCanvasElement()),je<He.children.length-1?He.content.insertBefore(this.getNativeCanvasElement(),He.children[je+1].getCanvas()._canvas):He.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){t.Node.prototype.moveToTop.call(this);const je=this.getStage();return je&&je.content&&(je.content.removeChild(this.getNativeCanvasElement()),je.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!t.Node.prototype.moveUp.call(this))return!1;const He=this.getStage();return!He||!He.content?!1:(He.content.removeChild(this.getNativeCanvasElement()),this.index<He.children.length-1?He.content.insertBefore(this.getNativeCanvasElement(),He.children[this.index+1].getCanvas()._canvas):He.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(t.Node.prototype.moveDown.call(this)){const je=this.getStage();if(je){const He=je.children;je.content&&(je.content.removeChild(this.getNativeCanvasElement()),je.content.insertBefore(this.getNativeCanvasElement(),He[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(t.Node.prototype.moveToBottom.call(this)){const je=this.getStage();if(je){const He=je.children;je.content&&(je.content.removeChild(this.getNativeCanvasElement()),je.content.insertBefore(this.getNativeCanvasElement(),He[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const je=this.getNativeCanvasElement();return t.Node.prototype.remove.call(this),je&&je.parentNode&&xe.Util._isInDocument(je)&&je.parentNode.removeChild(je),this}getStage(){return this.parent}setSize({width:je,height:He}){return this.canvas.setSize(je,He),this.hitCanvas.setSize(je,He),this._setSmoothEnabled(),this}_validateAdd(je){const He=je.getType();He!=="Group"&&He!=="Shape"&&xe.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(je){return je=je||{},je.width=je.width||this.getWidth(),je.height=je.height||this.getHeight(),je.x=je.x!==void 0?je.x:this.x(),je.y=je.y!==void 0?je.y:this.y(),t.Node.prototype._toKonvaCanvas.call(this,je)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){xe.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){xe.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,xe.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(je){if(!this.isListening()||!this.isVisible())return null;let He=1,Ge=!1;for(;;){for(let Ve=0;Ve<Oe;Ve++){const ze=Ie[Ve],Xe=this._getIntersection({x:je.x+ze.x*He,y:je.y+ze.y*He}),We=Xe.shape;if(We)return We;if(Ge=!!Xe.antialiased,!Xe.antialiased)break}if(Ge)He+=1;else return null}}_getIntersection(je){const He=this.hitCanvas.pixelRatio,Ge=this.hitCanvas.context.getImageData(Math.round(je.x*He),Math.round(je.y*He),1,1).data,Ve=Ge[3];if(Ve===255){const ze=xe.Util._rgbToHex(Ge[0],Ge[1],Ge[2]),Xe=Ce.shapes[Ee+ze];return Xe?{shape:Xe}:{antialiased:!0}}else if(Ve>0)return{antialiased:!0};return{}}drawScene(je,He){const Ge=this.getLayer(),Ve=je||Ge&&Ge.getCanvas();return this._fire(Fe,{node:this}),this.clearBeforeDraw()&&Ve.getContext().clear(),e.Container.prototype.drawScene.call(this,Ve,He),this._fire(ke,{node:this}),this}drawHit(je,He){const Ge=this.getLayer(),Ve=je||Ge&&Ge.hitCanvas;return Ge&&Ge.clearBeforeDraw()&&Ge.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,Ve,He),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(je){xe.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(je)}getHitGraphEnabled(je){return xe.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const je=this.parent;!!this.hitCanvas._canvas.parentNode?je.content.removeChild(this.hitCanvas._canvas):je.content.appendChild(this.hitCanvas._canvas)}destroy(){return xe.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Layer.Layer=Re,Re.prototype.nodeType="Layer",(0,Pe._registerNode)(Re),Se.Factory.addGetterSetter(Re,"imageSmoothingEnabled",!0),Se.Factory.addGetterSetter(Re,"clearBeforeDraw",!0),Se.Factory.addGetterSetter(Re,"hitGraphEnabled",!0,(0,Ae.getBooleanValidator)()),Layer}var FastLayer={},hasRequiredFastLayer;function requireFastLayer(){if(hasRequiredFastLayer)return FastLayer;hasRequiredFastLayer=1,Object.defineProperty(FastLayer,"__esModule",{value:!0}),FastLayer.FastLayer=void 0;const xe=requireUtil(),e=requireLayer(),t=requireGlobal();let Se=class extends e.Layer{constructor(Ae){super(Ae),this.listening(!1),xe.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return FastLayer.FastLayer=Se,Se.prototype.nodeType="FastLayer",(0,t._registerNode)(Se),FastLayer}var Group={},hasRequiredGroup;function requireGroup(){if(hasRequiredGroup)return Group;hasRequiredGroup=1,Object.defineProperty(Group,"__esModule",{value:!0}),Group.Group=void 0;const xe=requireUtil(),e=requireContainer(),t=requireGlobal();let Se=class extends e.Container{_validateAdd(Ae){const Ce=Ae.getType();Ce!=="Group"&&Ce!=="Shape"&&xe.Util.throw("You may only add groups and shapes to groups.")}};return Group.Group=Se,Se.prototype.nodeType="Group",(0,t._registerNode)(Se),Group}var Animation={},hasRequiredAnimation;function requireAnimation(){if(hasRequiredAnimation)return Animation;hasRequiredAnimation=1,Object.defineProperty(Animation,"__esModule",{value:!0}),Animation.Animation=void 0;const xe=requireGlobal(),e=requireUtil(),t=function(){return xe.glob.performance&&xe.glob.performance.now?function(){return xe.glob.performance.now()}:function(){return new Date().getTime()}}();let Se=class rg{constructor(Ae,Ce){this.id=rg.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t(),frameRate:0},this.func=Ae,this.setLayers(Ce)}setLayers(Ae){let Ce=[];return Ae&&(Ce=Array.isArray(Ae)?Ae:[Ae]),this.layers=Ce,this}getLayers(){return this.layers}addLayer(Ae){const Ce=this.layers,Pe=Ce.length;for(let Ee=0;Ee<Pe;Ee++)if(Ce[Ee]._id===Ae._id)return!1;return this.layers.push(Ae),!0}isRunning(){const Ce=rg.animations,Pe=Ce.length;for(let Ee=0;Ee<Pe;Ee++)if(Ce[Ee].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),rg._addAnimation(this),this}stop(){return rg._removeAnimation(this),this}_updateFrameObject(Ae){this.frame.timeDiff=Ae-this.frame.lastTime,this.frame.lastTime=Ae,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(Ae){this.animations.push(Ae),this._handleAnimation()}static _removeAnimation(Ae){const Ce=Ae.id,Pe=this.animations,Ee=Pe.length;for(let Fe=0;Fe<Ee;Fe++)if(Pe[Fe].id===Ce){this.animations.splice(Fe,1);break}}static _runFrames(){const Ae={},Ce=this.animations;for(let Pe=0;Pe<Ce.length;Pe++){const Ee=Ce[Pe],Fe=Ee.layers,ke=Ee.func;Ee._updateFrameObject(t());const Ie=Fe.length;let Oe;if(ke?Oe=ke.call(Ee,Ee.frame)!==!1:Oe=!0,!!Oe)for(let Re=0;Re<Ie;Re++){const Be=Fe[Re];Be._id!==void 0&&(Ae[Be._id]=Be)}}for(const Pe in Ae)Ae.hasOwnProperty(Pe)&&Ae[Pe].batchDraw()}static _animationLoop(){const Ae=rg;Ae.animations.length?(Ae._runFrames(),e.Util.requestAnimFrame(Ae._animationLoop)):Ae.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Animation.Animation=Se,Se.animations=[],Se.animIdCounter=0,Se.animRunning=!1,Animation}var Tween={},hasRequiredTween;function requireTween(){return hasRequiredTween||(hasRequiredTween=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.Easings=xe.Tween=void 0;const e=requireUtil(),t=requireAnimation(),Se=requireNode(),_e=requireGlobal(),Ae={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Ce=1,Pe=2,Ee=3,Fe=["fill","stroke","shadowColor"];let ke=0;class Ie{constructor(Be,je,He,Ge,Ve,ze,Xe){this.prop=Be,this.propFunc=je,this.begin=Ge,this._pos=Ge,this.duration=ze,this._change=0,this.prevPos=0,this.yoyo=Xe,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=He,this._change=Ve-this.begin,this.pause()}fire(Be){const je=this[Be];je&&je()}setTime(Be){Be>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():Be<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=Be,this.update())}getTime(){return this._time}setPosition(Be){this.prevPos=this._pos,this.propFunc(Be),this._pos=Be}getPosition(Be){return Be===void 0&&(Be=this._time),this.func(Be,this.begin,this._change,this.duration)}play(){this.state=Pe,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Ee,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(Be){this.pause(),this._time=Be,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const Be=this.getTimer()-this._startTime;this.state===Pe?this.setTime(Be):this.state===Ee&&this.setTime(this.duration-Be)}pause(){this.state=Ce,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Oe{constructor(Be){const je=this,He=Be.node,Ge=He._id,Ve=Be.easing||xe.Easings.Linear,ze=!!Be.yoyo;let Xe,We;typeof Be.duration>"u"?Xe=.3:Be.duration===0?Xe=.001:Xe=Be.duration,this.node=He,this._id=ke++;const Je=He.getLayer()||(He instanceof _e.Konva.Stage?He.getLayers():null);Je||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){je.tween.onEnterFrame()},Je),this.tween=new Ie(We,function(Qe){je._tweenFunc(Qe)},Ve,0,1,Xe*1e3,ze),this._addListeners(),Oe.attrs[Ge]||(Oe.attrs[Ge]={}),Oe.attrs[Ge][this._id]||(Oe.attrs[Ge][this._id]={}),Oe.tweens[Ge]||(Oe.tweens[Ge]={});for(We in Be)Ae[We]===void 0&&this._addAttr(We,Be[We]);this.reset(),this.onFinish=Be.onFinish,this.onReset=Be.onReset,this.onUpdate=Be.onUpdate}_addAttr(Be,je){const He=this.node,Ge=He._id;let Ve,ze,Xe,We,Je;const Qe=Oe.tweens[Ge][Be];Qe&&delete Oe.attrs[Ge][Qe][Be];let Ze=He.getAttr(Be);if(e.Util._isArray(je))if(Ve=[],ze=Math.max(je.length,Ze.length),Be==="points"&&je.length!==Ze.length&&(je.length>Ze.length?(We=Ze,Ze=e.Util._prepareArrayForTween(Ze,je,He.closed())):(Xe=je,je=e.Util._prepareArrayForTween(je,Ze,He.closed()))),Be.indexOf("fill")===0)for(let on=0;on<ze;on++)if(on%2===0)Ve.push(je[on]-Ze[on]);else{const an=e.Util.colorToRGBA(Ze[on]);Je=e.Util.colorToRGBA(je[on]),Ze[on]=an,Ve.push({r:Je.r-an.r,g:Je.g-an.g,b:Je.b-an.b,a:Je.a-an.a})}else for(let on=0;on<ze;on++)Ve.push(je[on]-Ze[on]);else Fe.indexOf(Be)!==-1?(Ze=e.Util.colorToRGBA(Ze),Je=e.Util.colorToRGBA(je),Ve={r:Je.r-Ze.r,g:Je.g-Ze.g,b:Je.b-Ze.b,a:Je.a-Ze.a}):Ve=je-Ze;Oe.attrs[Ge][this._id][Be]={start:Ze,diff:Ve,end:je,trueEnd:Xe,trueStart:We},Oe.tweens[Ge][Be]=this._id}_tweenFunc(Be){const je=this.node,He=Oe.attrs[je._id][this._id];let Ge,Ve,ze,Xe,We,Je,Qe,Ze;for(Ge in He){if(Ve=He[Ge],ze=Ve.start,Xe=Ve.diff,Ze=Ve.end,e.Util._isArray(ze))if(We=[],Qe=Math.max(ze.length,Ze.length),Ge.indexOf("fill")===0)for(Je=0;Je<Qe;Je++)Je%2===0?We.push((ze[Je]||0)+Xe[Je]*Be):We.push("rgba("+Math.round(ze[Je].r+Xe[Je].r*Be)+","+Math.round(ze[Je].g+Xe[Je].g*Be)+","+Math.round(ze[Je].b+Xe[Je].b*Be)+","+(ze[Je].a+Xe[Je].a*Be)+")");else for(Je=0;Je<Qe;Je++)We.push((ze[Je]||0)+Xe[Je]*Be);else Fe.indexOf(Ge)!==-1?We="rgba("+Math.round(ze.r+Xe.r*Be)+","+Math.round(ze.g+Xe.g*Be)+","+Math.round(ze.b+Xe.b*Be)+","+(ze.a+Xe.a*Be)+")":We=ze+Xe*Be;je.setAttr(Ge,We)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const Be=this.node,je=Oe.attrs[Be._id][this._id];je.points&&je.points.trueEnd&&Be.setAttr("points",je.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const Be=this.node,je=Oe.attrs[Be._id][this._id];je.points&&je.points.trueStart&&Be.points(je.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(Be){return this.tween.seek(Be*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const Be=this.node._id,je=this._id,He=Oe.tweens[Be];this.pause();for(const Ge in He)delete Oe.tweens[Be][Ge];delete Oe.attrs[Be][je]}}xe.Tween=Oe,Oe.attrs={},Oe.tweens={},Se.Node.prototype.to=function(Re){const Be=Re.onFinish;Re.node=this,Re.onFinish=function(){this.destroy(),Be&&Be()},new Oe(Re).play()},xe.Easings={BackEaseIn(Re,Be,je,He){return je*(Re/=He)*Re*((1.70158+1)*Re-1.70158)+Be},BackEaseOut(Re,Be,je,He){return je*((Re=Re/He-1)*Re*((1.70158+1)*Re+1.70158)+1)+Be},BackEaseInOut(Re,Be,je,He){let Ge=1.70158;return(Re/=He/2)<1?je/2*(Re*Re*(((Ge*=1.525)+1)*Re-Ge))+Be:je/2*((Re-=2)*Re*(((Ge*=1.525)+1)*Re+Ge)+2)+Be},ElasticEaseIn(Re,Be,je,He,Ge,Ve){let ze=0;return Re===0?Be:(Re/=He)===1?Be+je:(Ve||(Ve=He*.3),!Ge||Ge<Math.abs(je)?(Ge=je,ze=Ve/4):ze=Ve/(2*Math.PI)*Math.asin(je/Ge),-(Ge*Math.pow(2,10*(Re-=1))*Math.sin((Re*He-ze)*(2*Math.PI)/Ve))+Be)},ElasticEaseOut(Re,Be,je,He,Ge,Ve){let ze=0;return Re===0?Be:(Re/=He)===1?Be+je:(Ve||(Ve=He*.3),!Ge||Ge<Math.abs(je)?(Ge=je,ze=Ve/4):ze=Ve/(2*Math.PI)*Math.asin(je/Ge),Ge*Math.pow(2,-10*Re)*Math.sin((Re*He-ze)*(2*Math.PI)/Ve)+je+Be)},ElasticEaseInOut(Re,Be,je,He,Ge,Ve){let ze=0;return Re===0?Be:(Re/=He/2)===2?Be+je:(Ve||(Ve=He*(.3*1.5)),!Ge||Ge<Math.abs(je)?(Ge=je,ze=Ve/4):ze=Ve/(2*Math.PI)*Math.asin(je/Ge),Re<1?-.5*(Ge*Math.pow(2,10*(Re-=1))*Math.sin((Re*He-ze)*(2*Math.PI)/Ve))+Be:Ge*Math.pow(2,-10*(Re-=1))*Math.sin((Re*He-ze)*(2*Math.PI)/Ve)*.5+je+Be)},BounceEaseOut(Re,Be,je,He){return(Re/=He)<1/2.75?je*(7.5625*Re*Re)+Be:Re<2/2.75?je*(7.5625*(Re-=1.5/2.75)*Re+.75)+Be:Re<2.5/2.75?je*(7.5625*(Re-=2.25/2.75)*Re+.9375)+Be:je*(7.5625*(Re-=2.625/2.75)*Re+.984375)+Be},BounceEaseIn(Re,Be,je,He){return je-xe.Easings.BounceEaseOut(He-Re,0,je,He)+Be},BounceEaseInOut(Re,Be,je,He){return Re<He/2?xe.Easings.BounceEaseIn(Re*2,0,je,He)*.5+Be:xe.Easings.BounceEaseOut(Re*2-He,0,je,He)*.5+je*.5+Be},EaseIn(Re,Be,je,He){return je*(Re/=He)*Re+Be},EaseOut(Re,Be,je,He){return-je*(Re/=He)*(Re-2)+Be},EaseInOut(Re,Be,je,He){return(Re/=He/2)<1?je/2*Re*Re+Be:-je/2*(--Re*(Re-2)-1)+Be},StrongEaseIn(Re,Be,je,He){return je*(Re/=He)*Re*Re*Re*Re+Be},StrongEaseOut(Re,Be,je,He){return je*((Re=Re/He-1)*Re*Re*Re*Re+1)+Be},StrongEaseInOut(Re,Be,je,He){return(Re/=He/2)<1?je/2*Re*Re*Re*Re*Re+Be:je/2*((Re-=2)*Re*Re*Re*Re+2)+Be},Linear(Re,Be,je,He){return je*Re/He+Be}}}(Tween)),Tween}var hasRequired_CoreInternals;function require_CoreInternals(){return hasRequired_CoreInternals||(hasRequired_CoreInternals=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.Konva=void 0;const e=requireGlobal(),t=requireUtil(),Se=requireNode(),_e=requireContainer(),Ae=requireStage(),Ce=requireLayer(),Pe=requireFastLayer(),Ee=requireGroup(),Fe=requireDragAndDrop(),ke=requireShape(),Ie=requireAnimation(),Oe=requireTween(),Re=requireContext(),Be=requireCanvas();xe.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:Se.Node,Container:_e.Container,Stage:Ae.Stage,stages:Ae.stages,Layer:Ce.Layer,FastLayer:Pe.FastLayer,Group:Ee.Group,DD:Fe.DD,Shape:ke.Shape,shapes:ke.shapes,Animation:Ie.Animation,Tween:Oe.Tween,Easings:Oe.Easings,Context:Re.Context,Canvas:Be.Canvas}),xe.default=xe.Konva}(_CoreInternals)),_CoreInternals}var Arc={},hasRequiredArc;function requireArc(){if(hasRequiredArc)return Arc;hasRequiredArc=1,Object.defineProperty(Arc,"__esModule",{value:!0}),Arc.Arc=void 0;const xe=requireFactory(),e=requireShape(),t=requireGlobal(),Se=requireValidators(),_e=requireGlobal();let Ae=class extends e.Shape{_sceneFunc(Pe){const Ee=t.Konva.getAngle(this.angle()),Fe=this.clockwise();Pe.beginPath(),Pe.arc(0,0,this.outerRadius(),0,Ee,Fe),Pe.arc(0,0,this.innerRadius(),Ee,0,!Fe),Pe.closePath(),Pe.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(Pe){this.outerRadius(Pe/2)}setHeight(Pe){this.outerRadius(Pe/2)}getSelfRect(){const Pe=this.innerRadius(),Ee=this.outerRadius(),Fe=this.clockwise(),ke=t.Konva.getAngle(Fe?360-this.angle():this.angle()),Ie=Math.cos(Math.min(ke,Math.PI)),Oe=1,Re=Math.sin(Math.min(Math.max(Math.PI,ke),3*Math.PI/2)),Be=Math.sin(Math.min(ke,Math.PI/2)),je=Ie*(Ie>0?Pe:Ee),He=Oe*Ee,Ge=Re*(Re>0?Pe:Ee),Ve=Be*(Be>0?Ee:Pe);return{x:je,y:Fe?-1*Ve:Ge,width:He-je,height:Ve-Ge}}};return Arc.Arc=Ae,Ae.prototype._centroid=!0,Ae.prototype.className="Arc",Ae.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,_e._registerNode)(Ae),xe.Factory.addGetterSetter(Ae,"innerRadius",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"outerRadius",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"angle",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"clockwise",!1,(0,Se.getBooleanValidator)()),Arc}var Arrow={},Line={},hasRequiredLine;function requireLine(){if(hasRequiredLine)return Line;hasRequiredLine=1,Object.defineProperty(Line,"__esModule",{value:!0}),Line.Line=void 0;const xe=requireFactory(),e=requireGlobal(),t=requireShape(),Se=requireValidators();function _e(Pe,Ee,Fe,ke,Ie,Oe,Re){const Be=Math.sqrt(Math.pow(Fe-Pe,2)+Math.pow(ke-Ee,2)),je=Math.sqrt(Math.pow(Ie-Fe,2)+Math.pow(Oe-ke,2)),He=Re*Be/(Be+je),Ge=Re*je/(Be+je),Ve=Fe-He*(Ie-Pe),ze=ke-He*(Oe-Ee),Xe=Fe+Ge*(Ie-Pe),We=ke+Ge*(Oe-Ee);return[Ve,ze,Xe,We]}function Ae(Pe,Ee){const Fe=Pe.length,ke=[];for(let Ie=2;Ie<Fe-2;Ie+=2){const Oe=_e(Pe[Ie-2],Pe[Ie-1],Pe[Ie],Pe[Ie+1],Pe[Ie+2],Pe[Ie+3],Ee);isNaN(Oe[0])||(ke.push(Oe[0]),ke.push(Oe[1]),ke.push(Pe[Ie]),ke.push(Pe[Ie+1]),ke.push(Oe[2]),ke.push(Oe[3]))}return ke}let Ce=class extends t.Shape{constructor(Ee){super(Ee),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(Ee){let Fe=this.points(),ke=Fe.length,Ie=this.tension(),Oe=this.closed(),Re=this.bezier(),Be,je,He;if(ke){if(Ee.beginPath(),Ee.moveTo(Fe[0],Fe[1]),Ie!==0&&ke>4){for(Be=this.getTensionPoints(),je=Be.length,He=Oe?0:4,Oe||Ee.quadraticCurveTo(Be[0],Be[1],Be[2],Be[3]);He<je-2;)Ee.bezierCurveTo(Be[He++],Be[He++],Be[He++],Be[He++],Be[He++],Be[He++]);Oe||Ee.quadraticCurveTo(Be[je-2],Be[je-1],Fe[ke-2],Fe[ke-1])}else if(Re)for(He=2;He<ke;)Ee.bezierCurveTo(Fe[He++],Fe[He++],Fe[He++],Fe[He++],Fe[He++],Fe[He++]);else for(He=2;He<ke;He+=2)Ee.lineTo(Fe[He],Fe[He+1]);Oe?(Ee.closePath(),Ee.fillStrokeShape(this)):Ee.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Ae(this.points(),this.tension())}_getTensionPointsClosed(){const Ee=this.points(),Fe=Ee.length,ke=this.tension(),Ie=_e(Ee[Fe-2],Ee[Fe-1],Ee[0],Ee[1],Ee[2],Ee[3],ke),Oe=_e(Ee[Fe-4],Ee[Fe-3],Ee[Fe-2],Ee[Fe-1],Ee[0],Ee[1],ke),Re=Ae(Ee,ke);return[Ie[2],Ie[3]].concat(Re).concat([Oe[0],Oe[1],Ee[Fe-2],Ee[Fe-1],Oe[2],Oe[3],Ie[0],Ie[1],Ee[0],Ee[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let Ee=this.points();if(Ee.length<4)return{x:Ee[0]||0,y:Ee[1]||0,width:0,height:0};this.tension()!==0?Ee=[Ee[0],Ee[1],...this._getTensionPoints(),Ee[Ee.length-2],Ee[Ee.length-1]]:Ee=this.points();let Fe=Ee[0],ke=Ee[0],Ie=Ee[1],Oe=Ee[1],Re,Be;for(let je=0;je<Ee.length/2;je++)Re=Ee[je*2],Be=Ee[je*2+1],Fe=Math.min(Fe,Re),ke=Math.max(ke,Re),Ie=Math.min(Ie,Be),Oe=Math.max(Oe,Be);return{x:Fe,y:Ie,width:ke-Fe,height:Oe-Ie}}};return Line.Line=Ce,Ce.prototype.className="Line",Ce.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(Ce),xe.Factory.addGetterSetter(Ce,"closed",!1),xe.Factory.addGetterSetter(Ce,"bezier",!1),xe.Factory.addGetterSetter(Ce,"tension",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Ce,"points",[],(0,Se.getNumberArrayValidator)()),Line}var Path={},BezierFunctions={},hasRequiredBezierFunctions;function requireBezierFunctions(){return hasRequiredBezierFunctions||(hasRequiredBezierFunctions=1,function(xe){Object.defineProperty(xe,"__esModule",{value:!0}),xe.t2length=xe.getQuadraticArcLength=xe.getCubicArcLength=xe.binomialCoefficients=xe.cValues=xe.tValues=void 0,xe.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],xe.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],xe.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(Ce,Pe,Ee)=>{let Fe,ke;const Oe=Ee/2;Fe=0;for(let Re=0;Re<20;Re++)ke=Oe*xe.tValues[20][Re]+Oe,Fe+=xe.cValues[20][Re]*Se(Ce,Pe,ke);return Oe*Fe};xe.getCubicArcLength=e;const t=(Ce,Pe,Ee)=>{Ee===void 0&&(Ee=1);const Fe=Ce[0]-2*Ce[1]+Ce[2],ke=Pe[0]-2*Pe[1]+Pe[2],Ie=2*Ce[1]-2*Ce[0],Oe=2*Pe[1]-2*Pe[0],Re=4*(Fe*Fe+ke*ke),Be=4*(Fe*Ie+ke*Oe),je=Ie*Ie+Oe*Oe;if(Re===0)return Ee*Math.sqrt(Math.pow(Ce[2]-Ce[0],2)+Math.pow(Pe[2]-Pe[0],2));const He=Be/(2*Re),Ge=je/Re,Ve=Ee+He,ze=Ge-He*He,Xe=Ve*Ve+ze>0?Math.sqrt(Ve*Ve+ze):0,We=He*He+ze>0?Math.sqrt(He*He+ze):0,Je=He+Math.sqrt(He*He+ze)!==0?ze*Math.log(Math.abs((Ve+Xe)/(He+We))):0;return Math.sqrt(Re)/2*(Ve*Xe-He*We+Je)};xe.getQuadraticArcLength=t;function Se(Ce,Pe,Ee){const Fe=_e(1,Ee,Ce),ke=_e(1,Ee,Pe),Ie=Fe*Fe+ke*ke;return Math.sqrt(Ie)}const _e=(Ce,Pe,Ee)=>{const Fe=Ee.length-1;let ke,Ie;if(Fe===0)return 0;if(Ce===0){Ie=0;for(let Oe=0;Oe<=Fe;Oe++)Ie+=xe.binomialCoefficients[Fe][Oe]*Math.pow(1-Pe,Fe-Oe)*Math.pow(Pe,Oe)*Ee[Oe];return Ie}else{ke=new Array(Fe);for(let Oe=0;Oe<Fe;Oe++)ke[Oe]=Fe*(Ee[Oe+1]-Ee[Oe]);return _e(Ce-1,Pe,ke)}},Ae=(Ce,Pe,Ee)=>{let Fe=1,ke=Ce/Pe,Ie=(Ce-Ee(ke))/Pe,Oe=0;for(;Fe>.001;){const Re=Ee(ke+Ie),Be=Math.abs(Ce-Re)/Pe;if(Be<Fe)Fe=Be,ke+=Ie;else{const je=Ee(ke-Ie),He=Math.abs(Ce-je)/Pe;He<Fe?(Fe=He,ke-=Ie):Ie/=2}if(Oe++,Oe>500)break}return ke};xe.t2length=Ae}(BezierFunctions)),BezierFunctions}var hasRequiredPath;function requirePath(){if(hasRequiredPath)return Path;hasRequiredPath=1,Object.defineProperty(Path,"__esModule",{value:!0}),Path.Path=void 0;const xe=requireFactory(),e=requireShape(),t=requireGlobal(),Se=requireBezierFunctions();let _e=class Lc extends e.Shape{constructor(Ce){super(Ce),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Lc.parsePathData(this.data()),this.pathLength=Lc.getPathLength(this.dataArray)}_sceneFunc(Ce){const Pe=this.dataArray;Ce.beginPath();let Ee=!1;for(let Xe=0;Xe<Pe.length;Xe++){const We=Pe[Xe].command,Je=Pe[Xe].points;switch(We){case"L":Ce.lineTo(Je[0],Je[1]);break;case"M":Ce.moveTo(Je[0],Je[1]);break;case"C":Ce.bezierCurveTo(Je[0],Je[1],Je[2],Je[3],Je[4],Je[5]);break;case"Q":Ce.quadraticCurveTo(Je[0],Je[1],Je[2],Je[3]);break;case"A":var Fe=Je[0],ke=Je[1],Ie=Je[2],Oe=Je[3],Re=Je[4],Be=Je[5],je=Je[6],He=Je[7],Ge=Ie>Oe?Ie:Oe,Ve=Ie>Oe?1:Ie/Oe,ze=Ie>Oe?Oe/Ie:1;Ce.translate(Fe,ke),Ce.rotate(je),Ce.scale(Ve,ze),Ce.arc(0,0,Ge,Re,Re+Be,1-He),Ce.scale(1/Ve,1/ze),Ce.rotate(-je),Ce.translate(-Fe,-ke);break;case"z":Ee=!0,Ce.closePath();break}}!Ee&&!this.hasFill()?Ce.strokeShape(this):Ce.fillStrokeShape(this)}getSelfRect(){let Ce=[];this.dataArray.forEach(function(Re){if(Re.command==="A"){const Be=Re.points[4],je=Re.points[5],He=Re.points[4]+je;let Ge=Math.PI/180;if(Math.abs(Be-He)<Ge&&(Ge=Math.abs(Be-He)),je<0)for(let Ve=Be-Ge;Ve>He;Ve-=Ge){const ze=Lc.getPointOnEllipticalArc(Re.points[0],Re.points[1],Re.points[2],Re.points[3],Ve,0);Ce.push(ze.x,ze.y)}else for(let Ve=Be+Ge;Ve<He;Ve+=Ge){const ze=Lc.getPointOnEllipticalArc(Re.points[0],Re.points[1],Re.points[2],Re.points[3],Ve,0);Ce.push(ze.x,ze.y)}}else if(Re.command==="C")for(let Be=0;Be<=1;Be+=.01){const je=Lc.getPointOnCubicBezier(Be,Re.start.x,Re.start.y,Re.points[0],Re.points[1],Re.points[2],Re.points[3],Re.points[4],Re.points[5]);Ce.push(je.x,je.y)}else Ce=Ce.concat(Re.points)});let Pe=Ce[0],Ee=Ce[0],Fe=Ce[1],ke=Ce[1],Ie,Oe;for(let Re=0;Re<Ce.length/2;Re++)Ie=Ce[Re*2],Oe=Ce[Re*2+1],isNaN(Ie)||(Pe=Math.min(Pe,Ie),Ee=Math.max(Ee,Ie)),isNaN(Oe)||(Fe=Math.min(Fe,Oe),ke=Math.max(ke,Oe));return{x:Pe,y:Fe,width:Ee-Pe,height:ke-Fe}}getLength(){return this.pathLength}getPointAtLength(Ce){return Lc.getPointAtLengthOfDataArray(Ce,this.dataArray)}static getLineLength(Ce,Pe,Ee,Fe){return Math.sqrt((Ee-Ce)*(Ee-Ce)+(Fe-Pe)*(Fe-Pe))}static getPathLength(Ce){let Pe=0;for(let Ee=0;Ee<Ce.length;++Ee)Pe+=Ce[Ee].pathLength;return Pe}static getPointAtLengthOfDataArray(Ce,Pe){let Ee,Fe=0,ke=Pe.length;if(!ke)return null;for(;Fe<ke&&Ce>Pe[Fe].pathLength;)Ce-=Pe[Fe].pathLength,++Fe;if(Fe===ke)return Ee=Pe[Fe-1].points.slice(-2),{x:Ee[0],y:Ee[1]};if(Ce<.01)return Ee=Pe[Fe].points.slice(0,2),{x:Ee[0],y:Ee[1]};const Ie=Pe[Fe],Oe=Ie.points;switch(Ie.command){case"L":return Lc.getPointOnLine(Ce,Ie.start.x,Ie.start.y,Oe[0],Oe[1]);case"C":return Lc.getPointOnCubicBezier((0,Se.t2length)(Ce,Lc.getPathLength(Pe),Xe=>(0,Se.getCubicArcLength)([Ie.start.x,Oe[0],Oe[2],Oe[4]],[Ie.start.y,Oe[1],Oe[3],Oe[5]],Xe)),Ie.start.x,Ie.start.y,Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]);case"Q":return Lc.getPointOnQuadraticBezier((0,Se.t2length)(Ce,Lc.getPathLength(Pe),Xe=>(0,Se.getQuadraticArcLength)([Ie.start.x,Oe[0],Oe[2]],[Ie.start.y,Oe[1],Oe[3]],Xe)),Ie.start.x,Ie.start.y,Oe[0],Oe[1],Oe[2],Oe[3]);case"A":var Re=Oe[0],Be=Oe[1],je=Oe[2],He=Oe[3],Ge=Oe[4],Ve=Oe[5],ze=Oe[6];return Ge+=Ve*Ce/Ie.pathLength,Lc.getPointOnEllipticalArc(Re,Be,je,He,Ge,ze)}return null}static getPointOnLine(Ce,Pe,Ee,Fe,ke,Ie,Oe){Ie=Ie??Pe,Oe=Oe??Ee;const Re=this.getLineLength(Pe,Ee,Fe,ke);if(Re<1e-10)return{x:Pe,y:Ee};if(Fe===Pe)return{x:Ie,y:Oe+(ke>Ee?Ce:-Ce)};const Be=(ke-Ee)/(Fe-Pe),je=Math.sqrt(Ce*Ce/(1+Be*Be))*(Fe<Pe?-1:1),He=Be*je;if(Math.abs(Oe-Ee-Be*(Ie-Pe))<1e-10)return{x:Ie+je,y:Oe+He};const Ge=((Ie-Pe)*(Fe-Pe)+(Oe-Ee)*(ke-Ee))/(Re*Re),Ve=Pe+Ge*(Fe-Pe),ze=Ee+Ge*(ke-Ee),Xe=this.getLineLength(Ie,Oe,Ve,ze),We=Math.sqrt(Ce*Ce-Xe*Xe),Je=Math.sqrt(We*We/(1+Be*Be))*(Fe<Pe?-1:1),Qe=Be*Je;return{x:Ve+Je,y:ze+Qe}}static getPointOnCubicBezier(Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be){function je(We){return We*We*We}function He(We){return 3*We*We*(1-We)}function Ge(We){return 3*We*(1-We)*(1-We)}function Ve(We){return(1-We)*(1-We)*(1-We)}const ze=Re*je(Ce)+Ie*He(Ce)+Fe*Ge(Ce)+Pe*Ve(Ce),Xe=Be*je(Ce)+Oe*He(Ce)+ke*Ge(Ce)+Ee*Ve(Ce);return{x:ze,y:Xe}}static getPointOnQuadraticBezier(Ce,Pe,Ee,Fe,ke,Ie,Oe){function Re(Ve){return Ve*Ve}function Be(Ve){return 2*Ve*(1-Ve)}function je(Ve){return(1-Ve)*(1-Ve)}const He=Ie*Re(Ce)+Fe*Be(Ce)+Pe*je(Ce),Ge=Oe*Re(Ce)+ke*Be(Ce)+Ee*je(Ce);return{x:He,y:Ge}}static getPointOnEllipticalArc(Ce,Pe,Ee,Fe,ke,Ie){const Oe=Math.cos(Ie),Re=Math.sin(Ie),Be={x:Ee*Math.cos(ke),y:Fe*Math.sin(ke)};return{x:Ce+(Be.x*Oe-Be.y*Re),y:Pe+(Be.x*Re+Be.y*Oe)}}static parsePathData(Ce){if(!Ce)return[];let Pe=Ce;const Ee=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];Pe=Pe.replace(new RegExp(" ","g"),",");for(var Fe=0;Fe<Ee.length;Fe++)Pe=Pe.replace(new RegExp(Ee[Fe],"g"),"|"+Ee[Fe]);const ke=Pe.split("|"),Ie=[],Oe=[];let Re=0,Be=0;const je=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let He;for(Fe=1;Fe<ke.length;Fe++){let nn=ke[Fe],cn=nn.charAt(0);for(nn=nn.slice(1),Oe.length=0;He=je.exec(nn);)Oe.push(He[0]);const dn=[];for(let bn=0,pn=Oe.length;bn<pn;bn++){if(Oe[bn]==="00"){dn.push(0,0);continue}const _n=parseFloat(Oe[bn]);isNaN(_n)?dn.push(0):dn.push(_n)}for(;dn.length>0&&!isNaN(dn[0]);){let bn="",pn=[];const _n=Re,Nn=Be;var Ge,Ve,ze,Xe,We,Je,Qe,Ze,on,an;switch(cn){case"l":Re+=dn.shift(),Be+=dn.shift(),bn="L",pn.push(Re,Be);break;case"L":Re=dn.shift(),Be=dn.shift(),pn.push(Re,Be);break;case"m":var rn=dn.shift(),fn=dn.shift();if(Re+=rn,Be+=fn,bn="M",Ie.length>2&&Ie[Ie.length-1].command==="z"){for(let Un=Ie.length-2;Un>=0;Un--)if(Ie[Un].command==="M"){Re=Ie[Un].points[0]+rn,Be=Ie[Un].points[1]+fn;break}}pn.push(Re,Be),cn="l";break;case"M":Re=dn.shift(),Be=dn.shift(),bn="M",pn.push(Re,Be),cn="L";break;case"h":Re+=dn.shift(),bn="L",pn.push(Re,Be);break;case"H":Re=dn.shift(),bn="L",pn.push(Re,Be);break;case"v":Be+=dn.shift(),bn="L",pn.push(Re,Be);break;case"V":Be=dn.shift(),bn="L",pn.push(Re,Be);break;case"C":pn.push(dn.shift(),dn.shift(),dn.shift(),dn.shift()),Re=dn.shift(),Be=dn.shift(),pn.push(Re,Be);break;case"c":pn.push(Re+dn.shift(),Be+dn.shift(),Re+dn.shift(),Be+dn.shift()),Re+=dn.shift(),Be+=dn.shift(),bn="C",pn.push(Re,Be);break;case"S":Ve=Re,ze=Be,Ge=Ie[Ie.length-1],Ge.command==="C"&&(Ve=Re+(Re-Ge.points[2]),ze=Be+(Be-Ge.points[3])),pn.push(Ve,ze,dn.shift(),dn.shift()),Re=dn.shift(),Be=dn.shift(),bn="C",pn.push(Re,Be);break;case"s":Ve=Re,ze=Be,Ge=Ie[Ie.length-1],Ge.command==="C"&&(Ve=Re+(Re-Ge.points[2]),ze=Be+(Be-Ge.points[3])),pn.push(Ve,ze,Re+dn.shift(),Be+dn.shift()),Re+=dn.shift(),Be+=dn.shift(),bn="C",pn.push(Re,Be);break;case"Q":pn.push(dn.shift(),dn.shift()),Re=dn.shift(),Be=dn.shift(),pn.push(Re,Be);break;case"q":pn.push(Re+dn.shift(),Be+dn.shift()),Re+=dn.shift(),Be+=dn.shift(),bn="Q",pn.push(Re,Be);break;case"T":Ve=Re,ze=Be,Ge=Ie[Ie.length-1],Ge.command==="Q"&&(Ve=Re+(Re-Ge.points[0]),ze=Be+(Be-Ge.points[1])),Re=dn.shift(),Be=dn.shift(),bn="Q",pn.push(Ve,ze,Re,Be);break;case"t":Ve=Re,ze=Be,Ge=Ie[Ie.length-1],Ge.command==="Q"&&(Ve=Re+(Re-Ge.points[0]),ze=Be+(Be-Ge.points[1])),Re+=dn.shift(),Be+=dn.shift(),bn="Q",pn.push(Ve,ze,Re,Be);break;case"A":Xe=dn.shift(),We=dn.shift(),Je=dn.shift(),Qe=dn.shift(),Ze=dn.shift(),on=Re,an=Be,Re=dn.shift(),Be=dn.shift(),bn="A",pn=this.convertEndpointToCenterParameterization(on,an,Re,Be,Qe,Ze,Xe,We,Je);break;case"a":Xe=dn.shift(),We=dn.shift(),Je=dn.shift(),Qe=dn.shift(),Ze=dn.shift(),on=Re,an=Be,Re+=dn.shift(),Be+=dn.shift(),bn="A",pn=this.convertEndpointToCenterParameterization(on,an,Re,Be,Qe,Ze,Xe,We,Je);break}Ie.push({command:bn||cn,points:pn,start:{x:_n,y:Nn},pathLength:this.calcLength(_n,Nn,bn||cn,pn)})}(cn==="z"||cn==="Z")&&Ie.push({command:"z",points:[],start:void 0,pathLength:0})}return Ie}static calcLength(Ce,Pe,Ee,Fe){let ke,Ie,Oe,Re;const Be=Lc;switch(Ee){case"L":return Be.getLineLength(Ce,Pe,Fe[0],Fe[1]);case"C":return(0,Se.getCubicArcLength)([Ce,Fe[0],Fe[2],Fe[4]],[Pe,Fe[1],Fe[3],Fe[5]],1);case"Q":return(0,Se.getQuadraticArcLength)([Ce,Fe[0],Fe[2]],[Pe,Fe[1],Fe[3]],1);case"A":ke=0;var je=Fe[4],He=Fe[5],Ge=Fe[4]+He,Ve=Math.PI/180;if(Math.abs(je-Ge)<Ve&&(Ve=Math.abs(je-Ge)),Ie=Be.getPointOnEllipticalArc(Fe[0],Fe[1],Fe[2],Fe[3],je,0),He<0)for(Re=je-Ve;Re>Ge;Re-=Ve)Oe=Be.getPointOnEllipticalArc(Fe[0],Fe[1],Fe[2],Fe[3],Re,0),ke+=Be.getLineLength(Ie.x,Ie.y,Oe.x,Oe.y),Ie=Oe;else for(Re=je+Ve;Re<Ge;Re+=Ve)Oe=Be.getPointOnEllipticalArc(Fe[0],Fe[1],Fe[2],Fe[3],Re,0),ke+=Be.getLineLength(Ie.x,Ie.y,Oe.x,Oe.y),Ie=Oe;return Oe=Be.getPointOnEllipticalArc(Fe[0],Fe[1],Fe[2],Fe[3],Ge,0),ke+=Be.getLineLength(Ie.x,Ie.y,Oe.x,Oe.y),ke}return 0}static convertEndpointToCenterParameterization(Ce,Pe,Ee,Fe,ke,Ie,Oe,Re,Be){const je=Be*(Math.PI/180),He=Math.cos(je)*(Ce-Ee)/2+Math.sin(je)*(Pe-Fe)/2,Ge=-1*Math.sin(je)*(Ce-Ee)/2+Math.cos(je)*(Pe-Fe)/2,Ve=He*He/(Oe*Oe)+Ge*Ge/(Re*Re);Ve>1&&(Oe*=Math.sqrt(Ve),Re*=Math.sqrt(Ve));let ze=Math.sqrt((Oe*Oe*(Re*Re)-Oe*Oe*(Ge*Ge)-Re*Re*(He*He))/(Oe*Oe*(Ge*Ge)+Re*Re*(He*He)));ke===Ie&&(ze*=-1),isNaN(ze)&&(ze=0);const Xe=ze*Oe*Ge/Re,We=ze*-Re*He/Oe,Je=(Ce+Ee)/2+Math.cos(je)*Xe-Math.sin(je)*We,Qe=(Pe+Fe)/2+Math.sin(je)*Xe+Math.cos(je)*We,Ze=function(dn){return Math.sqrt(dn[0]*dn[0]+dn[1]*dn[1])},on=function(dn,bn){return(dn[0]*bn[0]+dn[1]*bn[1])/(Ze(dn)*Ze(bn))},an=function(dn,bn){return(dn[0]*bn[1]<dn[1]*bn[0]?-1:1)*Math.acos(on(dn,bn))},rn=an([1,0],[(He-Xe)/Oe,(Ge-We)/Re]),fn=[(He-Xe)/Oe,(Ge-We)/Re],nn=[(-1*He-Xe)/Oe,(-1*Ge-We)/Re];let cn=an(fn,nn);return on(fn,nn)<=-1&&(cn=Math.PI),on(fn,nn)>=1&&(cn=0),Ie===0&&cn>0&&(cn=cn-2*Math.PI),Ie===1&&cn<0&&(cn=cn+2*Math.PI),[Je,Qe,Oe,Re,rn,cn,je,Ie]}};return Path.Path=_e,_e.prototype.className="Path",_e.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(_e),xe.Factory.addGetterSetter(_e,"data"),Path}var hasRequiredArrow;function requireArrow(){if(hasRequiredArrow)return Arrow;hasRequiredArrow=1,Object.defineProperty(Arrow,"__esModule",{value:!0}),Arrow.Arrow=void 0;const xe=requireFactory(),e=requireLine(),t=requireValidators(),Se=requireGlobal(),_e=requirePath();let Ae=class extends e.Line{_sceneFunc(Pe){super._sceneFunc(Pe);const Ee=Math.PI*2,Fe=this.points();let ke=Fe;const Ie=this.tension()!==0&&Fe.length>4;Ie&&(ke=this.getTensionPoints());const Oe=this.pointerLength(),Re=Fe.length;let Be,je;if(Ie){const Ve=[ke[ke.length-4],ke[ke.length-3],ke[ke.length-2],ke[ke.length-1],Fe[Re-2],Fe[Re-1]],ze=_e.Path.calcLength(ke[ke.length-4],ke[ke.length-3],"C",Ve),Xe=_e.Path.getPointOnQuadraticBezier(Math.min(1,1-Oe/ze),Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]);Be=Fe[Re-2]-Xe.x,je=Fe[Re-1]-Xe.y}else Be=Fe[Re-2]-Fe[Re-4],je=Fe[Re-1]-Fe[Re-3];const He=(Math.atan2(je,Be)+Ee)%Ee,Ge=this.pointerWidth();this.pointerAtEnding()&&(Pe.save(),Pe.beginPath(),Pe.translate(Fe[Re-2],Fe[Re-1]),Pe.rotate(He),Pe.moveTo(0,0),Pe.lineTo(-Oe,Ge/2),Pe.lineTo(-Oe,-Ge/2),Pe.closePath(),Pe.restore(),this.__fillStroke(Pe)),this.pointerAtBeginning()&&(Pe.save(),Pe.beginPath(),Pe.translate(Fe[0],Fe[1]),Ie?(Be=(ke[0]+ke[2])/2-Fe[0],je=(ke[1]+ke[3])/2-Fe[1]):(Be=Fe[2]-Fe[0],je=Fe[3]-Fe[1]),Pe.rotate((Math.atan2(-je,-Be)+Ee)%Ee),Pe.moveTo(0,0),Pe.lineTo(-Oe,Ge/2),Pe.lineTo(-Oe,-Ge/2),Pe.closePath(),Pe.restore(),this.__fillStroke(Pe))}__fillStroke(Pe){const Ee=this.dashEnabled();Ee&&(this.attrs.dashEnabled=!1,Pe.setLineDash([])),Pe.fillStrokeShape(this),Ee&&(this.attrs.dashEnabled=!0)}getSelfRect(){const Pe=super.getSelfRect(),Ee=this.pointerWidth()/2;return{x:Pe.x,y:Pe.y-Ee,width:Pe.width,height:Pe.height+Ee*2}}};return Arrow.Arrow=Ae,Ae.prototype.className="Arrow",(0,Se._registerNode)(Ae),xe.Factory.addGetterSetter(Ae,"pointerLength",10,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"pointerWidth",10,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"pointerAtBeginning",!1),xe.Factory.addGetterSetter(Ae,"pointerAtEnding",!0),Arrow}var Circle={},hasRequiredCircle;function requireCircle(){if(hasRequiredCircle)return Circle;hasRequiredCircle=1,Object.defineProperty(Circle,"__esModule",{value:!0}),Circle.Circle=void 0;const xe=requireFactory(),e=requireShape(),t=requireValidators(),Se=requireGlobal();let _e=class extends e.Shape{_sceneFunc(Ce){Ce.beginPath(),Ce.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),Ce.closePath(),Ce.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(Ce){this.radius()!==Ce/2&&this.radius(Ce/2)}setHeight(Ce){this.radius()!==Ce/2&&this.radius(Ce/2)}};return Circle.Circle=_e,_e.prototype._centroid=!0,_e.prototype.className="Circle",_e.prototype._attrsAffectingSize=["radius"],(0,Se._registerNode)(_e),xe.Factory.addGetterSetter(_e,"radius",0,(0,t.getNumberValidator)()),Circle}var Ellipse={},hasRequiredEllipse;function requireEllipse(){if(hasRequiredEllipse)return Ellipse;hasRequiredEllipse=1,Object.defineProperty(Ellipse,"__esModule",{value:!0}),Ellipse.Ellipse=void 0;const xe=requireFactory(),e=requireShape(),t=requireValidators(),Se=requireGlobal();let _e=class extends e.Shape{_sceneFunc(Ce){const Pe=this.radiusX(),Ee=this.radiusY();Ce.beginPath(),Ce.save(),Pe!==Ee&&Ce.scale(1,Ee/Pe),Ce.arc(0,0,Pe,0,Math.PI*2,!1),Ce.restore(),Ce.closePath(),Ce.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(Ce){this.radiusX(Ce/2)}setHeight(Ce){this.radiusY(Ce/2)}};return Ellipse.Ellipse=_e,_e.prototype.className="Ellipse",_e.prototype._centroid=!0,_e.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,Se._registerNode)(_e),xe.Factory.addComponentsGetterSetter(_e,"radius",["x","y"]),xe.Factory.addGetterSetter(_e,"radiusX",0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(_e,"radiusY",0,(0,t.getNumberValidator)()),Ellipse}var Image$1={},hasRequiredImage;function requireImage(){if(hasRequiredImage)return Image$1;hasRequiredImage=1,Object.defineProperty(Image$1,"__esModule",{value:!0}),Image$1.Image=void 0;const xe=requireUtil(),e=requireFactory(),t=requireShape(),Se=requireGlobal(),_e=requireValidators();class Ae extends t.Shape{constructor(Pe){super(Pe),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const Pe=this.image();Pe&&Pe.complete||Pe&&Pe.readyState===4||Pe&&Pe.addEventListener&&Pe.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const Pe=!!this.cornerRadius(),Ee=this.hasShadow();return Pe&&Ee?!0:super._useBufferCanvas(!0)}_sceneFunc(Pe){const Ee=this.getWidth(),Fe=this.getHeight(),ke=this.cornerRadius(),Ie=this.attrs.image;let Oe;if(Ie){const Re=this.attrs.cropWidth,Be=this.attrs.cropHeight;Re&&Be?Oe=[Ie,this.cropX(),this.cropY(),Re,Be,0,0,Ee,Fe]:Oe=[Ie,0,0,Ee,Fe]}(this.hasFill()||this.hasStroke()||ke)&&(Pe.beginPath(),ke?xe.Util.drawRoundedRectPath(Pe,Ee,Fe,ke):Pe.rect(0,0,Ee,Fe),Pe.closePath(),Pe.fillStrokeShape(this)),Ie&&(ke&&Pe.clip(),Pe.drawImage.apply(Pe,Oe))}_hitFunc(Pe){const Ee=this.width(),Fe=this.height(),ke=this.cornerRadius();Pe.beginPath(),ke?xe.Util.drawRoundedRectPath(Pe,Ee,Fe,ke):Pe.rect(0,0,Ee,Fe),Pe.closePath(),Pe.fillStrokeShape(this)}getWidth(){var Pe,Ee;return(Pe=this.attrs.width)!==null&&Pe!==void 0?Pe:(Ee=this.image())===null||Ee===void 0?void 0:Ee.width}getHeight(){var Pe,Ee;return(Pe=this.attrs.height)!==null&&Pe!==void 0?Pe:(Ee=this.image())===null||Ee===void 0?void 0:Ee.height}static fromURL(Pe,Ee,Fe=null){const ke=xe.Util.createImageElement();ke.onload=function(){const Ie=new Ae({image:ke});Ee(Ie)},ke.onerror=Fe,ke.crossOrigin="Anonymous",ke.src=Pe}}return Image$1.Image=Ae,Ae.prototype.className="Image",(0,Se._registerNode)(Ae),e.Factory.addGetterSetter(Ae,"cornerRadius",0,(0,_e.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(Ae,"image"),e.Factory.addComponentsGetterSetter(Ae,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(Ae,"cropX",0,(0,_e.getNumberValidator)()),e.Factory.addGetterSetter(Ae,"cropY",0,(0,_e.getNumberValidator)()),e.Factory.addGetterSetter(Ae,"cropWidth",0,(0,_e.getNumberValidator)()),e.Factory.addGetterSetter(Ae,"cropHeight",0,(0,_e.getNumberValidator)()),Image$1}var Label={},hasRequiredLabel;function requireLabel(){if(hasRequiredLabel)return Label;hasRequiredLabel=1,Object.defineProperty(Label,"__esModule",{value:!0}),Label.Tag=Label.Label=void 0;const xe=requireFactory(),e=requireShape(),t=requireGroup(),Se=requireValidators(),_e=requireGlobal(),Ae=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Ce="Change.konva",Pe="none",Ee="up",Fe="right",ke="down",Ie="left",Oe=Ae.length;let Re=class extends t.Group{constructor(He){super(He),this.on("add.konva",function(Ge){this._addListeners(Ge.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(He){let Ge=this,Ve;const ze=function(){Ge._sync()};for(Ve=0;Ve<Oe;Ve++)He.on(Ae[Ve]+Ce,ze)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let He=this.getText(),Ge=this.getTag(),Ve,ze,Xe,We,Je,Qe,Ze;if(He&&Ge){switch(Ve=He.width(),ze=He.height(),Xe=Ge.pointerDirection(),We=Ge.pointerWidth(),Ze=Ge.pointerHeight(),Je=0,Qe=0,Xe){case Ee:Je=Ve/2,Qe=-1*Ze;break;case Fe:Je=Ve+We,Qe=ze/2;break;case ke:Je=Ve/2,Qe=ze+Ze;break;case Ie:Je=-1*We,Qe=ze/2;break}Ge.setAttrs({x:-1*Je,y:-1*Qe,width:Ve,height:ze}),He.setAttrs({x:-1*Je,y:-1*Qe})}}};Label.Label=Re,Re.prototype.className="Label",(0,_e._registerNode)(Re);class Be extends e.Shape{_sceneFunc(He){const Ge=this.width(),Ve=this.height(),ze=this.pointerDirection(),Xe=this.pointerWidth(),We=this.pointerHeight(),Je=this.cornerRadius();let Qe=0,Ze=0,on=0,an=0;typeof Je=="number"?Qe=Ze=on=an=Math.min(Je,Ge/2,Ve/2):(Qe=Math.min(Je[0]||0,Ge/2,Ve/2),Ze=Math.min(Je[1]||0,Ge/2,Ve/2),an=Math.min(Je[2]||0,Ge/2,Ve/2),on=Math.min(Je[3]||0,Ge/2,Ve/2)),He.beginPath(),He.moveTo(Qe,0),ze===Ee&&(He.lineTo((Ge-Xe)/2,0),He.lineTo(Ge/2,-1*We),He.lineTo((Ge+Xe)/2,0)),He.lineTo(Ge-Ze,0),He.arc(Ge-Ze,Ze,Ze,Math.PI*3/2,0,!1),ze===Fe&&(He.lineTo(Ge,(Ve-We)/2),He.lineTo(Ge+Xe,Ve/2),He.lineTo(Ge,(Ve+We)/2)),He.lineTo(Ge,Ve-an),He.arc(Ge-an,Ve-an,an,0,Math.PI/2,!1),ze===ke&&(He.lineTo((Ge+Xe)/2,Ve),He.lineTo(Ge/2,Ve+We),He.lineTo((Ge-Xe)/2,Ve)),He.lineTo(on,Ve),He.arc(on,Ve-on,on,Math.PI/2,Math.PI,!1),ze===Ie&&(He.lineTo(0,(Ve+We)/2),He.lineTo(-1*Xe,Ve/2),He.lineTo(0,(Ve-We)/2)),He.lineTo(0,Qe),He.arc(Qe,Qe,Qe,Math.PI,Math.PI*3/2,!1),He.closePath(),He.fillStrokeShape(this)}getSelfRect(){let He=0,Ge=0,Ve=this.pointerWidth(),ze=this.pointerHeight(),Xe=this.pointerDirection(),We=this.width(),Je=this.height();return Xe===Ee?(Ge-=ze,Je+=ze):Xe===ke?Je+=ze:Xe===Ie?(He-=Ve*1.5,We+=Ve):Xe===Fe&&(We+=Ve*1.5),{x:He,y:Ge,width:We,height:Je}}}return Label.Tag=Be,Be.prototype.className="Tag",(0,_e._registerNode)(Be),xe.Factory.addGetterSetter(Be,"pointerDirection",Pe),xe.Factory.addGetterSetter(Be,"pointerWidth",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Be,"pointerHeight",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Be,"cornerRadius",0,(0,Se.getNumberOrArrayOfNumbersValidator)(4)),Label}var Rect={},hasRequiredRect;function requireRect(){if(hasRequiredRect)return Rect;hasRequiredRect=1,Object.defineProperty(Rect,"__esModule",{value:!0}),Rect.Rect=void 0;const xe=requireFactory(),e=requireShape(),t=requireGlobal(),Se=requireUtil(),_e=requireValidators();let Ae=class extends e.Shape{_sceneFunc(Pe){const Ee=this.cornerRadius(),Fe=this.width(),ke=this.height();Pe.beginPath(),Ee?Se.Util.drawRoundedRectPath(Pe,Fe,ke,Ee):Pe.rect(0,0,Fe,ke),Pe.closePath(),Pe.fillStrokeShape(this)}};return Rect.Rect=Ae,Ae.prototype.className="Rect",(0,t._registerNode)(Ae),xe.Factory.addGetterSetter(Ae,"cornerRadius",0,(0,_e.getNumberOrArrayOfNumbersValidator)(4)),Rect}var RegularPolygon={},hasRequiredRegularPolygon;function requireRegularPolygon(){if(hasRequiredRegularPolygon)return RegularPolygon;hasRequiredRegularPolygon=1,Object.defineProperty(RegularPolygon,"__esModule",{value:!0}),RegularPolygon.RegularPolygon=void 0;const xe=requireFactory(),e=requireShape(),t=requireValidators(),Se=requireGlobal();let _e=class extends e.Shape{_sceneFunc(Ce){const Pe=this._getPoints();Ce.beginPath(),Ce.moveTo(Pe[0].x,Pe[0].y);for(let Ee=1;Ee<Pe.length;Ee++)Ce.lineTo(Pe[Ee].x,Pe[Ee].y);Ce.closePath(),Ce.fillStrokeShape(this)}_getPoints(){const Ce=this.attrs.sides,Pe=this.attrs.radius||0,Ee=[];for(let Fe=0;Fe<Ce;Fe++)Ee.push({x:Pe*Math.sin(Fe*2*Math.PI/Ce),y:-1*Pe*Math.cos(Fe*2*Math.PI/Ce)});return Ee}getSelfRect(){const Ce=this._getPoints();let Pe=Ce[0].x,Ee=Ce[0].y,Fe=Ce[0].x,ke=Ce[0].y;return Ce.forEach(Ie=>{Pe=Math.min(Pe,Ie.x),Ee=Math.max(Ee,Ie.x),Fe=Math.min(Fe,Ie.y),ke=Math.max(ke,Ie.y)}),{x:Pe,y:Fe,width:Ee-Pe,height:ke-Fe}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(Ce){this.radius(Ce/2)}setHeight(Ce){this.radius(Ce/2)}};return RegularPolygon.RegularPolygon=_e,_e.prototype.className="RegularPolygon",_e.prototype._centroid=!0,_e.prototype._attrsAffectingSize=["radius"],(0,Se._registerNode)(_e),xe.Factory.addGetterSetter(_e,"radius",0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(_e,"sides",0,(0,t.getNumberValidator)()),RegularPolygon}var Ring={},hasRequiredRing;function requireRing(){if(hasRequiredRing)return Ring;hasRequiredRing=1,Object.defineProperty(Ring,"__esModule",{value:!0}),Ring.Ring=void 0;const xe=requireFactory(),e=requireShape(),t=requireValidators(),Se=requireGlobal(),_e=Math.PI*2;let Ae=class extends e.Shape{_sceneFunc(Pe){Pe.beginPath(),Pe.arc(0,0,this.innerRadius(),0,_e,!1),Pe.moveTo(this.outerRadius(),0),Pe.arc(0,0,this.outerRadius(),_e,0,!0),Pe.closePath(),Pe.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(Pe){this.outerRadius(Pe/2)}setHeight(Pe){this.outerRadius(Pe/2)}};return Ring.Ring=Ae,Ae.prototype.className="Ring",Ae.prototype._centroid=!0,Ae.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,Se._registerNode)(Ae),xe.Factory.addGetterSetter(Ae,"innerRadius",0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"outerRadius",0,(0,t.getNumberValidator)()),Ring}var Sprite={},hasRequiredSprite;function requireSprite(){if(hasRequiredSprite)return Sprite;hasRequiredSprite=1,Object.defineProperty(Sprite,"__esModule",{value:!0}),Sprite.Sprite=void 0;const xe=requireFactory(),e=requireShape(),t=requireAnimation(),Se=requireValidators(),_e=requireGlobal();let Ae=class extends e.Shape{constructor(Pe){super(Pe),this._updated=!0,this.anim=new t.Animation(()=>{const Ee=this._updated;return this._updated=!1,Ee}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(Pe){const Ee=this.animation(),Fe=this.frameIndex(),ke=Fe*4,Ie=this.animations()[Ee],Oe=this.frameOffsets(),Re=Ie[ke+0],Be=Ie[ke+1],je=Ie[ke+2],He=Ie[ke+3],Ge=this.image();if((this.hasFill()||this.hasStroke())&&(Pe.beginPath(),Pe.rect(0,0,je,He),Pe.closePath(),Pe.fillStrokeShape(this)),Ge)if(Oe){const Ve=Oe[Ee],ze=Fe*2;Pe.drawImage(Ge,Re,Be,je,He,Ve[ze+0],Ve[ze+1],je,He)}else Pe.drawImage(Ge,Re,Be,je,He,0,0,je,He)}_hitFunc(Pe){const Ee=this.animation(),Fe=this.frameIndex(),ke=Fe*4,Ie=this.animations()[Ee],Oe=this.frameOffsets(),Re=Ie[ke+2],Be=Ie[ke+3];if(Pe.beginPath(),Oe){const je=Oe[Ee],He=Fe*2;Pe.rect(je[He+0],je[He+1],Re,Be)}else Pe.rect(0,0,Re,Be);Pe.closePath(),Pe.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const Pe=this;this.interval=setInterval(function(){Pe._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const Pe=this.getLayer();this.anim.setLayers(Pe),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const Pe=this.frameIndex(),Ee=this.animation(),Fe=this.animations(),ke=Fe[Ee],Ie=ke.length/4;Pe<Ie-1?this.frameIndex(Pe+1):this.frameIndex(0)}};return Sprite.Sprite=Ae,Ae.prototype.className="Sprite",(0,_e._registerNode)(Ae),xe.Factory.addGetterSetter(Ae,"animation"),xe.Factory.addGetterSetter(Ae,"animations"),xe.Factory.addGetterSetter(Ae,"frameOffsets"),xe.Factory.addGetterSetter(Ae,"image"),xe.Factory.addGetterSetter(Ae,"frameIndex",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"frameRate",17,(0,Se.getNumberValidator)()),xe.Factory.backCompat(Ae,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Sprite}var Star={},hasRequiredStar;function requireStar(){if(hasRequiredStar)return Star;hasRequiredStar=1,Object.defineProperty(Star,"__esModule",{value:!0}),Star.Star=void 0;const xe=requireFactory(),e=requireShape(),t=requireValidators(),Se=requireGlobal();let _e=class extends e.Shape{_sceneFunc(Ce){const Pe=this.innerRadius(),Ee=this.outerRadius(),Fe=this.numPoints();Ce.beginPath(),Ce.moveTo(0,0-Ee);for(let ke=1;ke<Fe*2;ke++){const Ie=ke%2===0?Ee:Pe,Oe=Ie*Math.sin(ke*Math.PI/Fe),Re=-1*Ie*Math.cos(ke*Math.PI/Fe);Ce.lineTo(Oe,Re)}Ce.closePath(),Ce.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(Ce){this.outerRadius(Ce/2)}setHeight(Ce){this.outerRadius(Ce/2)}};return Star.Star=_e,_e.prototype.className="Star",_e.prototype._centroid=!0,_e.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,Se._registerNode)(_e),xe.Factory.addGetterSetter(_e,"numPoints",5,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(_e,"innerRadius",0,(0,t.getNumberValidator)()),xe.Factory.addGetterSetter(_e,"outerRadius",0,(0,t.getNumberValidator)()),Star}var Text={},hasRequiredText;function requireText(){if(hasRequiredText)return Text;hasRequiredText=1,Object.defineProperty(Text,"__esModule",{value:!0}),Text.Text=void 0,Text.stringToArray=Ce;const xe=requireUtil(),e=requireFactory(),t=requireShape(),Se=requireGlobal(),_e=requireValidators(),Ae=requireGlobal();function Ce(St){return[...St].reduce((sn,gn,Pn,Fn)=>{if(new RegExp("\\p{Emoji}","u").test(gn)){const vn=Fn[Pn+1];vn&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(vn)?(sn.push(gn+vn),Fn[Pn+1]=""):sn.push(gn)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(gn+(Fn[Pn+1]||""))?sn.push(gn+Fn[Pn+1]):Pn>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(gn)?sn[sn.length-1]+=gn:gn&&sn.push(gn);return sn},[])}const Pe="auto",Ee="center",Fe="inherit",ke="justify",Ie="Change.konva",Oe="2d",Re="-",Be="left",je="text",He="Text",Ge="top",Ve="bottom",ze="middle",Xe="normal",We="px ",Je=" ",Qe="right",Ze="rtl",on="word",an="char",rn="none",fn="",nn=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],cn=nn.length;function dn(St){return St.split(",").map(sn=>{sn=sn.trim();const gn=sn.indexOf(" ")>=0,Pn=sn.indexOf('"')>=0||sn.indexOf("'")>=0;return gn&&!Pn&&(sn=`"${sn}"`),sn}).join(", ")}let bn;function pn(){return bn||(bn=xe.Util.createCanvasElement().getContext(Oe),bn)}function _n(St){St.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Nn(St){St.setAttr("miterLimit",2),St.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Un(St){return St=St||{},!St.fillLinearGradientColorStops&&!St.fillRadialGradientColorStops&&!St.fillPatternImage&&(St.fill=St.fill||"black"),St}let xn=class extends t.Shape{constructor(sn){super(Un(sn)),this._partialTextX=0,this._partialTextY=0;for(let gn=0;gn<cn;gn++)this.on(nn[gn]+Ie,this._setTextData);this._setTextData()}_sceneFunc(sn){const gn=this.textArr,Pn=gn.length;if(!this.text())return;let Fn=this.padding(),vn=this.fontSize(),kn=this.lineHeight()*vn,Bn=this.verticalAlign(),er=this.direction(),Zn=0,Cn=this.align(),Tn=this.getWidth(),qn=this.letterSpacing(),In=this.fill(),wn=this.textDecoration(),Vn=wn.indexOf("underline")!==-1,Yn=wn.indexOf("line-through")!==-1,tr;er=er===Fe?sn.direction:er;let cr=kn/2,Kn=ze;if(Se.Konva._fixTextRendering){const ei=this.measureSize("M");Kn="alphabetic",cr=(ei.fontBoundingBoxAscent-ei.fontBoundingBoxDescent)/2+kn/2}var rr=0,ir=0;for(er===Ze&&sn.setAttr("direction",er),sn.setAttr("font",this._getContextFont()),sn.setAttr("textBaseline",Kn),sn.setAttr("textAlign",Be),Bn===ze?Zn=(this.getHeight()-Pn*kn-Fn*2)/2:Bn===Ve&&(Zn=this.getHeight()-Pn*kn-Fn*2),sn.translate(Fn,Zn+Fn),tr=0;tr<Pn;tr++){var rr=0,ir=0,yr=gn[tr],xr=yr.text,Nr=yr.width,jr=yr.lastInParagraph,Vr,Yr;if(sn.save(),Cn===Qe?rr+=Tn-Nr-Fn*2:Cn===Ee&&(rr+=(Tn-Nr-Fn*2)/2),Vn){sn.save(),sn.beginPath();const ar=Se.Konva._fixTextRendering?Math.round(vn/4):Math.round(vn/2),sr=rr,Tr=cr+ir+ar;sn.moveTo(sr,Tr),Vr=xr.split(" ").length-1,Yr=Cn===ke&&!jr?Tn-Fn*2:Nr,sn.lineTo(sr+Math.round(Yr),Tr),sn.lineWidth=vn/15;const dr=this._getLinearGradient();sn.strokeStyle=dr||In,sn.stroke(),sn.restore()}if(Yn){sn.save(),sn.beginPath();const ar=Se.Konva._fixTextRendering?-Math.round(vn/4):0;sn.moveTo(rr,cr+ir+ar),Vr=xr.split(" ").length-1,Yr=Cn===ke&&!jr?Tn-Fn*2:Nr,sn.lineTo(rr+Math.round(Yr),cr+ir+ar),sn.lineWidth=vn/15;const sr=this._getLinearGradient();sn.strokeStyle=sr||In,sn.stroke(),sn.restore()}if(er!==Ze&&(qn!==0||Cn===ke)){Vr=xr.split(" ").length-1;const ar=Ce(xr);for(let sr=0;sr<ar.length;sr++){const Tr=ar[sr];Tr===" "&&!jr&&Cn===ke&&(rr+=(Tn-Fn*2-Nr)/Vr),this._partialTextX=rr,this._partialTextY=cr+ir,this._partialText=Tr,sn.fillStrokeShape(this),rr+=this.measureSize(Tr).width+qn}}else qn!==0&&sn.setAttr("letterSpacing",`${qn}px`),this._partialTextX=rr,this._partialTextY=cr+ir,this._partialText=xr,sn.fillStrokeShape(this);sn.restore(),Pn>1&&(cr+=kn)}}_hitFunc(sn){const gn=this.getWidth(),Pn=this.getHeight();sn.beginPath(),sn.rect(0,0,gn,Pn),sn.closePath(),sn.fillStrokeShape(this)}setText(sn){const gn=xe.Util._isString(sn)?sn:sn==null?"":sn+"";return this._setAttr(je,gn),this}getWidth(){return this.attrs.width===Pe||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Pe||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return xe.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(sn){var gn,Pn,Fn,vn,kn,Bn,er,Zn,Cn,Tn,qn;let In=pn(),wn=this.fontSize(),Vn;In.save(),In.font=this._getContextFont(),Vn=In.measureText(sn),In.restore();const Yn=wn/100;return{actualBoundingBoxAscent:(gn=Vn.actualBoundingBoxAscent)!==null&&gn!==void 0?gn:71.58203125*Yn,actualBoundingBoxDescent:(Pn=Vn.actualBoundingBoxDescent)!==null&&Pn!==void 0?Pn:0,actualBoundingBoxLeft:(Fn=Vn.actualBoundingBoxLeft)!==null&&Fn!==void 0?Fn:-7.421875*Yn,actualBoundingBoxRight:(vn=Vn.actualBoundingBoxRight)!==null&&vn!==void 0?vn:75.732421875*Yn,alphabeticBaseline:(kn=Vn.alphabeticBaseline)!==null&&kn!==void 0?kn:0,emHeightAscent:(Bn=Vn.emHeightAscent)!==null&&Bn!==void 0?Bn:100*Yn,emHeightDescent:(er=Vn.emHeightDescent)!==null&&er!==void 0?er:-20*Yn,fontBoundingBoxAscent:(Zn=Vn.fontBoundingBoxAscent)!==null&&Zn!==void 0?Zn:91*Yn,fontBoundingBoxDescent:(Cn=Vn.fontBoundingBoxDescent)!==null&&Cn!==void 0?Cn:21*Yn,hangingBaseline:(Tn=Vn.hangingBaseline)!==null&&Tn!==void 0?Tn:72.80000305175781*Yn,ideographicBaseline:(qn=Vn.ideographicBaseline)!==null&&qn!==void 0?qn:-21*Yn,width:Vn.width,height:wn}}_getContextFont(){return this.fontStyle()+Je+this.fontVariant()+Je+(this.fontSize()+We)+dn(this.fontFamily())}_addTextLine(sn){this.align()===ke&&(sn=sn.trim());const Pn=this._getTextWidth(sn);return this.textArr.push({text:sn,width:Pn,lastInParagraph:!1})}_getTextWidth(sn){const gn=this.letterSpacing(),Pn=sn.length;return pn().measureText(sn).width+gn*Pn}_setTextData(){let sn=this.text().split(`
`),gn=+this.fontSize(),Pn=0,Fn=this.lineHeight()*gn,vn=this.attrs.width,kn=this.attrs.height,Bn=vn!==Pe&&vn!==void 0,er=kn!==Pe&&kn!==void 0,Zn=this.padding(),Cn=vn-Zn*2,Tn=kn-Zn*2,qn=0,In=this.wrap(),wn=In!==rn,Vn=In!==an&&wn,Yn=this.ellipsis();this.textArr=[],pn().font=this._getContextFont();const tr=Yn?this._getTextWidth(fn):0;for(let cr=0,Kn=sn.length;cr<Kn;++cr){let rr=sn[cr],ir=this._getTextWidth(rr);if(Bn&&ir>Cn)for(;rr.length>0;){let yr=0,xr=Ce(rr).length,Nr="",jr=0;for(;yr<xr;){const Vr=yr+xr>>>1,Yr=Ce(rr),ei=Yr.slice(0,Vr+1).join(""),Ln=this._getTextWidth(ei)+tr;Ln<=Cn?(yr=Vr+1,Nr=ei,jr=Ln):xr=Vr}if(Nr){if(Vn){const ei=Ce(rr),Ln=Ce(Nr),ar=ei[Ln.length],sr=ar===Je||ar===Re;let Tr;if(sr&&jr<=Cn)Tr=Ln.length;else{const dr=Ln.lastIndexOf(Je),Pr=Ln.lastIndexOf(Re);Tr=Math.max(dr,Pr)+1}Tr>0&&(yr=Tr,Nr=ei.slice(0,yr).join(""),jr=this._getTextWidth(Nr))}if(Nr=Nr.trimRight(),this._addTextLine(Nr),Pn=Math.max(Pn,jr),qn+=Fn,this._shouldHandleEllipsis(qn)){this._tryToAddEllipsisToLastLine();break}if(rr=Ce(rr).slice(yr).join("").trimLeft(),rr.length>0&&(ir=this._getTextWidth(rr),ir<=Cn)){this._addTextLine(rr),qn+=Fn,Pn=Math.max(Pn,ir);break}}else break}else this._addTextLine(rr),qn+=Fn,Pn=Math.max(Pn,ir),this._shouldHandleEllipsis(qn)&&cr<Kn-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),er&&qn+Fn>Tn)break}this.textHeight=gn,this.textWidth=Pn}_shouldHandleEllipsis(sn){const gn=+this.fontSize(),Pn=this.lineHeight()*gn,Fn=this.attrs.height,vn=Fn!==Pe&&Fn!==void 0,kn=this.padding(),Bn=Fn-kn*2;return!(this.wrap()!==rn)||vn&&sn+Pn>Bn}_tryToAddEllipsisToLastLine(){const sn=this.attrs.width,gn=sn!==Pe&&sn!==void 0,Pn=this.padding(),Fn=sn-Pn*2,vn=this.ellipsis(),kn=this.textArr[this.textArr.length-1];!kn||!vn||(gn&&(this._getTextWidth(kn.text+fn)<Fn||(kn.text=kn.text.slice(0,kn.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(kn.text+fn))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const sn=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,gn=this.hasShadow();return sn&&gn?!0:super._useBufferCanvas()}};return Text.Text=xn,xn.prototype._fillFunc=_n,xn.prototype._strokeFunc=Nn,xn.prototype.className=He,xn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,Ae._registerNode)(xn),e.Factory.overWriteSetter(xn,"width",(0,_e.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(xn,"height",(0,_e.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(xn,"direction",Fe),e.Factory.addGetterSetter(xn,"fontFamily","Arial"),e.Factory.addGetterSetter(xn,"fontSize",12,(0,_e.getNumberValidator)()),e.Factory.addGetterSetter(xn,"fontStyle",Xe),e.Factory.addGetterSetter(xn,"fontVariant",Xe),e.Factory.addGetterSetter(xn,"padding",0,(0,_e.getNumberValidator)()),e.Factory.addGetterSetter(xn,"align",Be),e.Factory.addGetterSetter(xn,"verticalAlign",Ge),e.Factory.addGetterSetter(xn,"lineHeight",1,(0,_e.getNumberValidator)()),e.Factory.addGetterSetter(xn,"wrap",on),e.Factory.addGetterSetter(xn,"ellipsis",!1,(0,_e.getBooleanValidator)()),e.Factory.addGetterSetter(xn,"letterSpacing",0,(0,_e.getNumberValidator)()),e.Factory.addGetterSetter(xn,"text","",(0,_e.getStringValidator)()),e.Factory.addGetterSetter(xn,"textDecoration",""),Text}var TextPath={},hasRequiredTextPath;function requireTextPath(){if(hasRequiredTextPath)return TextPath;hasRequiredTextPath=1,Object.defineProperty(TextPath,"__esModule",{value:!0}),TextPath.TextPath=void 0;const xe=requireUtil(),e=requireFactory(),t=requireShape(),Se=requirePath(),_e=requireText(),Ae=requireValidators(),Ce=requireGlobal(),Pe="",Ee="normal";function Fe(Oe){Oe.fillText(this.partialText,0,0)}function ke(Oe){Oe.strokeText(this.partialText,0,0)}let Ie=class extends t.Shape{constructor(Re){super(Re),this.dummyCanvas=xe.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Se.Path.getPathLength(this.dataArray)}_getPointAtLength(Re){if(!this.attrs.data)return null;const Be=this.pathLength;return Re-1>Be?null:Se.Path.getPointAtLengthOfDataArray(Re,this.dataArray)}_readDataAttribute(){this.dataArray=Se.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(Re){Re.setAttr("font",this._getContextFont()),Re.setAttr("textBaseline",this.textBaseline()),Re.setAttr("textAlign","left"),Re.save();const Be=this.textDecoration(),je=this.fill(),He=this.fontSize(),Ge=this.glyphInfo;Be==="underline"&&Re.beginPath();for(let Ve=0;Ve<Ge.length;Ve++){Re.save();const ze=Ge[Ve].p0;Re.translate(ze.x,ze.y),Re.rotate(Ge[Ve].rotation),this.partialText=Ge[Ve].text,Re.fillStrokeShape(this),Be==="underline"&&(Ve===0&&Re.moveTo(0,He/2+1),Re.lineTo(He,He/2+1)),Re.restore()}Be==="underline"&&(Re.strokeStyle=je,Re.lineWidth=He/20,Re.stroke()),Re.restore()}_hitFunc(Re){Re.beginPath();const Be=this.glyphInfo;if(Be.length>=1){const je=Be[0].p0;Re.moveTo(je.x,je.y)}for(let je=0;je<Be.length;je++){const He=Be[je].p1;Re.lineTo(He.x,He.y)}Re.setAttr("lineWidth",this.fontSize()),Re.setAttr("strokeStyle",this.colorKey),Re.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return xe.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(Re){return _e.Text.prototype.setText.call(this,Re)}_getContextFont(){return _e.Text.prototype._getContextFont.call(this)}_getTextSize(Re){const je=this.dummyCanvas.getContext("2d");je.save(),je.font=this._getContextFont();const He=je.measureText(Re);return je.restore(),{width:He.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:Re,height:Be}=this._getTextSize(this.attrs.text);if(this.textWidth=Re,this.textHeight=Be,this.glyphInfo=[],!this.attrs.data)return null;const je=this.letterSpacing(),He=this.align(),Ge=this.kerningFunc(),Ve=Math.max(this.textWidth+((this.attrs.text||"").length-1)*je,0);let ze=0;He==="center"&&(ze=Math.max(0,this.pathLength/2-Ve/2)),He==="right"&&(ze=Math.max(0,this.pathLength-Ve));const Xe=(0,_e.stringToArray)(this.text());let We=ze;for(let Je=0;Je<Xe.length;Je++){const Qe=this._getPointAtLength(We);if(!Qe)return;let Ze=this._getTextSize(Xe[Je]).width+je;if(Xe[Je]===" "&&He==="justify"){const cn=this.text().split(" ").length-1;Ze+=(this.pathLength-Ve)/cn}const on=this._getPointAtLength(We+Ze);if(!on)return;const an=Se.Path.getLineLength(Qe.x,Qe.y,on.x,on.y);let rn=0;if(Ge)try{rn=Ge(Xe[Je-1],Xe[Je])*this.fontSize()}catch{rn=0}Qe.x+=rn,on.x+=rn,this.textWidth+=rn;const fn=Se.Path.getPointOnLine(rn+an/2,Qe.x,Qe.y,on.x,on.y),nn=Math.atan2(on.y-Qe.y,on.x-Qe.x);this.glyphInfo.push({transposeX:fn.x,transposeY:fn.y,text:Xe[Je],rotation:nn,p0:Qe,p1:on}),We+=Ze}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const Re=[];this.glyphInfo.forEach(function(We){Re.push(We.p0.x),Re.push(We.p0.y),Re.push(We.p1.x),Re.push(We.p1.y)});let Be=Re[0]||0,je=Re[0]||0,He=Re[1]||0,Ge=Re[1]||0,Ve,ze;for(let We=0;We<Re.length/2;We++)Ve=Re[We*2],ze=Re[We*2+1],Be=Math.min(Be,Ve),je=Math.max(je,Ve),He=Math.min(He,ze),Ge=Math.max(Ge,ze);const Xe=this.fontSize();return{x:Be-Xe/2,y:He-Xe/2,width:je-Be+Xe,height:Ge-He+Xe}}destroy(){return xe.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return TextPath.TextPath=Ie,Ie.prototype._fillFunc=Fe,Ie.prototype._strokeFunc=ke,Ie.prototype._fillFuncHit=Fe,Ie.prototype._strokeFuncHit=ke,Ie.prototype.className="TextPath",Ie.prototype._attrsAffectingSize=["text","fontSize","data"],(0,Ce._registerNode)(Ie),e.Factory.addGetterSetter(Ie,"data"),e.Factory.addGetterSetter(Ie,"fontFamily","Arial"),e.Factory.addGetterSetter(Ie,"fontSize",12,(0,Ae.getNumberValidator)()),e.Factory.addGetterSetter(Ie,"fontStyle",Ee),e.Factory.addGetterSetter(Ie,"align","left"),e.Factory.addGetterSetter(Ie,"letterSpacing",0,(0,Ae.getNumberValidator)()),e.Factory.addGetterSetter(Ie,"textBaseline","middle"),e.Factory.addGetterSetter(Ie,"fontVariant",Ee),e.Factory.addGetterSetter(Ie,"text",Pe),e.Factory.addGetterSetter(Ie,"textDecoration",""),e.Factory.addGetterSetter(Ie,"kerningFunc",void 0),TextPath}var Transformer={},hasRequiredTransformer;function requireTransformer(){if(hasRequiredTransformer)return Transformer;hasRequiredTransformer=1,Object.defineProperty(Transformer,"__esModule",{value:!0}),Transformer.Transformer=void 0;const xe=requireUtil(),e=requireFactory(),t=requireNode(),Se=requireShape(),_e=requireRect(),Ae=requireGroup(),Ce=requireGlobal(),Pe=requireValidators(),Ee=requireGlobal(),Fe="tr-konva",ke=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(on=>on+`.${Fe}`).join(" "),Ie="nodesRect",Oe=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Re={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Be="ontouchstart"in Ce.Konva._global;function je(on,an,rn){if(on==="rotater")return rn;an+=xe.Util.degToRad(Re[on]||0);const fn=(xe.Util.radToDeg(an)%360+360)%360;return xe.Util._inRange(fn,315+22.5,360)||xe.Util._inRange(fn,0,22.5)?"ns-resize":xe.Util._inRange(fn,45-22.5,45+22.5)?"nesw-resize":xe.Util._inRange(fn,90-22.5,90+22.5)?"ew-resize":xe.Util._inRange(fn,135-22.5,135+22.5)?"nwse-resize":xe.Util._inRange(fn,180-22.5,180+22.5)?"ns-resize":xe.Util._inRange(fn,225-22.5,225+22.5)?"nesw-resize":xe.Util._inRange(fn,270-22.5,270+22.5)?"ew-resize":xe.Util._inRange(fn,315-22.5,315+22.5)?"nwse-resize":(xe.Util.error("Transformer has unknown angle for cursor detection: "+fn),"pointer")}const He=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Ge=1e8;function Ve(on){return{x:on.x+on.width/2*Math.cos(on.rotation)+on.height/2*Math.sin(-on.rotation),y:on.y+on.height/2*Math.cos(on.rotation)+on.width/2*Math.sin(on.rotation)}}function ze(on,an,rn){const fn=rn.x+(on.x-rn.x)*Math.cos(an)-(on.y-rn.y)*Math.sin(an),nn=rn.y+(on.x-rn.x)*Math.sin(an)+(on.y-rn.y)*Math.cos(an);return{...on,rotation:on.rotation+an,x:fn,y:nn}}function Xe(on,an){const rn=Ve(on);return ze(on,an,rn)}function We(on,an,rn){let fn=an;for(let nn=0;nn<on.length;nn++){const cn=Ce.Konva.getAngle(on[nn]),dn=Math.abs(cn-an)%(Math.PI*2);Math.min(dn,Math.PI*2-dn)<rn&&(fn=cn)}return fn}let Je=0,Qe=class extends Ae.Group{constructor(an){super(an),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ke,this.update),this.getNode()&&this.update()}attachTo(an){return this.setNode(an),this}setNode(an){return xe.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([an])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Fe+this._id}setNodes(an=[]){this._nodes&&this._nodes.length&&this.detach();const rn=an.filter(nn=>nn.isAncestorOf(this)?(xe.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=an=rn,an.length===1&&this.useSingleNodeRotation()?this.rotation(an[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(nn=>{const cn=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},dn=nn._attrsAffectingSize.map(bn=>bn+"Change."+this._getEventNamespace()).join(" ");nn.on(dn,cn),nn.on(Oe.map(bn=>bn+`.${this._getEventNamespace()}`).join(" "),cn),nn.on(`absoluteTransformChange.${this._getEventNamespace()}`,cn),this._proxyDrag(nn)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(an){let rn;an.on(`dragstart.${this._getEventNamespace()}`,fn=>{rn=an.getAbsolutePosition(),!this.isDragging()&&an!==this.findOne(".back")&&this.startDrag(fn,!1)}),an.on(`dragmove.${this._getEventNamespace()}`,fn=>{if(!rn)return;const nn=an.getAbsolutePosition(),cn=nn.x-rn.x,dn=nn.y-rn.y;this.nodes().forEach(bn=>{if(bn===an||bn.isDragging())return;const pn=bn.getAbsolutePosition();bn.setAbsolutePosition({x:pn.x+cn,y:pn.y+dn}),bn.startDrag(fn)}),rn=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(an=>{an.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Ie),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Ie,this.__getNodeRect)}__getNodeShape(an,rn=this.rotation(),fn){const nn=an.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),cn=an.getAbsoluteScale(fn),dn=an.getAbsolutePosition(fn),bn=nn.x*cn.x-an.offsetX()*cn.x,pn=nn.y*cn.y-an.offsetY()*cn.y,_n=(Ce.Konva.getAngle(an.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),Nn={x:dn.x+bn*Math.cos(_n)+pn*Math.sin(-_n),y:dn.y+pn*Math.cos(_n)+bn*Math.sin(_n),width:nn.width*cn.x,height:nn.height*cn.y,rotation:_n};return ze(Nn,-Ce.Konva.getAngle(rn),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-Ge,y:-Ge,width:0,height:0,rotation:0};const rn=[];this.nodes().map(_n=>{const Nn=_n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Un=[{x:Nn.x,y:Nn.y},{x:Nn.x+Nn.width,y:Nn.y},{x:Nn.x+Nn.width,y:Nn.y+Nn.height},{x:Nn.x,y:Nn.y+Nn.height}],xn=_n.getAbsoluteTransform();Un.forEach(function(St){const sn=xn.point(St);rn.push(sn)})});const fn=new xe.Transform;fn.rotate(-Ce.Konva.getAngle(this.rotation()));let nn=1/0,cn=1/0,dn=-1/0,bn=-1/0;rn.forEach(function(_n){const Nn=fn.point(_n);nn===void 0&&(nn=dn=Nn.x,cn=bn=Nn.y),nn=Math.min(nn,Nn.x),cn=Math.min(cn,Nn.y),dn=Math.max(dn,Nn.x),bn=Math.max(bn,Nn.y)}),fn.invert();const pn=fn.point({x:nn,y:cn});return{x:pn.x,y:pn.y,width:dn-nn,height:bn-cn,rotation:Ce.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),He.forEach(an=>{this._createAnchor(an)}),this._createAnchor("rotater")}_createAnchor(an){const rn=new _e.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:an+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Be?10:"auto"}),fn=this;rn.on("mousedown touchstart",function(nn){fn._handleMouseDown(nn)}),rn.on("dragstart",nn=>{rn.stopDrag(),nn.cancelBubble=!0}),rn.on("dragend",nn=>{nn.cancelBubble=!0}),rn.on("mouseenter",()=>{const nn=Ce.Konva.getAngle(this.rotation()),cn=this.rotateAnchorCursor(),dn=je(an,nn,cn);rn.getStage().content&&(rn.getStage().content.style.cursor=dn),this._cursorChange=!0}),rn.on("mouseout",()=>{rn.getStage().content&&(rn.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(rn)}_createBack(){const an=new Se.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(rn,fn){const nn=fn.getParent(),cn=nn.padding();rn.beginPath(),rn.rect(-cn,-cn,fn.width()+cn*2,fn.height()+cn*2),rn.moveTo(fn.width()/2,-cn),nn.rotateEnabled()&&nn.rotateLineVisible()&&rn.lineTo(fn.width()/2,-nn.rotateAnchorOffset()*xe.Util._sign(fn.height())-cn),rn.fillStrokeShape(fn)},hitFunc:(rn,fn)=>{if(!this.shouldOverdrawWholeArea())return;const nn=this.padding();rn.beginPath(),rn.rect(-nn,-nn,fn.width()+nn*2,fn.height()+nn*2),rn.fillStrokeShape(fn)}});this.add(an),this._proxyDrag(an),an.on("dragstart",rn=>{rn.cancelBubble=!0}),an.on("dragmove",rn=>{rn.cancelBubble=!0}),an.on("dragend",rn=>{rn.cancelBubble=!0}),this.on("dragmove",rn=>{this.update()})}_handleMouseDown(an){if(this._transforming)return;this._movingAnchorName=an.target.name().split(" ")[0];const rn=this._getNodeRect(),fn=rn.width,nn=rn.height,cn=Math.sqrt(Math.pow(fn,2)+Math.pow(nn,2));this.sin=Math.abs(nn/cn),this.cos=Math.abs(fn/cn),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const dn=an.target.getAbsolutePosition(),bn=an.target.getStage().getPointerPosition();this._anchorDragOffset={x:bn.x-dn.x,y:bn.y-dn.y},Je++,this._fire("transformstart",{evt:an.evt,target:this.getNode()}),this._nodes.forEach(pn=>{pn._fire("transformstart",{evt:an.evt,target:pn})})}_handleMouseMove(an){let rn,fn,nn;const cn=this.findOne("."+this._movingAnchorName),dn=cn.getStage();dn.setPointersPositions(an);const bn=dn.getPointerPosition();let pn={x:bn.x-this._anchorDragOffset.x,y:bn.y-this._anchorDragOffset.y};const _n=cn.getAbsolutePosition();this.anchorDragBoundFunc()&&(pn=this.anchorDragBoundFunc()(_n,pn,an)),cn.setAbsolutePosition(pn);const Nn=cn.getAbsolutePosition();if(_n.x===Nn.x&&_n.y===Nn.y)return;if(this._movingAnchorName==="rotater"){const er=this._getNodeRect();rn=cn.x()-er.width/2,fn=-cn.y()+er.height/2;let Zn=Math.atan2(-fn,rn)+Math.PI/2;er.height<0&&(Zn-=Math.PI);const Tn=Ce.Konva.getAngle(this.rotation())+Zn,qn=Ce.Konva.getAngle(this.rotationSnapTolerance()),wn=We(this.rotationSnaps(),Tn,qn)-er.rotation,Vn=Xe(er,wn);this._fitNodesInto(Vn,an);return}const Un=this.shiftBehavior();let xn;Un==="inverted"?xn=this.keepRatio()&&!an.shiftKey:Un==="none"?xn=this.keepRatio():xn=this.keepRatio()||an.shiftKey;var Fn=this.centeredScaling()||an.altKey;if(this._movingAnchorName==="top-left"){if(xn){var St=Fn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};nn=Math.sqrt(Math.pow(St.x-cn.x(),2)+Math.pow(St.y-cn.y(),2));var sn=this.findOne(".top-left").x()>St.x?-1:1,gn=this.findOne(".top-left").y()>St.y?-1:1;rn=nn*this.cos*sn,fn=nn*this.sin*gn,this.findOne(".top-left").x(St.x-rn),this.findOne(".top-left").y(St.y-fn)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(cn.y());else if(this._movingAnchorName==="top-right"){if(xn){var St=Fn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};nn=Math.sqrt(Math.pow(cn.x()-St.x,2)+Math.pow(St.y-cn.y(),2));var sn=this.findOne(".top-right").x()<St.x?-1:1,gn=this.findOne(".top-right").y()>St.y?-1:1;rn=nn*this.cos*sn,fn=nn*this.sin*gn,this.findOne(".top-right").x(St.x+rn),this.findOne(".top-right").y(St.y-fn)}var Pn=cn.position();this.findOne(".top-left").y(Pn.y),this.findOne(".bottom-right").x(Pn.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(cn.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(cn.x());else if(this._movingAnchorName==="bottom-left"){if(xn){var St=Fn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};nn=Math.sqrt(Math.pow(St.x-cn.x(),2)+Math.pow(cn.y()-St.y,2));var sn=St.x<cn.x()?-1:1,gn=cn.y()<St.y?-1:1;rn=nn*this.cos*sn,fn=nn*this.sin*gn,cn.x(St.x-rn),cn.y(St.y+fn)}Pn=cn.position(),this.findOne(".top-left").x(Pn.x),this.findOne(".bottom-right").y(Pn.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(cn.y());else if(this._movingAnchorName==="bottom-right"){if(xn){var St=Fn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};nn=Math.sqrt(Math.pow(cn.x()-St.x,2)+Math.pow(cn.y()-St.y,2));var sn=this.findOne(".bottom-right").x()<St.x?-1:1,gn=this.findOne(".bottom-right").y()<St.y?-1:1;rn=nn*this.cos*sn,fn=nn*this.sin*gn,this.findOne(".bottom-right").x(St.x+rn),this.findOne(".bottom-right").y(St.y+fn)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Fn=this.centeredScaling()||an.altKey;if(Fn){const er=this.findOne(".top-left"),Zn=this.findOne(".bottom-right"),Cn=er.x(),Tn=er.y(),qn=this.getWidth()-Zn.x(),In=this.getHeight()-Zn.y();Zn.move({x:-Cn,y:-Tn}),er.move({x:qn,y:In})}const vn=this.findOne(".top-left").getAbsolutePosition();rn=vn.x,fn=vn.y;const kn=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),Bn=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:rn,y:fn,width:kn,height:Bn,rotation:Ce.Konva.getAngle(this.rotation())},an)}_handleMouseUp(an){this._removeEvents(an)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(an){var rn;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const fn=this.getNode();Je--,this._fire("transformend",{evt:an,target:fn}),(rn=this.getLayer())===null||rn===void 0||rn.batchDraw(),fn&&this._nodes.forEach(nn=>{var cn;nn._fire("transformend",{evt:an,target:nn}),(cn=nn.getLayer())===null||cn===void 0||cn.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(an,rn){const fn=this._getNodeRect(),nn=1;if(xe.Util._inRange(an.width,-this.padding()*2-nn,nn)){this.update();return}if(xe.Util._inRange(an.height,-this.padding()*2-nn,nn)){this.update();return}const cn=new xe.Transform;if(cn.rotate(Ce.Konva.getAngle(this.rotation())),this._movingAnchorName&&an.width<0&&this._movingAnchorName.indexOf("left")>=0){const xn=cn.point({x:-this.padding()*2,y:0});an.x+=xn.x,an.y+=xn.y,an.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=xn.x,this._anchorDragOffset.y-=xn.y}else if(this._movingAnchorName&&an.width<0&&this._movingAnchorName.indexOf("right")>=0){const xn=cn.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=xn.x,this._anchorDragOffset.y-=xn.y,an.width+=this.padding()*2}if(this._movingAnchorName&&an.height<0&&this._movingAnchorName.indexOf("top")>=0){const xn=cn.point({x:0,y:-this.padding()*2});an.x+=xn.x,an.y+=xn.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=xn.x,this._anchorDragOffset.y-=xn.y,an.height+=this.padding()*2}else if(this._movingAnchorName&&an.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const xn=cn.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=xn.x,this._anchorDragOffset.y-=xn.y,an.height+=this.padding()*2}if(this.boundBoxFunc()){const xn=this.boundBoxFunc()(fn,an);xn?an=xn:xe.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const dn=1e7,bn=new xe.Transform;bn.translate(fn.x,fn.y),bn.rotate(fn.rotation),bn.scale(fn.width/dn,fn.height/dn);const pn=new xe.Transform,_n=an.width/dn,Nn=an.height/dn;this.flipEnabled()===!1?(pn.translate(an.x,an.y),pn.rotate(an.rotation),pn.translate(an.width<0?an.width:0,an.height<0?an.height:0),pn.scale(Math.abs(_n),Math.abs(Nn))):(pn.translate(an.x,an.y),pn.rotate(an.rotation),pn.scale(_n,Nn));const Un=pn.multiply(bn.invert());this._nodes.forEach(xn=>{var St;const sn=xn.getParent().getAbsoluteTransform(),gn=xn.getTransform().copy();gn.translate(xn.offsetX(),xn.offsetY());const Pn=new xe.Transform;Pn.multiply(sn.copy().invert()).multiply(Un).multiply(sn).multiply(gn);const Fn=Pn.decompose();xn.setAttrs(Fn),(St=xn.getLayer())===null||St===void 0||St.batchDraw()}),this.rotation(xe.Util._getRotation(an.rotation)),this._nodes.forEach(xn=>{this._fire("transform",{evt:rn,target:xn}),xn._fire("transform",{evt:rn,target:xn})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(an,rn){this.findOne(an).setAttrs(rn)}update(){var an;const rn=this._getNodeRect();this.rotation(xe.Util._getRotation(rn.rotation));const fn=rn.width,nn=rn.height,cn=this.enabledAnchors(),dn=this.resizeEnabled(),bn=this.padding(),pn=this.anchorSize(),_n=this.find("._anchor");_n.forEach(Un=>{Un.setAttrs({width:pn,height:pn,offsetX:pn/2,offsetY:pn/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:pn/2+bn,offsetY:pn/2+bn,visible:dn&&cn.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:fn/2,y:0,offsetY:pn/2+bn,visible:dn&&cn.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:fn,y:0,offsetX:pn/2-bn,offsetY:pn/2+bn,visible:dn&&cn.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:nn/2,offsetX:pn/2+bn,visible:dn&&cn.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:fn,y:nn/2,offsetX:pn/2-bn,visible:dn&&cn.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:nn,offsetX:pn/2+bn,offsetY:pn/2-bn,visible:dn&&cn.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:fn/2,y:nn,offsetY:pn/2-bn,visible:dn&&cn.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:fn,y:nn,offsetX:pn/2-bn,offsetY:pn/2-bn,visible:dn&&cn.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:fn/2,y:-this.rotateAnchorOffset()*xe.Util._sign(nn)-bn,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:fn,height:nn,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const Nn=this.anchorStyleFunc();Nn&&_n.forEach(Un=>{Nn(Un)}),(an=this.getLayer())===null||an===void 0||an.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const an=this.findOne("."+this._movingAnchorName);an&&an.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Ae.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return t.Node.prototype.toObject.call(this)}clone(an){return t.Node.prototype.clone.call(this,an)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Transformer.Transformer=Qe,Qe.isTransforming=()=>Je>0;function Ze(on){return on instanceof Array||xe.Util.warn("enabledAnchors value should be an array"),on instanceof Array&&on.forEach(function(an){He.indexOf(an)===-1&&xe.Util.warn("Unknown anchor name: "+an+". Available names are: "+He.join(", "))}),on||[]}return Qe.prototype.className="Transformer",(0,Ee._registerNode)(Qe),e.Factory.addGetterSetter(Qe,"enabledAnchors",He,Ze),e.Factory.addGetterSetter(Qe,"flipEnabled",!0,(0,Pe.getBooleanValidator)()),e.Factory.addGetterSetter(Qe,"resizeEnabled",!0),e.Factory.addGetterSetter(Qe,"anchorSize",10,(0,Pe.getNumberValidator)()),e.Factory.addGetterSetter(Qe,"rotateEnabled",!0),e.Factory.addGetterSetter(Qe,"rotateLineVisible",!0),e.Factory.addGetterSetter(Qe,"rotationSnaps",[]),e.Factory.addGetterSetter(Qe,"rotateAnchorOffset",50,(0,Pe.getNumberValidator)()),e.Factory.addGetterSetter(Qe,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(Qe,"rotationSnapTolerance",5,(0,Pe.getNumberValidator)()),e.Factory.addGetterSetter(Qe,"borderEnabled",!0),e.Factory.addGetterSetter(Qe,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(Qe,"anchorStrokeWidth",1,(0,Pe.getNumberValidator)()),e.Factory.addGetterSetter(Qe,"anchorFill","white"),e.Factory.addGetterSetter(Qe,"anchorCornerRadius",0,(0,Pe.getNumberValidator)()),e.Factory.addGetterSetter(Qe,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(Qe,"borderStrokeWidth",1,(0,Pe.getNumberValidator)()),e.Factory.addGetterSetter(Qe,"borderDash"),e.Factory.addGetterSetter(Qe,"keepRatio",!0),e.Factory.addGetterSetter(Qe,"shiftBehavior","default"),e.Factory.addGetterSetter(Qe,"centeredScaling",!1),e.Factory.addGetterSetter(Qe,"ignoreStroke",!1),e.Factory.addGetterSetter(Qe,"padding",0,(0,Pe.getNumberValidator)()),e.Factory.addGetterSetter(Qe,"nodes"),e.Factory.addGetterSetter(Qe,"node"),e.Factory.addGetterSetter(Qe,"boundBoxFunc"),e.Factory.addGetterSetter(Qe,"anchorDragBoundFunc"),e.Factory.addGetterSetter(Qe,"anchorStyleFunc"),e.Factory.addGetterSetter(Qe,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(Qe,"useSingleNodeRotation",!0),e.Factory.backCompat(Qe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Transformer}var Wedge={},hasRequiredWedge;function requireWedge(){if(hasRequiredWedge)return Wedge;hasRequiredWedge=1,Object.defineProperty(Wedge,"__esModule",{value:!0}),Wedge.Wedge=void 0;const xe=requireFactory(),e=requireShape(),t=requireGlobal(),Se=requireValidators(),_e=requireGlobal();let Ae=class extends e.Shape{_sceneFunc(Pe){Pe.beginPath(),Pe.arc(0,0,this.radius(),0,t.Konva.getAngle(this.angle()),this.clockwise()),Pe.lineTo(0,0),Pe.closePath(),Pe.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(Pe){this.radius(Pe/2)}setHeight(Pe){this.radius(Pe/2)}};return Wedge.Wedge=Ae,Ae.prototype.className="Wedge",Ae.prototype._centroid=!0,Ae.prototype._attrsAffectingSize=["radius"],(0,_e._registerNode)(Ae),xe.Factory.addGetterSetter(Ae,"radius",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"angle",0,(0,Se.getNumberValidator)()),xe.Factory.addGetterSetter(Ae,"clockwise",!1),xe.Factory.backCompat(Ae,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Wedge}var Blur={},hasRequiredBlur;function requireBlur(){if(hasRequiredBlur)return Blur;hasRequiredBlur=1,Object.defineProperty(Blur,"__esModule",{value:!0}),Blur.Blur=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators();function Se(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const _e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Ae=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Ce(Ee,Fe){const ke=Ee.data,Ie=Ee.width,Oe=Ee.height;let Re,Be,je,He,Ge,Ve,ze,Xe,We,Je,Qe,Ze,on,an,rn,fn,nn,cn,dn,bn,pn,_n,Nn,Un;const xn=Fe+Fe+1,St=Ie-1,sn=Oe-1,gn=Fe+1,Pn=gn*(gn+1)/2,Fn=new Se,vn=_e[Fe],kn=Ae[Fe];let Bn=null,er=Fn,Zn=null,Cn=null;for(je=1;je<xn;je++)er=er.next=new Se,je===gn&&(Bn=er);for(er.next=Fn,ze=Ve=0,Be=0;Be<Oe;Be++){for(fn=nn=cn=dn=Xe=We=Je=Qe=0,Ze=gn*(bn=ke[Ve]),on=gn*(pn=ke[Ve+1]),an=gn*(_n=ke[Ve+2]),rn=gn*(Nn=ke[Ve+3]),Xe+=Pn*bn,We+=Pn*pn,Je+=Pn*_n,Qe+=Pn*Nn,er=Fn,je=0;je<gn;je++)er.r=bn,er.g=pn,er.b=_n,er.a=Nn,er=er.next;for(je=1;je<gn;je++)He=Ve+((St<je?St:je)<<2),Xe+=(er.r=bn=ke[He])*(Un=gn-je),We+=(er.g=pn=ke[He+1])*Un,Je+=(er.b=_n=ke[He+2])*Un,Qe+=(er.a=Nn=ke[He+3])*Un,fn+=bn,nn+=pn,cn+=_n,dn+=Nn,er=er.next;for(Zn=Fn,Cn=Bn,Re=0;Re<Ie;Re++)ke[Ve+3]=Nn=Qe*vn>>kn,Nn!==0?(Nn=255/Nn,ke[Ve]=(Xe*vn>>kn)*Nn,ke[Ve+1]=(We*vn>>kn)*Nn,ke[Ve+2]=(Je*vn>>kn)*Nn):ke[Ve]=ke[Ve+1]=ke[Ve+2]=0,Xe-=Ze,We-=on,Je-=an,Qe-=rn,Ze-=Zn.r,on-=Zn.g,an-=Zn.b,rn-=Zn.a,He=ze+((He=Re+Fe+1)<St?He:St)<<2,fn+=Zn.r=ke[He],nn+=Zn.g=ke[He+1],cn+=Zn.b=ke[He+2],dn+=Zn.a=ke[He+3],Xe+=fn,We+=nn,Je+=cn,Qe+=dn,Zn=Zn.next,Ze+=bn=Cn.r,on+=pn=Cn.g,an+=_n=Cn.b,rn+=Nn=Cn.a,fn-=bn,nn-=pn,cn-=_n,dn-=Nn,Cn=Cn.next,Ve+=4;ze+=Ie}for(Re=0;Re<Ie;Re++){for(nn=cn=dn=fn=We=Je=Qe=Xe=0,Ve=Re<<2,Ze=gn*(bn=ke[Ve]),on=gn*(pn=ke[Ve+1]),an=gn*(_n=ke[Ve+2]),rn=gn*(Nn=ke[Ve+3]),Xe+=Pn*bn,We+=Pn*pn,Je+=Pn*_n,Qe+=Pn*Nn,er=Fn,je=0;je<gn;je++)er.r=bn,er.g=pn,er.b=_n,er.a=Nn,er=er.next;for(Ge=Ie,je=1;je<=Fe;je++)Ve=Ge+Re<<2,Xe+=(er.r=bn=ke[Ve])*(Un=gn-je),We+=(er.g=pn=ke[Ve+1])*Un,Je+=(er.b=_n=ke[Ve+2])*Un,Qe+=(er.a=Nn=ke[Ve+3])*Un,fn+=bn,nn+=pn,cn+=_n,dn+=Nn,er=er.next,je<sn&&(Ge+=Ie);for(Ve=Re,Zn=Fn,Cn=Bn,Be=0;Be<Oe;Be++)He=Ve<<2,ke[He+3]=Nn=Qe*vn>>kn,Nn>0?(Nn=255/Nn,ke[He]=(Xe*vn>>kn)*Nn,ke[He+1]=(We*vn>>kn)*Nn,ke[He+2]=(Je*vn>>kn)*Nn):ke[He]=ke[He+1]=ke[He+2]=0,Xe-=Ze,We-=on,Je-=an,Qe-=rn,Ze-=Zn.r,on-=Zn.g,an-=Zn.b,rn-=Zn.a,He=Re+((He=Be+gn)<sn?He:sn)*Ie<<2,Xe+=fn+=Zn.r=ke[He],We+=nn+=Zn.g=ke[He+1],Je+=cn+=Zn.b=ke[He+2],Qe+=dn+=Zn.a=ke[He+3],Zn=Zn.next,Ze+=bn=Cn.r,on+=pn=Cn.g,an+=_n=Cn.b,rn+=Nn=Cn.a,fn-=bn,nn-=pn,cn-=_n,dn-=Nn,Cn=Cn.next,Ve+=Ie}}const Pe=function(Fe){const ke=Math.round(this.blurRadius());ke>0&&Ce(Fe,ke)};return Blur.Blur=Pe,xe.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Blur}var Brighten={},hasRequiredBrighten;function requireBrighten(){if(hasRequiredBrighten)return Brighten;hasRequiredBrighten=1,Object.defineProperty(Brighten,"__esModule",{value:!0}),Brighten.Brighten=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=this.brightness()*255,Ce=_e.data,Pe=Ce.length;for(let Ee=0;Ee<Pe;Ee+=4)Ce[Ee]+=Ae,Ce[Ee+1]+=Ae,Ce[Ee+2]+=Ae};return Brighten.Brighten=Se,xe.Factory.addGetterSetter(e.Node,"brightness",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Brighten}var Contrast={},hasRequiredContrast;function requireContrast(){if(hasRequiredContrast)return Contrast;hasRequiredContrast=1,Object.defineProperty(Contrast,"__esModule",{value:!0}),Contrast.Contrast=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=Math.pow((this.contrast()+100)/100,2),Ce=_e.data,Pe=Ce.length;let Ee=150,Fe=150,ke=150;for(let Ie=0;Ie<Pe;Ie+=4)Ee=Ce[Ie],Fe=Ce[Ie+1],ke=Ce[Ie+2],Ee/=255,Ee-=.5,Ee*=Ae,Ee+=.5,Ee*=255,Fe/=255,Fe-=.5,Fe*=Ae,Fe+=.5,Fe*=255,ke/=255,ke-=.5,ke*=Ae,ke+=.5,ke*=255,Ee=Ee<0?0:Ee>255?255:Ee,Fe=Fe<0?0:Fe>255?255:Fe,ke=ke<0?0:ke>255?255:ke,Ce[Ie]=Ee,Ce[Ie+1]=Fe,Ce[Ie+2]=ke};return Contrast.Contrast=Se,xe.Factory.addGetterSetter(e.Node,"contrast",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Contrast}var Emboss={},hasRequiredEmboss;function requireEmboss(){if(hasRequiredEmboss)return Emboss;hasRequiredEmboss=1,Object.defineProperty(Emboss,"__esModule",{value:!0}),Emboss.Emboss=void 0;const xe=requireFactory(),e=requireNode(),t=requireUtil(),Se=requireValidators(),_e=function(Ae){const Ce=this.embossStrength()*10,Pe=this.embossWhiteLevel()*255,Ee=this.embossDirection(),Fe=this.embossBlend(),ke=Ae.data,Ie=Ae.width,Oe=Ae.height,Re=Ie*4;let Be=0,je=0,He=Oe;switch(Ee){case"top-left":Be=-1,je=-1;break;case"top":Be=-1,je=0;break;case"top-right":Be=-1,je=1;break;case"right":Be=0,je=1;break;case"bottom-right":Be=1,je=1;break;case"bottom":Be=1,je=0;break;case"bottom-left":Be=1,je=-1;break;case"left":Be=0,je=-1;break;default:t.Util.error("Unknown emboss direction: "+Ee)}do{const Ge=(He-1)*Re;let Ve=Be;He+Ve<1&&(Ve=0),He+Ve>Oe&&(Ve=0);const ze=(He-1+Ve)*Ie*4;let Xe=Ie;do{const We=Ge+(Xe-1)*4;let Je=je;Xe+Je<1&&(Je=0),Xe+Je>Ie&&(Je=0);const Qe=ze+(Xe-1+Je)*4,Ze=ke[We]-ke[Qe],on=ke[We+1]-ke[Qe+1],an=ke[We+2]-ke[Qe+2];let rn=Ze;const fn=rn>0?rn:-rn,nn=on>0?on:-on,cn=an>0?an:-an;if(nn>fn&&(rn=on),cn>fn&&(rn=an),rn*=Ce,Fe){const dn=ke[We]+rn,bn=ke[We+1]+rn,pn=ke[We+2]+rn;ke[We]=dn>255?255:dn<0?0:dn,ke[We+1]=bn>255?255:bn<0?0:bn,ke[We+2]=pn>255?255:pn<0?0:pn}else{let dn=Pe-rn;dn<0?dn=0:dn>255&&(dn=255),ke[We]=ke[We+1]=ke[We+2]=dn}}while(--Xe)}while(--He)};return Emboss.Emboss=_e,xe.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,Se.getNumberValidator)(),xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,Se.getNumberValidator)(),xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,xe.Factory.afterSetFilter),Emboss}var Enhance={},hasRequiredEnhance;function requireEnhance(){if(hasRequiredEnhance)return Enhance;hasRequiredEnhance=1,Object.defineProperty(Enhance,"__esModule",{value:!0}),Enhance.Enhance=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators();function Se(Ae,Ce,Pe,Ee,Fe){const ke=Pe-Ce,Ie=Fe-Ee;if(ke===0)return Ee+Ie/2;if(Ie===0)return Ee;let Oe=(Ae-Ce)/ke;return Oe=Ie*Oe+Ee,Oe}const _e=function(Ae){const Ce=Ae.data,Pe=Ce.length;let Ee=Ce[0],Fe=Ee,ke,Ie=Ce[1],Oe=Ie,Re,Be=Ce[2],je=Be,He;const Ge=this.enhance();if(Ge===0)return;for(let rn=0;rn<Pe;rn+=4)ke=Ce[rn+0],ke<Ee?Ee=ke:ke>Fe&&(Fe=ke),Re=Ce[rn+1],Re<Ie?Ie=Re:Re>Oe&&(Oe=Re),He=Ce[rn+2],He<Be?Be=He:He>je&&(je=He);Fe===Ee&&(Fe=255,Ee=0),Oe===Ie&&(Oe=255,Ie=0),je===Be&&(je=255,Be=0);let Ve,ze,Xe,We,Je,Qe,Ze,on,an;Ge>0?(ze=Fe+Ge*(255-Fe),Xe=Ee-Ge*(Ee-0),Je=Oe+Ge*(255-Oe),Qe=Ie-Ge*(Ie-0),on=je+Ge*(255-je),an=Be-Ge*(Be-0)):(Ve=(Fe+Ee)*.5,ze=Fe+Ge*(Fe-Ve),Xe=Ee+Ge*(Ee-Ve),We=(Oe+Ie)*.5,Je=Oe+Ge*(Oe-We),Qe=Ie+Ge*(Ie-We),Ze=(je+Be)*.5,on=je+Ge*(je-Ze),an=Be+Ge*(Be-Ze));for(let rn=0;rn<Pe;rn+=4)Ce[rn+0]=Se(Ce[rn+0],Ee,Fe,Xe,ze),Ce[rn+1]=Se(Ce[rn+1],Ie,Oe,Qe,Je),Ce[rn+2]=Se(Ce[rn+2],Be,je,an,on)};return Enhance.Enhance=_e,xe.Factory.addGetterSetter(e.Node,"enhance",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Enhance}var Grayscale={},hasRequiredGrayscale;function requireGrayscale(){if(hasRequiredGrayscale)return Grayscale;hasRequiredGrayscale=1,Object.defineProperty(Grayscale,"__esModule",{value:!0}),Grayscale.Grayscale=void 0;const xe=function(e){const t=e.data,Se=t.length;for(let _e=0;_e<Se;_e+=4){const Ae=.34*t[_e]+.5*t[_e+1]+.16*t[_e+2];t[_e]=Ae,t[_e+1]=Ae,t[_e+2]=Ae}};return Grayscale.Grayscale=xe,Grayscale}var HSL={},hasRequiredHSL;function requireHSL(){if(hasRequiredHSL)return HSL;hasRequiredHSL=1,Object.defineProperty(HSL,"__esModule",{value:!0}),HSL.HSL=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators();xe.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"luminance",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter);const Se=function(_e){const Ae=_e.data,Ce=Ae.length,Pe=1,Ee=Math.pow(2,this.saturation()),Fe=Math.abs(this.hue()+360)%360,ke=this.luminance()*127,Ie=Pe*Ee*Math.cos(Fe*Math.PI/180),Oe=Pe*Ee*Math.sin(Fe*Math.PI/180),Re=.299*Pe+.701*Ie+.167*Oe,Be=.587*Pe-.587*Ie+.33*Oe,je=.114*Pe-.114*Ie-.497*Oe,He=.299*Pe-.299*Ie-.328*Oe,Ge=.587*Pe+.413*Ie+.035*Oe,Ve=.114*Pe-.114*Ie+.293*Oe,ze=.299*Pe-.3*Ie+1.25*Oe,Xe=.587*Pe-.586*Ie-1.05*Oe,We=.114*Pe+.886*Ie-.2*Oe;let Je,Qe,Ze,on;for(let an=0;an<Ce;an+=4)Je=Ae[an+0],Qe=Ae[an+1],Ze=Ae[an+2],on=Ae[an+3],Ae[an+0]=Re*Je+Be*Qe+je*Ze+ke,Ae[an+1]=He*Je+Ge*Qe+Ve*Ze+ke,Ae[an+2]=ze*Je+Xe*Qe+We*Ze+ke,Ae[an+3]=on};return HSL.HSL=Se,HSL}var HSV={},hasRequiredHSV;function requireHSV(){if(hasRequiredHSV)return HSV;hasRequiredHSV=1,Object.defineProperty(HSV,"__esModule",{value:!0}),HSV.HSV=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=_e.data,Ce=Ae.length,Pe=Math.pow(2,this.value()),Ee=Math.pow(2,this.saturation()),Fe=Math.abs(this.hue()+360)%360,ke=Pe*Ee*Math.cos(Fe*Math.PI/180),Ie=Pe*Ee*Math.sin(Fe*Math.PI/180),Oe=.299*Pe+.701*ke+.167*Ie,Re=.587*Pe-.587*ke+.33*Ie,Be=.114*Pe-.114*ke-.497*Ie,je=.299*Pe-.299*ke-.328*Ie,He=.587*Pe+.413*ke+.035*Ie,Ge=.114*Pe-.114*ke+.293*Ie,Ve=.299*Pe-.3*ke+1.25*Ie,ze=.587*Pe-.586*ke-1.05*Ie,Xe=.114*Pe+.886*ke-.2*Ie;let We,Je,Qe,Ze;for(let on=0;on<Ce;on+=4)We=Ae[on+0],Je=Ae[on+1],Qe=Ae[on+2],Ze=Ae[on+3],Ae[on+0]=Oe*We+Re*Je+Be*Qe,Ae[on+1]=je*We+He*Je+Ge*Qe,Ae[on+2]=Ve*We+ze*Je+Xe*Qe,Ae[on+3]=Ze};return HSV.HSV=Se,xe.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"value",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),HSV}var Invert={},hasRequiredInvert;function requireInvert(){if(hasRequiredInvert)return Invert;hasRequiredInvert=1,Object.defineProperty(Invert,"__esModule",{value:!0}),Invert.Invert=void 0;const xe=function(e){const t=e.data,Se=t.length;for(let _e=0;_e<Se;_e+=4)t[_e]=255-t[_e],t[_e+1]=255-t[_e+1],t[_e+2]=255-t[_e+2]};return Invert.Invert=xe,Invert}var Kaleidoscope={},hasRequiredKaleidoscope;function requireKaleidoscope(){if(hasRequiredKaleidoscope)return Kaleidoscope;hasRequiredKaleidoscope=1,Object.defineProperty(Kaleidoscope,"__esModule",{value:!0}),Kaleidoscope.Kaleidoscope=void 0;const xe=requireFactory(),e=requireNode(),t=requireUtil(),Se=requireValidators(),_e=function(Pe,Ee,Fe){const ke=Pe.data,Ie=Ee.data,Oe=Pe.width,Re=Pe.height,Be=Fe.polarCenterX||Oe/2,je=Fe.polarCenterY||Re/2;let He=Math.sqrt(Be*Be+je*je),Ge=Oe-Be,Ve=Re-je;const ze=Math.sqrt(Ge*Ge+Ve*Ve);He=ze>He?ze:He;const Xe=Re,We=Oe,Je=360/We*Math.PI/180;for(let Qe=0;Qe<We;Qe+=1){const Ze=Math.sin(Qe*Je),on=Math.cos(Qe*Je);for(let an=0;an<Xe;an+=1){Ge=Math.floor(Be+He*an/Xe*on),Ve=Math.floor(je+He*an/Xe*Ze);let rn=(Ve*Oe+Ge)*4;const fn=ke[rn+0],nn=ke[rn+1],cn=ke[rn+2],dn=ke[rn+3];rn=(Qe+an*Oe)*4,Ie[rn+0]=fn,Ie[rn+1]=nn,Ie[rn+2]=cn,Ie[rn+3]=dn}}},Ae=function(Pe,Ee,Fe){const ke=Pe.data,Ie=Ee.data,Oe=Pe.width,Re=Pe.height,Be=Fe.polarCenterX||Oe/2,je=Fe.polarCenterY||Re/2;let He=Math.sqrt(Be*Be+je*je),Ge=Oe-Be,Ve=Re-je;const ze=Math.sqrt(Ge*Ge+Ve*Ve);He=ze>He?ze:He;const Xe=Re,We=Oe,Je=0;let Qe,Ze;for(Ge=0;Ge<Oe;Ge+=1)for(Ve=0;Ve<Re;Ve+=1){const on=Ge-Be,an=Ve-je,rn=Math.sqrt(on*on+an*an)*Xe/He;let fn=(Math.atan2(an,on)*180/Math.PI+360+Je)%360;fn=fn*We/360,Qe=Math.floor(fn),Ze=Math.floor(rn);let nn=(Ze*Oe+Qe)*4;const cn=ke[nn+0],dn=ke[nn+1],bn=ke[nn+2],pn=ke[nn+3];nn=(Ve*Oe+Ge)*4,Ie[nn+0]=cn,Ie[nn+1]=dn,Ie[nn+2]=bn,Ie[nn+3]=pn}},Ce=function(Pe){const Ee=Pe.width,Fe=Pe.height;let ke,Ie,Oe,Re,Be,je,He,Ge,Ve,ze,Xe=Math.round(this.kaleidoscopePower());const We=Math.round(this.kaleidoscopeAngle()),Je=Math.floor(Ee*(We%360)/360);if(Xe<1)return;const Qe=t.Util.createCanvasElement();Qe.width=Ee,Qe.height=Fe;const Ze=Qe.getContext("2d").getImageData(0,0,Ee,Fe);t.Util.releaseCanvas(Qe),_e(Pe,Ze,{polarCenterX:Ee/2,polarCenterY:Fe/2});let on=Ee/Math.pow(2,Xe);for(;on<=8;)on=on*2,Xe-=1;on=Math.ceil(on);let an=on,rn=0,fn=an,nn=1;for(Je+on>Ee&&(rn=an,fn=0,nn=-1),Ie=0;Ie<Fe;Ie+=1)for(ke=rn;ke!==fn;ke+=nn)Oe=Math.round(ke+Je)%Ee,Ve=(Ee*Ie+Oe)*4,Be=Ze.data[Ve+0],je=Ze.data[Ve+1],He=Ze.data[Ve+2],Ge=Ze.data[Ve+3],ze=(Ee*Ie+ke)*4,Ze.data[ze+0]=Be,Ze.data[ze+1]=je,Ze.data[ze+2]=He,Ze.data[ze+3]=Ge;for(Ie=0;Ie<Fe;Ie+=1)for(an=Math.floor(on),Re=0;Re<Xe;Re+=1){for(ke=0;ke<an+1;ke+=1)Ve=(Ee*Ie+ke)*4,Be=Ze.data[Ve+0],je=Ze.data[Ve+1],He=Ze.data[Ve+2],Ge=Ze.data[Ve+3],ze=(Ee*Ie+an*2-ke-1)*4,Ze.data[ze+0]=Be,Ze.data[ze+1]=je,Ze.data[ze+2]=He,Ze.data[ze+3]=Ge;an*=2}Ae(Ze,Pe,{polarRotation:0})};return Kaleidoscope.Kaleidoscope=Ce,xe.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,Se.getNumberValidator)(),xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,Se.getNumberValidator)(),xe.Factory.afterSetFilter),Kaleidoscope}var Mask={},hasRequiredMask;function requireMask(){if(hasRequiredMask)return Mask;hasRequiredMask=1,Object.defineProperty(Mask,"__esModule",{value:!0}),Mask.Mask=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators();function Se(Oe,Re,Be){let je=(Be*Oe.width+Re)*4;const He=[];return He.push(Oe.data[je++],Oe.data[je++],Oe.data[je++],Oe.data[je++]),He}function _e(Oe,Re){return Math.sqrt(Math.pow(Oe[0]-Re[0],2)+Math.pow(Oe[1]-Re[1],2)+Math.pow(Oe[2]-Re[2],2))}function Ae(Oe){const Re=[0,0,0];for(let Be=0;Be<Oe.length;Be++)Re[0]+=Oe[Be][0],Re[1]+=Oe[Be][1],Re[2]+=Oe[Be][2];return Re[0]/=Oe.length,Re[1]/=Oe.length,Re[2]/=Oe.length,Re}function Ce(Oe,Re){const Be=Se(Oe,0,0),je=Se(Oe,Oe.width-1,0),He=Se(Oe,0,Oe.height-1),Ge=Se(Oe,Oe.width-1,Oe.height-1),Ve=Re||10;if(_e(Be,je)<Ve&&_e(je,Ge)<Ve&&_e(Ge,He)<Ve&&_e(He,Be)<Ve){const ze=Ae([je,Be,Ge,He]),Xe=[];for(let We=0;We<Oe.width*Oe.height;We++){const Je=_e(ze,[Oe.data[We*4],Oe.data[We*4+1],Oe.data[We*4+2]]);Xe[We]=Je<Ve?0:255}return Xe}}function Pe(Oe,Re){for(let Be=0;Be<Oe.width*Oe.height;Be++)Oe.data[4*Be+3]=Re[Be]}function Ee(Oe,Re,Be){const je=[1,1,1,1,0,1,1,1,1],He=Math.round(Math.sqrt(je.length)),Ge=Math.floor(He/2),Ve=[];for(let ze=0;ze<Be;ze++)for(let Xe=0;Xe<Re;Xe++){const We=ze*Re+Xe;let Je=0;for(let Qe=0;Qe<He;Qe++)for(let Ze=0;Ze<He;Ze++){const on=ze+Qe-Ge,an=Xe+Ze-Ge;if(on>=0&&on<Be&&an>=0&&an<Re){const rn=on*Re+an,fn=je[Qe*He+Ze];Je+=Oe[rn]*fn}}Ve[We]=Je===255*8?255:0}return Ve}function Fe(Oe,Re,Be){const je=[1,1,1,1,1,1,1,1,1],He=Math.round(Math.sqrt(je.length)),Ge=Math.floor(He/2),Ve=[];for(let ze=0;ze<Be;ze++)for(let Xe=0;Xe<Re;Xe++){const We=ze*Re+Xe;let Je=0;for(let Qe=0;Qe<He;Qe++)for(let Ze=0;Ze<He;Ze++){const on=ze+Qe-Ge,an=Xe+Ze-Ge;if(on>=0&&on<Be&&an>=0&&an<Re){const rn=on*Re+an,fn=je[Qe*He+Ze];Je+=Oe[rn]*fn}}Ve[We]=Je>=255*4?255:0}return Ve}function ke(Oe,Re,Be){const je=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],He=Math.round(Math.sqrt(je.length)),Ge=Math.floor(He/2),Ve=[];for(let ze=0;ze<Be;ze++)for(let Xe=0;Xe<Re;Xe++){const We=ze*Re+Xe;let Je=0;for(let Qe=0;Qe<He;Qe++)for(let Ze=0;Ze<He;Ze++){const on=ze+Qe-Ge,an=Xe+Ze-Ge;if(on>=0&&on<Be&&an>=0&&an<Re){const rn=on*Re+an,fn=je[Qe*He+Ze];Je+=Oe[rn]*fn}}Ve[We]=Je}return Ve}const Ie=function(Oe){const Re=this.threshold();let Be=Ce(Oe,Re);return Be&&(Be=Ee(Be,Oe.width,Oe.height),Be=Fe(Be,Oe.width,Oe.height),Be=ke(Be,Oe.width,Oe.height),Pe(Oe,Be)),Oe};return Mask.Mask=Ie,xe.Factory.addGetterSetter(e.Node,"threshold",0,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Mask}var Noise={},hasRequiredNoise;function requireNoise(){if(hasRequiredNoise)return Noise;hasRequiredNoise=1,Object.defineProperty(Noise,"__esModule",{value:!0}),Noise.Noise=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=this.noise()*255,Ce=_e.data,Pe=Ce.length,Ee=Ae/2;for(let Fe=0;Fe<Pe;Fe+=4)Ce[Fe+0]+=Ee-2*Ee*Math.random(),Ce[Fe+1]+=Ee-2*Ee*Math.random(),Ce[Fe+2]+=Ee-2*Ee*Math.random()};return Noise.Noise=Se,xe.Factory.addGetterSetter(e.Node,"noise",.2,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Noise}var Pixelate={},hasRequiredPixelate;function requirePixelate(){if(hasRequiredPixelate)return Pixelate;hasRequiredPixelate=1,Object.defineProperty(Pixelate,"__esModule",{value:!0}),Pixelate.Pixelate=void 0;const xe=requireFactory(),e=requireUtil(),t=requireNode(),Se=requireValidators(),_e=function(Ae){let Ce=Math.ceil(this.pixelSize()),Pe=Ae.width,Ee=Ae.height,Fe,ke,Ie,Oe,Re,Be,je,He=Math.ceil(Pe/Ce),Ge=Math.ceil(Ee/Ce),Ve,ze,Xe,We,Je,Qe,Ze,on=Ae.data;if(Ce<=0){e.Util.error("pixelSize value can not be <= 0");return}for(Je=0;Je<He;Je+=1)for(Qe=0;Qe<Ge;Qe+=1){for(Oe=0,Re=0,Be=0,je=0,Ve=Je*Ce,ze=Ve+Ce,Xe=Qe*Ce,We=Xe+Ce,Ze=0,Fe=Ve;Fe<ze;Fe+=1)if(!(Fe>=Pe))for(ke=Xe;ke<We;ke+=1)ke>=Ee||(Ie=(Pe*ke+Fe)*4,Oe+=on[Ie+0],Re+=on[Ie+1],Be+=on[Ie+2],je+=on[Ie+3],Ze+=1);for(Oe=Oe/Ze,Re=Re/Ze,Be=Be/Ze,je=je/Ze,Fe=Ve;Fe<ze;Fe+=1)if(!(Fe>=Pe))for(ke=Xe;ke<We;ke+=1)ke>=Ee||(Ie=(Pe*ke+Fe)*4,on[Ie+0]=Oe,on[Ie+1]=Re,on[Ie+2]=Be,on[Ie+3]=je)}};return Pixelate.Pixelate=_e,xe.Factory.addGetterSetter(t.Node,"pixelSize",8,(0,Se.getNumberValidator)(),xe.Factory.afterSetFilter),Pixelate}var Posterize={},hasRequiredPosterize;function requirePosterize(){if(hasRequiredPosterize)return Posterize;hasRequiredPosterize=1,Object.defineProperty(Posterize,"__esModule",{value:!0}),Posterize.Posterize=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=Math.round(this.levels()*254)+1,Ce=_e.data,Pe=Ce.length,Ee=255/Ae;for(let Fe=0;Fe<Pe;Fe+=1)Ce[Fe]=Math.floor(Ce[Fe]/Ee)*Ee};return Posterize.Posterize=Se,xe.Factory.addGetterSetter(e.Node,"levels",.5,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Posterize}var RGB={},hasRequiredRGB;function requireRGB(){if(hasRequiredRGB)return RGB;hasRequiredRGB=1,Object.defineProperty(RGB,"__esModule",{value:!0}),RGB.RGB=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=_e.data,Ce=Ae.length,Pe=this.red(),Ee=this.green(),Fe=this.blue();for(let ke=0;ke<Ce;ke+=4){const Ie=(.34*Ae[ke]+.5*Ae[ke+1]+.16*Ae[ke+2])/255;Ae[ke]=Ie*Pe,Ae[ke+1]=Ie*Ee,Ae[ke+2]=Ie*Fe,Ae[ke+3]=Ae[ke+3]}};return RGB.RGB=Se,xe.Factory.addGetterSetter(e.Node,"red",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)}),xe.Factory.addGetterSetter(e.Node,"green",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)}),xe.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,xe.Factory.afterSetFilter),RGB}var RGBA={},hasRequiredRGBA;function requireRGBA(){if(hasRequiredRGBA)return RGBA;hasRequiredRGBA=1,Object.defineProperty(RGBA,"__esModule",{value:!0}),RGBA.RGBA=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=_e.data,Ce=Ae.length,Pe=this.red(),Ee=this.green(),Fe=this.blue(),ke=this.alpha();for(let Ie=0;Ie<Ce;Ie+=4){const Oe=1-ke;Ae[Ie]=Pe*ke+Ae[Ie]*Oe,Ae[Ie+1]=Ee*ke+Ae[Ie+1]*Oe,Ae[Ie+2]=Fe*ke+Ae[Ie+2]*Oe}};return RGBA.RGBA=Se,xe.Factory.addGetterSetter(e.Node,"red",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)}),xe.Factory.addGetterSetter(e.Node,"green",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)}),xe.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,xe.Factory.afterSetFilter),xe.Factory.addGetterSetter(e.Node,"alpha",1,function(_e){return this._filterUpToDate=!1,_e>1?1:_e<0?0:_e}),RGBA}var Sepia={},hasRequiredSepia;function requireSepia(){if(hasRequiredSepia)return Sepia;hasRequiredSepia=1,Object.defineProperty(Sepia,"__esModule",{value:!0}),Sepia.Sepia=void 0;const xe=function(e){const t=e.data,Se=t.length;for(let _e=0;_e<Se;_e+=4){const Ae=t[_e+0],Ce=t[_e+1],Pe=t[_e+2];t[_e+0]=Math.min(255,Ae*.393+Ce*.769+Pe*.189),t[_e+1]=Math.min(255,Ae*.349+Ce*.686+Pe*.168),t[_e+2]=Math.min(255,Ae*.272+Ce*.534+Pe*.131)}};return Sepia.Sepia=xe,Sepia}var Solarize={},hasRequiredSolarize;function requireSolarize(){if(hasRequiredSolarize)return Solarize;hasRequiredSolarize=1,Object.defineProperty(Solarize,"__esModule",{value:!0}),Solarize.Solarize=void 0;const xe=function(e){const t=e.data,Se=e.width,_e=e.height,Ae=Se*4;let Ce=_e;do{const Pe=(Ce-1)*Ae;let Ee=Se;do{const Fe=Pe+(Ee-1)*4;let ke=t[Fe],Ie=t[Fe+1],Oe=t[Fe+2];ke>127&&(ke=255-ke),Ie>127&&(Ie=255-Ie),Oe>127&&(Oe=255-Oe),t[Fe]=ke,t[Fe+1]=Ie,t[Fe+2]=Oe}while(--Ee)}while(--Ce)};return Solarize.Solarize=xe,Solarize}var Threshold={},hasRequiredThreshold;function requireThreshold(){if(hasRequiredThreshold)return Threshold;hasRequiredThreshold=1,Object.defineProperty(Threshold,"__esModule",{value:!0}),Threshold.Threshold=void 0;const xe=requireFactory(),e=requireNode(),t=requireValidators(),Se=function(_e){const Ae=this.threshold()*255,Ce=_e.data,Pe=Ce.length;for(let Ee=0;Ee<Pe;Ee+=1)Ce[Ee]=Ce[Ee]<Ae?0:255};return Threshold.Threshold=Se,xe.Factory.addGetterSetter(e.Node,"threshold",.5,(0,t.getNumberValidator)(),xe.Factory.afterSetFilter),Threshold}var hasRequired_FullInternals;function require_FullInternals(){if(hasRequired_FullInternals)return _FullInternals;hasRequired_FullInternals=1,Object.defineProperty(_FullInternals,"__esModule",{value:!0}),_FullInternals.Konva=void 0;const xe=require_CoreInternals(),e=requireArc(),t=requireArrow(),Se=requireCircle(),_e=requireEllipse(),Ae=requireImage(),Ce=requireLabel(),Pe=requireLine(),Ee=requirePath(),Fe=requireRect(),ke=requireRegularPolygon(),Ie=requireRing(),Oe=requireSprite(),Re=requireStar(),Be=requireText(),je=requireTextPath(),He=requireTransformer(),Ge=requireWedge(),Ve=requireBlur(),ze=requireBrighten(),Xe=requireContrast(),We=requireEmboss(),Je=requireEnhance(),Qe=requireGrayscale(),Ze=requireHSL(),on=requireHSV(),an=requireInvert(),rn=requireKaleidoscope(),fn=requireMask(),nn=requireNoise(),cn=requirePixelate(),dn=requirePosterize(),bn=requireRGB(),pn=requireRGBA(),_n=requireSepia(),Nn=requireSolarize(),Un=requireThreshold();return _FullInternals.Konva=xe.Konva.Util._assign(xe.Konva,{Arc:e.Arc,Arrow:t.Arrow,Circle:Se.Circle,Ellipse:_e.Ellipse,Image:Ae.Image,Label:Ce.Label,Tag:Ce.Tag,Line:Pe.Line,Path:Ee.Path,Rect:Fe.Rect,RegularPolygon:ke.RegularPolygon,Ring:Ie.Ring,Sprite:Oe.Sprite,Star:Re.Star,Text:Be.Text,TextPath:je.TextPath,Transformer:He.Transformer,Wedge:Ge.Wedge,Filters:{Blur:Ve.Blur,Brighten:ze.Brighten,Contrast:Xe.Contrast,Emboss:We.Emboss,Enhance:Je.Enhance,Grayscale:Qe.Grayscale,HSL:Ze.HSL,HSV:on.HSV,Invert:an.Invert,Kaleidoscope:rn.Kaleidoscope,Mask:fn.Mask,Noise:nn.Noise,Pixelate:cn.Pixelate,Posterize:dn.Posterize,RGB:bn.RGB,RGBA:pn.RGBA,Sepia:_n.Sepia,Solarize:Nn.Solarize,Threshold:Un.Threshold}}),_FullInternals}var lib=lib$1.exports,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$1.exports;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0});const xe=require_FullInternals();return lib$1.exports=xe.Konva,lib$1.exports}requireLib();var Core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(xe,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var t=require_CoreInternals();Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return t.Konva}});const Se=require_CoreInternals();xe.exports=Se.Konva}(Core,Core.exports)),Core.exports}var CoreExports=requireCore();const Konva=getDefaultExportFromCjs(CoreExports);var reactReconciler={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min,hasRequiredReactReconciler_production_min;function requireReactReconciler_production_min(){return hasRequiredReactReconciler_production_min||(hasRequiredReactReconciler_production_min=1,reactReconciler_production_min=function(e){var t={},Se=requireReact(),_e=requireScheduler(),Ae=Object.assign;function Ce(Me){for(var Ue="https://reactjs.org/docs/error-decoder.html?invariant="+Me,$e=1;$e<arguments.length;$e++)Ue+="&args[]="+encodeURIComponent(arguments[$e]);return"Minified React error #"+Me+"; visit "+Ue+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pe=Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ee=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Ie=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),Re=Symbol.for("react.provider"),Be=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Xe=Symbol.for("react.offscreen"),We=Symbol.iterator;function Je(Me){return Me===null||typeof Me!="object"?null:(Me=We&&Me[We]||Me["@@iterator"],typeof Me=="function"?Me:null)}function Qe(Me){if(Me==null)return null;if(typeof Me=="function")return Me.displayName||Me.name||null;if(typeof Me=="string")return Me;switch(Me){case ke:return"Fragment";case Fe:return"Portal";case Oe:return"Profiler";case Ie:return"StrictMode";case He:return"Suspense";case Ge:return"SuspenseList"}if(typeof Me=="object")switch(Me.$$typeof){case Be:return(Me.displayName||"Context")+".Consumer";case Re:return(Me._context.displayName||"Context")+".Provider";case je:var Ue=Me.render;return Me=Me.displayName,Me||(Me=Ue.displayName||Ue.name||"",Me=Me!==""?"ForwardRef("+Me+")":"ForwardRef"),Me;case Ve:return Ue=Me.displayName||null,Ue!==null?Ue:Qe(Me.type)||"Memo";case ze:Ue=Me._payload,Me=Me._init;try{return Qe(Me(Ue))}catch{}}return null}function Ze(Me){var Ue=Me.type;switch(Me.tag){case 24:return"Cache";case 9:return(Ue.displayName||"Context")+".Consumer";case 10:return(Ue._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Me=Ue.render,Me=Me.displayName||Me.name||"",Ue.displayName||(Me!==""?"ForwardRef("+Me+")":"ForwardRef");case 7:return"Fragment";case 5:return Ue;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(Ue);case 8:return Ue===Ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Ue=="function")return Ue.displayName||Ue.name||null;if(typeof Ue=="string")return Ue}return null}function on(Me){var Ue=Me,$e=Me;if(Me.alternate)for(;Ue.return;)Ue=Ue.return;else{Me=Ue;do Ue=Me,Ue.flags&4098&&($e=Ue.return),Me=Ue.return;while(Me)}return Ue.tag===3?$e:null}function an(Me){if(on(Me)!==Me)throw Error(Ce(188))}function rn(Me){var Ue=Me.alternate;if(!Ue){if(Ue=on(Me),Ue===null)throw Error(Ce(188));return Ue!==Me?null:Me}for(var $e=Me,hn=Ue;;){var Sn=$e.return;if(Sn===null)break;var Dn=Sn.alternate;if(Dn===null){if(hn=Sn.return,hn!==null){$e=hn;continue}break}if(Sn.child===Dn.child){for(Dn=Sn.child;Dn;){if(Dn===$e)return an(Sn),Me;if(Dn===hn)return an(Sn),Ue;Dn=Dn.sibling}throw Error(Ce(188))}if($e.return!==hn.return)$e=Sn,hn=Dn;else{for(var or=!1,Cr=Sn.child;Cr;){if(Cr===$e){or=!0,$e=Sn,hn=Dn;break}if(Cr===hn){or=!0,hn=Sn,$e=Dn;break}Cr=Cr.sibling}if(!or){for(Cr=Dn.child;Cr;){if(Cr===$e){or=!0,$e=Dn,hn=Sn;break}if(Cr===hn){or=!0,hn=Dn,$e=Sn;break}Cr=Cr.sibling}if(!or)throw Error(Ce(189))}}if($e.alternate!==hn)throw Error(Ce(190))}if($e.tag!==3)throw Error(Ce(188));return $e.stateNode.current===$e?Me:Ue}function fn(Me){return Me=rn(Me),Me!==null?nn(Me):null}function nn(Me){if(Me.tag===5||Me.tag===6)return Me;for(Me=Me.child;Me!==null;){var Ue=nn(Me);if(Ue!==null)return Ue;Me=Me.sibling}return null}function cn(Me){if(Me.tag===5||Me.tag===6)return Me;for(Me=Me.child;Me!==null;){if(Me.tag!==4){var Ue=cn(Me);if(Ue!==null)return Ue}Me=Me.sibling}return null}var dn=Array.isArray,bn=e.getPublicInstance,pn=e.getRootHostContext,_n=e.getChildHostContext,Nn=e.prepareForCommit,Un=e.resetAfterCommit,xn=e.createInstance,St=e.appendInitialChild,sn=e.finalizeInitialChildren,gn=e.prepareUpdate,Pn=e.shouldSetTextContent,Fn=e.createTextInstance,vn=e.scheduleTimeout,kn=e.cancelTimeout,Bn=e.noTimeout,er=e.isPrimaryRenderer,Zn=e.supportsMutation,Cn=e.supportsPersistence,Tn=e.supportsHydration,qn=e.getInstanceFromNode,In=e.preparePortalMount,wn=e.getCurrentEventPriority,Vn=e.detachDeletedInstance,Yn=e.supportsMicrotasks,tr=e.scheduleMicrotask,cr=e.supportsTestSelectors,Kn=e.findFiberRoot,rr=e.getBoundingRect,ir=e.getTextContent,yr=e.isHiddenSubtree,xr=e.matchAccessibilityRole,Nr=e.setFocusIfFocusable,jr=e.setupIntersectionObserver,Vr=e.appendChild,Yr=e.appendChildToContainer,ei=e.commitTextUpdate,Ln=e.commitMount,ar=e.commitUpdate,sr=e.insertBefore,Tr=e.insertInContainerBefore,dr=e.removeChild,Pr=e.removeChildFromContainer,Hn=e.resetTextContent,Br=e.hideInstance,di=e.hideTextInstance,An=e.unhideInstance,Er=e.unhideTextInstance,Lr=e.clearContainer,Qn=e.cloneInstance,fr=e.createContainerChildSet,wr=e.appendChildToContainerChildSet,ui=e.finalizeContainerChildren,Qr=e.replaceContainerChildren,ri=e.cloneHiddenInstance,ki=e.cloneHiddenTextInstance,gi=e.canHydrateInstance,Ri=e.canHydrateTextInstance,Fi=e.canHydrateSuspenseInstance,Vi=e.isSuspenseInstancePending,ji=e.isSuspenseInstanceFallback,Ki=e.getSuspenseInstanceFallbackErrorDetails,fa=e.registerSuspenseInstanceRetry,mo=e.getNextHydratableSibling,ps=e.getFirstHydratableChild,Xs=e.getFirstHydratableChildWithinContainer,ys=e.getFirstHydratableChildWithinSuspenseInstance,ks=e.hydrateInstance,aa=e.hydrateTextInstance,vo=e.hydrateSuspenseInstance,fc=e.getNextHydratableInstanceAfterSuspenseInstance,hu=e.commitHydratedContainer,Ku=e.commitHydratedSuspenseInstance,Xu=e.clearSuspenseBoundary,Yu=e.clearSuspenseBoundaryFromContainer,Dh=e.shouldDeleteUnhydratedTailInstances,mf=e.didNotMatchHydratedContainerTextInstance,ea=e.didNotMatchHydratedTextInstance,wd;function El(Me){if(wd===void 0)try{throw Error()}catch($e){var Ue=$e.stack.trim().match(/\n( *(at )?)/);wd=Ue&&Ue[1]||""}return`
`+wd+Me}var Zu=!1;function du(Me,Ue){if(!Me||Zu)return"";Zu=!0;var $e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Ue)if(Ue=function(){throw Error()},Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(ni){var hn=ni}Reflect.construct(Me,[],Ue)}else{try{Ue.call()}catch(ni){hn=ni}Me.call(Ue.prototype)}else{try{throw Error()}catch(ni){hn=ni}Me()}}catch(ni){if(ni&&hn&&typeof ni.stack=="string"){for(var Sn=ni.stack.split(`
`),Dn=hn.stack.split(`
`),or=Sn.length-1,Cr=Dn.length-1;1<=or&&0<=Cr&&Sn[or]!==Dn[Cr];)Cr--;for(;1<=or&&0<=Cr;or--,Cr--)if(Sn[or]!==Dn[Cr]){if(or!==1||Cr!==1)do if(or--,Cr--,0>Cr||Sn[or]!==Dn[Cr]){var zr=`
`+Sn[or].replace(" at new "," at ");return Me.displayName&&zr.includes("<anonymous>")&&(zr=zr.replace("<anonymous>",Me.displayName)),zr}while(1<=or&&0<=Cr);break}}}finally{Zu=!1,Error.prepareStackTrace=$e}return(Me=Me?Me.displayName||Me.name:"")?El(Me):""}var Sd=Object.prototype.hasOwnProperty,Nh=[],Fl=-1;function ka(Me){return{current:Me}}function gs(Me){0>Fl||(Me.current=Nh[Fl],Nh[Fl]=null,Fl--)}function Xi(Me,Ue){Fl++,Nh[Fl]=Me.current,Me.current=Ue}var Cs={},Ra=ka(Cs),Ya=ka(!1),nl=Cs;function rl(Me,Ue){var $e=Me.type.contextTypes;if(!$e)return Cs;var hn=Me.stateNode;if(hn&&hn.__reactInternalMemoizedUnmaskedChildContext===Ue)return hn.__reactInternalMemoizedMaskedChildContext;var Sn={},Dn;for(Dn in $e)Sn[Dn]=Ue[Dn];return hn&&(Me=Me.stateNode,Me.__reactInternalMemoizedUnmaskedChildContext=Ue,Me.__reactInternalMemoizedMaskedChildContext=Sn),Sn}function ya(Me){return Me=Me.childContextTypes,Me!=null}function Za(){gs(Ya),gs(Ra)}function Ju(Me,Ue,$e){if(Ra.current!==Cs)throw Error(Ce(168));Xi(Ra,Ue),Xi(Ya,$e)}function Ro(Me,Ue,$e){var hn=Me.stateNode;if(Ue=Ue.childContextTypes,typeof hn.getChildContext!="function")return $e;hn=hn.getChildContext();for(var Sn in hn)if(!(Sn in Ue))throw Error(Ce(108,Ze(Me)||"Unknown",Sn));return Ae({},$e,hn)}function pc(Me){return Me=(Me=Me.stateNode)&&Me.__reactInternalMemoizedMergedChildContext||Cs,nl=Ra.current,Xi(Ra,Me),Xi(Ya,Ya.current),!0}function Lh(Me,Ue,$e){var hn=Me.stateNode;if(!hn)throw Error(Ce(169));$e?(Me=Ro(Me,Ue,nl),hn.__reactInternalMemoizedMergedChildContext=Me,gs(Ya),gs(Ra),Xi(Ra,Me)):gs(Ya),Xi(Ya,$e)}var Do=Math.clz32?Math.clz32:Ih,fu=Math.log,gp=Math.LN2;function Ih(Me){return Me>>>=0,Me===0?32:31-(fu(Me)/gp|0)|0}var es=64,jc=4194304;function pu(Me){switch(Me&-Me){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Me&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Me&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Me}}function gu(Me,Ue){var $e=Me.pendingLanes;if($e===0)return 0;var hn=0,Sn=Me.suspendedLanes,Dn=Me.pingedLanes,or=$e&268435455;if(or!==0){var Cr=or&~Sn;Cr!==0?hn=pu(Cr):(Dn&=or,Dn!==0&&(hn=pu(Dn)))}else or=$e&~Sn,or!==0?hn=pu(or):Dn!==0&&(hn=pu(Dn));if(hn===0)return 0;if(Ue!==0&&Ue!==hn&&!(Ue&Sn)&&(Sn=hn&-hn,Dn=Ue&-Ue,Sn>=Dn||Sn===16&&(Dn&4194240)!==0))return Ue;if(hn&4&&(hn|=$e&16),Ue=Me.entangledLanes,Ue!==0)for(Me=Me.entanglements,Ue&=hn;0<Ue;)$e=31-Do(Ue),Sn=1<<$e,hn|=Me[$e],Ue&=~Sn;return hn}function vf(Me,Ue){switch(Me){case 1:case 2:case 4:return Ue+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ue+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(Me,Ue){for(var $e=Me.suspendedLanes,hn=Me.pingedLanes,Sn=Me.expirationTimes,Dn=Me.pendingLanes;0<Dn;){var or=31-Do(Dn),Cr=1<<or,zr=Sn[or];zr===-1?(!(Cr&$e)||Cr&hn)&&(Sn[or]=vf(Cr,Ue)):zr<=Ue&&(Me.expiredLanes|=Cr),Dn&=~Cr}}function qc(Me){return Me=Me.pendingLanes&-1073741825,Me!==0?Me:Me&1073741824?1073741824:0}function zc(){var Me=es;return es<<=1,!(es&4194240)&&(es=64),Me}function Gc(Me){for(var Ue=[],$e=0;31>$e;$e++)Ue.push(Me);return Ue}function Rs(Me,Ue,$e){Me.pendingLanes|=Ue,Ue!==536870912&&(Me.suspendedLanes=0,Me.pingedLanes=0),Me=Me.eventTimes,Ue=31-Do(Ue),Me[Ue]=$e}function mc(Me,Ue){var $e=Me.pendingLanes&~Ue;Me.pendingLanes=Ue,Me.suspendedLanes=0,Me.pingedLanes=0,Me.expiredLanes&=Ue,Me.mutableReadLanes&=Ue,Me.entangledLanes&=Ue,Ue=Me.entanglements;var hn=Me.eventTimes;for(Me=Me.expirationTimes;0<$e;){var Sn=31-Do($e),Dn=1<<Sn;Ue[Sn]=0,hn[Sn]=-1,Me[Sn]=-1,$e&=~Dn}}function il(Me,Ue){var $e=Me.entangledLanes|=Ue;for(Me=Me.entanglements;$e;){var hn=31-Do($e),Sn=1<<hn;Sn&Ue|Me[hn]&Ue&&(Me[hn]|=Ue),$e&=~Sn}}var ai=0;function mu(Me){return Me&=-Me,1<Me?4<Me?Me&268435455?16:536870912:4:1}var Tl=_e.unstable_scheduleCallback,Hl=_e.unstable_cancelCallback,xd=_e.unstable_shouldYield,vu=_e.unstable_requestPaint,ta=_e.unstable_now,yu=_e.unstable_ImmediatePriority,Oh=_e.unstable_UserBlockingPriority,Mh=_e.unstable_NormalPriority,mp=_e.unstable_IdlePriority,kl=null,ba=null;function sl(Me){if(ba&&typeof ba.onCommitFiberRoot=="function")try{ba.onCommitFiberRoot(kl,Me,void 0,(Me.current.flags&128)===128)}catch{}}function Bh(Me,Ue){return Me===Ue&&(Me!==0||1/Me===1/Ue)||Me!==Me&&Ue!==Ue}var Ja=typeof Object.is=="function"?Object.is:Bh,al=null,Vl=!1,Hc=!1;function Qu(Me){al===null?al=[Me]:al.push(Me)}function _d(Me){Vl=!0,Qu(Me)}function wa(){if(!Hc&&al!==null){Hc=!0;var Me=0,Ue=ai;try{var $e=al;for(ai=1;Me<$e.length;Me++){var hn=$e[Me];do hn=hn(!0);while(hn!==null)}al=null,Vl=!1}catch(Sn){throw al!==null&&(al=al.slice(Me+1)),Tl(yu,wa),Sn}finally{ai=Ue,Hc=!1}}return null}var Qa=[],$a=0,$u=null,qo=0,js=[],eo=0,qs=null,yo=1,bo="";function ol(Me,Ue){Qa[$a++]=qo,Qa[$a++]=$u,$u=Me,qo=Ue}function Uh(Me,Ue,$e){js[eo++]=yo,js[eo++]=bo,js[eo++]=qs,qs=Me;var hn=yo;Me=bo;var Sn=32-Do(hn)-1;hn&=~(1<<Sn),$e+=1;var Dn=32-Do(Ue)+Sn;if(30<Dn){var or=Sn-Sn%5;Dn=(hn&(1<<or)-1).toString(32),hn>>=or,Sn-=or,yo=1<<32-Do(Ue)+Sn|$e<<Sn|hn,bo=Dn+Me}else yo=1<<Dn|$e<<Sn|hn,bo=Me}function Vc(Me){Me.return!==null&&(ol(Me,1),Uh(Me,1,0))}function bu(Me){for(;Me===$u;)$u=Qa[--$a],Qa[$a]=null,qo=Qa[--$a],Qa[$a]=null;for(;Me===qs;)qs=js[--eo],js[eo]=null,bo=js[--eo],js[eo]=null,yo=js[--eo],js[eo]=null}var oa=null,Da=null,bs=!1,wu=!1,ll=null;function eh(Me,Ue){var $e=ac(5,null,null,0);$e.elementType="DELETED",$e.stateNode=Ue,$e.return=Me,Ue=Me.deletions,Ue===null?(Me.deletions=[$e],Me.flags|=16):Ue.push($e)}function vc(Me,Ue){switch(Me.tag){case 5:return Ue=gi(Ue,Me.type,Me.pendingProps),Ue!==null?(Me.stateNode=Ue,oa=Me,Da=ps(Ue),!0):!1;case 6:return Ue=Ri(Ue,Me.pendingProps),Ue!==null?(Me.stateNode=Ue,oa=Me,Da=null,!0):!1;case 13:if(Ue=Fi(Ue),Ue!==null){var $e=qs!==null?{id:yo,overflow:bo}:null;return Me.memoizedState={dehydrated:Ue,treeContext:$e,retryLane:1073741824},$e=ac(18,null,null,0),$e.stateNode=Ue,$e.return=Me,Me.child=$e,oa=Me,Da=null,!0}return!1;default:return!1}}function th(Me){return(Me.mode&1)!==0&&(Me.flags&128)===0}function yc(Me){if(bs){var Ue=Da;if(Ue){var $e=Ue;if(!vc(Me,Ue)){if(th(Me))throw Error(Ce(418));Ue=mo($e);var hn=oa;Ue&&vc(Me,Ue)?eh(hn,$e):(Me.flags=Me.flags&-4097|2,bs=!1,oa=Me)}}else{if(th(Me))throw Error(Ce(418));Me.flags=Me.flags&-4097|2,bs=!1,oa=Me}}}function jh(Me){for(Me=Me.return;Me!==null&&Me.tag!==5&&Me.tag!==3&&Me.tag!==13;)Me=Me.return;oa=Me}function un(Me){if(!Tn||Me!==oa)return!1;if(!bs)return jh(Me),bs=!0,!1;if(Me.tag!==3&&(Me.tag!==5||Dh(Me.type)&&!Pn(Me.type,Me.memoizedProps))){var Ue=Da;if(Ue){if(th(Me))throw Gn(),Error(Ce(418));for(;Ue;)eh(Me,Ue),Ue=mo(Ue)}}if(jh(Me),Me.tag===13){if(!Tn)throw Error(Ce(316));if(Me=Me.memoizedState,Me=Me!==null?Me.dehydrated:null,!Me)throw Error(Ce(317));Da=fc(Me)}else Da=oa?mo(Me.stateNode):null;return!0}function Gn(){for(var Me=Da;Me;)Me=mo(Me)}function ur(){Tn&&(Da=oa=null,wu=bs=!1)}function vr(Me){ll===null?ll=[Me]:ll.push(Me)}var kr=Pe.ReactCurrentBatchConfig;function Gr(Me,Ue){if(Ja(Me,Ue))return!0;if(typeof Me!="object"||Me===null||typeof Ue!="object"||Ue===null)return!1;var $e=Object.keys(Me),hn=Object.keys(Ue);if($e.length!==hn.length)return!1;for(hn=0;hn<$e.length;hn++){var Sn=$e[hn];if(!Sd.call(Ue,Sn)||!Ja(Me[Sn],Ue[Sn]))return!1}return!0}function Zr(Me){switch(Me.tag){case 5:return El(Me.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return Me=du(Me.type,!1),Me;case 11:return Me=du(Me.type.render,!1),Me;case 1:return Me=du(Me.type,!0),Me;default:return""}}function li(Me,Ue,$e){if(Me=$e.ref,Me!==null&&typeof Me!="function"&&typeof Me!="object"){if($e._owner){if($e=$e._owner,$e){if($e.tag!==1)throw Error(Ce(309));var hn=$e.stateNode}if(!hn)throw Error(Ce(147,Me));var Sn=hn,Dn=""+Me;return Ue!==null&&Ue.ref!==null&&typeof Ue.ref=="function"&&Ue.ref._stringRef===Dn?Ue.ref:(Ue=function(or){var Cr=Sn.refs;or===null?delete Cr[Dn]:Cr[Dn]=or},Ue._stringRef=Dn,Ue)}if(typeof Me!="string")throw Error(Ce(284));if(!$e._owner)throw Error(Ce(290,Me))}return Me}function _i(Me,Ue){throw Me=Object.prototype.toString.call(Ue),Error(Ce(31,Me==="[object Object]"?"object with keys {"+Object.keys(Ue).join(", ")+"}":Me))}function Bi(Me){var Ue=Me._init;return Ue(Me._payload)}function Mi(Me){function Ue(Mr,Fr){if(Me){var Hr=Mr.deletions;Hr===null?(Mr.deletions=[Fr],Mr.flags|=16):Hr.push(Fr)}}function $e(Mr,Fr){if(!Me)return null;for(;Fr!==null;)Ue(Mr,Fr),Fr=Fr.sibling;return null}function hn(Mr,Fr){for(Mr=new Map;Fr!==null;)Fr.key!==null?Mr.set(Fr.key,Fr):Mr.set(Fr.index,Fr),Fr=Fr.sibling;return Mr}function Sn(Mr,Fr){return Mr=Jh(Mr,Fr),Mr.index=0,Mr.sibling=null,Mr}function Dn(Mr,Fr,Hr){return Mr.index=Hr,Me?(Hr=Mr.alternate,Hr!==null?(Hr=Hr.index,Hr<Fr?(Mr.flags|=2,Fr):Hr):(Mr.flags|=2,Fr)):(Mr.flags|=1048576,Fr)}function or(Mr){return Me&&Mr.alternate===null&&(Mr.flags|=2),Mr}function Cr(Mr,Fr,Hr,mi){return Fr===null||Fr.tag!==6?(Fr=Tf(Hr,Mr.mode,mi),Fr.return=Mr,Fr):(Fr=Sn(Fr,Hr),Fr.return=Mr,Fr)}function zr(Mr,Fr,Hr,mi){var Ti=Hr.type;return Ti===ke?wi(Mr,Fr,Hr.props.children,mi,Hr.key):Fr!==null&&(Fr.elementType===Ti||typeof Ti=="object"&&Ti!==null&&Ti.$$typeof===ze&&Bi(Ti)===Fr.type)?(mi=Sn(Fr,Hr.props),mi.ref=li(Mr,Fr,Hr),mi.return=Mr,mi):(mi=j0(Hr.type,Hr.key,Hr.props,null,Mr.mode,mi),mi.ref=li(Mr,Fr,Hr),mi.return=Mr,mi)}function ni(Mr,Fr,Hr,mi){return Fr===null||Fr.tag!==4||Fr.stateNode.containerInfo!==Hr.containerInfo||Fr.stateNode.implementation!==Hr.implementation?(Fr=q0(Hr,Mr.mode,mi),Fr.return=Mr,Fr):(Fr=Sn(Fr,Hr.children||[]),Fr.return=Mr,Fr)}function wi(Mr,Fr,Hr,mi,Ti){return Fr===null||Fr.tag!==7?(Fr=Io(Hr,Mr.mode,mi,Ti),Fr.return=Mr,Fr):(Fr=Sn(Fr,Hr),Fr.return=Mr,Fr)}function qi(Mr,Fr,Hr){if(typeof Fr=="string"&&Fr!==""||typeof Fr=="number")return Fr=Tf(""+Fr,Mr.mode,Hr),Fr.return=Mr,Fr;if(typeof Fr=="object"&&Fr!==null){switch(Fr.$$typeof){case Ee:return Hr=j0(Fr.type,Fr.key,Fr.props,null,Mr.mode,Hr),Hr.ref=li(Mr,null,Fr),Hr.return=Mr,Hr;case Fe:return Fr=q0(Fr,Mr.mode,Hr),Fr.return=Mr,Fr;case ze:var mi=Fr._init;return qi(Mr,mi(Fr._payload),Hr)}if(dn(Fr)||Je(Fr))return Fr=Io(Fr,Mr.mode,Hr,null),Fr.return=Mr,Fr;_i(Mr,Fr)}return null}function pi(Mr,Fr,Hr,mi){var Ti=Fr!==null?Fr.key:null;if(typeof Hr=="string"&&Hr!==""||typeof Hr=="number")return Ti!==null?null:Cr(Mr,Fr,""+Hr,mi);if(typeof Hr=="object"&&Hr!==null){switch(Hr.$$typeof){case Ee:return Hr.key===Ti?zr(Mr,Fr,Hr,mi):null;case Fe:return Hr.key===Ti?ni(Mr,Fr,Hr,mi):null;case ze:return Ti=Hr._init,pi(Mr,Fr,Ti(Hr._payload),mi)}if(dn(Hr)||Je(Hr))return Ti!==null?null:wi(Mr,Fr,Hr,mi,null);_i(Mr,Hr)}return null}function Js(Mr,Fr,Hr,mi,Ti){if(typeof mi=="string"&&mi!==""||typeof mi=="number")return Mr=Mr.get(Hr)||null,Cr(Fr,Mr,""+mi,Ti);if(typeof mi=="object"&&mi!==null){switch(mi.$$typeof){case Ee:return Mr=Mr.get(mi.key===null?Hr:mi.key)||null,zr(Fr,Mr,mi,Ti);case Fe:return Mr=Mr.get(mi.key===null?Hr:mi.key)||null,ni(Fr,Mr,mi,Ti);case ze:var Yi=mi._init;return Js(Mr,Fr,Hr,Yi(mi._payload),Ti)}if(dn(mi)||Je(mi))return Mr=Mr.get(Hr)||null,wi(Fr,Mr,mi,Ti,null);_i(Fr,mi)}return null}function Is(Mr,Fr,Hr,mi){for(var Ti=null,Yi=null,zi=Fr,os=Fr=0,fo=null;zi!==null&&os<Hr.length;os++){zi.index>os?(fo=zi,zi=null):fo=zi.sibling;var is=pi(Mr,zi,Hr[os],mi);if(is===null){zi===null&&(zi=fo);break}Me&&zi&&is.alternate===null&&Ue(Mr,zi),Fr=Dn(is,Fr,os),Yi===null?Ti=is:Yi.sibling=is,Yi=is,zi=fo}if(os===Hr.length)return $e(Mr,zi),bs&&ol(Mr,os),Ti;if(zi===null){for(;os<Hr.length;os++)zi=qi(Mr,Hr[os],mi),zi!==null&&(Fr=Dn(zi,Fr,os),Yi===null?Ti=zi:Yi.sibling=zi,Yi=zi);return bs&&ol(Mr,os),Ti}for(zi=hn(Mr,zi);os<Hr.length;os++)fo=Js(zi,Mr,os,Hr[os],mi),fo!==null&&(Me&&fo.alternate!==null&&zi.delete(fo.key===null?os:fo.key),Fr=Dn(fo,Fr,os),Yi===null?Ti=fo:Yi.sibling=fo,Yi=fo);return Me&&zi.forEach(function(Xo){return Ue(Mr,Xo)}),bs&&ol(Mr,os),Ti}function yl(Mr,Fr,Hr,mi){var Ti=Je(Hr);if(typeof Ti!="function")throw Error(Ce(150));if(Hr=Ti.call(Hr),Hr==null)throw Error(Ce(151));for(var Yi=Ti=null,zi=Fr,os=Fr=0,fo=null,is=Hr.next();zi!==null&&!is.done;os++,is=Hr.next()){zi.index>os?(fo=zi,zi=null):fo=zi.sibling;var Xo=pi(Mr,zi,is.value,mi);if(Xo===null){zi===null&&(zi=fo);break}Me&&zi&&Xo.alternate===null&&Ue(Mr,zi),Fr=Dn(Xo,Fr,os),Yi===null?Ti=Xo:Yi.sibling=Xo,Yi=Xo,zi=fo}if(is.done)return $e(Mr,zi),bs&&ol(Mr,os),Ti;if(zi===null){for(;!is.done;os++,is=Hr.next())is=qi(Mr,is.value,mi),is!==null&&(Fr=Dn(is,Fr,os),Yi===null?Ti=is:Yi.sibling=is,Yi=is);return bs&&ol(Mr,os),Ti}for(zi=hn(Mr,zi);!is.done;os++,is=Hr.next())is=Js(zi,Mr,os,is.value,mi),is!==null&&(Me&&is.alternate!==null&&zi.delete(is.key===null?os:is.key),Fr=Dn(is,Fr,os),Yi===null?Ti=is:Yi.sibling=is,Yi=is);return Me&&zi.forEach(function(g2){return Ue(Mr,g2)}),bs&&ol(Mr,os),Ti}function Iu(Mr,Fr,Hr,mi){if(typeof Hr=="object"&&Hr!==null&&Hr.type===ke&&Hr.key===null&&(Hr=Hr.props.children),typeof Hr=="object"&&Hr!==null){switch(Hr.$$typeof){case Ee:e:{for(var Ti=Hr.key,Yi=Fr;Yi!==null;){if(Yi.key===Ti){if(Ti=Hr.type,Ti===ke){if(Yi.tag===7){$e(Mr,Yi.sibling),Fr=Sn(Yi,Hr.props.children),Fr.return=Mr,Mr=Fr;break e}}else if(Yi.elementType===Ti||typeof Ti=="object"&&Ti!==null&&Ti.$$typeof===ze&&Bi(Ti)===Yi.type){$e(Mr,Yi.sibling),Fr=Sn(Yi,Hr.props),Fr.ref=li(Mr,Yi,Hr),Fr.return=Mr,Mr=Fr;break e}$e(Mr,Yi);break}else Ue(Mr,Yi);Yi=Yi.sibling}Hr.type===ke?(Fr=Io(Hr.props.children,Mr.mode,mi,Hr.key),Fr.return=Mr,Mr=Fr):(mi=j0(Hr.type,Hr.key,Hr.props,null,Mr.mode,mi),mi.ref=li(Mr,Fr,Hr),mi.return=Mr,Mr=mi)}return or(Mr);case Fe:e:{for(Yi=Hr.key;Fr!==null;){if(Fr.key===Yi)if(Fr.tag===4&&Fr.stateNode.containerInfo===Hr.containerInfo&&Fr.stateNode.implementation===Hr.implementation){$e(Mr,Fr.sibling),Fr=Sn(Fr,Hr.children||[]),Fr.return=Mr,Mr=Fr;break e}else{$e(Mr,Fr);break}else Ue(Mr,Fr);Fr=Fr.sibling}Fr=q0(Hr,Mr.mode,mi),Fr.return=Mr,Mr=Fr}return or(Mr);case ze:return Yi=Hr._init,Iu(Mr,Fr,Yi(Hr._payload),mi)}if(dn(Hr))return Is(Mr,Fr,Hr,mi);if(Je(Hr))return yl(Mr,Fr,Hr,mi);_i(Mr,Hr)}return typeof Hr=="string"&&Hr!==""||typeof Hr=="number"?(Hr=""+Hr,Fr!==null&&Fr.tag===6?($e(Mr,Fr.sibling),Fr=Sn(Fr,Hr),Fr.return=Mr,Mr=Fr):($e(Mr,Fr),Fr=Tf(Hr,Mr.mode,mi),Fr.return=Mr,Mr=Fr),or(Mr)):$e(Mr,Fr)}return Iu}var Gi=Mi(!0),Ys=Mi(!1),zs=ka(null),na=null,pa=null,Sa=null;function cl(){Sa=pa=na=null}function zo(Me,Ue,$e){er?(Xi(zs,Ue._currentValue),Ue._currentValue=$e):(Xi(zs,Ue._currentValue2),Ue._currentValue2=$e)}function Go(Me){var Ue=zs.current;gs(zs),er?Me._currentValue=Ue:Me._currentValue2=Ue}function bc(Me,Ue,$e){for(;Me!==null;){var hn=Me.alternate;if((Me.childLanes&Ue)!==Ue?(Me.childLanes|=Ue,hn!==null&&(hn.childLanes|=Ue)):hn!==null&&(hn.childLanes&Ue)!==Ue&&(hn.childLanes|=Ue),Me===$e)break;Me=Me.return}}function wc(Me,Ue){na=Me,Sa=pa=null,Me=Me.dependencies,Me!==null&&Me.firstContext!==null&&(Me.lanes&Ue&&(Aa=!0),Me.firstContext=null)}function to(Me){var Ue=er?Me._currentValue:Me._currentValue2;if(Sa!==Me)if(Me={context:Me,memoizedValue:Ue,next:null},pa===null){if(na===null)throw Error(Ce(308));pa=Me,na.dependencies={lanes:0,firstContext:Me}}else pa=pa.next=Me;return Ue}var ul=null;function Su(Me){ul===null?ul=[Me]:ul.push(Me)}function nh(Me,Ue,$e,hn){var Sn=Ue.interleaved;return Sn===null?($e.next=$e,Su(Ue)):($e.next=Sn.next,Sn.next=$e),Ue.interleaved=$e,wo(Me,hn)}function wo(Me,Ue){Me.lanes|=Ue;var $e=Me.alternate;for($e!==null&&($e.lanes|=Ue),$e=Me,Me=Me.return;Me!==null;)Me.childLanes|=Ue,$e=Me.alternate,$e!==null&&($e.childLanes|=Ue),$e=Me,Me=Me.return;return $e.tag===3?$e.stateNode:null}var ws=!1;function xu(Me){Me.updateQueue={baseState:Me.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rh(Me,Ue){Me=Me.updateQueue,Ue.updateQueue===Me&&(Ue.updateQueue={baseState:Me.baseState,firstBaseUpdate:Me.firstBaseUpdate,lastBaseUpdate:Me.lastBaseUpdate,shared:Me.shared,effects:Me.effects})}function Ho(Me,Ue){return{eventTime:Me,lane:Ue,tag:0,payload:null,callback:null,next:null}}function hl(Me,Ue,$e){var hn=Me.updateQueue;if(hn===null)return null;if(hn=hn.shared,Oi&2){var Sn=hn.pending;return Sn===null?Ue.next=Ue:(Ue.next=Sn.next,Sn.next=Ue),hn.pending=Ue,wo(Me,$e)}return Sn=hn.interleaved,Sn===null?(Ue.next=Ue,Su(hn)):(Ue.next=Sn.next,Sn.next=Ue),hn.interleaved=Ue,wo(Me,$e)}function ja(Me,Ue,$e){if(Ue=Ue.updateQueue,Ue!==null&&(Ue=Ue.shared,($e&4194240)!==0)){var hn=Ue.lanes;hn&=Me.pendingLanes,$e|=hn,Ue.lanes=$e,il(Me,$e)}}function _u(Me,Ue){var $e=Me.updateQueue,hn=Me.alternate;if(hn!==null&&(hn=hn.updateQueue,$e===hn)){var Sn=null,Dn=null;if($e=$e.firstBaseUpdate,$e!==null){do{var or={eventTime:$e.eventTime,lane:$e.lane,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null};Dn===null?Sn=Dn=or:Dn=Dn.next=or,$e=$e.next}while($e!==null);Dn===null?Sn=Dn=Ue:Dn=Dn.next=Ue}else Sn=Dn=Ue;$e={baseState:hn.baseState,firstBaseUpdate:Sn,lastBaseUpdate:Dn,shared:hn.shared,effects:hn.effects},Me.updateQueue=$e;return}Me=$e.lastBaseUpdate,Me===null?$e.firstBaseUpdate=Ue:Me.next=Ue,$e.lastBaseUpdate=Ue}function Rl(Me,Ue,$e,hn){var Sn=Me.updateQueue;ws=!1;var Dn=Sn.firstBaseUpdate,or=Sn.lastBaseUpdate,Cr=Sn.shared.pending;if(Cr!==null){Sn.shared.pending=null;var zr=Cr,ni=zr.next;zr.next=null,or===null?Dn=ni:or.next=ni,or=zr;var wi=Me.alternate;wi!==null&&(wi=wi.updateQueue,Cr=wi.lastBaseUpdate,Cr!==or&&(Cr===null?wi.firstBaseUpdate=ni:Cr.next=ni,wi.lastBaseUpdate=zr))}if(Dn!==null){var qi=Sn.baseState;or=0,wi=ni=zr=null,Cr=Dn;do{var pi=Cr.lane,Js=Cr.eventTime;if((hn&pi)===pi){wi!==null&&(wi=wi.next={eventTime:Js,lane:0,tag:Cr.tag,payload:Cr.payload,callback:Cr.callback,next:null});e:{var Is=Me,yl=Cr;switch(pi=Ue,Js=$e,yl.tag){case 1:if(Is=yl.payload,typeof Is=="function"){qi=Is.call(Js,qi,pi);break e}qi=Is;break e;case 3:Is.flags=Is.flags&-65537|128;case 0:if(Is=yl.payload,pi=typeof Is=="function"?Is.call(Js,qi,pi):Is,pi==null)break e;qi=Ae({},qi,pi);break e;case 2:ws=!0}}Cr.callback!==null&&Cr.lane!==0&&(Me.flags|=64,pi=Sn.effects,pi===null?Sn.effects=[Cr]:pi.push(Cr))}else Js={eventTime:Js,lane:pi,tag:Cr.tag,payload:Cr.payload,callback:Cr.callback,next:null},wi===null?(ni=wi=Js,zr=qi):wi=wi.next=Js,or|=pi;if(Cr=Cr.next,Cr===null){if(Cr=Sn.shared.pending,Cr===null)break;pi=Cr,Cr=pi.next,pi.next=null,Sn.lastBaseUpdate=pi,Sn.shared.pending=null}}while(!0);if(wi===null&&(zr=qi),Sn.baseState=zr,Sn.firstBaseUpdate=ni,Sn.lastBaseUpdate=wi,Ue=Sn.shared.interleaved,Ue!==null){Sn=Ue;do or|=Sn.lane,Sn=Sn.next;while(Sn!==Ue)}else Dn===null&&(Sn.shared.lanes=0);Zc|=or,Me.lanes=or,Me.memoizedState=qi}}function Ad(Me,Ue,$e){if(Me=Ue.effects,Ue.effects=null,Me!==null)for(Ue=0;Ue<Me.length;Ue++){var hn=Me[Ue],Sn=hn.callback;if(Sn!==null){if(hn.callback=null,hn=$e,typeof Sn!="function")throw Error(Ce(191,Sn));Sn.call(hn)}}}var Na={},no=ka(Na),Wc=ka(Na),Wl=ka(Na);function La(Me){if(Me===Na)throw Error(Ce(174));return Me}function Sc(Me,Ue){Xi(Wl,Ue),Xi(Wc,Me),Xi(no,Na),Me=pn(Ue),gs(no),Xi(no,Me)}function xa(){gs(no),gs(Wc),gs(Wl)}function ro(Me){var Ue=La(Wl.current),$e=La(no.current);Ue=_n($e,Me.type,Ue),$e!==Ue&&(Xi(Wc,Me),Xi(no,Ue))}function xc(Me){Wc.current===Me&&(gs(no),gs(Wc))}var cs=ka(0);function Dl(Me){for(var Ue=Me;Ue!==null;){if(Ue.tag===13){var $e=Ue.memoizedState;if($e!==null&&($e=$e.dehydrated,$e===null||Vi($e)||ji($e)))return Ue}else if(Ue.tag===19&&Ue.memoizedProps.revealOrder!==void 0){if(Ue.flags&128)return Ue}else if(Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===Me)break;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===Me)return null;Ue=Ue.return}Ue.sibling.return=Ue.return,Ue=Ue.sibling}return null}var Au=[];function Kl(){for(var Me=0;Me<Au.length;Me++){var Ue=Au[Me];er?Ue._workInProgressVersionPrimary=null:Ue._workInProgressVersionSecondary=null}Au.length=0}var ts=Pe.ReactCurrentDispatcher,Xl=Pe.ReactCurrentBatchConfig,la=0,Qi=null,Gs=null,ca=null,_c=!1,Yl=!1,Zl=0,dl=0;function Zs(){throw Error(Ce(321))}function Nl(Me,Ue){if(Ue===null)return!1;for(var $e=0;$e<Ue.length&&$e<Me.length;$e++)if(!Ja(Me[$e],Ue[$e]))return!1;return!0}function Jl(Me,Ue,$e,hn,Sn,Dn){if(la=Dn,Qi=Ue,Ue.memoizedState=null,Ue.updateQueue=null,Ue.lanes=0,ts.current=Me===null||Me.memoizedState===null?Ed:ch,Me=$e(hn,Sn),Yl){Dn=0;do{if(Yl=!1,Zl=0,25<=Dn)throw Error(Ce(301));Dn+=1,ca=Gs=null,Ue.updateQueue=null,ts.current=bp,Me=$e(hn,Sn)}while(Yl)}if(ts.current=Xc,Ue=Gs!==null&&Gs.next!==null,la=0,ca=Gs=Qi=null,_c=!1,Ue)throw Error(Ce(300));return Me}function Ql(){var Me=Zl!==0;return Zl=0,Me}function io(){var Me={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ca===null?Qi.memoizedState=ca=Me:ca=ca.next=Me,ca}function Ps(){if(Gs===null){var Me=Qi.alternate;Me=Me!==null?Me.memoizedState:null}else Me=Gs.next;var Ue=ca===null?Qi.memoizedState:ca.next;if(Ue!==null)ca=Ue,Gs=Me;else{if(Me===null)throw Error(Ce(310));Gs=Me,Me={memoizedState:Gs.memoizedState,baseState:Gs.baseState,baseQueue:Gs.baseQueue,queue:Gs.queue,next:null},ca===null?Qi.memoizedState=ca=Me:ca=ca.next=Me}return ca}function qa(Me,Ue){return typeof Ue=="function"?Ue(Me):Ue}function Ss(Me){var Ue=Ps(),$e=Ue.queue;if($e===null)throw Error(Ce(311));$e.lastRenderedReducer=Me;var hn=Gs,Sn=hn.baseQueue,Dn=$e.pending;if(Dn!==null){if(Sn!==null){var or=Sn.next;Sn.next=Dn.next,Dn.next=or}hn.baseQueue=Sn=Dn,$e.pending=null}if(Sn!==null){Dn=Sn.next,hn=hn.baseState;var Cr=or=null,zr=null,ni=Dn;do{var wi=ni.lane;if((la&wi)===wi)zr!==null&&(zr=zr.next={lane:0,action:ni.action,hasEagerState:ni.hasEagerState,eagerState:ni.eagerState,next:null}),hn=ni.hasEagerState?ni.eagerState:Me(hn,ni.action);else{var qi={lane:wi,action:ni.action,hasEagerState:ni.hasEagerState,eagerState:ni.eagerState,next:null};zr===null?(Cr=zr=qi,or=hn):zr=zr.next=qi,Qi.lanes|=wi,Zc|=wi}ni=ni.next}while(ni!==null&&ni!==Dn);zr===null?or=hn:zr.next=Cr,Ja(hn,Ue.memoizedState)||(Aa=!0),Ue.memoizedState=hn,Ue.baseState=or,Ue.baseQueue=zr,$e.lastRenderedState=hn}if(Me=$e.interleaved,Me!==null){Sn=Me;do Dn=Sn.lane,Qi.lanes|=Dn,Zc|=Dn,Sn=Sn.next;while(Sn!==Me)}else Sn===null&&($e.lanes=0);return[Ue.memoizedState,$e.dispatch]}function us(Me){var Ue=Ps(),$e=Ue.queue;if($e===null)throw Error(Ce(311));$e.lastRenderedReducer=Me;var hn=$e.dispatch,Sn=$e.pending,Dn=Ue.memoizedState;if(Sn!==null){$e.pending=null;var or=Sn=Sn.next;do Dn=Me(Dn,or.action),or=or.next;while(or!==Sn);Ja(Dn,Ue.memoizedState)||(Aa=!0),Ue.memoizedState=Dn,Ue.baseQueue===null&&(Ue.baseState=Dn),$e.lastRenderedState=Dn}return[Dn,hn]}function ra(){}function ga(Me,Ue){var $e=Qi,hn=Ps(),Sn=Ue(),Dn=!Ja(hn.memoizedState,Sn);if(Dn&&(hn.memoizedState=Sn,Aa=!0),hn=hn.queue,oh(Cu.bind(null,$e,hn,Me),[Me]),hn.getSnapshot!==Ue||Dn||ca!==null&&ca.memoizedState.tag&1){if($e.flags|=2048,Ia(9,ih.bind(null,$e,hn,Sn,Ue),void 0,null),Fs===null)throw Error(Ce(349));la&30||$l($e,Ue,Sn)}return Sn}function $l(Me,Ue,$e){Me.flags|=16384,Me={getSnapshot:Ue,value:$e},Ue=Qi.updateQueue,Ue===null?(Ue={lastEffect:null,stores:null},Qi.updateQueue=Ue,Ue.stores=[Me]):($e=Ue.stores,$e===null?Ue.stores=[Me]:$e.push(Me))}function ih(Me,Ue,$e,hn){Ue.value=$e,Ue.getSnapshot=hn,qh(Ue)&&tc(Me)}function Cu(Me,Ue,$e){return $e(function(){qh(Ue)&&tc(Me)})}function qh(Me){var Ue=Me.getSnapshot;Me=Me.value;try{var $e=Ue();return!Ja(Me,$e)}catch{return!0}}function tc(Me){var Ue=wo(Me,1);Ue!==null&&ho(Ue,Me,1,-1)}function sh(Me){var Ue=io();return typeof Me=="function"&&(Me=Me()),Ue.memoizedState=Ue.baseState=Me,Me={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:Me},Ue.queue=Me,Me=Me.dispatch=r1.bind(null,Qi,Me),[Ue.memoizedState,Me]}function Ia(Me,Ue,$e,hn){return Me={tag:Me,create:Ue,destroy:$e,deps:hn,next:null},Ue=Qi.updateQueue,Ue===null?(Ue={lastEffect:null,stores:null},Qi.updateQueue=Ue,Ue.lastEffect=Me.next=Me):($e=Ue.lastEffect,$e===null?Ue.lastEffect=Me.next=Me:(hn=$e.next,$e.next=Me,Me.next=hn,Ue.lastEffect=Me)),Me}function pl(){return Ps().memoizedState}function ah(Me,Ue,$e,hn){var Sn=io();Qi.flags|=Me,Sn.memoizedState=Ia(1|Ue,$e,void 0,hn===void 0?null:hn)}function nc(Me,Ue,$e,hn){var Sn=Ps();hn=hn===void 0?null:hn;var Dn=void 0;if(Gs!==null){var or=Gs.memoizedState;if(Dn=or.destroy,hn!==null&&Nl(hn,or.deps)){Sn.memoizedState=Ia(Ue,$e,Dn,hn);return}}Qi.flags|=Me,Sn.memoizedState=Ia(1|Ue,$e,Dn,hn)}function vp(Me,Ue){return ah(8390656,8,Me,Ue)}function oh(Me,Ue){return nc(2048,8,Me,Ue)}function zh(Me,Ue){return nc(4,2,Me,Ue)}function Es(Me,Ue){return nc(4,4,Me,Ue)}function Cd(Me,Ue){if(typeof Ue=="function")return Me=Me(),Ue(Me),function(){Ue(null)};if(Ue!=null)return Me=Me(),Ue.current=Me,function(){Ue.current=null}}function lh(Me,Ue,$e){return $e=$e!=null?$e.concat([Me]):null,nc(4,4,Cd.bind(null,Ue,Me),$e)}function Kc(){}function Gh(Me,Ue){var $e=Ps();Ue=Ue===void 0?null:Ue;var hn=$e.memoizedState;return hn!==null&&Ue!==null&&Nl(Ue,hn[1])?hn[0]:($e.memoizedState=[Me,Ue],Me)}function Hh(Me,Ue){var $e=Ps();Ue=Ue===void 0?null:Ue;var hn=$e.memoizedState;return hn!==null&&Ue!==null&&Nl(Ue,hn[1])?hn[0]:(Me=Me(),$e.memoizedState=[Me,Ue],Me)}function Vh(Me,Ue,$e){return la&21?(Ja($e,Ue)||($e=zc(),Qi.lanes|=$e,Zc|=$e,Me.baseState=!0),Ue):(Me.baseState&&(Me.baseState=!1,Aa=!0),Me.memoizedState=$e)}function yf(Me,Ue){var $e=ai;ai=$e!==0&&4>$e?$e:4,Me(!0);var hn=Xl.transition;Xl.transition={};try{Me(!1),Ue()}finally{ai=$e,Xl.transition=hn}}function Pu(){return Ps().memoizedState}function L0(Me,Ue,$e){var hn=Fa(Me);if($e={lane:hn,action:$e,hasEagerState:!1,eagerState:null,next:null},I0(Me))yp(Ue,$e);else if($e=nh(Me,Ue,$e,hn),$e!==null){var Sn=as();ho($e,Me,hn,Sn),Pd($e,Ue,hn)}}function r1(Me,Ue,$e){var hn=Fa(Me),Sn={lane:hn,action:$e,hasEagerState:!1,eagerState:null,next:null};if(I0(Me))yp(Ue,Sn);else{var Dn=Me.alternate;if(Me.lanes===0&&(Dn===null||Dn.lanes===0)&&(Dn=Ue.lastRenderedReducer,Dn!==null))try{var or=Ue.lastRenderedState,Cr=Dn(or,$e);if(Sn.hasEagerState=!0,Sn.eagerState=Cr,Ja(Cr,or)){var zr=Ue.interleaved;zr===null?(Sn.next=Sn,Su(Ue)):(Sn.next=zr.next,zr.next=Sn),Ue.interleaved=Sn;return}}catch{}finally{}$e=nh(Me,Ue,Sn,hn),$e!==null&&(Sn=as(),ho($e,Me,hn,Sn),Pd($e,Ue,hn))}}function I0(Me){var Ue=Me.alternate;return Me===Qi||Ue!==null&&Ue===Qi}function yp(Me,Ue){Yl=_c=!0;var $e=Me.pending;$e===null?Ue.next=Ue:(Ue.next=$e.next,$e.next=Ue),Me.pending=Ue}function Pd(Me,Ue,$e){if($e&4194240){var hn=Ue.lanes;hn&=Me.pendingLanes,$e|=hn,Ue.lanes=$e,il(Me,$e)}}var Xc={readContext:to,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},Ed={readContext:to,useCallback:function(Me,Ue){return io().memoizedState=[Me,Ue===void 0?null:Ue],Me},useContext:to,useEffect:vp,useImperativeHandle:function(Me,Ue,$e){return $e=$e!=null?$e.concat([Me]):null,ah(4194308,4,Cd.bind(null,Ue,Me),$e)},useLayoutEffect:function(Me,Ue){return ah(4194308,4,Me,Ue)},useInsertionEffect:function(Me,Ue){return ah(4,2,Me,Ue)},useMemo:function(Me,Ue){var $e=io();return Ue=Ue===void 0?null:Ue,Me=Me(),$e.memoizedState=[Me,Ue],Me},useReducer:function(Me,Ue,$e){var hn=io();return Ue=$e!==void 0?$e(Ue):Ue,hn.memoizedState=hn.baseState=Ue,Me={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Me,lastRenderedState:Ue},hn.queue=Me,Me=Me.dispatch=L0.bind(null,Qi,Me),[hn.memoizedState,Me]},useRef:function(Me){var Ue=io();return Me={current:Me},Ue.memoizedState=Me},useState:sh,useDebugValue:Kc,useDeferredValue:function(Me){return io().memoizedState=Me},useTransition:function(){var Me=sh(!1),Ue=Me[0];return Me=yf.bind(null,Me[1]),io().memoizedState=Me,[Ue,Me]},useMutableSource:function(){},useSyncExternalStore:function(Me,Ue,$e){var hn=Qi,Sn=io();if(bs){if($e===void 0)throw Error(Ce(407));$e=$e()}else{if($e=Ue(),Fs===null)throw Error(Ce(349));la&30||$l(hn,Ue,$e)}Sn.memoizedState=$e;var Dn={value:$e,getSnapshot:Ue};return Sn.queue=Dn,vp(Cu.bind(null,hn,Dn,Me),[Me]),hn.flags|=2048,Ia(9,ih.bind(null,hn,Dn,$e,Ue),void 0,null),$e},useId:function(){var Me=io(),Ue=Fs.identifierPrefix;if(bs){var $e=bo,hn=yo;$e=(hn&~(1<<32-Do(hn)-1)).toString(32)+$e,Ue=":"+Ue+"R"+$e,$e=Zl++,0<$e&&(Ue+="H"+$e.toString(32)),Ue+=":"}else $e=dl++,Ue=":"+Ue+"r"+$e.toString(32)+":";return Me.memoizedState=Ue},unstable_isNewReconciler:!1},ch={readContext:to,useCallback:Gh,useContext:to,useEffect:oh,useImperativeHandle:lh,useInsertionEffect:zh,useLayoutEffect:Es,useMemo:Hh,useReducer:Ss,useRef:pl,useState:function(){return Ss(qa)},useDebugValue:Kc,useDeferredValue:function(Me){var Ue=Ps();return Vh(Ue,Gs.memoizedState,Me)},useTransition:function(){var Me=Ss(qa)[0],Ue=Ps().memoizedState;return[Me,Ue]},useMutableSource:ra,useSyncExternalStore:ga,useId:Pu,unstable_isNewReconciler:!1},bp={readContext:to,useCallback:Gh,useContext:to,useEffect:oh,useImperativeHandle:lh,useInsertionEffect:zh,useLayoutEffect:Es,useMemo:Hh,useReducer:us,useRef:pl,useState:function(){return us(qa)},useDebugValue:Kc,useDeferredValue:function(Me){var Ue=Ps();return Gs===null?Ue.memoizedState=Me:Vh(Ue,Gs.memoizedState,Me)},useTransition:function(){var Me=us(qa)[0],Ue=Ps().memoizedState;return[Me,Ue]},useMutableSource:ra,useSyncExternalStore:ga,useId:Pu,unstable_isNewReconciler:!1};function gl(Me,Ue){if(Me&&Me.defaultProps){Ue=Ae({},Ue),Me=Me.defaultProps;for(var $e in Me)Ue[$e]===void 0&&(Ue[$e]=Me[$e]);return Ue}return Ue}function bf(Me,Ue,$e,hn){Ue=Me.memoizedState,$e=$e(hn,Ue),$e=$e==null?Ue:Ae({},Ue,$e),Me.memoizedState=$e,Me.lanes===0&&(Me.updateQueue.baseState=$e)}var Fd={isMounted:function(Me){return(Me=Me._reactInternals)?on(Me)===Me:!1},enqueueSetState:function(Me,Ue,$e){Me=Me._reactInternals;var hn=as(),Sn=Fa(Me),Dn=Ho(hn,Sn);Dn.payload=Ue,$e!=null&&(Dn.callback=$e),Ue=hl(Me,Dn,Sn),Ue!==null&&(ho(Ue,Me,Sn,hn),ja(Ue,Me,Sn))},enqueueReplaceState:function(Me,Ue,$e){Me=Me._reactInternals;var hn=as(),Sn=Fa(Me),Dn=Ho(hn,Sn);Dn.tag=1,Dn.payload=Ue,$e!=null&&(Dn.callback=$e),Ue=hl(Me,Dn,Sn),Ue!==null&&(ho(Ue,Me,Sn,hn),ja(Ue,Me,Sn))},enqueueForceUpdate:function(Me,Ue){Me=Me._reactInternals;var $e=as(),hn=Fa(Me),Sn=Ho($e,hn);Sn.tag=2,Ue!=null&&(Sn.callback=Ue),Ue=hl(Me,Sn,hn),Ue!==null&&(ho(Ue,Me,hn,$e),ja(Ue,Me,hn))}};function O0(Me,Ue,$e,hn,Sn,Dn,or){return Me=Me.stateNode,typeof Me.shouldComponentUpdate=="function"?Me.shouldComponentUpdate(hn,Dn,or):Ue.prototype&&Ue.prototype.isPureReactComponent?!Gr($e,hn)||!Gr(Sn,Dn):!0}function M0(Me,Ue,$e){var hn=!1,Sn=Cs,Dn=Ue.contextType;return typeof Dn=="object"&&Dn!==null?Dn=to(Dn):(Sn=ya(Ue)?nl:Ra.current,hn=Ue.contextTypes,Dn=(hn=hn!=null)?rl(Me,Sn):Cs),Ue=new Ue($e,Dn),Me.memoizedState=Ue.state!==null&&Ue.state!==void 0?Ue.state:null,Ue.updater=Fd,Me.stateNode=Ue,Ue._reactInternals=Me,hn&&(Me=Me.stateNode,Me.__reactInternalMemoizedUnmaskedChildContext=Sn,Me.__reactInternalMemoizedMaskedChildContext=Dn),Ue}function wf(Me,Ue,$e,hn){Me=Ue.state,typeof Ue.componentWillReceiveProps=="function"&&Ue.componentWillReceiveProps($e,hn),typeof Ue.UNSAFE_componentWillReceiveProps=="function"&&Ue.UNSAFE_componentWillReceiveProps($e,hn),Ue.state!==Me&&Fd.enqueueReplaceState(Ue,Ue.state,null)}function so(Me,Ue,$e,hn){var Sn=Me.stateNode;Sn.props=$e,Sn.state=Me.memoizedState,Sn.refs={},xu(Me);var Dn=Ue.contextType;typeof Dn=="object"&&Dn!==null?Sn.context=to(Dn):(Dn=ya(Ue)?nl:Ra.current,Sn.context=rl(Me,Dn)),Sn.state=Me.memoizedState,Dn=Ue.getDerivedStateFromProps,typeof Dn=="function"&&(bf(Me,Ue,Dn,$e),Sn.state=Me.memoizedState),typeof Ue.getDerivedStateFromProps=="function"||typeof Sn.getSnapshotBeforeUpdate=="function"||typeof Sn.UNSAFE_componentWillMount!="function"&&typeof Sn.componentWillMount!="function"||(Ue=Sn.state,typeof Sn.componentWillMount=="function"&&Sn.componentWillMount(),typeof Sn.UNSAFE_componentWillMount=="function"&&Sn.UNSAFE_componentWillMount(),Ue!==Sn.state&&Fd.enqueueReplaceState(Sn,Sn.state,null),Rl(Me,$e,Sn,hn),Sn.state=Me.memoizedState),typeof Sn.componentDidMount=="function"&&(Me.flags|=4194308)}function ao(Me,Ue){try{var $e="",hn=Ue;do $e+=Zr(hn),hn=hn.return;while(hn);var Sn=$e}catch(Dn){Sn=`
Error generating stack: `+Dn.message+`
`+Dn.stack}return{value:Me,source:Ue,stack:Sn,digest:null}}function So(Me,Ue,$e){return{value:Me,source:null,stack:$e??null,digest:Ue??null}}function Ll(Me,Ue){try{console.error(Ue.value)}catch($e){setTimeout(function(){throw $e})}}var Wh=typeof WeakMap=="function"?WeakMap:Map;function oo(Me,Ue,$e){$e=Ho(-1,$e),$e.tag=3,$e.payload={element:null};var hn=Ue.value;return $e.callback=function(){ia||(ia=!0,va=hn),Ll(Me,Ue)},$e}function No(Me,Ue,$e){$e=Ho(-1,$e),$e.tag=3;var hn=Me.type.getDerivedStateFromError;if(typeof hn=="function"){var Sn=Ue.value;$e.payload=function(){return hn(Sn)},$e.callback=function(){Ll(Me,Ue)}}var Dn=Me.stateNode;return Dn!==null&&typeof Dn.componentDidCatch=="function"&&($e.callback=function(){Ll(Me,Ue),typeof hn!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var or=Ue.stack;this.componentDidCatch(Ue.value,{componentStack:or!==null?or:""})}),$e}function B0(Me,Ue,$e){var hn=Me.pingCache;if(hn===null){hn=Me.pingCache=new Wh;var Sn=new Set;hn.set(Ue,Sn)}else Sn=hn.get(Ue),Sn===void 0&&(Sn=new Set,hn.set(Ue,Sn));Sn.has($e)||(Sn.add($e),Me=Vm.bind(null,Me,Ue,$e),Ue.then(Me,Me))}function U0(Me){do{var Ue;if((Ue=Me.tag===13)&&(Ue=Me.memoizedState,Ue=Ue!==null?Ue.dehydrated!==null:!0),Ue)return Me;Me=Me.return}while(Me!==null);return null}function Yc(Me,Ue,$e,hn,Sn){return Me.mode&1?(Me.flags|=65536,Me.lanes=Sn,Me):(Me===Ue?Me.flags|=65536:(Me.flags|=128,$e.flags|=131072,$e.flags&=-52805,$e.tag===1&&($e.alternate===null?$e.tag=17:(Ue=Ho(-1,1),Ue.tag=2,hl($e,Ue,1))),$e.lanes|=1),Me)}var Kh=Pe.ReactCurrentOwner,Aa=!1;function Oa(Me,Ue,$e,hn){Ue.child=Me===null?Ys(Ue,null,$e,hn):Gi(Ue,Me.child,$e,hn)}function Sf(Me,Ue,$e,hn,Sn){$e=$e.render;var Dn=Ue.ref;return wc(Ue,Sn),hn=Jl(Me,Ue,$e,hn,Dn,Sn),$e=Ql(),Me!==null&&!Aa?(Ue.updateQueue=Me.updateQueue,Ue.flags&=-2053,Me.lanes&=~Sn,tn(Me,Ue,Sn)):(bs&&$e&&Vc(Ue),Ue.flags|=1,Oa(Me,Ue,hn,Sn),Ue.child)}function Ac(Me,Ue,$e,hn,Sn){if(Me===null){var Dn=$e.type;return typeof Dn=="function"&&!Ef(Dn)&&Dn.defaultProps===void 0&&$e.compare===null&&$e.defaultProps===void 0?(Ue.tag=15,Ue.type=Dn,Il(Me,Ue,Dn,hn,Sn)):(Me=j0($e.type,null,hn,Ue,Ue.mode,Sn),Me.ref=Ue.ref,Me.return=Ue,Ue.child=Me)}if(Dn=Me.child,!(Me.lanes&Sn)){var or=Dn.memoizedProps;if($e=$e.compare,$e=$e!==null?$e:Gr,$e(or,hn)&&Me.ref===Ue.ref)return tn(Me,Ue,Sn)}return Ue.flags|=1,Me=Jh(Dn,hn),Me.ref=Ue.ref,Me.return=Ue,Ue.child=Me}function Il(Me,Ue,$e,hn,Sn){if(Me!==null){var Dn=Me.memoizedProps;if(Gr(Dn,hn)&&Me.ref===Ue.ref)if(Aa=!1,Ue.pendingProps=hn=Dn,(Me.lanes&Sn)!==0)Me.flags&131072&&(Aa=!0);else return Ue.lanes=Me.lanes,tn(Me,Ue,Sn)}return rc(Me,Ue,$e,hn,Sn)}function ms(Me,Ue,$e){var hn=Ue.pendingProps,Sn=hn.children,Dn=Me!==null?Me.memoizedState:null;if(hn.mode==="hidden")if(!(Ue.mode&1))Ue.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xi(Ec,ha),ha|=$e;else{if(!($e&1073741824))return Me=Dn!==null?Dn.baseLanes|$e:$e,Ue.lanes=Ue.childLanes=1073741824,Ue.memoizedState={baseLanes:Me,cachePool:null,transitions:null},Ue.updateQueue=null,Xi(Ec,ha),ha|=Me,null;Ue.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn=Dn!==null?Dn.baseLanes:$e,Xi(Ec,ha),ha|=hn}else Dn!==null?(hn=Dn.baseLanes|$e,Ue.memoizedState=null):hn=$e,Xi(Ec,ha),ha|=hn;return Oa(Me,Ue,Sn,$e),Ue.child}function xs(Me,Ue){var $e=Ue.ref;(Me===null&&$e!==null||Me!==null&&Me.ref!==$e)&&(Ue.flags|=512,Ue.flags|=2097152)}function rc(Me,Ue,$e,hn,Sn){var Dn=ya($e)?nl:Ra.current;return Dn=rl(Ue,Dn),wc(Ue,Sn),$e=Jl(Me,Ue,$e,hn,Dn,Sn),hn=Ql(),Me!==null&&!Aa?(Ue.updateQueue=Me.updateQueue,Ue.flags&=-2053,Me.lanes&=~Sn,tn(Me,Ue,Sn)):(bs&&hn&&Vc(Ue),Ue.flags|=1,Oa(Me,Ue,$e,Sn),Ue.child)}function lo(Me,Ue,$e,hn,Sn){if(ya($e)){var Dn=!0;pc(Ue)}else Dn=!1;if(wc(Ue,Sn),Ue.stateNode===null)Ye(Me,Ue),M0(Ue,$e,hn),so(Ue,$e,hn,Sn),hn=!0;else if(Me===null){var or=Ue.stateNode,Cr=Ue.memoizedProps;or.props=Cr;var zr=or.context,ni=$e.contextType;typeof ni=="object"&&ni!==null?ni=to(ni):(ni=ya($e)?nl:Ra.current,ni=rl(Ue,ni));var wi=$e.getDerivedStateFromProps,qi=typeof wi=="function"||typeof or.getSnapshotBeforeUpdate=="function";qi||typeof or.UNSAFE_componentWillReceiveProps!="function"&&typeof or.componentWillReceiveProps!="function"||(Cr!==hn||zr!==ni)&&wf(Ue,or,hn,ni),ws=!1;var pi=Ue.memoizedState;or.state=pi,Rl(Ue,hn,or,Sn),zr=Ue.memoizedState,Cr!==hn||pi!==zr||Ya.current||ws?(typeof wi=="function"&&(bf(Ue,$e,wi,hn),zr=Ue.memoizedState),(Cr=ws||O0(Ue,$e,Cr,hn,pi,zr,ni))?(qi||typeof or.UNSAFE_componentWillMount!="function"&&typeof or.componentWillMount!="function"||(typeof or.componentWillMount=="function"&&or.componentWillMount(),typeof or.UNSAFE_componentWillMount=="function"&&or.UNSAFE_componentWillMount()),typeof or.componentDidMount=="function"&&(Ue.flags|=4194308)):(typeof or.componentDidMount=="function"&&(Ue.flags|=4194308),Ue.memoizedProps=hn,Ue.memoizedState=zr),or.props=hn,or.state=zr,or.context=ni,hn=Cr):(typeof or.componentDidMount=="function"&&(Ue.flags|=4194308),hn=!1)}else{or=Ue.stateNode,rh(Me,Ue),Cr=Ue.memoizedProps,ni=Ue.type===Ue.elementType?Cr:gl(Ue.type,Cr),or.props=ni,qi=Ue.pendingProps,pi=or.context,zr=$e.contextType,typeof zr=="object"&&zr!==null?zr=to(zr):(zr=ya($e)?nl:Ra.current,zr=rl(Ue,zr));var Js=$e.getDerivedStateFromProps;(wi=typeof Js=="function"||typeof or.getSnapshotBeforeUpdate=="function")||typeof or.UNSAFE_componentWillReceiveProps!="function"&&typeof or.componentWillReceiveProps!="function"||(Cr!==qi||pi!==zr)&&wf(Ue,or,hn,zr),ws=!1,pi=Ue.memoizedState,or.state=pi,Rl(Ue,hn,or,Sn);var Is=Ue.memoizedState;Cr!==qi||pi!==Is||Ya.current||ws?(typeof Js=="function"&&(bf(Ue,$e,Js,hn),Is=Ue.memoizedState),(ni=ws||O0(Ue,$e,ni,hn,pi,Is,zr)||!1)?(wi||typeof or.UNSAFE_componentWillUpdate!="function"&&typeof or.componentWillUpdate!="function"||(typeof or.componentWillUpdate=="function"&&or.componentWillUpdate(hn,Is,zr),typeof or.UNSAFE_componentWillUpdate=="function"&&or.UNSAFE_componentWillUpdate(hn,Is,zr)),typeof or.componentDidUpdate=="function"&&(Ue.flags|=4),typeof or.getSnapshotBeforeUpdate=="function"&&(Ue.flags|=1024)):(typeof or.componentDidUpdate!="function"||Cr===Me.memoizedProps&&pi===Me.memoizedState||(Ue.flags|=4),typeof or.getSnapshotBeforeUpdate!="function"||Cr===Me.memoizedProps&&pi===Me.memoizedState||(Ue.flags|=1024),Ue.memoizedProps=hn,Ue.memoizedState=Is),or.props=hn,or.state=Is,or.context=zr,hn=ni):(typeof or.componentDidUpdate!="function"||Cr===Me.memoizedProps&&pi===Me.memoizedState||(Ue.flags|=4),typeof or.getSnapshotBeforeUpdate!="function"||Cr===Me.memoizedProps&&pi===Me.memoizedState||(Ue.flags|=1024),hn=!1)}return co(Me,Ue,$e,hn,Dn,Sn)}function co(Me,Ue,$e,hn,Sn,Dn){xs(Me,Ue);var or=(Ue.flags&128)!==0;if(!hn&&!or)return Sn&&Lh(Ue,$e,!1),tn(Me,Ue,Dn);hn=Ue.stateNode,Kh.current=Ue;var Cr=or&&typeof $e.getDerivedStateFromError!="function"?null:hn.render();return Ue.flags|=1,Me!==null&&or?(Ue.child=Gi(Ue,Me.child,null,Dn),Ue.child=Gi(Ue,null,Cr,Dn)):Oa(Me,Ue,Cr,Dn),Ue.memoizedState=hn.state,Sn&&Lh(Ue,$e,!0),Ue.child}function Eu(Me){var Ue=Me.stateNode;Ue.pendingContext?Ju(Me,Ue.pendingContext,Ue.pendingContext!==Ue.context):Ue.context&&Ju(Me,Ue.context,!1),Sc(Me,Ue.containerInfo)}function uh(Me,Ue,$e,hn,Sn){return ur(),vr(Sn),Ue.flags|=256,Oa(Me,Ue,$e,hn),Ue.child}var xo={dehydrated:null,treeContext:null,retryLane:0};function Xh(Me){return{baseLanes:Me,cachePool:null,transitions:null}}function wp(Me,Ue,$e){var hn=Ue.pendingProps,Sn=cs.current,Dn=!1,or=(Ue.flags&128)!==0,Cr;if((Cr=or)||(Cr=Me!==null&&Me.memoizedState===null?!1:(Sn&2)!==0),Cr?(Dn=!0,Ue.flags&=-129):(Me===null||Me.memoizedState!==null)&&(Sn|=1),Xi(cs,Sn&1),Me===null)return yc(Ue),Me=Ue.memoizedState,Me!==null&&(Me=Me.dehydrated,Me!==null)?(Ue.mode&1?ji(Me)?Ue.lanes=8:Ue.lanes=1073741824:Ue.lanes=1,null):(or=hn.children,Me=hn.fallback,Dn?(hn=Ue.mode,Dn=Ue.child,or={mode:"hidden",children:or},!(hn&1)&&Dn!==null?(Dn.childLanes=0,Dn.pendingProps=or):Dn=Ff(or,hn,0,null),Me=Io(Me,hn,$e,null),Dn.return=Ue,Me.return=Ue,Dn.sibling=Me,Ue.child=Dn,Ue.child.memoizedState=Xh($e),Ue.memoizedState=xo,Me):xf(Ue,or));if(Sn=Me.memoizedState,Sn!==null&&(Cr=Sn.dehydrated,Cr!==null))return Td(Me,Ue,or,hn,Cr,Sn,$e);if(Dn){Dn=hn.fallback,or=Ue.mode,Sn=Me.child,Cr=Sn.sibling;var zr={mode:"hidden",children:hn.children};return!(or&1)&&Ue.child!==Sn?(hn=Ue.child,hn.childLanes=0,hn.pendingProps=zr,Ue.deletions=null):(hn=Jh(Sn,zr),hn.subtreeFlags=Sn.subtreeFlags&14680064),Cr!==null?Dn=Jh(Cr,Dn):(Dn=Io(Dn,or,$e,null),Dn.flags|=2),Dn.return=Ue,hn.return=Ue,hn.sibling=Dn,Ue.child=hn,hn=Dn,Dn=Ue.child,or=Me.child.memoizedState,or=or===null?Xh($e):{baseLanes:or.baseLanes|$e,cachePool:null,transitions:or.transitions},Dn.memoizedState=or,Dn.childLanes=Me.childLanes&~$e,Ue.memoizedState=xo,hn}return Dn=Me.child,Me=Dn.sibling,hn=Jh(Dn,{mode:"visible",children:hn.children}),!(Ue.mode&1)&&(hn.lanes=$e),hn.return=Ue,hn.sibling=null,Me!==null&&($e=Ue.deletions,$e===null?(Ue.deletions=[Me],Ue.flags|=16):$e.push(Me)),Ue.child=hn,Ue.memoizedState=null,hn}function xf(Me,Ue){return Ue=Ff({mode:"visible",children:Ue},Me.mode,0,null),Ue.return=Me,Me.child=Ue}function Fu(Me,Ue,$e,hn){return hn!==null&&vr(hn),Gi(Ue,Me.child,null,$e),Me=xf(Ue,Ue.pendingProps.children),Me.flags|=2,Ue.memoizedState=null,Me}function Td(Me,Ue,$e,hn,Sn,Dn,or){if($e)return Ue.flags&256?(Ue.flags&=-257,hn=So(Error(Ce(422))),Fu(Me,Ue,or,hn)):Ue.memoizedState!==null?(Ue.child=Me.child,Ue.flags|=128,null):(Dn=hn.fallback,Sn=Ue.mode,hn=Ff({mode:"visible",children:hn.children},Sn,0,null),Dn=Io(Dn,Sn,or,null),Dn.flags|=2,hn.return=Ue,Dn.return=Ue,hn.sibling=Dn,Ue.child=hn,Ue.mode&1&&Gi(Ue,Me.child,null,or),Ue.child.memoizedState=Xh(or),Ue.memoizedState=xo,Dn);if(!(Ue.mode&1))return Fu(Me,Ue,or,null);if(ji(Sn))return hn=Ki(Sn).digest,Dn=Error(Ce(419)),hn=So(Dn,hn,void 0),Fu(Me,Ue,or,hn);if($e=(or&Me.childLanes)!==0,Aa||$e){if(hn=Fs,hn!==null){switch(or&-or){case 4:Sn=2;break;case 16:Sn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Sn=32;break;case 536870912:Sn=268435456;break;default:Sn=0}Sn=Sn&(hn.suspendedLanes|or)?0:Sn,Sn!==0&&Sn!==Dn.retryLane&&(Dn.retryLane=Sn,wo(Me,Sn),ho(hn,Me,Sn,-1))}return vl(),hn=So(Error(Ce(421))),Fu(Me,Ue,or,hn)}return Vi(Sn)?(Ue.flags|=128,Ue.child=Me.child,Ue=Km.bind(null,Me),fa(Sn,Ue),null):(Me=Dn.treeContext,Tn&&(Da=ys(Sn),oa=Ue,bs=!0,ll=null,wu=!1,Me!==null&&(js[eo++]=yo,js[eo++]=bo,js[eo++]=qs,yo=Me.id,bo=Me.overflow,qs=Ue)),Ue=xf(Ue,hn.children),Ue.flags|=4096,Ue)}function Cc(Me,Ue,$e){Me.lanes|=Ue;var hn=Me.alternate;hn!==null&&(hn.lanes|=Ue),bc(Me.return,Ue,$e)}function Yh(Me,Ue,$e,hn,Sn){var Dn=Me.memoizedState;Dn===null?Me.memoizedState={isBackwards:Ue,rendering:null,renderingStartTime:0,last:hn,tail:$e,tailMode:Sn}:(Dn.isBackwards=Ue,Dn.rendering=null,Dn.renderingStartTime=0,Dn.last=hn,Dn.tail=$e,Dn.tailMode=Sn)}function kd(Me,Ue,$e){var hn=Ue.pendingProps,Sn=hn.revealOrder,Dn=hn.tail;if(Oa(Me,Ue,hn.children,$e),hn=cs.current,hn&2)hn=hn&1|2,Ue.flags|=128;else{if(Me!==null&&Me.flags&128)e:for(Me=Ue.child;Me!==null;){if(Me.tag===13)Me.memoizedState!==null&&Cc(Me,$e,Ue);else if(Me.tag===19)Cc(Me,$e,Ue);else if(Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===Ue)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===Ue)break e;Me=Me.return}Me.sibling.return=Me.return,Me=Me.sibling}hn&=1}if(Xi(cs,hn),!(Ue.mode&1))Ue.memoizedState=null;else switch(Sn){case"forwards":for($e=Ue.child,Sn=null;$e!==null;)Me=$e.alternate,Me!==null&&Dl(Me)===null&&(Sn=$e),$e=$e.sibling;$e=Sn,$e===null?(Sn=Ue.child,Ue.child=null):(Sn=$e.sibling,$e.sibling=null),Yh(Ue,!1,Sn,$e,Dn);break;case"backwards":for($e=null,Sn=Ue.child,Ue.child=null;Sn!==null;){if(Me=Sn.alternate,Me!==null&&Dl(Me)===null){Ue.child=Sn;break}Me=Sn.sibling,Sn.sibling=$e,$e=Sn,Sn=Me}Yh(Ue,!0,$e,null,Dn);break;case"together":Yh(Ue,!1,null,null,void 0);break;default:Ue.memoizedState=null}return Ue.child}function Ye(Me,Ue){!(Ue.mode&1)&&Me!==null&&(Me.alternate=null,Ue.alternate=null,Ue.flags|=2)}function tn(Me,Ue,$e){if(Me!==null&&(Ue.dependencies=Me.dependencies),Zc|=Ue.lanes,!($e&Ue.childLanes))return null;if(Me!==null&&Ue.child!==Me.child)throw Error(Ce(153));if(Ue.child!==null){for(Me=Ue.child,$e=Jh(Me,Me.pendingProps),Ue.child=$e,$e.return=Ue;Me.sibling!==null;)Me=Me.sibling,$e=$e.sibling=Jh(Me,Me.pendingProps),$e.return=Ue;$e.sibling=null}return Ue.child}function yn(Me,Ue,$e){switch(Ue.tag){case 3:Eu(Ue),ur();break;case 5:ro(Ue);break;case 1:ya(Ue.type)&&pc(Ue);break;case 4:Sc(Ue,Ue.stateNode.containerInfo);break;case 10:zo(Ue,Ue.type._context,Ue.memoizedProps.value);break;case 13:var hn=Ue.memoizedState;if(hn!==null)return hn.dehydrated!==null?(Xi(cs,cs.current&1),Ue.flags|=128,null):$e&Ue.child.childLanes?wp(Me,Ue,$e):(Xi(cs,cs.current&1),Me=tn(Me,Ue,$e),Me!==null?Me.sibling:null);Xi(cs,cs.current&1);break;case 19:if(hn=($e&Ue.childLanes)!==0,Me.flags&128){if(hn)return kd(Me,Ue,$e);Ue.flags|=128}var Sn=Ue.memoizedState;if(Sn!==null&&(Sn.rendering=null,Sn.tail=null,Sn.lastEffect=null),Xi(cs,cs.current),hn)break;return null;case 22:case 23:return Ue.lanes=0,ms(Me,Ue,$e)}return tn(Me,Ue,$e)}function Rn(Me){Me.flags|=4}function zn(Me,Ue){if(Me!==null&&Me.child===Ue.child)return!0;if(Ue.flags&16)return!1;for(Me=Ue.child;Me!==null;){if(Me.flags&12854||Me.subtreeFlags&12854)return!1;Me=Me.sibling}return!0}var Wn,Jn,$n,nr;if(Zn)Wn=function(Me,Ue){for(var $e=Ue.child;$e!==null;){if($e.tag===5||$e.tag===6)St(Me,$e.stateNode);else if($e.tag!==4&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===Ue)break;for(;$e.sibling===null;){if($e.return===null||$e.return===Ue)return;$e=$e.return}$e.sibling.return=$e.return,$e=$e.sibling}},Jn=function(){},$n=function(Me,Ue,$e,hn,Sn){if(Me=Me.memoizedProps,Me!==hn){var Dn=Ue.stateNode,or=La(no.current);$e=gn(Dn,$e,Me,hn,Sn,or),(Ue.updateQueue=$e)&&Rn(Ue)}},nr=function(Me,Ue,$e,hn){$e!==hn&&Rn(Ue)};else if(Cn){Wn=function(Me,Ue,$e,hn){for(var Sn=Ue.child;Sn!==null;){if(Sn.tag===5){var Dn=Sn.stateNode;$e&&hn&&(Dn=ri(Dn,Sn.type,Sn.memoizedProps,Sn)),St(Me,Dn)}else if(Sn.tag===6)Dn=Sn.stateNode,$e&&hn&&(Dn=ki(Dn,Sn.memoizedProps,Sn)),St(Me,Dn);else if(Sn.tag!==4){if(Sn.tag===22&&Sn.memoizedState!==null)Dn=Sn.child,Dn!==null&&(Dn.return=Sn),Wn(Me,Sn,!0,!0);else if(Sn.child!==null){Sn.child.return=Sn,Sn=Sn.child;continue}}if(Sn===Ue)break;for(;Sn.sibling===null;){if(Sn.return===null||Sn.return===Ue)return;Sn=Sn.return}Sn.sibling.return=Sn.return,Sn=Sn.sibling}};var lr=function(Me,Ue,$e,hn){for(var Sn=Ue.child;Sn!==null;){if(Sn.tag===5){var Dn=Sn.stateNode;$e&&hn&&(Dn=ri(Dn,Sn.type,Sn.memoizedProps,Sn)),wr(Me,Dn)}else if(Sn.tag===6)Dn=Sn.stateNode,$e&&hn&&(Dn=ki(Dn,Sn.memoizedProps,Sn)),wr(Me,Dn);else if(Sn.tag!==4){if(Sn.tag===22&&Sn.memoizedState!==null)Dn=Sn.child,Dn!==null&&(Dn.return=Sn),lr(Me,Sn,!0,!0);else if(Sn.child!==null){Sn.child.return=Sn,Sn=Sn.child;continue}}if(Sn===Ue)break;for(;Sn.sibling===null;){if(Sn.return===null||Sn.return===Ue)return;Sn=Sn.return}Sn.sibling.return=Sn.return,Sn=Sn.sibling}};Jn=function(Me,Ue){var $e=Ue.stateNode;if(!zn(Me,Ue)){Me=$e.containerInfo;var hn=fr(Me);lr(hn,Ue,!1,!1),$e.pendingChildren=hn,Rn(Ue),ui(Me,hn)}},$n=function(Me,Ue,$e,hn,Sn){var Dn=Me.stateNode,or=Me.memoizedProps;if((Me=zn(Me,Ue))&&or===hn)Ue.stateNode=Dn;else{var Cr=Ue.stateNode,zr=La(no.current),ni=null;or!==hn&&(ni=gn(Cr,$e,or,hn,Sn,zr)),Me&&ni===null?Ue.stateNode=Dn:(Dn=Qn(Dn,ni,$e,or,hn,Ue,Me,Cr),sn(Dn,$e,hn,Sn,zr)&&Rn(Ue),Ue.stateNode=Dn,Me?Rn(Ue):Wn(Dn,Ue,!1,!1))}},nr=function(Me,Ue,$e,hn){$e!==hn?(Me=La(Wl.current),$e=La(no.current),Ue.stateNode=Fn(hn,Me,$e,Ue),Rn(Ue)):Ue.stateNode=Me.stateNode}}else Jn=function(){},$n=function(){},nr=function(){};function gr(Me,Ue){if(!bs)switch(Me.tailMode){case"hidden":Ue=Me.tail;for(var $e=null;Ue!==null;)Ue.alternate!==null&&($e=Ue),Ue=Ue.sibling;$e===null?Me.tail=null:$e.sibling=null;break;case"collapsed":$e=Me.tail;for(var hn=null;$e!==null;)$e.alternate!==null&&(hn=$e),$e=$e.sibling;hn===null?Ue||Me.tail===null?Me.tail=null:Me.tail.sibling=null:hn.sibling=null}}function _r(Me){var Ue=Me.alternate!==null&&Me.alternate.child===Me.child,$e=0,hn=0;if(Ue)for(var Sn=Me.child;Sn!==null;)$e|=Sn.lanes|Sn.childLanes,hn|=Sn.subtreeFlags&14680064,hn|=Sn.flags&14680064,Sn.return=Me,Sn=Sn.sibling;else for(Sn=Me.child;Sn!==null;)$e|=Sn.lanes|Sn.childLanes,hn|=Sn.subtreeFlags,hn|=Sn.flags,Sn.return=Me,Sn=Sn.sibling;return Me.subtreeFlags|=hn,Me.childLanes=$e,Ue}function Rr(Me,Ue,$e){var hn=Ue.pendingProps;switch(bu(Ue),Ue.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(Ue),null;case 1:return ya(Ue.type)&&Za(),_r(Ue),null;case 3:return $e=Ue.stateNode,xa(),gs(Ya),gs(Ra),Kl(),$e.pendingContext&&($e.context=$e.pendingContext,$e.pendingContext=null),(Me===null||Me.child===null)&&(un(Ue)?Rn(Ue):Me===null||Me.memoizedState.isDehydrated&&!(Ue.flags&256)||(Ue.flags|=1024,ll!==null&&(_f(ll),ll=null))),Jn(Me,Ue),_r(Ue),null;case 5:xc(Ue),$e=La(Wl.current);var Sn=Ue.type;if(Me!==null&&Ue.stateNode!=null)$n(Me,Ue,Sn,hn,$e),Me.ref!==Ue.ref&&(Ue.flags|=512,Ue.flags|=2097152);else{if(!hn){if(Ue.stateNode===null)throw Error(Ce(166));return _r(Ue),null}if(Me=La(no.current),un(Ue)){if(!Tn)throw Error(Ce(175));Me=ks(Ue.stateNode,Ue.type,Ue.memoizedProps,$e,Me,Ue,!wu),Ue.updateQueue=Me,Me!==null&&Rn(Ue)}else{var Dn=xn(Sn,hn,$e,Me,Ue);Wn(Dn,Ue,!1,!1),Ue.stateNode=Dn,sn(Dn,Sn,hn,$e,Me)&&Rn(Ue)}Ue.ref!==null&&(Ue.flags|=512,Ue.flags|=2097152)}return _r(Ue),null;case 6:if(Me&&Ue.stateNode!=null)nr(Me,Ue,Me.memoizedProps,hn);else{if(typeof hn!="string"&&Ue.stateNode===null)throw Error(Ce(166));if(Me=La(Wl.current),$e=La(no.current),un(Ue)){if(!Tn)throw Error(Ce(176));if(Me=Ue.stateNode,$e=Ue.memoizedProps,(hn=aa(Me,$e,Ue,!wu))&&(Sn=oa,Sn!==null))switch(Sn.tag){case 3:mf(Sn.stateNode.containerInfo,Me,$e,(Sn.mode&1)!==0);break;case 5:ea(Sn.type,Sn.memoizedProps,Sn.stateNode,Me,$e,(Sn.mode&1)!==0)}hn&&Rn(Ue)}else Ue.stateNode=Fn(hn,Me,$e,Ue)}return _r(Ue),null;case 13:if(gs(cs),hn=Ue.memoizedState,Me===null||Me.memoizedState!==null&&Me.memoizedState.dehydrated!==null){if(bs&&Da!==null&&Ue.mode&1&&!(Ue.flags&128))Gn(),ur(),Ue.flags|=98560,Sn=!1;else if(Sn=un(Ue),hn!==null&&hn.dehydrated!==null){if(Me===null){if(!Sn)throw Error(Ce(318));if(!Tn)throw Error(Ce(344));if(Sn=Ue.memoizedState,Sn=Sn!==null?Sn.dehydrated:null,!Sn)throw Error(Ce(317));vo(Sn,Ue)}else ur(),!(Ue.flags&128)&&(Ue.memoizedState=null),Ue.flags|=4;_r(Ue),Sn=!1}else ll!==null&&(_f(ll),ll=null),Sn=!0;if(!Sn)return Ue.flags&65536?Ue:null}return Ue.flags&128?(Ue.lanes=$e,Ue):($e=hn!==null,$e!==(Me!==null&&Me.memoizedState!==null)&&$e&&(Ue.child.flags|=8192,Ue.mode&1&&(Me===null||cs.current&1?Ls===0&&(Ls=3):vl())),Ue.updateQueue!==null&&(Ue.flags|=4),_r(Ue),null);case 4:return xa(),Jn(Me,Ue),Me===null&&In(Ue.stateNode.containerInfo),_r(Ue),null;case 10:return Go(Ue.type._context),_r(Ue),null;case 17:return ya(Ue.type)&&Za(),_r(Ue),null;case 19:if(gs(cs),Sn=Ue.memoizedState,Sn===null)return _r(Ue),null;if(hn=(Ue.flags&128)!==0,Dn=Sn.rendering,Dn===null)if(hn)gr(Sn,!1);else{if(Ls!==0||Me!==null&&Me.flags&128)for(Me=Ue.child;Me!==null;){if(Dn=Dl(Me),Dn!==null){for(Ue.flags|=128,gr(Sn,!1),Me=Dn.updateQueue,Me!==null&&(Ue.updateQueue=Me,Ue.flags|=4),Ue.subtreeFlags=0,Me=$e,$e=Ue.child;$e!==null;)hn=$e,Sn=Me,hn.flags&=14680066,Dn=hn.alternate,Dn===null?(hn.childLanes=0,hn.lanes=Sn,hn.child=null,hn.subtreeFlags=0,hn.memoizedProps=null,hn.memoizedState=null,hn.updateQueue=null,hn.dependencies=null,hn.stateNode=null):(hn.childLanes=Dn.childLanes,hn.lanes=Dn.lanes,hn.child=Dn.child,hn.subtreeFlags=0,hn.deletions=null,hn.memoizedProps=Dn.memoizedProps,hn.memoizedState=Dn.memoizedState,hn.updateQueue=Dn.updateQueue,hn.type=Dn.type,Sn=Dn.dependencies,hn.dependencies=Sn===null?null:{lanes:Sn.lanes,firstContext:Sn.firstContext}),$e=$e.sibling;return Xi(cs,cs.current&1|2),Ue.child}Me=Me.sibling}Sn.tail!==null&&ta()>Dd&&(Ue.flags|=128,hn=!0,gr(Sn,!1),Ue.lanes=4194304)}else{if(!hn)if(Me=Dl(Dn),Me!==null){if(Ue.flags|=128,hn=!0,Me=Me.updateQueue,Me!==null&&(Ue.updateQueue=Me,Ue.flags|=4),gr(Sn,!0),Sn.tail===null&&Sn.tailMode==="hidden"&&!Dn.alternate&&!bs)return _r(Ue),null}else 2*ta()-Sn.renderingStartTime>Dd&&$e!==1073741824&&(Ue.flags|=128,hn=!0,gr(Sn,!1),Ue.lanes=4194304);Sn.isBackwards?(Dn.sibling=Ue.child,Ue.child=Dn):(Me=Sn.last,Me!==null?Me.sibling=Dn:Ue.child=Dn,Sn.last=Dn)}return Sn.tail!==null?(Ue=Sn.tail,Sn.rendering=Ue,Sn.tail=Ue.sibling,Sn.renderingStartTime=ta(),Ue.sibling=null,Me=cs.current,Xi(cs,hn?Me&1|2:Me&1),Ue):(_r(Ue),null);case 22:case 23:return Lu(),$e=Ue.memoizedState!==null,Me!==null&&Me.memoizedState!==null!==$e&&(Ue.flags|=8192),$e&&Ue.mode&1?ha&1073741824&&(_r(Ue),Zn&&Ue.subtreeFlags&6&&(Ue.flags|=8192)):_r(Ue),null;case 24:return null;case 25:return null}throw Error(Ce(156,Ue.tag))}function Ar(Me,Ue){switch(bu(Ue),Ue.tag){case 1:return ya(Ue.type)&&Za(),Me=Ue.flags,Me&65536?(Ue.flags=Me&-65537|128,Ue):null;case 3:return xa(),gs(Ya),gs(Ra),Kl(),Me=Ue.flags,Me&65536&&!(Me&128)?(Ue.flags=Me&-65537|128,Ue):null;case 5:return xc(Ue),null;case 13:if(gs(cs),Me=Ue.memoizedState,Me!==null&&Me.dehydrated!==null){if(Ue.alternate===null)throw Error(Ce(340));ur()}return Me=Ue.flags,Me&65536?(Ue.flags=Me&-65537|128,Ue):null;case 19:return gs(cs),null;case 4:return xa(),null;case 10:return Go(Ue.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var Wr=!1,Ir=!1,mr=typeof WeakSet=="function"?WeakSet:Set,hr=null;function Ur(Me,Ue){var $e=Me.ref;if($e!==null)if(typeof $e=="function")try{$e(null)}catch(hn){sa(Me,Ue,hn)}else $e.current=null}function Kr(Me,Ue,$e){try{$e()}catch(hn){sa(Me,Ue,hn)}}var Xr=!1;function fi(Me,Ue){for(Nn(Me.containerInfo),hr=Ue;hr!==null;)if(Me=hr,Ue=Me.child,(Me.subtreeFlags&1028)!==0&&Ue!==null)Ue.return=Me,hr=Ue;else for(;hr!==null;){Me=hr;try{var $e=Me.alternate;if(Me.flags&1024)switch(Me.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var hn=$e.memoizedProps,Sn=$e.memoizedState,Dn=Me.stateNode,or=Dn.getSnapshotBeforeUpdate(Me.elementType===Me.type?hn:gl(Me.type,hn),Sn);Dn.__reactInternalSnapshotBeforeUpdate=or}break;case 3:Zn&&Lr(Me.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(Cr){sa(Me,Me.return,Cr)}if(Ue=Me.sibling,Ue!==null){Ue.return=Me.return,hr=Ue;break}hr=Me.return}return $e=Xr,Xr=!1,$e}function ii(Me,Ue,$e){var hn=Ue.updateQueue;if(hn=hn!==null?hn.lastEffect:null,hn!==null){var Sn=hn=hn.next;do{if((Sn.tag&Me)===Me){var Dn=Sn.destroy;Sn.destroy=void 0,Dn!==void 0&&Kr(Ue,$e,Dn)}Sn=Sn.next}while(Sn!==hn)}}function Ci(Me,Ue){if(Ue=Ue.updateQueue,Ue=Ue!==null?Ue.lastEffect:null,Ue!==null){var $e=Ue=Ue.next;do{if(($e.tag&Me)===Me){var hn=$e.create;$e.destroy=hn()}$e=$e.next}while($e!==Ue)}}function oi(Me){var Ue=Me.ref;if(Ue!==null){var $e=Me.stateNode;switch(Me.tag){case 5:Me=bn($e);break;default:Me=$e}typeof Ue=="function"?Ue(Me):Ue.current=Me}}function $i(Me){var Ue=Me.alternate;Ue!==null&&(Me.alternate=null,$i(Ue)),Me.child=null,Me.deletions=null,Me.sibling=null,Me.tag===5&&(Ue=Me.stateNode,Ue!==null&&Vn(Ue)),Me.stateNode=null,Me.return=null,Me.dependencies=null,Me.memoizedProps=null,Me.memoizedState=null,Me.pendingProps=null,Me.stateNode=null,Me.updateQueue=null}function hs(Me){return Me.tag===5||Me.tag===3||Me.tag===4}function Wi(Me){e:for(;;){for(;Me.sibling===null;){if(Me.return===null||hs(Me.return))return null;Me=Me.return}for(Me.sibling.return=Me.return,Me=Me.sibling;Me.tag!==5&&Me.tag!==6&&Me.tag!==18;){if(Me.flags&2||Me.child===null||Me.tag===4)continue e;Me.child.return=Me,Me=Me.child}if(!(Me.flags&2))return Me.stateNode}}function Hi(Me,Ue,$e){var hn=Me.tag;if(hn===5||hn===6)Me=Me.stateNode,Ue?Tr($e,Me,Ue):Yr($e,Me);else if(hn!==4&&(Me=Me.child,Me!==null))for(Hi(Me,Ue,$e),Me=Me.sibling;Me!==null;)Hi(Me,Ue,$e),Me=Me.sibling}function _s(Me,Ue,$e){var hn=Me.tag;if(hn===5||hn===6)Me=Me.stateNode,Ue?sr($e,Me,Ue):Vr($e,Me);else if(hn!==4&&(Me=Me.child,Me!==null))for(_s(Me,Ue,$e),Me=Me.sibling;Me!==null;)_s(Me,Ue,$e),Me=Me.sibling}var Ni=null,Ei=!1;function vs(Me,Ue,$e){for($e=$e.child;$e!==null;)uo(Me,Ue,$e),$e=$e.sibling}function uo(Me,Ue,$e){if(ba&&typeof ba.onCommitFiberUnmount=="function")try{ba.onCommitFiberUnmount(kl,$e)}catch{}switch($e.tag){case 5:Ir||Ur($e,Ue);case 6:if(Zn){var hn=Ni,Sn=Ei;Ni=null,vs(Me,Ue,$e),Ni=hn,Ei=Sn,Ni!==null&&(Ei?Pr(Ni,$e.stateNode):dr(Ni,$e.stateNode))}else vs(Me,Ue,$e);break;case 18:Zn&&Ni!==null&&(Ei?Yu(Ni,$e.stateNode):Xu(Ni,$e.stateNode));break;case 4:Zn?(hn=Ni,Sn=Ei,Ni=$e.stateNode.containerInfo,Ei=!0,vs(Me,Ue,$e),Ni=hn,Ei=Sn):(Cn&&(hn=$e.stateNode.containerInfo,Sn=fr(hn),Qr(hn,Sn)),vs(Me,Ue,$e));break;case 0:case 11:case 14:case 15:if(!Ir&&(hn=$e.updateQueue,hn!==null&&(hn=hn.lastEffect,hn!==null))){Sn=hn=hn.next;do{var Dn=Sn,or=Dn.destroy;Dn=Dn.tag,or!==void 0&&(Dn&2||Dn&4)&&Kr($e,Ue,or),Sn=Sn.next}while(Sn!==hn)}vs(Me,Ue,$e);break;case 1:if(!Ir&&(Ur($e,Ue),hn=$e.stateNode,typeof hn.componentWillUnmount=="function"))try{hn.props=$e.memoizedProps,hn.state=$e.memoizedState,hn.componentWillUnmount()}catch(Cr){sa($e,Ue,Cr)}vs(Me,Ue,$e);break;case 21:vs(Me,Ue,$e);break;case 22:$e.mode&1?(Ir=(hn=Ir)||$e.memoizedState!==null,vs(Me,Ue,$e),Ir=hn):vs(Me,Ue,$e);break;default:vs(Me,Ue,$e)}}function Ms(Me){var Ue=Me.updateQueue;if(Ue!==null){Me.updateQueue=null;var $e=Me.stateNode;$e===null&&($e=Me.stateNode=new mr),Ue.forEach(function(hn){var Sn=d2.bind(null,Me,hn);$e.has(hn)||($e.add(hn),hn.then(Sn,Sn))})}}function Hs(Me,Ue){var $e=Ue.deletions;if($e!==null)for(var hn=0;hn<$e.length;hn++){var Sn=$e[hn];try{var Dn=Me,or=Ue;if(Zn){var Cr=or;e:for(;Cr!==null;){switch(Cr.tag){case 5:Ni=Cr.stateNode,Ei=!1;break e;case 3:Ni=Cr.stateNode.containerInfo,Ei=!0;break e;case 4:Ni=Cr.stateNode.containerInfo,Ei=!0;break e}Cr=Cr.return}if(Ni===null)throw Error(Ce(160));uo(Dn,or,Sn),Ni=null,Ei=!1}else uo(Dn,or,Sn);var zr=Sn.alternate;zr!==null&&(zr.return=null),Sn.return=null}catch(ni){sa(Sn,Ue,ni)}}if(Ue.subtreeFlags&12854)for(Ue=Ue.child;Ue!==null;)rs(Ue,Me),Ue=Ue.sibling}function rs(Me,Ue){var $e=Me.alternate,hn=Me.flags;switch(Me.tag){case 0:case 11:case 14:case 15:if(Hs(Ue,Me),Vs(Me),hn&4){try{ii(3,Me,Me.return),Ci(3,Me)}catch(pi){sa(Me,Me.return,pi)}try{ii(5,Me,Me.return)}catch(pi){sa(Me,Me.return,pi)}}break;case 1:Hs(Ue,Me),Vs(Me),hn&512&&$e!==null&&Ur($e,$e.return);break;case 5:if(Hs(Ue,Me),Vs(Me),hn&512&&$e!==null&&Ur($e,$e.return),Zn){if(Me.flags&32){var Sn=Me.stateNode;try{Hn(Sn)}catch(pi){sa(Me,Me.return,pi)}}if(hn&4&&(Sn=Me.stateNode,Sn!=null)){var Dn=Me.memoizedProps;if($e=$e!==null?$e.memoizedProps:Dn,hn=Me.type,Ue=Me.updateQueue,Me.updateQueue=null,Ue!==null)try{ar(Sn,Ue,hn,$e,Dn,Me)}catch(pi){sa(Me,Me.return,pi)}}}break;case 6:if(Hs(Ue,Me),Vs(Me),hn&4&&Zn){if(Me.stateNode===null)throw Error(Ce(162));Sn=Me.stateNode,Dn=Me.memoizedProps,$e=$e!==null?$e.memoizedProps:Dn;try{ei(Sn,$e,Dn)}catch(pi){sa(Me,Me.return,pi)}}break;case 3:if(Hs(Ue,Me),Vs(Me),hn&4){if(Zn&&Tn&&$e!==null&&$e.memoizedState.isDehydrated)try{hu(Ue.containerInfo)}catch(pi){sa(Me,Me.return,pi)}if(Cn){Sn=Ue.containerInfo,Dn=Ue.pendingChildren;try{Qr(Sn,Dn)}catch(pi){sa(Me,Me.return,pi)}}}break;case 4:if(Hs(Ue,Me),Vs(Me),hn&4&&Cn){Dn=Me.stateNode,Sn=Dn.containerInfo,Dn=Dn.pendingChildren;try{Qr(Sn,Dn)}catch(pi){sa(Me,Me.return,pi)}}break;case 13:Hs(Ue,Me),Vs(Me),Sn=Me.child,Sn.flags&8192&&(Dn=Sn.memoizedState!==null,Sn.stateNode.isHidden=Dn,!Dn||Sn.alternate!==null&&Sn.alternate.memoizedState!==null||(Zh=ta())),hn&4&&Ms(Me);break;case 22:var or=$e!==null&&$e.memoizedState!==null;if(Me.mode&1?(Ir=($e=Ir)||or,Hs(Ue,Me),Ir=$e):Hs(Ue,Me),Vs(Me),hn&8192){if($e=Me.memoizedState!==null,(Me.stateNode.isHidden=$e)&&!or&&Me.mode&1)for(hr=Me,hn=Me.child;hn!==null;){for(Ue=hr=hn;hr!==null;){or=hr;var Cr=or.child;switch(or.tag){case 0:case 11:case 14:case 15:ii(4,or,or.return);break;case 1:Ur(or,or.return);var zr=or.stateNode;if(typeof zr.componentWillUnmount=="function"){var ni=or,wi=or.return;try{var qi=ni;zr.props=qi.memoizedProps,zr.state=qi.memoizedState,zr.componentWillUnmount()}catch(pi){sa(ni,wi,pi)}}break;case 5:Ur(or,or.return);break;case 22:if(or.memoizedState!==null){Ga(Ue);continue}}Cr!==null?(Cr.return=or,hr=Cr):Ga(Ue)}hn=hn.sibling}if(Zn){e:if(hn=null,Zn)for(Ue=Me;;){if(Ue.tag===5){if(hn===null){hn=Ue;try{Sn=Ue.stateNode,$e?Br(Sn):An(Ue.stateNode,Ue.memoizedProps)}catch(pi){sa(Me,Me.return,pi)}}}else if(Ue.tag===6){if(hn===null)try{Dn=Ue.stateNode,$e?di(Dn):Er(Dn,Ue.memoizedProps)}catch(pi){sa(Me,Me.return,pi)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===Me)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===Me)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===Me)break e;hn===Ue&&(hn=null),Ue=Ue.return}hn===Ue&&(hn=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}}break;case 19:Hs(Ue,Me),Vs(Me),hn&4&&Ms(Me);break;case 21:break;default:Hs(Ue,Me),Vs(Me)}}function Vs(Me){var Ue=Me.flags;if(Ue&2){try{if(Zn){e:{for(var $e=Me.return;$e!==null;){if(hs($e)){var hn=$e;break e}$e=$e.return}throw Error(Ce(160))}switch(hn.tag){case 5:var Sn=hn.stateNode;hn.flags&32&&(Hn(Sn),hn.flags&=-33);var Dn=Wi(Me);_s(Me,Dn,Sn);break;case 3:case 4:var or=hn.stateNode.containerInfo,Cr=Wi(Me);Hi(Me,Cr,or);break;default:throw Error(Ce(161))}}}catch(zr){sa(Me,Me.return,zr)}Me.flags&=-3}Ue&4096&&(Me.flags&=-4097)}function za(Me,Ue,$e){hr=Me,ma(Me)}function ma(Me,Ue,$e){for(var hn=(Me.mode&1)!==0;hr!==null;){var Sn=hr,Dn=Sn.child;if(Sn.tag===22&&hn){var or=Sn.memoizedState!==null||Wr;if(!or){var Cr=Sn.alternate,zr=Cr!==null&&Cr.memoizedState!==null||Ir;Cr=Wr;var ni=Ir;if(Wr=or,(Ir=zr)&&!ni)for(hr=Sn;hr!==null;)or=hr,zr=or.child,or.tag===22&&or.memoizedState!==null?Lo(Sn):zr!==null?(zr.return=or,hr=zr):Lo(Sn);for(;Dn!==null;)hr=Dn,ma(Dn),Dn=Dn.sibling;hr=Sn,Wr=Cr,Ir=ni}Ca(Me)}else Sn.subtreeFlags&8772&&Dn!==null?(Dn.return=Sn,hr=Dn):Ca(Me)}}function Ca(Me){for(;hr!==null;){var Ue=hr;if(Ue.flags&8772){var $e=Ue.alternate;try{if(Ue.flags&8772)switch(Ue.tag){case 0:case 11:case 15:Ir||Ci(5,Ue);break;case 1:var hn=Ue.stateNode;if(Ue.flags&4&&!Ir)if($e===null)hn.componentDidMount();else{var Sn=Ue.elementType===Ue.type?$e.memoizedProps:gl(Ue.type,$e.memoizedProps);hn.componentDidUpdate(Sn,$e.memoizedState,hn.__reactInternalSnapshotBeforeUpdate)}var Dn=Ue.updateQueue;Dn!==null&&Ad(Ue,Dn,hn);break;case 3:var or=Ue.updateQueue;if(or!==null){if($e=null,Ue.child!==null)switch(Ue.child.tag){case 5:$e=bn(Ue.child.stateNode);break;case 1:$e=Ue.child.stateNode}Ad(Ue,or,$e)}break;case 5:var Cr=Ue.stateNode;$e===null&&Ue.flags&4&&Ln(Cr,Ue.type,Ue.memoizedProps,Ue);break;case 6:break;case 4:break;case 12:break;case 13:if(Tn&&Ue.memoizedState===null){var zr=Ue.alternate;if(zr!==null){var ni=zr.memoizedState;if(ni!==null){var wi=ni.dehydrated;wi!==null&&Ku(wi)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Ir||Ue.flags&512&&oi(Ue)}catch(qi){sa(Ue,Ue.return,qi)}}if(Ue===Me){hr=null;break}if($e=Ue.sibling,$e!==null){$e.return=Ue.return,hr=$e;break}hr=Ue.return}}function Ga(Me){for(;hr!==null;){var Ue=hr;if(Ue===Me){hr=null;break}var $e=Ue.sibling;if($e!==null){$e.return=Ue.return,hr=$e;break}hr=Ue.return}}function Lo(Me){for(;hr!==null;){var Ue=hr;try{switch(Ue.tag){case 0:case 11:case 15:var $e=Ue.return;try{Ci(4,Ue)}catch(zr){sa(Ue,$e,zr)}break;case 1:var hn=Ue.stateNode;if(typeof hn.componentDidMount=="function"){var Sn=Ue.return;try{hn.componentDidMount()}catch(zr){sa(Ue,Sn,zr)}}var Dn=Ue.return;try{oi(Ue)}catch(zr){sa(Ue,Dn,zr)}break;case 5:var or=Ue.return;try{oi(Ue)}catch(zr){sa(Ue,or,zr)}}}catch(zr){sa(Ue,Ue.return,zr)}if(Ue===Me){hr=null;break}var Cr=Ue.sibling;if(Cr!==null){Cr.return=Ue.return,hr=Cr;break}hr=Ue.return}}var Ha=0,ss=1,Va=2,Ol=3,Pc=4;if(typeof Symbol=="function"&&Symbol.for){var Pa=Symbol.for;Ha=Pa("selector.component"),ss=Pa("selector.has_pseudo_class"),Va=Pa("selector.role"),Ol=Pa("selector.test_id"),Pc=Pa("selector.text")}function ds(Me){var Ue=qn(Me);if(Ue!=null){if(typeof Ue.memoizedProps["data-testname"]!="string")throw Error(Ce(364));return Ue}if(Me=Kn(Me),Me===null)throw Error(Ce(362));return Me.stateNode.current}function hh(Me,Ue){switch(Ue.$$typeof){case Ha:if(Me.type===Ue.value)return!0;break;case ss:e:{Ue=Ue.value,Me=[Me,0];for(var $e=0;$e<Me.length;){var hn=Me[$e++],Sn=Me[$e++],Dn=Ue[Sn];if(hn.tag!==5||!yr(hn)){for(;Dn!=null&&hh(hn,Dn);)Sn++,Dn=Ue[Sn];if(Sn===Ue.length){Ue=!0;break e}else for(hn=hn.child;hn!==null;)Me.push(hn,Sn),hn=hn.sibling}}Ue=!1}return Ue;case Va:if(Me.tag===5&&xr(Me.stateNode,Ue.value))return!0;break;case Pc:if((Me.tag===5||Me.tag===6)&&(Me=ir(Me),Me!==null&&0<=Me.indexOf(Ue.value)))return!0;break;case Ol:if(Me.tag===5&&(Me=Me.memoizedProps["data-testname"],typeof Me=="string"&&Me.toLowerCase()===Ue.value.toLowerCase()))return!0;break;default:throw Error(Ce(365))}return!1}function Rd(Me){switch(Me.$$typeof){case Ha:return"<"+(Qe(Me.value)||"Unknown")+">";case ss:return":has("+(Rd(Me)||"")+")";case Va:return'[role="'+Me.value+'"]';case Pc:return'"'+Me.value+'"';case Ol:return'[data-testname="'+Me.value+'"]';default:throw Error(Ce(365))}}function ic(Me,Ue){var $e=[];Me=[Me,0];for(var hn=0;hn<Me.length;){var Sn=Me[hn++],Dn=Me[hn++],or=Ue[Dn];if(Sn.tag!==5||!yr(Sn)){for(;or!=null&&hh(Sn,or);)Dn++,or=Ue[Dn];if(Dn===Ue.length)$e.push(Sn);else for(Sn=Sn.child;Sn!==null;)Me.push(Sn,Dn),Sn=Sn.sibling}}return $e}function ml(Me,Ue){if(!cr)throw Error(Ce(363));Me=ds(Me),Me=ic(Me,Ue),Ue=[],Me=Array.from(Me);for(var $e=0;$e<Me.length;){var hn=Me[$e++];if(hn.tag===5)yr(hn)||Ue.push(hn.stateNode);else for(hn=hn.child;hn!==null;)Me.push(hn),hn=hn.sibling}return Ue}var Tu=Math.ceil,ku=Pe.ReactCurrentDispatcher,_o=Pe.ReactCurrentOwner,Ds=Pe.ReactCurrentBatchConfig,Oi=0,Fs=null,Ns=null,ua=0,ha=0,Ec=ka(0),Ls=0,Fc=null,Zc=0,Bs=0,Ru=0,Vo=null,Ao=null,Zh=0,Dd=1/0,Co=null;function fs(){Dd=ta()+500}var ia=!1,va=null,Wo=null,Tc=!1,Po=null,Nd=0,Ea=0,Du=null,dh=-1,Nu=0;function as(){return Oi&6?ta():dh!==-1?dh:dh=ta()}function Fa(Me){return Me.mode&1?Oi&2&&ua!==0?ua&-ua:kr.transition!==null?(Nu===0&&(Nu=zc()),Nu):(Me=ai,Me!==0?Me:wn()):1}function ho(Me,Ue,$e,hn){if(50<Ea)throw Ea=0,Du=null,Error(Ce(185));Rs(Me,$e,hn),(!(Oi&2)||Me!==Fs)&&(Me===Fs&&(!(Oi&2)&&(Bs|=$e),Ls===4&&Qc(Me,ua)),Eo(Me,hn),$e===1&&Oi===0&&!(Ue.mode&1)&&(fs(),Vl&&wa()))}function Eo(Me,Ue){var $e=Me.callbackNode;gc(Me,Ue);var hn=gu(Me,Me===Fs?ua:0);if(hn===0)$e!==null&&Hl($e),Me.callbackNode=null,Me.callbackPriority=0;else if(Ue=hn&-hn,Me.callbackPriority!==Ue){if($e!=null&&Hl($e),Ue===1)Me.tag===0?_d(Af.bind(null,Me)):Qu(Af.bind(null,Me)),Yn?tr(function(){!(Oi&6)&&wa()}):Tl(yu,wa),$e=null;else{switch(mu(hn)){case 1:$e=yu;break;case 4:$e=Oh;break;case 16:$e=Mh;break;case 536870912:$e=mp;break;default:$e=Mh}$e=s1($e,Ld.bind(null,Me))}Me.callbackPriority=Ue,Me.callbackNode=$e}}function Ld(Me,Ue){if(dh=-1,Nu=0,Oi&6)throw Error(Ce(327));var $e=Me.callbackNode;if(fh()&&Me.callbackNode!==$e)return null;var hn=gu(Me,Me===Fs?ua:0);if(hn===0)return null;if(hn&30||hn&Me.expiredLanes||Ue)Ue=Ko(Me,hn);else{Ue=hn;var Sn=Oi;Oi|=2;var Dn=sc();(Fs!==Me||ua!==Ue)&&(Co=null,fs(),kc(Me,Ue));do try{Od();break}catch(Cr){$c(Me,Cr)}while(!0);cl(),ku.current=Dn,Oi=Sn,Ns!==null?Ue=0:(Fs=null,ua=0,Ue=Ls)}if(Ue!==0){if(Ue===2&&(Sn=qc(Me),Sn!==0&&(hn=Sn,Ue=Jc(Me,Sn))),Ue===1)throw $e=Fc,kc(Me,0),Qc(Me,hn),Eo(Me,ta()),$e;if(Ue===6)Qc(Me,hn);else{if(Sn=Me.current.alternate,!(hn&30)&&!Sp(Sn)&&(Ue=Ko(Me,hn),Ue===2&&(Dn=qc(Me),Dn!==0&&(hn=Dn,Ue=Jc(Me,Dn))),Ue===1))throw $e=Fc,kc(Me,0),Qc(Me,hn),Eo(Me,ta()),$e;switch(Me.finishedWork=Sn,Me.finishedLanes=hn,Ue){case 0:case 1:throw Error(Ce(345));case 2:Rc(Me,Ao,Co);break;case 3:if(Qc(Me,hn),(hn&130023424)===hn&&(Ue=Zh+500-ta(),10<Ue)){if(gu(Me,0)!==0)break;if(Sn=Me.suspendedLanes,(Sn&hn)!==hn){as(),Me.pingedLanes|=Me.suspendedLanes&Sn;break}Me.timeoutHandle=vn(Rc.bind(null,Me,Ao,Co),Ue);break}Rc(Me,Ao,Co);break;case 4:if(Qc(Me,hn),(hn&4194240)===hn)break;for(Ue=Me.eventTimes,Sn=-1;0<hn;){var or=31-Do(hn);Dn=1<<or,or=Ue[or],or>Sn&&(Sn=or),hn&=~Dn}if(hn=Sn,hn=ta()-hn,hn=(120>hn?120:480>hn?480:1080>hn?1080:1920>hn?1920:3e3>hn?3e3:4320>hn?4320:1960*Tu(hn/1960))-hn,10<hn){Me.timeoutHandle=vn(Rc.bind(null,Me,Ao,Co),hn);break}Rc(Me,Ao,Co);break;case 5:Rc(Me,Ao,Co);break;default:throw Error(Ce(329))}}}return Eo(Me,ta()),Me.callbackNode===$e?Ld.bind(null,Me):null}function Jc(Me,Ue){var $e=Vo;return Me.current.memoizedState.isDehydrated&&(kc(Me,Ue).flags|=256),Me=Ko(Me,Ue),Me!==2&&(Ue=Ao,Ao=$e,Ue!==null&&_f(Ue)),Me}function _f(Me){Ao===null?Ao=Me:Ao.push.apply(Ao,Me)}function Sp(Me){for(var Ue=Me;;){if(Ue.flags&16384){var $e=Ue.updateQueue;if($e!==null&&($e=$e.stores,$e!==null))for(var hn=0;hn<$e.length;hn++){var Sn=$e[hn],Dn=Sn.getSnapshot;Sn=Sn.value;try{if(!Ja(Dn(),Sn))return!1}catch{return!1}}}if($e=Ue.child,Ue.subtreeFlags&16384&&$e!==null)$e.return=Ue,Ue=$e;else{if(Ue===Me)break;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===Me)return!0;Ue=Ue.return}Ue.sibling.return=Ue.return,Ue=Ue.sibling}}return!0}function Qc(Me,Ue){for(Ue&=~Ru,Ue&=~Bs,Me.suspendedLanes|=Ue,Me.pingedLanes&=~Ue,Me=Me.expirationTimes;0<Ue;){var $e=31-Do(Ue),hn=1<<$e;Me[$e]=-1,Ue&=~hn}}function Af(Me){if(Oi&6)throw Error(Ce(327));fh();var Ue=gu(Me,0);if(!(Ue&1))return Eo(Me,ta()),null;var $e=Ko(Me,Ue);if(Me.tag!==0&&$e===2){var hn=qc(Me);hn!==0&&(Ue=hn,$e=Jc(Me,hn))}if($e===1)throw $e=Fc,kc(Me,0),Qc(Me,Ue),Eo(Me,ta()),$e;if($e===6)throw Error(Ce(345));return Me.finishedWork=Me.current.alternate,Me.finishedLanes=Ue,Rc(Me,Ao,Co),Eo(Me,ta()),null}function xp(Me){Po!==null&&Po.tag===0&&!(Oi&6)&&fh();var Ue=Oi;Oi|=1;var $e=Ds.transition,hn=ai;try{if(Ds.transition=null,ai=1,Me)return Me()}finally{ai=hn,Ds.transition=$e,Oi=Ue,!(Oi&6)&&wa()}}function Lu(){ha=Ec.current,gs(Ec)}function kc(Me,Ue){Me.finishedWork=null,Me.finishedLanes=0;var $e=Me.timeoutHandle;if($e!==Bn&&(Me.timeoutHandle=Bn,kn($e)),Ns!==null)for($e=Ns.return;$e!==null;){var hn=$e;switch(bu(hn),hn.tag){case 1:hn=hn.type.childContextTypes,hn!=null&&Za();break;case 3:xa(),gs(Ya),gs(Ra),Kl();break;case 5:xc(hn);break;case 4:xa();break;case 13:gs(cs);break;case 19:gs(cs);break;case 10:Go(hn.type._context);break;case 22:case 23:Lu()}$e=$e.return}if(Fs=Me,Ns=Me=Jh(Me.current,null),ua=ha=Ue,Ls=0,Fc=null,Ru=Bs=Zc=0,Ao=Vo=null,ul!==null){for(Ue=0;Ue<ul.length;Ue++)if($e=ul[Ue],hn=$e.interleaved,hn!==null){$e.interleaved=null;var Sn=hn.next,Dn=$e.pending;if(Dn!==null){var or=Dn.next;Dn.next=Sn,hn.next=or}$e.pending=hn}ul=null}return Me}function $c(Me,Ue){do{var $e=Ns;try{if(cl(),ts.current=Xc,_c){for(var hn=Qi.memoizedState;hn!==null;){var Sn=hn.queue;Sn!==null&&(Sn.pending=null),hn=hn.next}_c=!1}if(la=0,ca=Gs=Qi=null,Yl=!1,Zl=0,_o.current=null,$e===null||$e.return===null){Ls=1,Fc=Ue,Ns=null;break}e:{var Dn=Me,or=$e.return,Cr=$e,zr=Ue;if(Ue=ua,Cr.flags|=32768,zr!==null&&typeof zr=="object"&&typeof zr.then=="function"){var ni=zr,wi=Cr,qi=wi.tag;if(!(wi.mode&1)&&(qi===0||qi===11||qi===15)){var pi=wi.alternate;pi?(wi.updateQueue=pi.updateQueue,wi.memoizedState=pi.memoizedState,wi.lanes=pi.lanes):(wi.updateQueue=null,wi.memoizedState=null)}var Js=U0(or);if(Js!==null){Js.flags&=-257,Yc(Js,or,Cr,Dn,Ue),Js.mode&1&&B0(Dn,ni,Ue),Ue=Js,zr=ni;var Is=Ue.updateQueue;if(Is===null){var yl=new Set;yl.add(zr),Ue.updateQueue=yl}else Is.add(zr);break e}else{if(!(Ue&1)){B0(Dn,ni,Ue),vl();break e}zr=Error(Ce(426))}}else if(bs&&Cr.mode&1){var Iu=U0(or);if(Iu!==null){!(Iu.flags&65536)&&(Iu.flags|=256),Yc(Iu,or,Cr,Dn,Ue),vr(ao(zr,Cr));break e}}Dn=zr=ao(zr,Cr),Ls!==4&&(Ls=2),Vo===null?Vo=[Dn]:Vo.push(Dn),Dn=or;do{switch(Dn.tag){case 3:Dn.flags|=65536,Ue&=-Ue,Dn.lanes|=Ue;var Mr=oo(Dn,zr,Ue);_u(Dn,Mr);break e;case 1:Cr=zr;var Fr=Dn.type,Hr=Dn.stateNode;if(!(Dn.flags&128)&&(typeof Fr.getDerivedStateFromError=="function"||Hr!==null&&typeof Hr.componentDidCatch=="function"&&(Wo===null||!Wo.has(Hr)))){Dn.flags|=65536,Ue&=-Ue,Dn.lanes|=Ue;var mi=No(Dn,Cr,Ue);_u(Dn,mi);break e}}Dn=Dn.return}while(Dn!==null)}_p($e)}catch(Ti){Ue=Ti,Ns===$e&&$e!==null&&(Ns=$e=$e.return);continue}break}while(!0)}function sc(){var Me=ku.current;return ku.current=Xc,Me===null?Xc:Me}function vl(){(Ls===0||Ls===3||Ls===2)&&(Ls=4),Fs===null||!(Zc&268435455)&&!(Bs&268435455)||Qc(Fs,ua)}function Ko(Me,Ue){var $e=Oi;Oi|=2;var hn=sc();(Fs!==Me||ua!==Ue)&&(Co=null,kc(Me,Ue));do try{Id();break}catch(Sn){$c(Me,Sn)}while(!0);if(cl(),Oi=$e,ku.current=hn,Ns!==null)throw Error(Ce(261));return Fs=null,ua=0,Ls}function Id(){for(;Ns!==null;)Cf(Ns)}function Od(){for(;Ns!==null&&!xd();)Cf(Ns)}function Cf(Me){var Ue=Xm(Me.alternate,Me,ha);Me.memoizedProps=Me.pendingProps,Ue===null?_p(Me):Ns=Ue,_o.current=null}function _p(Me){var Ue=Me;do{var $e=Ue.alternate;if(Me=Ue.return,Ue.flags&32768){if($e=Ar($e,Ue),$e!==null){$e.flags&=32767,Ns=$e;return}if(Me!==null)Me.flags|=32768,Me.subtreeFlags=0,Me.deletions=null;else{Ls=6,Ns=null;return}}else if($e=Rr($e,Ue,ha),$e!==null){Ns=$e;return}if(Ue=Ue.sibling,Ue!==null){Ns=Ue;return}Ns=Ue=Me}while(Ue!==null);Ls===0&&(Ls=5)}function Rc(Me,Ue,$e){var hn=ai,Sn=Ds.transition;try{Ds.transition=null,ai=1,Pf(Me,Ue,$e,hn)}finally{Ds.transition=Sn,ai=hn}return null}function Pf(Me,Ue,$e,hn){do fh();while(Po!==null);if(Oi&6)throw Error(Ce(327));$e=Me.finishedWork;var Sn=Me.finishedLanes;if($e===null)return null;if(Me.finishedWork=null,Me.finishedLanes=0,$e===Me.current)throw Error(Ce(177));Me.callbackNode=null,Me.callbackPriority=0;var Dn=$e.lanes|$e.childLanes;if(mc(Me,Dn),Me===Fs&&(Ns=Fs=null,ua=0),!($e.subtreeFlags&2064)&&!($e.flags&2064)||Tc||(Tc=!0,s1(Mh,function(){return fh(),null})),Dn=($e.flags&15990)!==0,$e.subtreeFlags&15990||Dn){Dn=Ds.transition,Ds.transition=null;var or=ai;ai=1;var Cr=Oi;Oi|=4,_o.current=null,fi(Me,$e),rs($e,Me),Un(Me.containerInfo),Me.current=$e,za($e),vu(),Oi=Cr,ai=or,Ds.transition=Dn}else Me.current=$e;if(Tc&&(Tc=!1,Po=Me,Nd=Sn),Dn=Me.pendingLanes,Dn===0&&(Wo=null),sl($e.stateNode),Eo(Me,ta()),Ue!==null)for(hn=Me.onRecoverableError,$e=0;$e<Ue.length;$e++)Sn=Ue[$e],hn(Sn.value,{componentStack:Sn.stack,digest:Sn.digest});if(ia)throw ia=!1,Me=va,va=null,Me;return Nd&1&&Me.tag!==0&&fh(),Dn=Me.pendingLanes,Dn&1?Me===Du?Ea++:(Ea=0,Du=Me):Ea=0,wa(),null}function fh(){if(Po!==null){var Me=mu(Nd),Ue=Ds.transition,$e=ai;try{if(Ds.transition=null,ai=16>Me?16:Me,Po===null)var hn=!1;else{if(Me=Po,Po=null,Nd=0,Oi&6)throw Error(Ce(331));var Sn=Oi;for(Oi|=4,hr=Me.current;hr!==null;){var Dn=hr,or=Dn.child;if(hr.flags&16){var Cr=Dn.deletions;if(Cr!==null){for(var zr=0;zr<Cr.length;zr++){var ni=Cr[zr];for(hr=ni;hr!==null;){var wi=hr;switch(wi.tag){case 0:case 11:case 15:ii(8,wi,Dn)}var qi=wi.child;if(qi!==null)qi.return=wi,hr=qi;else for(;hr!==null;){wi=hr;var pi=wi.sibling,Js=wi.return;if($i(wi),wi===ni){hr=null;break}if(pi!==null){pi.return=Js,hr=pi;break}hr=Js}}}var Is=Dn.alternate;if(Is!==null){var yl=Is.child;if(yl!==null){Is.child=null;do{var Iu=yl.sibling;yl.sibling=null,yl=Iu}while(yl!==null)}}hr=Dn}}if(Dn.subtreeFlags&2064&&or!==null)or.return=Dn,hr=or;else e:for(;hr!==null;){if(Dn=hr,Dn.flags&2048)switch(Dn.tag){case 0:case 11:case 15:ii(9,Dn,Dn.return)}var Mr=Dn.sibling;if(Mr!==null){Mr.return=Dn.return,hr=Mr;break e}hr=Dn.return}}var Fr=Me.current;for(hr=Fr;hr!==null;){or=hr;var Hr=or.child;if(or.subtreeFlags&2064&&Hr!==null)Hr.return=or,hr=Hr;else e:for(or=Fr;hr!==null;){if(Cr=hr,Cr.flags&2048)try{switch(Cr.tag){case 0:case 11:case 15:Ci(9,Cr)}}catch(Ti){sa(Cr,Cr.return,Ti)}if(Cr===or){hr=null;break e}var mi=Cr.sibling;if(mi!==null){mi.return=Cr.return,hr=mi;break e}hr=Cr.return}}if(Oi=Sn,wa(),ba&&typeof ba.onPostCommitFiberRoot=="function")try{ba.onPostCommitFiberRoot(kl,Me)}catch{}hn=!0}return hn}finally{ai=$e,Ds.transition=Ue}}return!1}function i1(Me,Ue,$e){Ue=ao($e,Ue),Ue=oo(Me,Ue,1),Me=hl(Me,Ue,1),Ue=as(),Me!==null&&(Rs(Me,1,Ue),Eo(Me,Ue))}function sa(Me,Ue,$e){if(Me.tag===3)i1(Me,Me,$e);else for(;Ue!==null;){if(Ue.tag===3){i1(Ue,Me,$e);break}else if(Ue.tag===1){var hn=Ue.stateNode;if(typeof Ue.type.getDerivedStateFromError=="function"||typeof hn.componentDidCatch=="function"&&(Wo===null||!Wo.has(hn))){Me=ao($e,Me),Me=No(Ue,Me,1),Ue=hl(Ue,Me,1),Me=as(),Ue!==null&&(Rs(Ue,1,Me),Eo(Ue,Me));break}}Ue=Ue.return}}function Vm(Me,Ue,$e){var hn=Me.pingCache;hn!==null&&hn.delete(Ue),Ue=as(),Me.pingedLanes|=Me.suspendedLanes&$e,Fs===Me&&(ua&$e)===$e&&(Ls===4||Ls===3&&(ua&130023424)===ua&&500>ta()-Zh?kc(Me,0):Ru|=$e),Eo(Me,Ue)}function Wm(Me,Ue){Ue===0&&(Me.mode&1?(Ue=jc,jc<<=1,!(jc&130023424)&&(jc=4194304)):Ue=1);var $e=as();Me=wo(Me,Ue),Me!==null&&(Rs(Me,Ue,$e),Eo(Me,$e))}function Km(Me){var Ue=Me.memoizedState,$e=0;Ue!==null&&($e=Ue.retryLane),Wm(Me,$e)}function d2(Me,Ue){var $e=0;switch(Me.tag){case 13:var hn=Me.stateNode,Sn=Me.memoizedState;Sn!==null&&($e=Sn.retryLane);break;case 19:hn=Me.stateNode;break;default:throw Error(Ce(314))}hn!==null&&hn.delete(Ue),Wm(Me,$e)}var Xm;Xm=function(Me,Ue,$e){if(Me!==null)if(Me.memoizedProps!==Ue.pendingProps||Ya.current)Aa=!0;else{if(!(Me.lanes&$e)&&!(Ue.flags&128))return Aa=!1,yn(Me,Ue,$e);Aa=!!(Me.flags&131072)}else Aa=!1,bs&&Ue.flags&1048576&&Uh(Ue,qo,Ue.index);switch(Ue.lanes=0,Ue.tag){case 2:var hn=Ue.type;Ye(Me,Ue),Me=Ue.pendingProps;var Sn=rl(Ue,Ra.current);wc(Ue,$e),Sn=Jl(null,Ue,hn,Me,Sn,$e);var Dn=Ql();return Ue.flags|=1,typeof Sn=="object"&&Sn!==null&&typeof Sn.render=="function"&&Sn.$$typeof===void 0?(Ue.tag=1,Ue.memoizedState=null,Ue.updateQueue=null,ya(hn)?(Dn=!0,pc(Ue)):Dn=!1,Ue.memoizedState=Sn.state!==null&&Sn.state!==void 0?Sn.state:null,xu(Ue),Sn.updater=Fd,Ue.stateNode=Sn,Sn._reactInternals=Ue,so(Ue,hn,Me,$e),Ue=co(null,Ue,hn,!0,Dn,$e)):(Ue.tag=0,bs&&Dn&&Vc(Ue),Oa(null,Ue,Sn,$e),Ue=Ue.child),Ue;case 16:hn=Ue.elementType;e:{switch(Ye(Me,Ue),Me=Ue.pendingProps,Sn=hn._init,hn=Sn(hn._payload),Ue.type=hn,Sn=Ue.tag=f2(hn),Me=gl(hn,Me),Sn){case 0:Ue=rc(null,Ue,hn,Me,$e);break e;case 1:Ue=lo(null,Ue,hn,Me,$e);break e;case 11:Ue=Sf(null,Ue,hn,Me,$e);break e;case 14:Ue=Ac(null,Ue,hn,gl(hn.type,Me),$e);break e}throw Error(Ce(306,hn,""))}return Ue;case 0:return hn=Ue.type,Sn=Ue.pendingProps,Sn=Ue.elementType===hn?Sn:gl(hn,Sn),rc(Me,Ue,hn,Sn,$e);case 1:return hn=Ue.type,Sn=Ue.pendingProps,Sn=Ue.elementType===hn?Sn:gl(hn,Sn),lo(Me,Ue,hn,Sn,$e);case 3:e:{if(Eu(Ue),Me===null)throw Error(Ce(387));hn=Ue.pendingProps,Dn=Ue.memoizedState,Sn=Dn.element,rh(Me,Ue),Rl(Ue,hn,null,$e);var or=Ue.memoizedState;if(hn=or.element,Tn&&Dn.isDehydrated)if(Dn={element:hn,isDehydrated:!1,cache:or.cache,pendingSuspenseBoundaries:or.pendingSuspenseBoundaries,transitions:or.transitions},Ue.updateQueue.baseState=Dn,Ue.memoizedState=Dn,Ue.flags&256){Sn=ao(Error(Ce(423)),Ue),Ue=uh(Me,Ue,hn,$e,Sn);break e}else if(hn!==Sn){Sn=ao(Error(Ce(424)),Ue),Ue=uh(Me,Ue,hn,$e,Sn);break e}else for(Tn&&(Da=Xs(Ue.stateNode.containerInfo),oa=Ue,bs=!0,ll=null,wu=!1),$e=Ys(Ue,null,hn,$e),Ue.child=$e;$e;)$e.flags=$e.flags&-3|4096,$e=$e.sibling;else{if(ur(),hn===Sn){Ue=tn(Me,Ue,$e);break e}Oa(Me,Ue,hn,$e)}Ue=Ue.child}return Ue;case 5:return ro(Ue),Me===null&&yc(Ue),hn=Ue.type,Sn=Ue.pendingProps,Dn=Me!==null?Me.memoizedProps:null,or=Sn.children,Pn(hn,Sn)?or=null:Dn!==null&&Pn(hn,Dn)&&(Ue.flags|=32),xs(Me,Ue),Oa(Me,Ue,or,$e),Ue.child;case 6:return Me===null&&yc(Ue),null;case 13:return wp(Me,Ue,$e);case 4:return Sc(Ue,Ue.stateNode.containerInfo),hn=Ue.pendingProps,Me===null?Ue.child=Gi(Ue,null,hn,$e):Oa(Me,Ue,hn,$e),Ue.child;case 11:return hn=Ue.type,Sn=Ue.pendingProps,Sn=Ue.elementType===hn?Sn:gl(hn,Sn),Sf(Me,Ue,hn,Sn,$e);case 7:return Oa(Me,Ue,Ue.pendingProps,$e),Ue.child;case 8:return Oa(Me,Ue,Ue.pendingProps.children,$e),Ue.child;case 12:return Oa(Me,Ue,Ue.pendingProps.children,$e),Ue.child;case 10:e:{if(hn=Ue.type._context,Sn=Ue.pendingProps,Dn=Ue.memoizedProps,or=Sn.value,zo(Ue,hn,or),Dn!==null)if(Ja(Dn.value,or)){if(Dn.children===Sn.children&&!Ya.current){Ue=tn(Me,Ue,$e);break e}}else for(Dn=Ue.child,Dn!==null&&(Dn.return=Ue);Dn!==null;){var Cr=Dn.dependencies;if(Cr!==null){or=Dn.child;for(var zr=Cr.firstContext;zr!==null;){if(zr.context===hn){if(Dn.tag===1){zr=Ho(-1,$e&-$e),zr.tag=2;var ni=Dn.updateQueue;if(ni!==null){ni=ni.shared;var wi=ni.pending;wi===null?zr.next=zr:(zr.next=wi.next,wi.next=zr),ni.pending=zr}}Dn.lanes|=$e,zr=Dn.alternate,zr!==null&&(zr.lanes|=$e),bc(Dn.return,$e,Ue),Cr.lanes|=$e;break}zr=zr.next}}else if(Dn.tag===10)or=Dn.type===Ue.type?null:Dn.child;else if(Dn.tag===18){if(or=Dn.return,or===null)throw Error(Ce(341));or.lanes|=$e,Cr=or.alternate,Cr!==null&&(Cr.lanes|=$e),bc(or,$e,Ue),or=Dn.sibling}else or=Dn.child;if(or!==null)or.return=Dn;else for(or=Dn;or!==null;){if(or===Ue){or=null;break}if(Dn=or.sibling,Dn!==null){Dn.return=or.return,or=Dn;break}or=or.return}Dn=or}Oa(Me,Ue,Sn.children,$e),Ue=Ue.child}return Ue;case 9:return Sn=Ue.type,hn=Ue.pendingProps.children,wc(Ue,$e),Sn=to(Sn),hn=hn(Sn),Ue.flags|=1,Oa(Me,Ue,hn,$e),Ue.child;case 14:return hn=Ue.type,Sn=gl(hn,Ue.pendingProps),Sn=gl(hn.type,Sn),Ac(Me,Ue,hn,Sn,$e);case 15:return Il(Me,Ue,Ue.type,Ue.pendingProps,$e);case 17:return hn=Ue.type,Sn=Ue.pendingProps,Sn=Ue.elementType===hn?Sn:gl(hn,Sn),Ye(Me,Ue),Ue.tag=1,ya(hn)?(Me=!0,pc(Ue)):Me=!1,wc(Ue,$e),M0(Ue,hn,Sn),so(Ue,hn,Sn,$e),co(null,Ue,hn,!0,Me,$e);case 19:return kd(Me,Ue,$e);case 22:return ms(Me,Ue,$e)}throw Error(Ce(156,Ue.tag))};function s1(Me,Ue){return Tl(Me,Ue)}function Ym(Me,Ue,$e,hn){this.tag=Me,this.key=$e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Ue,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=hn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ac(Me,Ue,$e,hn){return new Ym(Me,Ue,$e,hn)}function Ef(Me){return Me=Me.prototype,!(!Me||!Me.isReactComponent)}function f2(Me){if(typeof Me=="function")return Ef(Me)?1:0;if(Me!=null){if(Me=Me.$$typeof,Me===je)return 11;if(Me===Ve)return 14}return 2}function Jh(Me,Ue){var $e=Me.alternate;return $e===null?($e=ac(Me.tag,Ue,Me.key,Me.mode),$e.elementType=Me.elementType,$e.type=Me.type,$e.stateNode=Me.stateNode,$e.alternate=Me,Me.alternate=$e):($e.pendingProps=Ue,$e.type=Me.type,$e.flags=0,$e.subtreeFlags=0,$e.deletions=null),$e.flags=Me.flags&14680064,$e.childLanes=Me.childLanes,$e.lanes=Me.lanes,$e.child=Me.child,$e.memoizedProps=Me.memoizedProps,$e.memoizedState=Me.memoizedState,$e.updateQueue=Me.updateQueue,Ue=Me.dependencies,$e.dependencies=Ue===null?null:{lanes:Ue.lanes,firstContext:Ue.firstContext},$e.sibling=Me.sibling,$e.index=Me.index,$e.ref=Me.ref,$e}function j0(Me,Ue,$e,hn,Sn,Dn){var or=2;if(hn=Me,typeof Me=="function")Ef(Me)&&(or=1);else if(typeof Me=="string")or=5;else e:switch(Me){case ke:return Io($e.children,Sn,Dn,Ue);case Ie:or=8,Sn|=8;break;case Oe:return Me=ac(12,$e,Ue,Sn|2),Me.elementType=Oe,Me.lanes=Dn,Me;case He:return Me=ac(13,$e,Ue,Sn),Me.elementType=He,Me.lanes=Dn,Me;case Ge:return Me=ac(19,$e,Ue,Sn),Me.elementType=Ge,Me.lanes=Dn,Me;case Xe:return Ff($e,Sn,Dn,Ue);default:if(typeof Me=="object"&&Me!==null)switch(Me.$$typeof){case Re:or=10;break e;case Be:or=9;break e;case je:or=11;break e;case Ve:or=14;break e;case ze:or=16,hn=null;break e}throw Error(Ce(130,Me==null?Me:typeof Me,""))}return Ue=ac(or,$e,Ue,Sn),Ue.elementType=Me,Ue.type=hn,Ue.lanes=Dn,Ue}function Io(Me,Ue,$e,hn){return Me=ac(7,Me,hn,Ue),Me.lanes=$e,Me}function Ff(Me,Ue,$e,hn){return Me=ac(22,Me,hn,Ue),Me.elementType=Xe,Me.lanes=$e,Me.stateNode={isHidden:!1},Me}function Tf(Me,Ue,$e){return Me=ac(6,Me,null,Ue),Me.lanes=$e,Me}function q0(Me,Ue,$e){return Ue=ac(4,Me.children!==null?Me.children:[],Me.key,Ue),Ue.lanes=$e,Ue.stateNode={containerInfo:Me.containerInfo,pendingChildren:null,implementation:Me.implementation},Ue}function Zm(Me,Ue,$e,hn,Sn){this.tag=Ue,this.containerInfo=Me,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Bn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=hn,this.onRecoverableError=Sn,Tn&&(this.mutableSourceEagerHydrationData=null)}function a1(Me,Ue,$e,hn,Sn,Dn,or,Cr,zr){return Me=new Zm(Me,Ue,$e,Cr,zr),Ue===1?(Ue=1,Dn===!0&&(Ue|=8)):Ue=0,Dn=ac(3,null,null,Ue),Me.current=Dn,Dn.stateNode=Me,Dn.memoizedState={element:hn,isDehydrated:$e,cache:null,transitions:null,pendingSuspenseBoundaries:null},xu(Dn),Me}function z0(Me){if(!Me)return Cs;Me=Me._reactInternals;e:{if(on(Me)!==Me||Me.tag!==1)throw Error(Ce(170));var Ue=Me;do{switch(Ue.tag){case 3:Ue=Ue.stateNode.context;break e;case 1:if(ya(Ue.type)){Ue=Ue.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Ue=Ue.return}while(Ue!==null);throw Error(Ce(171))}if(Me.tag===1){var $e=Me.type;if(ya($e))return Ro(Me,$e,Ue)}return Ue}function Md(Me){var Ue=Me._reactInternals;if(Ue===void 0)throw typeof Me.render=="function"?Error(Ce(188)):(Me=Object.keys(Me).join(","),Error(Ce(268,Me)));return Me=fn(Ue),Me===null?null:Me.stateNode}function G0(Me,Ue){if(Me=Me.memoizedState,Me!==null&&Me.dehydrated!==null){var $e=Me.retryLane;Me.retryLane=$e!==0&&$e<Ue?$e:Ue}}function kf(Me,Ue){G0(Me,Ue),(Me=Me.alternate)&&G0(Me,Ue)}function p2(Me){return Me=fn(Me),Me===null?null:Me.stateNode}function Jm(){return null}return t.attemptContinuousHydration=function(Me){if(Me.tag===13){var Ue=wo(Me,134217728);if(Ue!==null){var $e=as();ho(Ue,Me,134217728,$e)}kf(Me,134217728)}},t.attemptDiscreteHydration=function(Me){if(Me.tag===13){var Ue=wo(Me,1);if(Ue!==null){var $e=as();ho(Ue,Me,1,$e)}kf(Me,1)}},t.attemptHydrationAtCurrentPriority=function(Me){if(Me.tag===13){var Ue=Fa(Me),$e=wo(Me,Ue);if($e!==null){var hn=as();ho($e,Me,Ue,hn)}kf(Me,Ue)}},t.attemptSynchronousHydration=function(Me){switch(Me.tag){case 3:var Ue=Me.stateNode;if(Ue.current.memoizedState.isDehydrated){var $e=pu(Ue.pendingLanes);$e!==0&&(il(Ue,$e|1),Eo(Ue,ta()),!(Oi&6)&&(fs(),wa()))}break;case 13:xp(function(){var hn=wo(Me,1);if(hn!==null){var Sn=as();ho(hn,Me,1,Sn)}}),kf(Me,1)}},t.batchedUpdates=function(Me,Ue){var $e=Oi;Oi|=1;try{return Me(Ue)}finally{Oi=$e,Oi===0&&(fs(),Vl&&wa())}},t.createComponentSelector=function(Me){return{$$typeof:Ha,value:Me}},t.createContainer=function(Me,Ue,$e,hn,Sn,Dn,or){return a1(Me,Ue,!1,null,$e,hn,Sn,Dn,or)},t.createHasPseudoClassSelector=function(Me){return{$$typeof:ss,value:Me}},t.createHydrationContainer=function(Me,Ue,$e,hn,Sn,Dn,or,Cr,zr){return Me=a1($e,hn,!0,Me,Sn,Dn,or,Cr,zr),Me.context=z0(null),$e=Me.current,hn=as(),Sn=Fa($e),Dn=Ho(hn,Sn),Dn.callback=Ue??null,hl($e,Dn,Sn),Me.current.lanes=Sn,Rs(Me,Sn,hn),Eo(Me,hn),Me},t.createPortal=function(Me,Ue,$e){var hn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fe,key:hn==null?null:""+hn,children:Me,containerInfo:Ue,implementation:$e}},t.createRoleSelector=function(Me){return{$$typeof:Va,value:Me}},t.createTestNameSelector=function(Me){return{$$typeof:Ol,value:Me}},t.createTextSelector=function(Me){return{$$typeof:Pc,value:Me}},t.deferredUpdates=function(Me){var Ue=ai,$e=Ds.transition;try{return Ds.transition=null,ai=16,Me()}finally{ai=Ue,Ds.transition=$e}},t.discreteUpdates=function(Me,Ue,$e,hn,Sn){var Dn=ai,or=Ds.transition;try{return Ds.transition=null,ai=1,Me(Ue,$e,hn,Sn)}finally{ai=Dn,Ds.transition=or,Oi===0&&fs()}},t.findAllNodes=ml,t.findBoundingRects=function(Me,Ue){if(!cr)throw Error(Ce(363));Ue=ml(Me,Ue),Me=[];for(var $e=0;$e<Ue.length;$e++)Me.push(rr(Ue[$e]));for(Ue=Me.length-1;0<Ue;Ue--){$e=Me[Ue];for(var hn=$e.x,Sn=hn+$e.width,Dn=$e.y,or=Dn+$e.height,Cr=Ue-1;0<=Cr;Cr--)if(Ue!==Cr){var zr=Me[Cr],ni=zr.x,wi=ni+zr.width,qi=zr.y,pi=qi+zr.height;if(hn>=ni&&Dn>=qi&&Sn<=wi&&or<=pi){Me.splice(Ue,1);break}else if(hn!==ni||$e.width!==zr.width||pi<Dn||qi>or){if(!(Dn!==qi||$e.height!==zr.height||wi<hn||ni>Sn)){ni>hn&&(zr.width+=ni-hn,zr.x=hn),wi<Sn&&(zr.width=Sn-ni),Me.splice(Ue,1);break}}else{qi>Dn&&(zr.height+=qi-Dn,zr.y=Dn),pi<or&&(zr.height=or-qi),Me.splice(Ue,1);break}}}return Me},t.findHostInstance=Md,t.findHostInstanceWithNoPortals=function(Me){return Me=rn(Me),Me=Me!==null?cn(Me):null,Me===null?null:Me.stateNode},t.findHostInstanceWithWarning=function(Me){return Md(Me)},t.flushControlled=function(Me){var Ue=Oi;Oi|=1;var $e=Ds.transition,hn=ai;try{Ds.transition=null,ai=1,Me()}finally{ai=hn,Ds.transition=$e,Oi=Ue,Oi===0&&(fs(),wa())}},t.flushPassiveEffects=fh,t.flushSync=xp,t.focusWithin=function(Me,Ue){if(!cr)throw Error(Ce(363));for(Me=ds(Me),Ue=ic(Me,Ue),Ue=Array.from(Ue),Me=0;Me<Ue.length;){var $e=Ue[Me++];if(!yr($e)){if($e.tag===5&&Nr($e.stateNode))return!0;for($e=$e.child;$e!==null;)Ue.push($e),$e=$e.sibling}}return!1},t.getCurrentUpdatePriority=function(){return ai},t.getFindAllNodesFailureDescription=function(Me,Ue){if(!cr)throw Error(Ce(363));var $e=0,hn=[];Me=[ds(Me),0];for(var Sn=0;Sn<Me.length;){var Dn=Me[Sn++],or=Me[Sn++],Cr=Ue[or];if((Dn.tag!==5||!yr(Dn))&&(hh(Dn,Cr)&&(hn.push(Rd(Cr)),or++,or>$e&&($e=or)),or<Ue.length))for(Dn=Dn.child;Dn!==null;)Me.push(Dn,or),Dn=Dn.sibling}if($e<Ue.length){for(Me=[];$e<Ue.length;$e++)Me.push(Rd(Ue[$e]));return`findAllNodes was able to match part of the selector:
  `+(hn.join(" > ")+`

No matching component was found for:
  `)+Me.join(" > ")}return null},t.getPublicRootInstance=function(Me){if(Me=Me.current,!Me.child)return null;switch(Me.child.tag){case 5:return bn(Me.child.stateNode);default:return Me.child.stateNode}},t.injectIntoDevTools=function(Me){if(Me={bundleType:Me.bundleType,version:Me.version,rendererPackageName:Me.rendererPackageName,rendererConfig:Me.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pe.ReactCurrentDispatcher,findHostInstanceByFiber:p2,findFiberByHostInstance:Me.findFiberByHostInstance||Jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Me=!1;else{var Ue=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Ue.isDisabled||!Ue.supportsFiber)Me=!0;else{try{kl=Ue.inject(Me),ba=Ue}catch{}Me=!!Ue.checkDCE}}return Me},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(Me,Ue,$e,hn){if(!cr)throw Error(Ce(363));Me=ml(Me,Ue);var Sn=jr(Me,$e,hn).disconnect;return{disconnect:function(){Sn()}}},t.registerMutableSourceForHydration=function(Me,Ue){var $e=Ue._getVersion;$e=$e(Ue._source),Me.mutableSourceEagerHydrationData==null?Me.mutableSourceEagerHydrationData=[Ue,$e]:Me.mutableSourceEagerHydrationData.push(Ue,$e)},t.runWithPriority=function(Me,Ue){var $e=ai;try{return ai=Me,Ue()}finally{ai=$e}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(Me,Ue,$e,hn){var Sn=Ue.current,Dn=as(),or=Fa(Sn);return $e=z0($e),Ue.context===null?Ue.context=$e:Ue.pendingContext=$e,Ue=Ho(Dn,or),Ue.payload={element:Me},hn=hn===void 0?null:hn,hn!==null&&(Ue.callback=hn),Me=hl(Sn,Ue,or),Me!==null&&(ho(Me,Sn,or,Dn),ja(Me,Sn,or)),or},t}),reactReconciler_production_min}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production_min()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const ReactFiberReconciler=getDefaultExportFromCjs(reactReconcilerExports);var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production_min;function requireReactReconcilerConstants_production_min(){return hasRequiredReactReconcilerConstants_production_min||(hasRequiredReactReconcilerConstants_production_min=1,reactReconcilerConstants_production_min.ConcurrentRoot=1,reactReconcilerConstants_production_min.ContinuousEventPriority=4,reactReconcilerConstants_production_min.DefaultEventPriority=16,reactReconcilerConstants_production_min.DiscreteEventPriority=1,reactReconcilerConstants_production_min.IdleEventPriority=536870912,reactReconcilerConstants_production_min.LegacyRoot=0),reactReconcilerConstants_production_min}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants.exports=requireReactReconcilerConstants_production_min()),constants.exports}var constantsExports=requireConstants(),GlobalExports=requireGlobal();const propsToSkip={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let zIndexWarningShowed=!1,dragWarningShowed=!1;const EVENTS_NAMESPACE=".react-konva-event",DRAGGABLE_WARNING=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Z_INDEX_WARNING=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,EMPTY_PROPS={};function applyNodeProps(xe,e,t=EMPTY_PROPS){if(!zIndexWarningShowed&&"zIndex"in e&&(console.warn(Z_INDEX_WARNING),zIndexWarningShowed=!0),!dragWarningShowed&&e.draggable){var Se=e.x!==void 0||e.y!==void 0,_e=e.onDragEnd||e.onDragMove;Se&&!_e&&(console.warn(DRAGGABLE_WARNING),dragWarningShowed=!0)}for(var Ae in t)if(!propsToSkip[Ae]){var Ce=Ae.slice(0,2)==="on",Pe=t[Ae]!==e[Ae];if(Ce&&Pe){var Ee=Ae.substr(2).toLowerCase();Ee.substr(0,7)==="content"&&(Ee="content"+Ee.substr(7,1).toUpperCase()+Ee.substr(8)),xe.off(Ee,t[Ae])}var Fe=!e.hasOwnProperty(Ae);Fe&&xe.setAttr(Ae,void 0)}var ke=e._useStrictMode,Ie={},Oe=!1;const Re={};for(var Ae in e)if(!propsToSkip[Ae]){var Ce=Ae.slice(0,2)==="on",Be=t[Ae]!==e[Ae];if(Ce&&Be){var Ee=Ae.substr(2).toLowerCase();Ee.substr(0,7)==="content"&&(Ee="content"+Ee.substr(7,1).toUpperCase()+Ee.substr(8)),e[Ae]&&(Re[Ee]=e[Ae])}!Ce&&(e[Ae]!==t[Ae]||ke&&e[Ae]!==xe.getAttr(Ae))&&(Oe=!0,Ie[Ae]=e[Ae])}Oe&&(xe.setAttrs(Ie),updatePicture(xe));for(var Ee in Re)xe.on(Ee+EVENTS_NAMESPACE,Re[Ee])}function updatePicture(xe){if(!GlobalExports.Konva.autoDrawEnabled){var e=xe.getLayer()||xe.getStage();e&&e.batchDraw()}}var schedulerExports=requireScheduler();const NO_CONTEXT={},UPDATE_SIGNAL={};Konva.Node.prototype._applyProps=applyNodeProps;function appendInitialChild(xe,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}xe.add(e),updatePicture(xe)}function createInstance(xe,e,t){let Se=Konva[xe];Se||(console.error(`Konva has no node with the type ${xe}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${xe}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),Se=Konva.Group);const _e={},Ae={};for(var Ce in e){var Pe=Ce.slice(0,2)==="on";Pe?Ae[Ce]=e[Ce]:_e[Ce]=e[Ce]}const Ee=new Se(_e);return applyNodeProps(Ee,Ae),Ee}function createTextInstance(xe,e,t){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${xe}"`)}function finalizeInitialChildren(xe,e,t){return!1}function getPublicInstance(xe){return xe}function prepareForCommit(){return null}function preparePortalMount(){return null}function prepareUpdate(xe,e,t,Se){return UPDATE_SIGNAL}function resetAfterCommit(){}function resetTextContent(xe){}function shouldDeprioritizeSubtree(xe,e){return!1}function getRootHostContext(){return NO_CONTEXT}function getChildHostContext(){return NO_CONTEXT}const scheduleTimeout=setTimeout,cancelTimeout=clearTimeout,noTimeout=-1;function shouldSetTextContent(xe,e){return!1}const isPrimaryRenderer=!1,warnsIfNotActing=!0,supportsMutation=!0;function appendChild(xe,e){e.parent===xe?e.moveToTop():xe.add(e),updatePicture(xe)}function appendChildToContainer(xe,e){e.parent===xe?e.moveToTop():xe.add(e),updatePicture(xe)}function insertBefore(xe,e,t){e._remove(),xe.add(e),e.setZIndex(t.getZIndex()),updatePicture(xe)}function insertInContainerBefore(xe,e,t){insertBefore(xe,e,t)}function removeChild(xe,e){e.destroy(),e.off(EVENTS_NAMESPACE),updatePicture(xe)}function removeChildFromContainer(xe,e){e.destroy(),e.off(EVENTS_NAMESPACE),updatePicture(xe)}function commitTextUpdate(xe,e,t){console.error(`Text components are not yet supported in ReactKonva. You text is: "${t}"`)}function commitMount(xe,e,t){}function commitUpdate(xe,e,t,Se,_e){applyNodeProps(xe,_e,Se)}function hideInstance(xe){xe.hide(),updatePicture(xe)}function hideTextInstance(xe){}function unhideInstance(xe,e){(e.visible==null||e.visible)&&xe.show()}function unhideTextInstance(xe,e){}function clearContainer(xe){}function detachDeletedInstance(){}const getCurrentEventPriority=()=>constantsExports.DefaultEventPriority,HostConfig=Object.freeze(Object.defineProperty({__proto__:null,appendChild,appendChildToContainer,appendInitialChild,cancelTimeout,clearContainer,commitMount,commitTextUpdate,commitUpdate,createInstance,createTextInstance,detachDeletedInstance,finalizeInitialChildren,getChildHostContext,getCurrentEventPriority,getPublicInstance,getRootHostContext,hideInstance,hideTextInstance,idlePriority:schedulerExports.unstable_IdlePriority,insertBefore,insertInContainerBefore,isPrimaryRenderer,noTimeout,now:schedulerExports.unstable_now,prepareForCommit,preparePortalMount,prepareUpdate,removeChild,removeChildFromContainer,resetAfterCommit,resetTextContent,run:schedulerExports.unstable_runWithPriority,scheduleTimeout,shouldDeprioritizeSubtree,shouldSetTextContent,supportsMutation,unhideInstance,unhideTextInstance,warnsIfNotActing},Symbol.toStringTag,{value:"Module"}));var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(xe,e,t)=>e in xe?__defProp(xe,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):xe[e]=t,__spreadValues=(xe,e)=>{for(var t in e||(e={}))__hasOwnProp.call(e,t)&&__defNormalProp(xe,t,e[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(e))__propIsEnum.call(e,t)&&__defNormalProp(xe,t,e[t]);return xe},__spreadProps=(xe,e)=>__defProps(xe,__getOwnPropDescs(e)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(xe,e,t){if(!xe)return;if(t(xe)===!0)return xe;let Se=xe.child;for(;Se;){const _e=traverseFiber(Se,e,t);if(_e)return _e;Se=Se.sibling}}function wrapContext(xe){try{return Object.defineProperties(xe,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return xe}}const error=console.error;console.error=function(){const xe=[...arguments].join("");if(xe!=null&&xe.startsWith("Warning:")&&xe.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const xe=reactExports.useContext(FiberContext);if(xe===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=reactExports.useId();return reactExports.useMemo(()=>{for(const Se of[xe,xe==null?void 0:xe.alternate]){if(!Se)continue;const _e=traverseFiber(Se,!1,Ae=>{let Ce=Ae.memoizedState;for(;Ce;){if(Ce.memoizedState===e)return!0;Ce=Ce.next}});if(_e)return _e}},[xe,e])}function useContextMap(){const xe=useFiber(),[e]=reactExports.useState(()=>new Map);e.clear();let t=xe;for(;t;){if(t.type&&typeof t.type=="object"){const _e=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;_e&&_e!==FiberContext&&!e.has(_e)&&e.set(_e,reactExports.useContext(wrapContext(_e)))}t=t.return}return e}function useContextBridge(){const xe=useContextMap();return reactExports.useMemo(()=>Array.from(xe.keys()).reduce((e,t)=>Se=>reactExports.createElement(e,null,reactExports.createElement(t.Provider,__spreadProps(__spreadValues({},Se),{value:xe.get(t)}))),e=>reactExports.createElement(FiberProvider,__spreadValues({},e))),[xe])}function usePrevious(xe){const e=React.useRef({});return React.useLayoutEffect(()=>{e.current=xe}),React.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const StageWrap=xe=>{const e=React.useRef(),t=React.useRef(),Se=React.useRef(),_e=usePrevious(xe),Ae=useContextBridge(),Ce=Pe=>{const{forwardedRef:Ee}=xe;Ee&&(typeof Ee=="function"?Ee(Pe):Ee.current=Pe)};return React.useLayoutEffect(()=>(t.current=new Konva.Stage({width:xe.width,height:xe.height,container:e.current}),Ce(t.current),Se.current=KonvaRenderer.createContainer(t.current,constantsExports.LegacyRoot,!1,null),KonvaRenderer.updateContainer(React.createElement(Ae,{},xe.children),Se.current),()=>{Konva.isBrowser&&(Ce(null),KonvaRenderer.updateContainer(null,Se.current,null),t.current.destroy())}),[]),React.useLayoutEffect(()=>{Ce(t.current),applyNodeProps(t.current,xe,_e),KonvaRenderer.updateContainer(React.createElement(Ae,{},xe.children),Se.current,null)}),React.createElement("div",{ref:e,id:xe.id,accessKey:xe.accessKey,className:xe.className,role:xe.role,style:xe.style,tabIndex:xe.tabIndex,title:xe.title})},KonvaRenderer=ReactFiberReconciler(HostConfig);KonvaRenderer.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:React.version,rendererPackageName:"react-konva"});React.forwardRef((xe,e)=>React.createElement(FiberProvider,{},React.createElement(StageWrap,{...xe,forwardedRef:e})));__webpack_exports__GlobalWorkerOptions.workerSrc="pdfjs.worker.min.js";function App(){const[xe,e]=reactExports.useState(null),[t,Se]=reactExports.useState(null),_e=Ae=>{const Ce=Ae.target.files[0];Ce&&(e(Ce),Se(URL.createObjectURL(Ce)))};return jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx(Dock,{color:"red"}),jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold",children:["PDF Annona",jsxRuntimeExports.jsx("u",{className:"border-b-2 border-red-400",children:"tor"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx("input",{className:"bg-gray-200 p-2 rounded-md ",type:"file",accept:"application/pdf",onChange:_e,style:{marginBottom:"20px"}})}),t?jsxRuntimeExports.jsx(AnnotatedPdfUpdate,{file:t}):jsxRuntimeExports.jsx("p",{children:"Please select a PDF file to annotate."})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{_typeof as _,commonjsGlobal as c,getDefaultExportFromCjs as g};
